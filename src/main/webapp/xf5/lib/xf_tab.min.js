/* 2020-10-30 18:04 */ function XF_TAB(a,b){this._init(a,b),this._prop(b),this._box(),this._dom()}function XF_TAB_ITEM(a,b){this._init(a),this._prop(b),this._box(),this._dom(),this._event()}function XF_TAB_ITEMBOX(a,b){this._init(a,b),this._prop()}function XF_TAB_ITEMCOMBO(a,b){this._init(a),this._prop(b),this._box(),this._create()}function XF_TAB_PANEL(a,b,c,d,e){this._init(a,b,c,d,e),this._box(),this._dom(),this._event(),this._create()}function XF_TAB_PANEL_PRELOAD(a){this._init(a),this._box(),this._create()}function XF_TAB_TITLEBAR(a,b){this._init(a,b),this._prop()}function XF_TAB_USERBUTTON(a,b,c){this._init(a,b),this._prop(c)}XF_TAB.TABITEM_POSITION_TOP=0,XF_TAB.TABITEM_POSITION_BOTTOM=1,XF_TAB.TABITEM_POSITION_LEFT=2,XF_TAB.TABITEM_POSITION_RIGHT=3,XF_TAB.MDI_TYPE_CASCADE=0,XF_TAB.MDI_TYPE_TILEHORZ=1,XF_TAB.MDI_TYPE_TILEVERT=2,XF_TAB.PRELOAD_ITEM_INTERVAL=3e3,XF_TAB.prototype._init=function(a,b){_xfx.init(this,a,XFD_OBJKIND_CONTROL,XFD_CTRLKIND_TAB,b),this.xf_item_arr=[],this.xf_panel_arr=[],this.xf_drag_item=null,this.is_window_mode=!1,this.is_rwd_mode=!1,this.mdi_min_width=0,this.mdi_min_height=0,this.mdi_panel_border=1,this.focused_item_index=-1,this.dragarea_left=-1,this.dragarea_top=-1,this.dragarea_right=-1,this.dragarea_bottom=-1,this.xf_tab_itemcombo=null,this.xf_tab_panel_preload=null,this.css_arr=[],this.css_panelbox_arr=[],this.xf_userbtn_prop_arr=[],this.xf_userbtn_prop_count=0,this.zindex_top=1,this.sync_addtab_info=null,this.padding_value=0},XF_TAB.prototype._prop=function(a){this.xf_prop={style:"",back_color:[255,255,255],back_image:"",back_imagehorzalign:1,back_imagevertalign:1,border:1,border_ex:"",border_color:[180,180,180],tab_color:[235,235,235],tabitem_position:0,tabitem_style:0,tabitem_font:["굴림체",9,0,0,0,0],tabitem_selfont:["굴림체",9,1,0,0,0],tabitem_forecolor:[0,0,0],tabitem_backcolor:[210,210,210],tabitem_bordercolor:[180,180,180],tabitem_selforecolor:[0,0,0],tabitem_selbackcolor:[235,235,235],tabitem_selbordercolor:[180,180,180],tabitem_overflow:0,tabitem_disforecolor:[0,0,0],tabitem_disbackcolor:[210,210,210],tabitem_disbordercolor:[180,180,180],tabitem_textmargin:[0,0,0,0],tabitem_gradient_effect:0,tabitem_gradient_startcolor:[255,255,255],tabitem_gradient_endcolor:[225,225,225],tabitem_gradient_seleffect:0,tabitem_gradient_selstartcolor:[255,255,255],tabitem_gradient_selendcolor:[225,225,225],tabitem_gradient_hovereffect:0,tabitem_gradient_hoverstartcolor:[255,255,255],tabitem_gradient_hoverendcolor:[225,225,225],tabitem_gradient_selhovereffect:0,tabitem_gradient_selhoverstartcolor:[255,255,255],tabitem_gradient_selhoverendcolor:[225,225,225],tabitemarea_transparent:!1,tabitemarea_leftmargin:0,tabitemarea_rightmargin:0,tabitemarea_topmargin:0,tabitemarea_bottommargin:0,tabitemarea_gap:0,tabitem_mousehover:!1,tabitem_hoverforecolor:[0,0,0],tabitem_selhoverforecolor:[0,0,0],tabitem_hoverbackcolor:[210,210,210],tabitem_selhoverbackcolor:[235,235,235],tabitem_hoverbordercolor:[180,180,180],tabitem_selhoverbordercolor:[180,180,180],tabitem_image:"",tabitem_selimage:"",tabitem_disableimage:"",tabitem_height:22,tabitem_width:60,tabitem_hidden:!1,tabitem_xbutton:!1,tabitem_xbutton_normalcolor:[0,0,0],tabitem_xbutton_hovercolor:[255,0,0],tabitem_xbutton_horzalign:1,tabitem_xbutton_horzmargin:6,tabitem_xbutton_width:8,tabitem_lockbutton:!1,tabitem_lockbutton_normalcolor:[0,0,0],tabitem_lockbutton_hovercolor:[255,0,0],tabitem_lockbutton_horzalign:0,tabitem_lockbutton_horzmargin:4,tabitem_lockbutton_width:8,tabitem_customclass:"",tabitem_xbutton_customclass:"",tabitem_unlockbutton_customclass:"",tabitem_lockbutton_customclass:"",tabitem_border:1,tabitem_radius:4,tabitem_mouse_cursor:0,tabitem_gap:0,tabitem_moveable:!1,tabitem_scrollbtnhidden:!1,titlebar_show:0,titlebar_font:["굴림체",9,0,0,0,0],titlebar_height:21,titlebar_forecolor:[255,255,255],titlebar_backcolor:[100,100,100],titlebar_gradient_effect:0,titlebar_gradient_startcolor:[200,200,200],titlebar_gradient_endcolor:[150,150,150],titlebar_icon:"",titlebar_icon_margin:[2,4,0,0],titlebar_minimizebox:!0,titlebar_maximizebox:!0,titlebar_closebox:!0,titlebar_userbutton:"",titlebar_buttonsize:15,margin:[0,0,0,0],line_height:0,anchor:0,resize_dir:0,tab:"",enterstop:!0,tabstop:!0,hidden:!1,dragable:!1,accept_drop:!0,enable:!0,click_setfocus:!1,show_loadstatus:!1,preload_item:!1,on_dropcomplete:null,on_itemcreate:null,on_itemdestroy:null,on_itemchange:null,on_itemclick:null,on_itemrclick:null,on_itemdblclick:null,on_titlebardblclick:null,on_titlebarbuttonclick:null,fore_color:[255,255,255],rwd_width:0,tabitem_combocontentboxgap:0},this.event_name_arr=["on_dropcomplete","on_itemcreate","on_itemdestroy","on_itemchange","on_itemclick","on_itemcloseclick","on_itemlockclick","on_itemrclick","on_itemdblclick","on_titlebardblclick","on_titlebarbuttonclick"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),this._prop_userbtn(),this._css(a),this._css_panelbox(a),this.xf_itembox=new XF_TAB_ITEMBOX(this,this.xf_prop)},XF_TAB.prototype._prop_userbtn=function(){var a,b,c,d;if(0!=this.xf_prop.titlebar_userbutton.length){for(b=this.xf_prop.titlebar_userbutton.split(";"),a=0;a<b.length;a++)""!=b[a]&&(c=_xfu.get_tokens_array(b[a],","),d={name:c[0],border:_xfu["int"](c[1]),border_color:_xfx.rgb(c[2]),image:c[3],imageindex_normal:_xfu["int"](c[4]),imageindex_down:_xfu["int"](c[5]),imageindex_disable:_xfu["int"](c[6]),imageindex_hover:_xfu["int"](c[7]),tooltip:c[8],on_click:_xfx.funcname(c[9]),hidden:!1,index:a},this.xf_userbtn_prop_arr.push(d));this.xf_userbtn_prop_count=this.xf_userbtn_prop_arr.length}},XF_TAB.prototype._css=function(a){1!=_xf_htmlready_mode&&_xfx.propcss(this,a,this.css_arr,["position"])},XF_TAB.prototype._css_panelbox=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_panelbox_arr,["border_radius"]),_xfx.propgradient(this,a,this.css_panelbox_arr),_xfx.propbackimagepos(this,a,this.css_panelbox_arr),_xfx.bordercss(this,a,this.css_panelbox_arr))},XF_TAB.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_tab")+'"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),this._boxpadding(!1,a),a.push('">'),a.push('<div class="_xf_tab_item_box"'),a.push(' style="'),this.xf_prop.tabitemarea_transparent?a.push("background-color:transparent;"):a.push("background-color:"+_xfu.rgbfunc(this.xf_prop.back_color)+";"),this.xf_prop.tabitem_hidden?a.push("display:none;"):a.push("display:block;"),this.xf_itembox.itemboxsizepos(!1,a),this.xf_itembox.itemboxpadding(!1,a),a.push('">'),a.push('<div class="_xf_tab_item_view">'),a.push('<div class="_xf_tab_item_content"'),a.push(' style="'),this.xf_itembox.itemboxcontentsize(!1,a),a.push('">'),a.push("</div>"),a.push('<div class="_xf_tab_item_navibtn_box"'),a.push(' style="'),this.xf_itembox.itemnaviboxsizepos(!1,a),a.push('">'),a.push('<button type="button" class="_xf_tab_item_navibtn _xf_tab_item_navibtn_prev"></button>'),a.push('<button type="button" class="_xf_tab_item_navibtn _xf_tab_item_navibtn_next"></button>'),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.push('<div class="_xf_tab_panel_box" style="'),a.push(this.css_panelbox_arr.join("")),a.push("background-color:"+_xfu.rgbfunc(this.xf_prop.tab_color)+";"),a.push('">'),a.push("</div>"),a.push("</div>")),_xfx.register(this,!1,a)},XF_TAB.prototype._dom=function(){this.xf_itembox._create(),this.xf_panel_box=this.xf_object.children("._xf_tab_panel_box"),this.xf_protect=new XF_PROTECT(this,this.xf_object,{opacity:0,is_use_icon:!0}),this.xf_protect.showprotect(100,!1)},XF_TAB.prototype._offevent=function(){_xfj.offevent(this.xf_object,["drop","dragover","dragenter","dragleave"])},XF_TAB.prototype._event=function(){this.xf_object.on("drop",$.proxy(this.on_object_drop,this)),this.xf_object.on("dragover",$.proxy(this.on_object_dragover,this)),this.xf_object.on("dragenter",$.proxy(this.on_object_dragenter,this)),this.xf_object.on("dragleave",$.proxy(this.on_object_dragleave,this))},XF_TAB.prototype._create=function(){this.setchildframemininfo(0,0),_xf_htmlready_mode||this.setvisible(!this.xf_prop.hidden),this._event(),this._settabitemfocusfirst(),this.xf_protect.hideprotect(),this.xf_prop.preload_item&&setTimeout($.proxy(this.on_preload_timeout,this),XF_TAB.PRELOAD_ITEM_INTERVAL)},XF_TAB.prototype._getnexttabitemfocus=function(a,b){var c,d;if(d=this.gettabitemcount(),b){for(c=a;d>c;c++)if(!this.xf_item_arr[c].xf_prop.item_hidden)return c}else for(c=a;c>=0;c--)if(!this.xf_item_arr[c].xf_prop.item_hidden)return c;return-1},XF_TAB.prototype._settabitemfocusfirst=function(){var a;return a=this._getnexttabitemfocus(0,!0),this._isvalidindex(a)?(this.xf_item_arr[a].islinkscreen()?this._settabitemfocus(a,!1,!1,!1):this._settabitemfocus(a,!0,!0,!1),!0):!1},XF_TAB.prototype._gettabpanelpreload=function(){var a;return null==this.xf_tab_panel_preload?null:this.xf_tab_panel_preload.isready()?(setTimeout($.proxy(this.on_preload_timeout,this),XF_TAB.PRELOAD_ITEM_INTERVAL),a=this.xf_tab_panel_preload,this.xf_tab_panel_preload=null,a):null},XF_TAB.prototype._getpanelcontent=function(a){return this.xf_panel_arr[a].xf_content},XF_TAB.prototype._isvalidindex=function(a){return isNaN(a)?!1:0>a?!1:!(a>=this.gettabitemcount())},XF_TAB.prototype._resettabindex=function(){var a,b;for(b=this.gettabitemcount(),a=0;b>a;a++)this.xf_item_arr[a].xf_prop.item_index=a},XF_TAB.prototype._settabitemfocus=function(a,b,c,d,e){var f,g,h;return a=_xfu["int"](a),this._isvalidindex(a)?(void 0===d&&(d=!0),h=!1,this.focused_item_index!=a&&(h=!0),this._isvalidindex(this.focused_item_index)&&h&&(f=this.xf_item_arr[this.focused_item_index],g=this.xf_panel_arr[this.focused_item_index],f.killtabitemfocus()&&g.killtabitemfocus()),this.focused_item_index=a,f=this.xf_item_arr[a],g=this.xf_panel_arr[a],this._zindextop(a),f.settabitemfocus(b),g.settabitemfocus(b,d),this.xf_itembox.setvisibletabitem(a),this.is_rwd_mode&&this.xf_tab_itemcombo.refresh(),c&&h&&(void 0===e&&(e=!0),factory._fireevent({xf_component:this,event_name:"on_itemchange",is_fire_async:e},this,a)),!0):!1},XF_TAB.prototype._addtab=function(a,b,c,d,e){var f,g;return a.item_index=this.xf_item_arr.length,void 0!==this.xf_prop.tabitem_mouse_cursor&&0!=this.xf_prop.tabitem_mouse_cursor&&(a.mouse_cursor=this.xf_prop.tabitem_mouse_cursor),f=new XF_TAB_ITEM(this,a),this.xf_item_arr.push(f),g=new XF_TAB_PANEL(this,f,b,d,e),this.xf_panel_arr.push(g),a.item_index},XF_TAB.prototype._postprocess_for_addtab=function(a,b,c){void 0===a.link_screen||0==a.link_screen.length?(factory._fireevent({xf_component:this,event_name:"on_itemcreate"},this,a.item_index),this._fireonitemcreate(a.item_index),b&&this._settabitemfocus(a.item_index,!0,c)):b&&this._settabitemfocus(a.item_index,!0,!1),this.xf_itembox.refreshnavibox()},XF_TAB.prototype.isloadcomplete=function(){var a,b;for(b=this.xf_item_arr.length,a=0;b>a;a++)if(!this.xf_item_arr[a].is_item_created)return!1;return!0},XF_TAB.prototype._fireonitemcreate=function(a){this.xf_item_arr[a].is_item_created=!0,this.xf_parent&&this.xf_parent.xf_screen&&this.xf_parent.xf_screen._on_tabitemcreate(this,a)},XF_TAB.prototype._fireallitemcreateevent=function(){var a;for(a=0;a<this.xf_item_arr.length;a++)this.xf_item_arr[a].is_item_created&&factory._fireevent({xf_component:this,event_name:"on_itemcreate"},this,a)},XF_TAB.prototype._setrwdmode=function(){var a,b;return this.xf_prop.tabitem_hidden?!1:this.xf_prop.tabitem_position>1?!1:(b=this.xf_object.outerWidth(!0),a=!1,b<this.xf_prop.rwd_width&&(a=!0),this.is_rwd_mode==a?!1:(this.is_rwd_mode=a,void(a?(null==this.xf_tab_itemcombo?(this.xf_tab_itemcombo=new XF_TAB_ITEMCOMBO(this,{fore_color:this.xf_prop.tabitem_selforecolor,back_color:this.xf_prop.tabitem_selbackcolor,font:this.xf_prop.tabitem_selfont,border:this.xf_prop.tabitem_border}),this.xf_itembox.appenditemcombo(this.xf_tab_itemcombo.xf_object)):(this.xf_tab_itemcombo.rwdstyle(!0),this.xf_tab_itemcombo.refresh()),this.xf_itembox.rwdstyle(!0)):(null!=this.xf_tab_itemcombo&&this.xf_tab_itemcombo.rwdstyle(!1),this.xf_itembox.rwdstyle(!1)))))},XF_TAB.prototype._getinstanceallbykind=function(a,b,c,d,e){var f,g,h,i;for(i=[],void 0===c&&(c=!0),g=this.gettabitemfocus(),f=0;f<this.xf_panel_arr.length;f++)f!=g&&b!=XF_CONTENT.INSTANCE_ORDER_CREATE&&b!=XF_CONTENT.INSTANCE_ORDER_POSITIONALL||(h=this._gettabiteminstanceallbykind(f,a,b,c,d,e),i=i.concat(h));return i},XF_TAB.prototype._gettabiteminstanceallbykind=function(a,b,c,d,e,f){var g,h,i;if(g=null,d)switch(h=this.gettabitemlinktype(a)){case 0:g=this.getchildscreeninstance(a);break;case 1:g=this.getchildportletscreeninstance(a);break;case 2:g=null}return i=b==XFD_OBJKIND_CONTROL?g?g.xf_screen._getinstanceall(c,d,e,f):this.xf_panel_arr[a].xf_content.getinstanceall(c,d,f,e):g?g.xf_screen._getshapeinstanceall(c,d,e):this.xf_panel_arr[a].xf_content.getshapeinstanceall(c,d,e)},XF_TAB.prototype._boxpadding=function(a,b){var c,d,e,f,g;switch(this.xf_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:0==this.xf_prop.tabitem_overflow?d=_xfu.px(this.xf_prop.tabitem_height+this.xf_prop.tabitemarea_gap):1==this.xf_prop.tabitem_overflow&&(d=this.xf_itembox.xf_object?_xfu.px(this.xf_itembox.xf_object.outerHeight()-1+this.xf_prop.tabitemarea_gap):_xfu.px(this.xf_prop.tabitem_height+this.xf_prop.tabitemarea_gap));break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:d=_xfu.px(this.xf_prop.tabitem_width+this.xf_prop.tabitemarea_gap)}if(a){if(c={paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px"},!this.xf_prop.tabitem_hidden)switch(this.xf_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:c.paddingTop=d;break;case XF_TAB.TABITEM_POSITION_BOTTOM:c.paddingBottom=d;break;case XF_TAB.TABITEM_POSITION_LEFT:c.paddingLeft=d;break;case XF_TAB.TABITEM_POSITION_RIGHT:c.paddingRight=d}this.xf_object.css(c)}else if(this.xf_prop.tabitem_hidden)b.push("padding:0px 0px 0px 0px;");else{switch(this.xf_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:e=d+" 0px 0px 0px";break;case XF_TAB.TABITEM_POSITION_RIGHT:e="0px "+d+" 0px 0px";break;case XF_TAB.TABITEM_POSITION_BOTTOM:e="0px 0px "+d+" 0px";break;case XF_TAB.TABITEM_POSITION_LEFT:e="0px 0px 0px "+d}b.push("padding:"+e+";")}if(1==this.xf_prop.tabitem_overflow&&a&&0!=this.padding_value&&d!=this.padding_value&&(this.xf_prop.tabitem_position==XF_TAB.TABITEM_POSITION_TOP||this.xf_prop.tabitem_position==XF_TAB.TABITEM_POSITION_BOTTOM))for(g=this.xf_item_arr.length,f=0;g>f;f++)this.xf_panel_arr[f]&&this.xf_panel_arr[f].on_object_resize(!1,!1);this.padding_value=d},XF_TAB.prototype.destroy=function(){this.is_expired=!0,this._offevent(),this.deletealltab(!0),this.xf_object.remove(),_xfx.unregister(this)},XF_TAB.prototype.addtab=function(a,b,c,d,e,f,g){var h,i,j;return void 0===e&&(e=!0),void 0===f&&(f=null),d.length>0&&factory_xf_param.CHECK_SCREENURL&&(j=factory.httpexistfile(_xf_param.SCREENBASEURL+d+".xml"),0==j.nfilesize)?(this.sync_addtab_info&&this.sync_addtab_info.promise_resolve&&(this.sync_addtab_info.promise_resolve(-2),this.sync_addtab_info=null),-2):(h={title:a,title_horzalign:b,width:c,link_screen:d,item_hidden:!e,extra_data:f,panel_color:_xfx.rgbhex(this.xf_prop.tab_color)},i=this._addtab(h,e,!0,!0,g),this._postprocess_for_addtab(h,e,!0,!0),i)},XF_TAB.prototype.addtabsync=function(a,b,c,d,e,f,g){return this.sync_addtab_info={title:a,title_horzalign:b,width:c,screen_url:d,is_visible:e,extra_data:f,is_event_locked_subscreen:g,promise_resolve:null,promise_reject:null},new Promise(this.addtabsync_executor.bind(this))},XF_TAB.prototype.addtabsync_executor=function(a,b){this.sync_addtab_info.promise_resolve=a,this.sync_addtab_info.promise_reject=b,this.addtab(this.sync_addtab_info.title,this.sync_addtab_info.title_horzalign,this.sync_addtab_info.width,this.sync_addtab_info.screen_url,this.sync_addtab_info.is_visible,this.sync_addtab_info.extra_data,this.sync_addtab_info.is_event_locked_subscreen)},XF_TAB.prototype.addcontenttab=function(a,b,c,d,e,f,g){var h,i,j;return void 0===e&&(e=!0),void 0===f&&(f=null),d.length>0&&factory_xf_param.CHECK_SCREENURL&&(j=factory.httpexistfile(_xf_param.SCREENBASEURL+d+".xml"),0==j.nfilesize)?-2:(h={title:a,title_horzalign:b,width:c,link_screen:d,link_type:2,item_hidden:!e,extra_data:f,panel_color:_xfx.rgbhex(this.xf_prop.tab_color)},this.xf_parent&&this.xf_parent.xf_screen&&(this.xf_parent.xf_screen.is_onloadevent_fired=!1),i=this._addtab(h,e,!0,!0,g),this._postprocess_for_addtab(h,e,!0,!0),i)},XF_TAB.prototype.addportlettab=function(a,b,c,d,e,f,g,h){var i,j;return void 0===f&&(f=!0),void 0===g&&(g=null),i={title:a,title_horzalign:b,width:c,link_screen:d,link_type:1,portlet_name:e,item_hidden:!f,extra_data:g,panel_color:_xfx.rgbhex(this.xf_prop.tab_color)},j=this._addtab(i,f,!0,!0,h),this._postprocess_for_addtab(i,f,!0,!0),j},XF_TAB.prototype.addportlettabsync=function(a,b,c,d,e,f,g,h){return this.sync_addtab_info={title:a,title_horzalign:b,width:c,screen_url:d,portlet_name:e,is_visible:f,extra_data:g,is_event_locked_subscreen:h,promise_resolve:null,promise_reject:null},new Promise(this.addportlettabsync_executor.bind(this))},XF_TAB.prototype.addportlettabsync_executor=function(a,b){this.sync_addtab_info.promise_resolve=a,this.sync_addtab_info.promise_reject=b,this.addportlettab(this.sync_addtab_info.title,this.sync_addtab_info.title_horzalign,this.sync_addtab_info.width,this.sync_addtab_info.screen_url,this.sync_addtab_info.portlet_name,this.sync_addtab_info.is_visible,this.sync_addtab_info.extra_data,this.sync_addtab_info.is_event_locked_subscreen)},XF_TAB.prototype.changeshowmode=function(a){if(a=_xfu.intval(a,1,3),a===!1)return!1;switch(a){case 1:this._restore();break;case 2:this._maximize();break;case 3:this._minimize(this.focused_item_index)}return!0},XF_TAB.prototype.createobject=function(a,b,c,d,e,f,g){return a=_xfu["int"](a),this._isvalidindex(a)?_xfx.createobject(this.xf_parent.xf_screen,this,this._getpanelcontent(a),b,c,d,e,f,g):null},XF_TAB.prototype.createobjectex=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?_xfx.createobjectex(this.xf_parent.xf_screen,this,this._getpanelcontent(a),b,c):null},XF_TAB.prototype.createshape=function(a,b,c,d,e,f,g){return a=_xfu["int"](a),this._isvalidindex(a)?_xfx.createshape(this.xf_parent.xf_screen,this,this._getpanelcontent(a),b,c,d,e,f,g):null},XF_TAB.prototype.createshapeex=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?_xfx.createshapeex(this.xf_parent.xf_screen,this,this._getpanelcontent(a),b,c):null},XF_TAB.prototype.deletealltab=function(a,b){var c,d;for(void 0===a&&(a=!1),d=this.gettabitemcount(),c=d-1;c>=0;c--)this.deletetab(c,!0,a,b);this.focused_item_index=-1,this._resettabindex()},XF_TAB.prototype.deletetab=function(a,b,c,d){var e,f,g,h,i,j,k;if(a=_xfu["int"](a),!this._isvalidindex(a))return 0;if(void 0===c&&(c=!1),void 0===d&&(d=!1),e=this.gettabitemcount(),f=this.xf_item_arr[a],g=this.xf_panel_arr[a],!c){if(!b&&f.xf_prop.item_islock)return-1;if(j=factory._fireevent({xf_component:this,event_name:"on_itemdestroy",default_value:1},this,a),1!==j)return 0}if(f.xf_object.hide(),g.xf_object.hide(),f.islinkscreen()){if(g.xf_panel_iframe[0].contentWindow&&g.xf_panel_iframe[0].contentWindow.screen&&g.xf_panel_iframe[0].contentWindow.screen.xf_screen)if(k=g.xf_panel_iframe[0].contentWindow.screen.xf_screen,c)k.destroy();else if(j=k.xf_object.triggerHandler("on_destroy"),1!==j)return 0}else g.xf_content.empty();return i=-1,h=!1,c||(a==this.focused_item_index?(h=!0,a==e-1?(i=this._getnexttabitemfocus(a-1,!1),this._isvalidindex(i)||(i=this._getnexttabitemfocus(a+1,!0))):i=a):a<this.focused_item_index&&(i=this.focused_item_index-1)),this.xf_item_arr.splice(a,1),this.xf_panel_arr.splice(a,1),f.islinkscreen()&&_xfj.cleariframe(g.xf_panel_iframe),f.destroy(),g.destroy(),c?1:(this._resettabindex(),i>-1&&(h?this._settabitemfocus(i,!0,!1):this.focused_item_index=i,d&&factory._fireevent({xf_component:this,event_name:"on_itemchange",is_fire_async:!0},this,i)),e=this.gettabitemcount(),0==e&&(this.focused_item_index=-1),this.xf_itembox.refreshnavibox(),1)},XF_TAB.prototype.exportxml=function(a){return a=_xfu["int"](a),!!this._isvalidindex(a)},XF_TAB.prototype.importxml=function(a,b){return a=_xfu["int"](a),!!this._isvalidindex(a)},XF_TAB.prototype.getbackimage=function(){return this.xf_prop.back_image},XF_TAB.prototype.setbackimage=function(a,b,c){var d,e;this.xf_prop.back_image=a,this.xf_prop.back_imagehorzalign=b,this.xf_prop.back_imagevertalign=c,d=0==this.xf_prop.back_imagehorzalign?"left":1==this.xf_prop.back_imagehorzalign?"center":"right",e=0==this.xf_prop.back_imagevertalign?"top":1==this.xf_prop.back_imagevertalign?"center":"bottom",_xfc.basic("back_image",this.xf_prop.back_image,!0,this.xf_panel_box),_xfc.css("background-position",d+" "+e,!0,this.xf_panel_box)},XF_TAB.prototype.setborder=function(a){var b;if(a=_xfu.intval(a,0,1),a===!1)return!1;for(this.xf_prop.border=a,this.xf_panel_box.css("border",0==this.xf_prop.border?"none":"1px solid "+_xfu.rgbfunc(this.xf_prop.border_color)),b=0;b<this.xf_panel_arr.length;b++)this.xf_panel_arr[b].on_object_resize(!1);return!0},XF_TAB.prototype.setbordercolor=function(a){this.xf_prop.border_color=_xfu.rgb(a),this.xf_panel_box.css("border",0==this.xf_prop.border?"none":"1px solid "+_xfu.rgbfunc(this.xf_prop.border_color)),this._refreshselstyle(-1)},XF_TAB.prototype.getchildframeborder=function(){return this.mdi_panel_border},XF_TAB.prototype.setchildframeborder=function(a){var b;if(a=_xfu.intval(a,0,1),a===!1)return!1;for(this.mdi_panel_border=a,b=0;b<this.xf_panel_arr.length;b++)this.xf_panel_arr[b].refreshborder()},XF_TAB.prototype.getchildframecss=function(){},XF_TAB.prototype.setchildframecss=function(a,b){},XF_TAB.prototype.getchildframedragarea=function(){},XF_TAB.prototype.setchildframedragarea=function(a,b,c,d){return this.setchildframedragareaex(null,a,b,c,d)},XF_TAB.prototype.setchildframedragareaex=function(a,b,c,d,e){return b=_xfu.intval(b,0,XFD_MAX_VALUE),c=_xfu.intval(c,0,XFD_MAX_VALUE),d=_xfu.intval(d),e=_xfu.intval(e),b===!1||c===!1||d===!1||e===!1?!1:null==a?(this.dragarea_left=b,this.dragarea_top=c,this.dragarea_right=d,this.dragarea_bottom=e,!0):(a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].setchildframedragarea(b,c,d,e):!1)},XF_TAB.prototype.getchildframemininfo=function(){},XF_TAB.prototype.setchildframemininfo=function(a,b){var c=this.xf_prop.titlebar_userbutton.split(";").length;this.mdi_min_width=Math.max(this.xf_prop.titlebar_height*(4+c)+50,a),this.mdi_min_height=Math.max(this.xf_prop.titlebar_height,b)},XF_TAB.prototype.getchildframeheight=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_object.outerHeight():0},XF_TAB.prototype.getchildframewidth=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_object.outerWidth():0},XF_TAB.prototype.getchildframepos=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?[this.getchildframeposleft(a),this.getchildframepostop(a),this.getchildframeposright(a),this.getchildframeposbottom(a)]:[0,0,0,0]},XF_TAB.prototype.getchildframeposbottom=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_object.position().top+this.xf_panel_arr[a].xf_object.outerHeight():0},XF_TAB.prototype.getchildframeposleft=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_object.position().left:0},XF_TAB.prototype.getchildframeposright=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_object.position().left+this.xf_panel_arr[a].xf_object.outerWidth():0},XF_TAB.prototype.getchildframepostop=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_object.position().top:0},XF_TAB.prototype.gettabitemchildscreenzoom=function(a){var b;return a=_xfu["int"](a),this._isvalidindex(a)?(b=this.getchildscreeninstance(a),b?b.getzoom():-1):-1},XF_TAB.prototype.settabitemchildscreenzoom=function(a,b){var c;return a=_xfu["int"](a),this._isvalidindex(a)?(c=this.getchildscreeninstance(a),c?c.setzoom(b):!1):!1},XF_TAB.prototype.settabitemzoom=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].setzoom(b):!1},XF_TAB.prototype.getchildscreeninstance=function(a){var b,c;return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].islinkscreen()?(b=this.xf_panel_arr[a],b&&b.xf_panel_iframe?(c=b.xf_panel_iframe.get(0).contentWindow,c&&c.screen.xf_screen?0==c.screen.xf_screen.is_load_complete?null:1==c.screen.xf_screen._iscontainerscreen()?null:c.screen:null):null):this.xf_item_arr[a].islinkportlet()&&this.xf_panel_arr[a]?null==this.xf_panel_arr[a].xf_link_screen?null:this.xf_panel_arr[a].xf_link_screen.xf_execution_context.screen:null:null},XF_TAB.prototype.getchildportletscreeninstance=function(a){return a=_xfu["int"](a),this._isvalidindex(a)&&this.xf_item_arr[a].islinkportlet()?null==this.xf_panel_arr[a].xf_link_screen?null:this.xf_panel_arr[a].xf_link_screen.xf_execution_context.screen:null},XF_TAB.prototype.getinnerscreentitle=function(a){var b,c;return a=_xfu["int"](a),this._isvalidindex(a)&&this.xf_item_arr[a].islinkscreen()?(b=this.xf_panel_arr[a],c=b.xf_panel_iframe.get(0).contentWindow._xf_screen,c.getscreentitle()):""},XF_TAB.prototype.getinnerscreenurl=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.link_screen:""},XF_TAB.prototype.setinnerscreenurl=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?((void 0==b||null==b||b.length<=0)&&(b=""),this.xf_item_arr[a].xf_prop.link_screen=b,this.xf_item_arr[a].xf_prop.extra_data=c,this.xf_panel_arr[a].setinnerscreenurl(),1):0},XF_TAB.prototype.getleftbtnimagedown=function(){return this.xf_itembox.getleftbtnimagedown()},XF_TAB.prototype.setleftbtnimagedown=function(a){return this.xf_itembox.setleftbtnimagedown(a)},XF_TAB.prototype.getleftbtnimagenormal=function(){return this.xf_itembox.getleftbtnimagenormal()},XF_TAB.prototype.setleftbtnimagenormal=function(a){return this.xf_itembox.setleftbtnimagenormal(a)},XF_TAB.prototype.getrightbtnimagedown=function(){return this.xf_itembox.getrightbtnimagedown()},XF_TAB.prototype.setrightbtnimagedown=function(a){return this.xf_itembox.setrightbtnimagedown(a)},XF_TAB.prototype.getrightbtnimagenormal=function(){return this.xf_itembox.getrightbtnimagenormal()},XF_TAB.prototype.setrightbtnimagenormal=function(a){return this.xf_itembox.setrightbtnimagenormal(a)},XF_TAB.prototype.gettabcolor=function(){return _xfu.color(this.xf_prop.tab_color)},XF_TAB.prototype.settabcolor=function(a){this.xf_prop.tab_color=_xfu.rgb(a),this.xf_panel_box.css("background-color",_xfu.rgbfunc(this.xf_prop.tab_color))},XF_TAB.prototype.gettabitembackcolor=function(a){return a?_xfu.color(this.xf_prop.tabitem_selbackcolor):_xfu.color(this.xf_prop.tabitem_backcolor)},XF_TAB.prototype.settabitembackcolor=function(a,b){b?this.xf_prop.tabitem_selbackcolor=_xfu.rgb(a):this.xf_prop.tabitem_backcolor=_xfu.rgb(a),this._refreshselstyle(-1)},XF_TAB.prototype.settabitembackcolorex=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(c?this.xf_item_arr[a].sel_backcolor=_xfu.rgb(b):this.xf_item_arr[a].backcolor=_xfu.rgb(b),this._refreshselstyle(a),!0):!1},XF_TAB.prototype.gettabitemcount=function(a,b){var c,d,e;if(void 0==a&&(a=0),void 0==b&&(b=!0),e=0,0==a)return b?this.xf_item_arr.length:this.xf_item_arr.length-this.gettabitemcount(1);if(1==a){for(d=this.xf_item_arr.length,c=0;d>c;c++)this.gettabitemvisible(c)&&e++;return e}if(2==a){for(d=this.xf_item_arr.length,c=0;d>c;c++)0==b&&this.gettabitemhidden(c)||this.xf_item_arr[c].xf_prop.item_islock&&e++;return e}return 0},XF_TAB.prototype.gethiddentabitemcount=function(){var a,b,c;for(c=0,b=this.gettabitemcount(),a=0;b>a;a++)this.xf_item_arr[a].xf_prop.item_hidden&&c++;return c},XF_TAB.prototype.gettabitemenable=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.enable:!1},XF_TAB.prototype.settabitemenable=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_panel_arr[a].enable(b),this.xf_item_arr[a].enable(b),!0):!1},XF_TAB.prototype.getprotect=function(){return this.xf_protect.getprotect()},XF_TAB.prototype.setprotect=function(a,b,c){a?this.xf_protect.showprotect(b,c):this.xf_protect.hideprotect()},XF_TAB.prototype.gettabitemprotect=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].getprotect():!1},XF_TAB.prototype.settabitemprotect=function(a,b,c,d){return a=_xfu["int"](a),this._isvalidindex(a)?void this.xf_panel_arr[a].setprotect(b,c,d):!1},XF_TAB.prototype.gettabitemfocus=function(){return this.focused_item_index},XF_TAB.prototype.gettabitemfocustext=function(){return this.gettabitemtext(this.gettabitemfocus())},XF_TAB.prototype.settabitemfocus=function(a,b,c,d){var e=!0;return void 0==b&&(b=!0),0==b&&(e=!1),void 0===c&&(c=!0),void 0===d&&(d=!0),this._settabitemfocus(a,b,c,e,d)},XF_TAB.prototype.gettabitemfont=function(){return _xfx.getfont(this.xf_prop.tabitem_font)},XF_TAB.prototype.settabitemfont=function(a,b,c,d,e){this.xf_prop.tabitem_font=[a,b,c,d,e,!1],this._refreshselstyle(-1)},XF_TAB.prototype.settabitemforecolor=function(a,b){b?this.xf_prop.tabitem_selforecolor=_xfu.rgb(a):this.xf_prop.tabitem_forecolor=_xfu.rgb(a),this._refreshselstyle(-1)},XF_TAB.prototype.settabitemforecolorex=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(c?this.xf_item_arr[a].sel_forecolor=_xfu.rgb(b):this.xf_item_arr[a].forecolor=_xfu.rgb(b),this._refreshselstyle(a),!0):!1},XF_TAB.prototype.gettabitemheight=function(){return this.xf_prop.tabitem_height},XF_TAB.prototype.settabitemheight=function(a){this.xf_prop.tabitem_height=_xfu["int"](a),this._boxpadding(!0,null),this.xf_itembox.itemboxsizepos(!0,null)},XF_TAB.prototype.gettabitemhidden=function(){return this.xf_prop.tabitem_hidden},XF_TAB.prototype.settabitemhidden=function(a){this.xf_prop.tabitem_hidden!=a&&(this.xf_prop.tabitem_hidden=a,this._boxpadding(!0,null),a?this.xf_itembox.show(!1):this.xf_itembox.show(!0))},XF_TAB.prototype.settabitemhorzalign=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(b=_xfu.intval(b,0,2),b===!1?!1:(this.xf_item_arr[a].xf_prop.title_horzalign=b,this.xf_item_arr[a].textalign(!0,null),!0)):!1},XF_TAB.prototype.settabitemimage=function(a){this.xf_prop.tabitem_image=a,this._refreshselstyle(-1)},XF_TAB.prototype.settabitemimageex=function(a,b){a=_xfu["int"](a),this._isvalidindex(a)&&(this.xf_item_arr[a].xf_prop.image=b,this._refreshselstyle(a))},XF_TAB.prototype.gettabitemmetaid=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.meta_id:!1},XF_TAB.prototype.settabitemdisableimage=function(a){this.xf_prop.tabitem_disableimage=a,this._refreshselstyle(-1)},XF_TAB.prototype.settabitemdisableimageex=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].xf_prop.disableimage=b,this._refreshselstyle(a),!0):!1},XF_TAB.prototype.settabitempanelcolor=function(a,b){var c;return a=_xfu["int"](a),this._isvalidindex(a)?(c=_xfu.rgb(b),this.xf_panel_arr[a].setpanelcolor(c),!0):!1},XF_TAB.prototype.gettabitempanelheight=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.panel_height:!1},XF_TAB.prototype.gettabitempanelwidth=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.panel_width:!1},XF_TAB.prototype.settabitempanelsize=function(a,b,c){var d,e,f;return a=_xfu["int"](a),this._isvalidindex(a)?(f=this.xf_item_arr[a],e=this.xf_panel_arr[a],d=3!=this.xf_prop.titlebar_show?this.xf_panel_box.innerHeight():this.xf_panel_box.innerHeight()-this.xf_prop.titlebar_height,f.xf_prop.panel_height=Math.max(c,d),f.xf_prop.panel_width=Math.max(b,this.xf_panel_box.innerWidth()),e.setpanelsize(f.xf_prop.panel_width,f.xf_prop.panel_height),!0):!1},XF_TAB.prototype.gettabitemposition=function(){return this.xf_prop.tabitem_position},XF_TAB.prototype.settabitemposition=function(a){
var b,c;if(a=_xfu["int"](a),1==isNaN(a))return!1;if(a<XF_TAB.TABITEM_POSITION_TOP||a>XF_TAB.TABITEM_POSITION_RIGHT)return!1;if(this.xf_prop.tabitem_position==a)return!0;for(this.xf_prop.tabitem_position=a,this._boxpadding(!0,null),this.xf_itembox.itemboxsizepos(!0,null),this.xf_itembox.itemboxpadding(!0,null),this.xf_itembox.itemboxcontentsize(!0,null),this.xf_itembox.itemnaviboxsizepos(!0,null),c=this.xf_item_arr.length,b=0;c>b;b++)this.xf_item_arr[b].sizepos(!0,null),this.xf_item_arr[b].border(!0,null),this.xf_item_arr[b].selstyle();this.xf_itembox.refreshnavibox(),this.is_rwd_mode&&this.xf_tab_itemcombo.border(!0,null,this.xf_tab_itemcombo.xf_item)},XF_TAB.prototype.gettabitemselfont=function(){return _xfx.getfont(this.xf_prop.tabitem_selfont)},XF_TAB.prototype.settabitemselfont=function(a,b,c,d,e){return this.xf_prop.tabitem_selfont=[a,b,c,d,e,!1],this._refreshselstyle(-1),!0},XF_TAB.prototype.settabitemselimage=function(a){return this.xf_prop.tabitem_selimage=a,this._refreshselstyle(-1),!0},XF_TAB.prototype.settabitemselimageex=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].xf_prop.selimage=b,this._refreshselstyle(a),!0):!1},XF_TAB.prototype.gettabitemtext=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.title:""},XF_TAB.prototype.settabitemtext=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].settabitemtext(b),!0):!1},XF_TAB.prototype.gettabitemtitlebartext=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_panel_arr[a].xf_titlebar.gettabitemtitlebartext():""},XF_TAB.prototype.settabitemtitlebartext=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_panel_arr[a].xf_titlebar.settabitemtitlebartext(b),!0):!1},XF_TAB.prototype.settabitemscrollbarstyle=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(b=_xfu.intval(b,0,1),c=_xfu.intval(c,0,1),b===!1||c===!1?!1:(this.xf_panel_arr[a]._scrollbarstyle(!0,null,b,c),!0)):!1},XF_TAB.prototype.settabitempanelscrollbarstyle=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(b=_xfu.intval(b,0,1),c=_xfu.intval(c,0,1),b===!1||c===!1?!1:(this.xf_panel_arr[a]._contentscrollbarstyle(!0,null,b,c),!0)):!1},XF_TAB.prototype.gettabitemtooltiptext=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.tooltip:!1},XF_TAB.prototype.settabitemtooltiptext=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].xf_prop.tooltip=b,void this.xf_item_arr[a].xf_object.prop("title",b)):!1},XF_TAB.prototype.gettabitemuserdata=function(a,b){var c;return a=_xfu["int"](a),this._isvalidindex(a)?(c=this.xf_item_arr[a].xf_object.data(b),c||(c=""),c):!1},XF_TAB.prototype.settabitemuserdata=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].xf_object.data(b,c),!0):!1},XF_TAB.prototype.gettabitemvertalign=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.title_vertalign:0},XF_TAB.prototype.settabitemvertalign=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(b=_xfu.intval(b,0,2),b===!1?!1:(this.xf_item_arr[a].xf_prop.title_vertalign=b,this.xf_item_arr[a].textalign(!0,null),!0)):!1},XF_TAB.prototype.gettabitemlock=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.item_islock:!1},XF_TAB.prototype.settabitemlock=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].settabitemlock(b):!1},XF_TAB.prototype.gettabitemvisible=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?!this.xf_item_arr[a].xf_prop.item_hidden:!1},XF_TAB.prototype.settabitemvisible=function(a,b){var c,d,e,f,g;if(a=_xfu["int"](a),!this._isvalidindex(a))return!1;if(e=this.xf_item_arr[a],f=this.xf_panel_arr[a],1==b?(e.xf_prop.item_hidden=!1,e.xf_object.show(),f.setprotect(!1)):(e.xf_prop.item_hidden=!0,e.xf_object.hide(),f.setprotect(!0,100,!1)),this.xf_itembox.refreshnavibox(),1==b)g=this.gettabitemcount(),1==g&&this.settabitemfocus(a,!0);else if(a==this.focused_item_index){for(g=this.gettabitemcount(),d=a+1;g>d;d++)if(c=this.xf_item_arr[d],0==c.xf_prop.item_hidden)return this.settabitemfocus(d,!0),!0;for(d=a-1;d>=0;d--)if(c=this.xf_item_arr[d],0==c.xf_prop.item_hidden)return this.settabitemfocus(d,!0),!0}return!0},XF_TAB.prototype.gettabitemlinktype=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.link_type:-1},XF_TAB.prototype.gettabitemportletname=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.portlet_name:null},XF_TAB.prototype.gettabitemwidth=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.width:-1},XF_TAB.prototype.settabitemwidth=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(b=_xfu["int"](b),1==isNaN(b)||0>b?!1:this.xf_item_arr[a].settabitemwidth(b)):!1},XF_TAB.prototype.gettabitemxbutton=function(){return this.xf_prop.tabitem_xbutton},XF_TAB.prototype.settabitemxbutton=function(a){this.xf_prop.tabitem_xbutton=a,this._refreshxbutton(-1)},XF_TAB.prototype.gettabitemxbuttonex=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?0==this.xf_item_arr[a].xf_prop.xbutton?!1:1==this.xf_item_arr[a].xf_prop.xbutton?!0:2==this.xf_item_arr[a].xf_prop.xbutton?this.xf_prop.tabitem_xbutton:void 0:!1},XF_TAB.prototype.settabitemxbuttonex=function(a,b){a=_xfu["int"](a),this._isvalidindex(a)&&(this.xf_item_arr[a].xf_prop.xbutton=b?1:0,this._refreshxbutton(a))},XF_TAB.prototype.showtabitemxbutton=function(a){this.settabitemxbutton(a)},XF_TAB.prototype.showtabitemxbuttonex=function(a,b){this.settabitemxbuttonex(a,b)},XF_TAB.prototype.gettabitemxbuttonhorzalign=function(){return this.xf_prop.tabitem_xbutton_horzalign},XF_TAB.prototype.settabitemxbuttonhorzalign=function(a){this.xf_prop.tabitem_xbutton_horzalign=a,this._refreshxbutton(-1)},XF_TAB.prototype.gettabitemxbuttonhorzalignex=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.xbutton_horzalign:0},XF_TAB.prototype.settabitemxbuttonhorzalignex=function(a,b){a=_xfu["int"](a),this._isvalidindex(a)&&(this.xf_item_arr[a].xf_prop.xbutton_horzalign=b,this._refreshxbutton(a))},XF_TAB.prototype.gettabitemxbuttonhorzmargin=function(){return this.xf_prop.tabitem_xbutton_horzmargin},XF_TAB.prototype.settabitemxbuttonhorzmargin=function(a){this.xf_prop.tabitem_xbutton_horzmargin=a,this._refreshxbutton(-1)},XF_TAB.prototype.gettabitemxbuttonhorzmarginex=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_item_arr[a].xf_prop.xbutton_horzmargin:0},XF_TAB.prototype.settabitemxbuttonhorzmarginex=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].xf_prop.xbutton_horzmargin=b,void this._refreshxbutton(a)):!1},XF_TAB.prototype.gettabitemlockbutton=function(){return this.xf_prop.tabitem_lockbutton},XF_TAB.prototype.settabitemlockbutton=function(a){this.xf_prop.tabitem_lockbutton=a,this._refreshlockbutton(-1)},XF_TAB.prototype.gettabitemlockbuttonex=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?0==this.xf_item_arr[a].xf_prop.lockbutton?!1:1==this.xf_item_arr[a].xf_prop.lockbutton?!0:2==this.xf_item_arr[a].xf_prop.lockbutton?this.xf_prop.tabitem_lockbutton:void 0:!1},XF_TAB.prototype.settabitemlockbuttonex=function(a,b){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_item_arr[a].xf_prop.lockbutton=b?1:0,void this._refreshlockbutton(a)):!1},XF_TAB.prototype.settabitemcustomclass=function(a,b,c){this._refreshbuttoncustomclass(-1,!1),this.xf_prop.tabitem_xbutton_customclass=a,this.xf_prop.tabitem_unlockbutton_customclass=b,this.xf_prop.tabitem_lockbutton_customclass=c,this._refreshbuttoncustomclass(-1,!0)},XF_TAB.prototype._refreshbuttoncustomclass=function(a,b){var c,d;if(-1==a)for(d=this.xf_item_arr.length,c=0;d>c;c++)this.xf_item_arr[c].buttoncustomclass(b);else this.xf_item_arr[a].buttoncustomclass(b)},XF_TAB.prototype.gettabitemlockbuttonhorzmargin=function(){return this.xf_prop.tabitem_lockbutton_horzmargin},XF_TAB.prototype.settabitemlockbuttonhorzmargin=function(a){this.xf_prop.tabitem_lockbutton_horzmargin=a,this._refreshlockbutton(-1)},XF_TAB.prototype.gettabitemlockbuttonhorzalign=function(){return this.xf_prop.tabitem_lockbutton_horzalign},XF_TAB.prototype.settabitemlockbuttonhorzalign=function(a){this.xf_prop.tabitem_lockbutton_horzalign=a,this._refreshlockbutton(-1)},XF_TAB.prototype._refreshselstyle=function(a){var b,c;if(-1==a)for(c=this.xf_item_arr.length,b=0;c>b;b++)this.xf_item_arr[b].selstyle();else this.xf_item_arr[a].selstyle()},XF_TAB.prototype._refreshxbutton=function(a){var b,c;if(-1==a)for(c=this.xf_item_arr.length,b=0;c>b;b++)this.xf_item_arr[b].xbuttonsizepos(!0,null);else this.xf_item_arr[a].xbuttonsizepos(!0,null)},XF_TAB.prototype._refreshlockbutton=function(a){var b,c;if(-1==a)for(c=this.xf_item_arr.length,b=0;c>b;b++)this.xf_item_arr[b].lockbuttonsizepos(!0,null);else this.xf_item_arr[a].lockbuttonsizepos(!0,null)},XF_TAB.prototype.settabselectitemcolor=function(a){this.settabitembackcolor(a,!0)},XF_TAB.prototype.settitlebarbackcolor=function(a){return this._settitlebarcolor(!1,a)},XF_TAB.prototype.settitlebarforecolor=function(a){return this._settitlebarcolor(!0,a)},XF_TAB.prototype._settitlebarcolor=function(a,b){var c,d,e;for(d=_xfu.rgb(b),a?this.xf_prop.titlebar_forecolor=d:this.xf_prop.titlebar_backcolor=d,e=this.xf_panel_arr.length,c=0;e>c;c++)this.xf_panel_arr[c].xf_titlebar.color();return!0},XF_TAB.prototype.settitlebarbackcolorex=function(a,b){return this._settitlebarcolorex(!1,a,b)},XF_TAB.prototype.settitlebarforecolorex=function(a,b){return this._settitlebarcolorex(!0,a,b)},XF_TAB.prototype._settitlebarcolorex=function(a,b,c){var d;return b=_xfu["int"](b),this._isvalidindex(b)?(d=_xfu.rgb(color),a?this.xf_item_arr[b].titlebar_forecolor=d:this.xf_item_arr[b].titlebar_backcolor=d,this.xf_panel_arr[b].xf_titlebar.color(),!0):!1},XF_TAB.prototype.gettitlebarshow=function(){return this.xf_prop.titlebar_show},XF_TAB.prototype.settitlebarshow=function(a){var b,c;for(a=_xfu["int"](a),this.xf_prop.titlebar_show=a,c=this.gettabitemcount(),b=0;c>b;b++)this.xf_panel_arr[b].xf_titlebar.refresh()},XF_TAB.prototype.gettitlebaruserbtnimage=function(a){return a=_xfu.intval(a,0,this.xf_userbtn_prop_count),a===!1?"":this.xf_userbtn_prop_arr[a].image},XF_TAB.prototype.settitlebaruserbtnimage=function(a,b,c,d,e,f){var g;if(a=_xfu.intval(a,0,this.xf_userbtn_prop_count),a===!1)return!1;for(this.xf_userbtn_prop_arr[a].image=b,this.xf_userbtn_prop_arr[a].imageindex_normal=c,this.xf_userbtn_prop_arr[a].imageindex_down=d,this.xf_userbtn_prop_arr[a].imageindex_disable=e,this.xf_userbtn_prop_arr[a].imageindex_hover=f,g=0;g<this.xf_panel_arr.length;g++)this.xf_panel_arr[g].xf_titlebar.settitlebaruserbtnimage(a,b,c,d,e,f)},XF_TAB.prototype.gettitlebaruserbtnpushstate=function(a,b){return this._titlebaruserbtnpushstate(a,b)},XF_TAB.prototype.settitlebaruserbtnpushstate=function(a,b,c){return this._titlebaruserbtnpushstate(a,b,c)},XF_TAB.prototype._titlebaruserbtnpushstate=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(b=_xfu.intval(b,0,this.xf_userbtn_prop_count),b===!1?!1:void 0===c?this.xf_panel_arr[a].xf_titlebar.gettitlebaruserbtnpushstate(b):(this.xf_panel_arr[a].xf_titlebar.settitlebaruserbtnpushstate(b,c),!0)):!1},XF_TAB.prototype.getvisiblefirsttabitem=function(){return this.xf_itembox.getfirstvisibletabitem()},XF_TAB.prototype.setvisiblefirsttabitem=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?this.xf_itembox.setfirstvisibletabitem(a):!1},XF_TAB.prototype.hidetabitemscrollbtn=function(a){this.xf_prop.tabitem_scrollbtnhidden=a,this.xf_itembox.refreshnavibox()},XF_TAB.prototype.ismaximizeshowmode=function(){return!this.is_window_mode},XF_TAB.prototype.mkchildcontrolarray=function(a,b,c,d){var e;return a=_xfu["int"](a),this._isvalidindex(a)?(e=""!=this.getinnerscreenurl(a)?this.getchildscreeninstance(a):this.getparentscrinstance(),null==e?!1:e.mkcontrolarray(b,c,d)):!1},XF_TAB.prototype.movechildframe=function(a,b,c,d,e){return a=_xfu["int"](a),this._isvalidindex(a)&&this.is_window_mode?void this.xf_panel_arr[a].movechildframe(b,c,d,e):!1},XF_TAB.prototype.movetabitem=function(a,b){var c,d,e,f,g,h,i;if(a=_xfu["int"](a),!this._isvalidindex(a))return!1;if(b=_xfu["int"](b),!this._isvalidindex(b))return!1;for(d=this.gettabitemcount(),f=this.xf_item_arr[a],g=this.xf_panel_arr[a],h=this.xf_item_arr[b],i=this.xf_panel_arr[b],a>b?(this.xf_item_arr.splice(b,0,f),this.xf_panel_arr.splice(b,0,g)):(this.xf_item_arr.splice(b+1,0,f),this.xf_panel_arr.splice(b+1,0,g)),a>b?(this.xf_item_arr.splice(a+1,1),this.xf_panel_arr.splice(a+1,1)):(this.xf_item_arr.splice(a,1),this.xf_panel_arr.splice(a,1)),a>b?f.xf_object.insertBefore(h.xf_object):f.xf_object.insertAfter(h.xf_object),c=0;d>c;c++)e=this.xf_item_arr[c],e.xf_prop.item_index=c,1==e.xf_object.hasClass("_xf_tab_item_focus")&&this.settabitemfocus(c,!1)},XF_TAB.prototype.settabitemclick=function(a){return a=_xfu["int"](a),this._isvalidindex(a)?(this.click_tab_index=a,void _xfu.async({func:this._settabitemclick,context:this,timeout:0})):!1},XF_TAB.prototype._settabitemclick=function(){this.settabitemfocus(this.click_tab_index),factory._fireevent({xf_component:this,event_name:"on_itemclick",is_fire_async:!0},this,this.click_tab_index)},XF_TAB.prototype.showcascade=function(){return this._showmdimode(XF_TAB.MDI_TYPE_CASCADE)},XF_TAB.prototype.showtilehorz=function(){return this._showmdimode(XF_TAB.MDI_TYPE_TILEHORZ)},XF_TAB.prototype.showtilevert=function(){return this._showmdimode(XF_TAB.MDI_TYPE_TILEVERT)},XF_TAB.prototype._showmdimode=function(a){var b,c,d;for(this._zindexmdi(),c=this.gettabitemcount(),b=0;c>b;b++)d=this.xf_panel_arr[b],d.initmdisizepos(a),d.restore();this.is_window_mode=!0,this._settabitemfocus(this.focused_item_index,!0,!0)},XF_TAB.prototype.showtitlebaruserbtn=function(a,b){var c;if(a=_xfu.intval(a,0,this.xf_userbtn_prop_count),a===!1)return!1;for(this.xf_userbtn_prop_arr[a].hidden=!b,c=0;c<this.xf_panel_arr.length;c++)this.xf_panel_arr[c].xf_titlebar.showtitlebaruserbtn(a,b)},XF_TAB.prototype.setfocus=function(){return this._setfocus(_XFD_FOCUSTYPE_API)},XF_TAB.prototype._setfocus=function(a){var b,c,d;if(void 0===a&&(a=_XFD_FOCUSTYPE_API),a==_XFD_FOCUSTYPE_API||_XFD_FOCUSTYPE_API==_XFD_FOCUSTYPE_CLICK)this.focused_item_index<0?this._settabitemfocus(0,!0,!1):this._settabitemfocus(this.focused_item_index,!0,!1);else if(a==_XFD_FOCUSTYPE_NEXT)this.xf_parent.xf_screen.setcontrolfocusnext(this,!0);else if(a==_XFD_FOCUSTYPE_PREV)this.xf_parent.xf_screen.setcontrolfocusprev(this,!0);else if(a==_XFD_FOCUSTYPE_FIRST){if(this.focused_item_index<0)return;c=!0,d=this._gettabiteminstanceallbykind(this.focused_item_index,XFD_OBJKIND_CONTROL,XF_CONTENT.INSTANCE_ORDER_TAB,c,!0),d.length>0&&(b=d[0]),null!=b?b._setfocus(_XFD_FOCUSTYPE_FIRST):this.xf_parent.xf_screen.setcontrolfocusnext(this,!0)}else if(a==_XFD_FOCUSTYPE_LAST){if(this.focused_item_index<0)return;c=!0,d=this._gettabiteminstanceallbykind(this.focused_item_index,XFD_OBJKIND_CONTROL,XF_CONTENT.INSTANCE_ORDER_TAB,!0,!1),d.length>0&&(b=d[d.length-1]),null!=b?b._setfocus(_XFD_FOCUSTYPE_LAST):this.xf_parent.xf_screen.setcontrolfocusprev(this,!0)}},XF_TAB.prototype.eventlock=function(a,b){var c,d;for(this.is_event_locked=a,b===!0&&(this.is_event_locked_subscreen=a),d=this.xf_panel_arr.length,c=0;d>c;c++)this.xf_panel_arr[c].eventlock(a,b)},XF_TAB.prototype.eventlocksubscreen=function(a,b,c){var d;if(a=_xfu["int"](a),-1!=a&&!this._isvalidindex(a))return!1;if(-1==a)for(this.is_event_locked_subscreen=b,d=this.xf_panel_arr.length,a=0;d>a;a++)this.xf_panel_arr[i].eventlocksubscreen(b,c);else this.xf_panel_arr[a].eventlocksubscreen(b,c)},XF_TAB.prototype.getorigintabwidth=function(){return this.originvalue.width},XF_TAB.prototype.getorigintabheight=function(){return this.originvalue.height},XF_TAB.prototype.gettabitemmousecursor=function(a){return this.xf_item_arr[a].xf_prop.mouse_cursor},XF_TAB.prototype.settabitemmousecursor=function(a,b){this.xf_item_arr[a].xf_prop.mouse_cursor=b,_xfc.basic("mouse_cursor",b,!0,this.xf_item_arr[a].xf_object)},XF_TAB.prototype.gettitlebarheight=function(){return this.xf_prop.titlebar_height},XF_TAB.prototype.gettabitemareagap=function(){return this.xf_prop.tabitemarea_gap},XF_TAB.prototype.settabitemarealeftmargin=function(a){return a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1?!1:(this.xf_prop.tabitemarea_leftmargin=a,this.xf_itembox.itemboxpadding(!0),!0)},XF_TAB.prototype.printchildscreen=function(a){return this._printchildscreen(a,!1)},XF_TAB.prototype.printpreviewchildscreen=function(a){return this._printchildscreen(a,!0)},XF_TAB.prototype._printchildscreen=function(a,b){var c;return void 0===a&&(a=-1),a=_xfu["int"](a),-1==a&&(a=this.gettabitemfocus()),c=this.getchildscreeninstance(a),null==c?!1:(1==b?c.printpreview():c.print(),!0)},XF_TAB.prototype.showhtml=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(this.xf_panel_arr[a].showhtml(b),void(void 0!==c&&1!=c||this.settabitemfocus(a,!0))):!1},XF_TAB.prototype.showlinkscreenprinthtml=function(){return this._linkscreenprinthtml(!0)},XF_TAB.prototype.hidelinkscreenprinthtml=function(){return this._linkscreenprinthtml(!1)},XF_TAB.prototype._linkscreenprinthtml=function(a){var b,c,d,e;return c=this.gettabitemfocus(),0>c?!1:(d=this.getchildscreeninstance(c),null==d?!1:(b=this.xf_panel_arr[c],void 0===b?!1:(0==d.xf_screen.xf_prop.vertscrollbar_style?b.xf_content.xf_object.css("overflow-y","hidden"):b.xf_content.xf_object.css("overflow-y","auto"),0==d.xf_screen.xf_prop.horzscrollbar_style?b.xf_content.xf_object.css("overflow-x","hidden"):b.xf_content.xf_object.css("overflow-x","auto"),1==a?(e=d.xf_screen._getscreenprinthtml(),b.xf_panel_iframe.css("display","none"),b.xf_content.xf_object.css("display","block"),b.xf_content.xf_object[0].innerHTML=e):(d.xf_screen._clearscreenprinthtml(),b.xf_content.xf_object.css("display","none"),b.xf_content.xf_object[0].innerHTML="",b.xf_panel_iframe.css("display","block")),!0)))},XF_TAB.prototype.isshowscrollbar=function(a,b){var c,d,e;return a=_xfu["int"](a),-1==a&&(a=this.gettabitemfocus()),this._isvalidindex(a)?(c=this.xf_panel_arr[a],d=c.xf_content.xf_object.parent(),e=this.getchildscreeninstance(a),null==e?b==XFD_SB_HORZ?_xfj.ishscrollshow(d):b==XFD_SB_VERT?_xfj.isvscrollshow(d):_xfj.isscrollshow(d):e.xf_screen.isshowscrollbar(b)):!1},XF_TAB.prototype.getscrollpos=function(a,b){var c,d,e;return a=_xfu["int"](a),-1==a&&(a=this.gettabitemfocus()),this._isvalidindex(a)?(c=this.xf_panel_arr[a],d=c.xf_object,e=this.getchildscreeninstance(a),null!=e?e.xf_screen.getscrollpos(b):b==XFD_SB_HORZ?d.scrollLeft():b==XFD_SB_VERT?d.scrollTop():void 0):!1},XF_TAB.prototype.scroll=function(a,b,c){var d,e,f;return a=_xfu["int"](a),-1==a&&(a=this.gettabitemfocus()),this._isvalidindex(a)?(b=_xfu["int"](b),c=_xfu["int"](c),1==isNaN(b)||1==isNaN(c)?!1:(f=this.getchildscreeninstance(a),void(null==f?(d=this.xf_panel_arr[a],e=d.xf_object,e.scrollLeft(e.scrollLeft()+b),e.scrollTop(e.scrollTop()+c)):f.xf_screen.scroll(b,c)))):!1},XF_TAB.prototype.scrollvert=function(a,b){return this._scrollto(a,!0,b)},XF_TAB.prototype.scrollhorz=function(a,b){return this._scrollto(a,!1,b)},XF_TAB.prototype._scrollto=function(a,b,c){var d,e,f,d,e;return a=_xfu["int"](a),-1==a&&(a=this.gettabitemfocus()),this._isvalidindex(a)?(c=_xfu.intval(c,0,XFD_MAX_VALUE),c===!1?!1:(f=this.getchildscreeninstance(a),null==f?(d=this.xf_panel_arr[a],e=d.xf_object,b?e.scrollTop(c):e.scrollLeft(c)):f.xf_screen._scrollto(b,c),!0)):!1},XF_TAB.prototype.getchildcontrolcount=function(a){var b;return a=_xfu["int"](a),this._isvalidindex(a)?(b=this.getchildscreeninstance(a),b?b.getcontrolcount():this.xf_panel_arr[a].xf_content.getcontrolcount(!1,!0)):0},XF_TAB.prototype.getchildinstance=function(a,b){return this._getchildinstance(a,"id",b)},XF_TAB.prototype.getchildinstancebyindex=function(a,b){return this._getchildinstance(a,"index",b)},XF_TAB.prototype.getchildinstancebyname=function(a,b){return this._getchildinstance(a,"name",b)},XF_TAB.prototype.getchildinstancefirst=function(a){return this._getchildinstance(a,"control_first",null,!0)},XF_TAB.prototype.getchildinstancenext=function(a,b){return this._getchildinstance(a,"control_next",b,!0)},XF_TAB.prototype.getchildshapeinstancefirst=function(a){return this._getchildinstance(a,"shape_first",null,!0)},XF_TAB.prototype.getchildshapeinstancenext=function(a,b){return this._getchildinstance(a,"shape_next",b,!0)},XF_TAB.prototype._getchildinstance=function(a,b,c,d){var e,f;return a=_xfu["int"](a),this._isvalidindex(a)?(f=!0,e=this.getchildscreeninstance(a),e||(f=!1,e=this.xf_parent.xf_screen),"id"==b?e.getinstance(c):"index"==b?e.getinstancebyindex(c):"name"==b?e.getinstancebyname(c):"control_first"==b?f?e.getinstancefirst():this.xf_panel_arr[a].xf_content.getcontentinstance(XFD_OBJKIND_CONTROL,XF_CONTENT.INSTANCE_ORDER_CREATE,XF_CONTENT.INSTANCE_POSITION_FIRST,null,!1,d):"shape_first"==b?f?e.getshapeinstancefirst():this.xf_panel_arr[a].xf_content.getcontentinstance(XFD_OBJKIND_SHAPE,XF_CONTENT.INSTANCE_ORDER_CREATE,XF_CONTENT.INSTANCE_POSITION_FIRST,null,!1,d):"control_next"==b?f?e.getinstancenext(c):this.xf_panel_arr[a].xf_content.getcontentinstance(XFD_OBJKIND_CONTROL,XF_CONTENT.INSTANCE_ORDER_CREATE,XF_CONTENT.INSTANCE_POSITION_NEXT,c,!1,d):"shape_next"==b?f?e.getshapeinstancenext(c):this.xf_panel_arr[a].xf_content.getcontentinstance(XFD_OBJKIND_SHAPE,XF_CONTENT.INSTANCE_ORDER_CREATE,XF_CONTENT.INSTANCE_POSITION_NEXT,c,!1,d):void 0):null},XF_TAB.prototype.gettabiteminstanceall=function(a,b,c){return a=_xfu["int"](a),this._isvalidindex(a)?(1==b?b=XF_CONTENT.INSTANCE_ORDER_POSITION:2==b&&(b=XF_CONTENT.INSTANCE_ORDER_TAB),void 0===c&&(c=!1),this._gettabiteminstanceallbykind(a,XFD_OBJKIND_CONTROL,b,c)):null},XF_TAB.prototype.getinstanceall=function(a,b){return a=_xfu.intval(a,0,3),a===!1?[]:(1==a?a=XF_CONTENT.INSTANCE_ORDER_POSITION:2==a?a=XF_CONTENT.INSTANCE_ORDER_TAB:3==a&&(a=XF_CONTENT.INSTANCE_ORDER_POSITIONALL),void 0===b&&(b=!1),this._getinstanceallbykind(XFD_OBJKIND_CONTROL,a,b))},XF_TAB.prototype.gettabitemcontentheight=function(a,b){var c;return c=this._gettabitemcontentsize(a,b),c.content_height},XF_TAB.prototype.gettabitemcontentwidth=function(a,b){var c;return c=this._gettabitemcontentsize(a,b),c.content_width},XF_TAB.prototype._gettabitemcontentsize=function(a,b){var c,d,e,f;if(e={content_width:-1,content_height:-1},void 0===b)b=0;else if(b=_xfu["int"](b,0,2),b===!1)return e;if(a=_xfu["int"](a),-1==a&&(a=this.gettabitemfocus()),!this._isvalidindex(a))return e;switch(c=this.xf_panel_arr[a],f=this.getinnerscreenurl(a),d=2==this.gettabitemlinktype(a)&&f.length>0?c.xf_content.xf_object.parent():c.xf_content.xf_object,b){case 0:e.content_width=_xfu["int"](d[0].clientWidth),e.content_height=_xfu["int"](d[0].clientHeight);break;case 1:e.content_width=_xfu["int"](d[0].scrollWidth),e.content_height=_xfu["int"](d[0].scrollHeight);break;case 2:e.content_width=_xfu["int"](d[0].offsetWidth),e.content_height=_xfu["int"](d[0].offsetHeight)}return e},XF_TAB.prototype.on_object_dragover=function(a){0!=this.xf_prop.accept_drop&&a.preventDefault()},XF_TAB.prototype.on_object_drop=function(a){var b;a.preventDefault(),factory.xf_main_factory.xf_drag.object_kind!=XFD_OBJKIND_NONE&&(b={xf_component:this,event_name:"on_dropcomplete"},factory._fireevent(b,this,factory.xf_main_factory.xf_drag.xf_screen,factory.xf_main_factory.xf_drag.xf_component),factory._resetdraginfo())},XF_TAB.prototype.on_childscreen_focus=function(a){this.is_window_mode&&this.settabitemfocus(a,!1),this.xf_parent&&this.xf_parent.xf_content&&this.xf_parent.xf_content.on_child_focus(this,!1)},XF_TAB.prototype.on_object_resize=function(a,b){var c,d;for(d=this.xf_item_arr.length,this.xf_prop.width=this.getwidth(),this.xf_prop.height=this.getheight(),c=0;d>c;c++)this.xf_panel_arr[c]&&this.xf_panel_arr[c].on_object_resize(a,b);this._setrwdmode(),!this.xf_prop.tabitem_hidden&&d>0&&this.focused_item_index>=0&&this.xf_itembox.setvisibletabitem(this.focused_item_index),this.xf_itembox.refreshnavibox()},XF_TAB.prototype.on_preload_timeout=function(){null==this.xf_tab_panel_preload&&(this.xf_tab_panel_preload=new XF_TAB_PANEL_PRELOAD(this))},XF_TAB_ITEM.prototype._init=function(a){this.control_kind=XFD_CTRLKIND_TAB,this.object_kind=XFD_OBJKIND_CONTROL,this.xf_tab=a,this.xf_tab_prop=a.xf_prop,this.forecolor=void 0,this.sel_forecolor=void 0,this.dis_forecolor=void 0,this.backcolor=void 0,this.sel_backcolor=void 0,this.dis_backcolor=void 0,this.titlebar_forecolor=void 0,this.titlebar_backcolor=void 0,this.bordercolor=void 0,this.xf_canvas=null,this.backimage_value="",this.is_item_created=!1,this.css_arr=[],this.css_text_arr=[]},XF_TAB_ITEM.prototype._prop=function(a){this.xf_prop={title:"",description:"",meta_id:"",title_horzalign:1,title_vertalign:1,titlebar_text:"",tooltip:"",width:60,height:22,style:"",image:"",selimage:"",disableimage:"",panel_width:0,panel_height:0,panel_color:[235,235,235],link_screen:"",link_type:0,portlet_name:"",item_hidden:!1,xbutton:2,mouse_cursor:0,text_margin:[0,0,0,0],lockbutton:2,line_height:-1,item_index:0,item_islock:!1,vertscrollbar_style:1,horzscrollbar_style:1,panel_vertscrollbar_style:1,panel_horzscrollbar_style:1,enable:!0,name:"",extra_data:null},_xfx.style(this.xf_tab,a),_xfx.propconv(this,this.xf_prop,a),$.extend(this.xf_prop,a),this.xf_tab.xf_parent?this.xf_prop.link_screen=factory._callbackscreenurl(this.xf_prop.link_screen,0,this.xf_tab.xf_parent.xf_screen,this.xf_tab):this.xf_prop.link_screen=factory._callbackscreenurl(this.xf_prop.link_screen,0,null,this.xf_tab),this.xf_prop.title=this.xf_prop.title.replace("\\n","\n"),this._css(a),this._css_text(a)},XF_TAB_ITEM.prototype._css=function(a){_xf_htmlready_mode||_xfx.propcss(this,a,this.css_arr,["mouse_cursor"])},XF_TAB_ITEM.prototype._css_text=function(a){_xf_htmlready_mode||0==this.xf_tab_prop.tabitem_textmargin[0]&&0==this.xf_tab_prop.tabitem_textmargin[1]&&0==this.xf_tab_prop.tabitem_textmargin[2]&&0==this.xf_tab_prop.tabitem_textmargin[3]||this.css_text_arr.push(_xfc.basic("padding",this.xf_tab_prop.tabitem_textmargin,!1,null))},XF_TAB_ITEM.prototype._box=function(){var a,b;if(0==_xf_htmlready_mode){if(a=[],a.push("<div"),a.push(' class="_xf_tab_item '+this.xf_tab_prop.internal_name+"_item_"+this.xf_prop.item_index),this.xf_tab_prop.tabitem_customclass.length>0&&a.push(" "+this.xf_tab_prop.tabitem_customclass),a.push('"'),a.push(' title="'+_xfu.quot(this.xf_prop.tooltip)+'"'),this.xf_tab_prop.tabitem_moveable&&a.push(' draggable="true"'),a.push(' style="'),a.push(this.css_arr.join("")),this.sizepos(!1,a),this.textalign(!1,a),this.border(!1,a,!1,!1),this.backimage(!1,this.xf_tab_prop.tabitem_gradient_effect,this.xf_tab_prop.tabitem_gradient_startcolor,this.xf_tab_prop.tabitem_gradient_endcolor,this._backimagevalue(!1),a),a.push(_xfc.basic("fore_color",this.xf_tab_prop.tabitem_forecolor,!1,null)),a.push(_xfc.basic("back_color",this.xf_tab_prop.tabitem_backcolor,!1,null)),a.push(_xfc.basic("font",this.xf_tab_prop.tabitem_font,!1,null)),this.xf_prop.item_hidden&&a.push("display:none;"),b=this.xf_prop.line_height,0>b&&(b=this.xf_tab_prop.line_height),b>0&&a.push("line-height:"+_xfu.px(b)+";"),1==this.xf_tab_prop.tabitem_overflow)switch(a.push("display: inline-flex;"),this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:a.push("height: "+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.top.width)+";");break;case XF_TAB.TABITEM_POSITION_BOTTOM:a.push("height: "+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.bottom.width)+";")}a.push('">'),a.push('<span class="_xf_tab_item_title'),0==this.xf_tab_prop.tabitem_position?a.push(" _xfd_padding_tabitem_top"):1==this.xf_tab_prop.tabitem_position&&a.push(" _xfd_padding_tabitem_bottom"),a.push('"'),a.push(' style="'),a.push(this.css_text_arr.join("")),a.push('">'),a.push(this.xf_prop.title),a.push("</span>"),a.push('<div class="_xf_tab_item_icon _xf_tab_item_icon_unlock'),this.xf_tab_prop.tabitem_unlockbutton_customclass.length>0&&a.push(" "+this.xf_tab_prop.tabitem_unlockbutton_customclass),a.push('"'),a.push(' style="'),this.lockbuttonsizepos(!1,a),a.push('"></div>'),a.push('<div class="_xf_tab_item_icon _xf_tab_item_icon_close'),this.xf_tab_prop.tabitem_xbutton_customclass.length>0&&a.push(" "+this.xf_tab_prop.tabitem_xbutton_customclass),a.push('"'),a.push(' style="'),this.xbuttonsizepos(!1,a),a.push('"></div>'),a.push("</div>")}0==_xf_htmlready_mode?(this.xf_object=$(a.join("")),this.xf_tab.xf_itembox.appenditem(this.xf_object)):this.xf_object=$("."+this.xf_tab_prop.internal_name+"_item_"+this.xf_prop.item_index)},XF_TAB_ITEM.prototype._dom=function(){var a;this.xf_title=this.xf_object.children("._xf_tab_item_title"),this.xf_lock=this.xf_object.children("._xf_tab_item_icon_unlock"),this.xf_close=this.xf_object.children("._xf_tab_item_icon_close"),a=_xfx.imagesplitinfo(this.backimage_value),a.is_split&&this.selstyle()},XF_TAB_ITEM.prototype._dom_canvas=function(){var a,b,c;a=this.xf_object.innerWidth(),b=this.xf_object.innerHeight(),c=[],c.push("<canvas "),c.push(' width="'+_xfu.px(a)+'"'),c.push(' height="'+_xfu.px(b)+'"'),c.push(' class="_xf_btn_canvas"'),c.push("></canvas>"),this.xf_canvas=$(c.join("")),this.xf_object.append(this.xf_canvas)},XF_TAB_ITEM.prototype._offevent=function(){_xfj.offevent(this.xf_object,["dblclick","click","dblclick","mouseenter","mouseleave"]),_xfj.offevent(this.xf_object,["dragstart"]),_xfj.offevent(this.xf_title,["dragenter","drop","dragover","dragleave"]),_xfj.offevent(this.xf_close,["mousedown","click","mouseenter","mouseleave"]),_xfj.offevent(this.xf_lock,["mousedown","click","mouseenter","mouseleave"])},XF_TAB_ITEM.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_object_click,this)),this.xf_object.on("contextmenu",$.proxy(this.on_object_contextmenu,this)),this.xf_object.on("dblclick",$.proxy(this.on_item_dblclick,this)),this.xf_object.hover($.proxy(this.on_object_hoverin,this),$.proxy(this.on_object_hoverout,this)),this.xf_close.on("mousedown",$.proxy(this.on_close_mousedown,this)),this.xf_close.on("click",$.proxy(this.on_close_click,this)),this.xf_close.hover($.proxy(this.on_close_hoverin,this),$.proxy(this.on_close_hoverout,this)),this.xf_lock.on("mousedown",$.proxy(this.on_lock_mousedown,this)),this.xf_lock.on("click",$.proxy(this.on_lock_click,this)),this.xf_lock.hover($.proxy(this.on_lock_hoverin,this),$.proxy(this.on_lock_hoverout,this)),this.xf_object.on("dragstart",$.proxy(this.on_object_dragstart,this)),this.xf_title.on("dragenter",$.proxy(this.on_title_dragenter,this)),this.xf_title.on("dragover",$.proxy(this.on_title_dragover,this)),this.xf_title.on("drop",$.proxy(this.on_title_drop,this)),this.xf_title.on("dragleave",$.proxy(this.on_title_dragleave,this))},XF_TAB_ITEM.prototype.on_object_hoverin=function(a){this.hoverstyle(!0)},XF_TAB_ITEM.prototype.on_object_hoverout=function(a){this.hoverstyle(!1)},XF_TAB_ITEM.prototype.on_close_hoverin=function(a){0==this.xf_prop.enable},XF_TAB_ITEM.prototype.on_close_hoverout=function(a){0==this.xf_prop.enable},XF_TAB_ITEM.prototype.on_lock_hoverin=function(a){0==this.xf_prop.enable},XF_TAB_ITEM.prototype.on_lock_hoverout=function(a){0==this.xf_prop.enable},XF_TAB_ITEM.prototype.on_close_mousedown=function(a){return!1},XF_TAB_ITEM.prototype.on_close_click=function(a){var b;0!=this.xf_prop.enable&&(b=factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemcloseclick",default_value:1,is_fire_async:!1},this.xf_tab,this.xf_prop.item_index),0!==b&&this.xf_tab.deletetab(this.xf_prop.item_index,!1))},XF_TAB_ITEM.prototype.on_lock_mousedown=function(a){return!1},XF_TAB_ITEM.prototype.on_lock_click=function(a){var b,c;this.xf_prop.enable&&(c=factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemlockclick",defaule_value:1,is_fire_async:!1},this.xf_tab,this.xf_prop.item_index,1==this.xf_prop.item_islock?1:0),
0!==c&&(b=$(a.target),this.settabitemlock(!this.xf_prop.item_islock)))},XF_TAB_ITEM.prototype.settabitemlock=function(a){return this.xf_prop.item_islock==a?!0:(this.xf_prop.item_islock=a,void(a?(this.xf_lock.removeClass("_xf_tab_item_icon_unlock"),this.xf_lock.removeClass(this.xf_tab_prop.tabitem_unlockbutton_customclass),this.xf_lock.addClass("_xf_tab_item_icon_lock"),this.xf_lock.addClass(this.xf_tab_prop.tabitem_lockbutton_customclass)):(this.xf_lock.removeClass("_xf_tab_item_icon_lock"),this.xf_lock.removeClass(this.xf_tab_prop.tabitem_lockbutton_customclass),this.xf_lock.addClass("_xf_tab_item_icon_unlock"),this.xf_lock.addClass(this.xf_tab_prop.tabitem_unlockbutton_customclass))))},XF_TAB_ITEM.prototype.on_object_mousedown=function(a,b){factory.registermouseevent(this.xf_tab,a),this.xf_tab_prop.tabitem_moveable||a.preventDefault()},XF_TAB_ITEM.prototype.on_object_click=function(a,b){return this.xf_prop.enable?(factory.registermouseevent(this.xf_tab,a),a.which==XFD_MOUSE_BUTTON_LEFT||a.button==XFD_MOUSE_BUTTON_CENTER||b?(this.xf_tab.settabitemfocus(this.xf_prop.item_index,!0),factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemclick",is_fire_async:!0},this.xf_tab,this.xf_prop.item_index)):a.which==XFD_MOUSE_BUTTON_RIGHT&&factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemrclick",is_fire_async:!0},this.xf_tab,this.xf_prop.item_index),!1):!1},XF_TAB_ITEM.prototype.on_object_contextmenu=function(a){a.preventDefault(),this.xf_prop.enable&&(factory.registermouseevent(this.xf_tab,a),factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemrclick",is_fire_async:!0},this.xf_tab,this.xf_prop.item_index))},XF_TAB_ITEM.prototype.on_item_dblclick=function(a){return this.xf_prop.enable?(factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemdblclick",is_fire_async:!0},this.xf_tab,this.xf_prop.item_index),!1):!1},XF_TAB_ITEM.prototype.on_object_dragstart=function(a){this.xf_tab.xf_drag_item=this},XF_TAB_ITEM.prototype.on_title_dragenter=function(a){null!=this.xf_tab.xf_drag_item&&this.xf_tab.xf_drag_item.xf_prop.item_index!=this.xf_prop.item_index&&this.xf_title.addClass("xf_tab_item_drag_target")},XF_TAB_ITEM.prototype.on_title_dragover=function(a){null!=this.xf_tab.xf_drag_item&&this.xf_tab.xf_drag_item.xf_prop.item_index!=this.xf_prop.item_index&&a.preventDefault()},XF_TAB_ITEM.prototype.on_title_dragleave=function(a){null!=this.xf_tab.xf_drag_item&&this.xf_tab.xf_drag_item.xf_prop.item_index!=this.xf_prop.item_index&&this.xf_title.removeClass("xf_tab_item_drag_target")},XF_TAB_ITEM.prototype.on_title_drop=function(a){var b;a.preventDefault(),this.xf_title.removeClass("xf_tab_item_drag_target"),b=this.xf_tab.xf_drag_item.xf_prop.item_index,this.xf_tab.xf_drag_item=null,this.xf_tab.movetabitem(b,this.xf_prop.item_index)},XF_TAB_ITEM.prototype._backimagevalue=function(a){var b="";return a?this.xf_prop.enable?(b=this.xf_prop.selimage,b||(b=this.xf_tab_prop.tabitem_selimage)):(b=this.xf_prop.disableimage,b||(b=this.xf_tab_prop.tabitem_disableimage)):this.xf_prop.enable?(b=this.xf_prop.image,b||(b=this.xf_tab_prop.tabitem_image)):(b=this.xf_prop.disableimage,b||(b=this.xf_tab_prop.tabitem_disableimage)),this.backimage_value=b,b},XF_TAB_ITEM.prototype.backimage=function(a,b,c,d,e,f){var g;return g=_xfx.imagesplitinfo(e),a?void(g.is_split?(null==this.xf_canvas&&this._dom_canvas(),this.xf_canvas.show(),_xfx.splitimage(this.xf_canvas,g.image_url,g.left_end,g.middle_end)):(null!==this.xf_canvas&&this.xf_canvas.hide(),_xfc.gradient(this.xf_object,b,c,d,e,null))):void(g.is_split||_xfc.gradient(null,b,c,d,e,f))},XF_TAB_ITEM.prototype.hoverstyle=function(a){var b,c;this.xf_prop.enable&&this.xf_tab_prop.tabitem_mousehover&&0!=this.xf_prop.enable&&(c=!1,this.xf_object.hasClass("_xf_tab_item_focus")&&(c=!0),this.border(!0,null,c,a),a?this.xf_object.hasClass("_xf_tab_item_focus")?(_xfc.basic("fore_color",this.xf_tab_prop.tabitem_selhoverforecolor,!0,this.xf_object),_xfc.basic("back_color",this.xf_tab_prop.tabitem_selhoverbackcolor,!0,this.xf_object),b=this._backimagevalue(!0),this.backimage(!0,this.xf_tab_prop.tabitem_gradient_selhovereffect,this.xf_tab_prop.tabitem_gradient_selhoverstartcolor,this.xf_tab_prop.tabitem_gradient_selhoverendcolor,b,null)):(_xfc.basic("fore_color",this.xf_tab_prop.tabitem_hoverforecolor,!0,this.xf_object),_xfc.basic("back_color",this.xf_tab_prop.tabitem_hoverbackcolor,!0,this.xf_object),b=this._backimagevalue(!1),this.backimage(!0,this.xf_tab_prop.tabitem_gradient_hovereffect,this.xf_tab_prop.tabitem_gradient_hoverstartcolor,this.xf_tab_prop.tabitem_gradient_hoverendcolor,b,null)):this.xf_object.hasClass("_xf_tab_item_focus")?(_xfc.basic("fore_color",this.xf_tab_prop.tabitem_selforecolor,!0,this.xf_object),_xfc.basic("back_color",this.xf_tab_prop.tabitem_selbackcolor,!0,this.xf_object),b=this._backimagevalue(!0),this.backimage(!0,this.xf_tab_prop.tabitem_gradient_seleffect,this.xf_tab_prop.tabitem_gradient_selstartcolor,this.xf_tab_prop.tabitem_gradient_selendcolor,b,null)):(_xfc.basic("fore_color",this.xf_tab_prop.tabitem_forecolor,!0,this.xf_object),_xfc.basic("back_color",this.xf_tab_prop.tabitem_backcolor,!0,this.xf_object),b=this._backimagevalue(!1),this.backimage(!0,this.xf_tab_prop.tabitem_gradient_hovereffect,this.xf_tab_prop.tabitem_gradient_startcolor,this.xf_tab_prop.tabitem_gradient_endcolor,b,null)))},XF_TAB_ITEM.prototype.selstyle=function(){var a,b,c,d,e,f,g,h,i;a={},b=this.xf_object.hasClass("_xf_tab_item_focus"),0==this.xf_prop.enable?(c=this.dis_forecolor,c||(c=this.xf_tab_prop.tabitem_disforecolor),d=this.dis_backcolor,d||(d=this.xf_tab_prop.tabitem_disbackcolor)):b?(c=this.sel_forecolor,c||(c=this.xf_tab_prop.tabitem_selforecolor),d=this.sel_backcolor,d||(d=this.xf_tab_prop.tabitem_selbackcolor)):(c=this.forecolor,c||(c=this.xf_tab_prop.tabitem_forecolor),d=this.backcolor,d||(d=this.xf_tab_prop.tabitem_backcolor)),this.border(!0,null,b,!1),a.color=_xfu.rgbfunc(c),a.backgroundColor=_xfu.rgbfunc(d),f=b?this.xf_tab_prop.tabitem_selfont:this.xf_tab_prop.tabitem_font,_xfc.font(null,f,a),e=this._backimagevalue(b),g=b?this.xf_tab_prop.tabitem_gradient_seleffect:this.xf_tab_prop.tabitem_gradient_effect,i=_xfx.imagesplitinfo(e),i.is_split||0!=g||(h=0==e.length?"none":_xfx.imageurlfunc(e),a.backgroundImage=h,null!==this.xf_canvas&&this.xf_canvas.hide()),this.xf_object.css(a),(i.is_split||0!=g)&&(b?this.backimage(!0,this.xf_tab_prop.tabitem_gradient_seleffect,this.xf_tab_prop.tabitem_gradient_selstartcolor,this.xf_tab_prop.tabitem_gradient_selendcolor,e,null):this.backimage(!0,this.xf_tab_prop.tabitem_gradient_effect,this.xf_tab_prop.tabitem_gradient_startcolor,this.xf_tab_prop.tabitem_gradient_endcolor,e,null))},XF_TAB_ITEM.prototype.xbuttonsizepos=function(a,b){var c;c={display:"none",width:_xfu.px(this.xf_tab_prop.tabitem_xbutton_width),left:"auto",right:"auto"},1==this.xf_prop.xbutton?c.display="block":2==this.xf_prop.xbutton&&this.xf_tab_prop.tabitem_xbutton&&(c.display="block"),1==this.xf_tab_prop.tabitem_xbutton_horzalign?c.right=_xfu.px(this.xf_tab_prop.tabitem_xbutton_horzmargin):c.left=_xfu.px(this.xf_tab_prop.tabitem_xbutton_horzmargin),a?this.xf_close.css(c):(b.push("display:"+c.display+";"),b.push("width:"+c.width+";"),b.push("left:"+c.left+";"),b.push("right:"+c.right+";"))},XF_TAB_ITEM.prototype.buttoncustomclass=function(a){a?(this.xf_close.addClass(this.xf_tab_prop.tabitem_xbutton_customclass),this.xf_lock.hasClass("_xf_tab_item_icon_lock")?this.xf_lock.addClass(this.xf_tab_prop.tabitem_lockbutton_customclass):this.xf_lock.addClass(this.xf_tab_prop.tabitem_unlockbutton_customclass)):(this.xf_close.removeClass(this.xf_tab_prop.tabitem_xbutton_customclass),this.xf_lock.hasClass("_xf_tab_item_icon_lock")?this.xf_lock.removeClass(this.xf_tab_prop.tabitem_lockbutton_customclass):this.xf_lock.removeClass(this.xf_tab_prop.tabitem_unlockbutton_customclass))},XF_TAB_ITEM.prototype.lockbuttonsizepos=function(a,b){var c;c={display:"none",width:_xfu.px(this.xf_tab_prop.tabitem_lockbutton_width),left:"auto",right:"auto"},1==this.xf_prop.lockbutton?c.display="block":2==this.xf_prop.lockbutton&&this.xf_tab_prop.tabitem_lockbutton&&(c.display="block"),1==this.xf_tab_prop.tabitem_lockbutton_horzalign?c.right=_xfu.px(this.xf_tab_prop.tabitem_lockbutton_horzmargin):c.left=_xfu.px(this.xf_tab_prop.tabitem_lockbutton_horzmargin),a?this.xf_lock.css(c):(b.push("width:"+c.width+";"),b.push("display:"+c.display+";"),b.push("left:"+c.left+";"),b.push("right:"+c.right+";"))},XF_TAB_ITEM.prototype.sizepos=function(a,b){var c;switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:if(a)this.xf_object.css({"float":"left",height:"100%",width:_xfu.px(this.xf_prop.width),marginRight:_xfu.px(this.xf_tab_prop.tabitem_gap),marginBottom:"0px"});else{if(b.push("float:left;"),0==this.xf_tab_prop.tabitem_overflow)b.push("height:100%;");else if(1==this.xf_tab_prop.tabitem_overflow)switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:b.push("height: "+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.top.width)+";");break;case XF_TAB.TABITEM_POSITION_BOTTOM:b.push("height: "+_xfu.px(this.xf_tab_prop.tabitem_height+ +this.xf_tab.border_info.bottom.width)+";")}b.push("width:"+_xfu.px(this.xf_prop.width)+";"),b.push("margin-right:"+_xfu.px(this.xf_tab_prop.tabitem_gap)+";"),b.push("margin-bottom:0px;")}break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:c=this.xf_prop.height>0?this.xf_prop.height:this.xf_tab_prop.tabitem_height,a?this.xf_object.css({"float":"none",height:_xfu.px(c),width:"100%",marginRight:"0px",marginBottom:_xfu.px(this.xf_tab_prop.tabitem_gap)}):(b.push("float:none;"),b.push("height:"+_xfu.px(c)+";"),b.push("width:100%;"),b.push("margin-right:0px;"),b.push("margin-bottom:"+_xfu.px(this.xf_tab_prop.tabitem_gap)+";"))}},XF_TAB_ITEM.prototype.border=function(a,b,c,d){var e,f,g;if(a&&this.xf_object.css("border",""),f={},g=this.xf_prop.enable?c?d?this.xf_tab_prop.tabitem_selhoverbordercolor:this.xf_tab_prop.tabitem_selbordercolor:d?this.xf_tab_prop.tabitem_hoverbordercolor:this.xf_tab_prop.tabitem_bordercolor:this.xf_tab_prop.tabitem_disbordercolor,f.borderColor=_xfu.rgbfunc(g),0==this.xf_tab_prop.tabitem_border?f.borderWidth="0px":f.borderWidth="1px",a||(b.push("border-color:"+f.borderColor+";"),b.push("border-width:"+f.borderWidth+";")),e=["0","0","0","0"],1==this.xf_tab_prop.tabitem_style)e[0]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[1]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[2]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[3]=_xfu.px(this.xf_tab_prop.tabitem_radius);else switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:e[0]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[1]=_xfu.px(this.xf_tab_prop.tabitem_radius),f.borderBottom=_xfu.px(this.xf_tab.border_info.top.width)+" solid ",c?f.borderBottom+="transparent":f.borderBottom+=_xfu.rgbfunc(this.xf_tab.border_info.top.color),a||b.push("border-bottom:"+f.borderBottom+";");break;case XF_TAB.TABITEM_POSITION_BOTTOM:e[2]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[3]=_xfu.px(this.xf_tab_prop.tabitem_radius),f.borderTop=_xfu.px(this.xf_tab.border_info.bottom.width)+" solid ",c?f.borderTop+="transparent":f.borderTop+=_xfu.rgbfunc(this.xf_tab.border_info.bottom.color),a||b.push("border-top:"+f.borderTop+";");break;case XF_TAB.TABITEM_POSITION_LEFT:e[0]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[3]=_xfu.px(this.xf_tab_prop.tabitem_radius),f.borderRight=_xfu.px(this.xf_tab.border_info.left.width)+" solid ",c?f.borderRight+="transparent":f.borderRight+=_xfu.rgbfunc(this.xf_tab.border_info.left.color),a||b.push("border-right:"+f.borderRight+";");break;case XF_TAB.TABITEM_POSITION_RIGHT:e[1]=_xfu.px(this.xf_tab_prop.tabitem_radius),e[2]=_xfu.px(this.xf_tab_prop.tabitem_radius),f.borderLeft=_xfu.px(this.xf_tab.border_info.right.width)+" solid ",c?f.borderLeft+="transparent":f.borderLeft+=_xfu.rgbfunc(this.xf_tab.border_info.right.color),a||b.push("border-left:"+f.borderLeft+";")}f.borderRadius=e.join(" "),a?this.xf_object.css(f):b.push("border-radius:"+f.borderRadius+";")},XF_TAB_ITEM.prototype.textalign=function(a,b){a?(_xfc.justifycontent(this.xf_object,this.xf_prop.title_horzalign),_xfc.textalign(this.xf_object,this.xf_prop.title_horzalign)):(b.push(_xfc.justifycontent(null,this.xf_prop.title_horzalign)),b.push(_xfc.textalign(null,this.xf_prop.title_horzalign)))},XF_TAB_ITEM.prototype.destroy=function(){this.xf_object.remove()},XF_TAB_ITEM.prototype.enable=function(a){this.xf_prop.enable=a,this.selstyle(),_xfj.enable(this.xf_close,a)},XF_TAB_ITEM.prototype.islinkscreen=function(){return this.xf_prop.link_screen.length>0&&0==this.xf_prop.link_type},XF_TAB_ITEM.prototype.islinkportlet=function(){return this.xf_prop.link_screen.length>0&&1==this.xf_prop.link_type},XF_TAB_ITEM.prototype.settabitemfocus=function(a){this.xf_object.hasClass("_xf_tab_item_focus")||(this.xf_object.addClass("_xf_tab_item_focus"),this.selstyle())},XF_TAB_ITEM.prototype.killtabitemfocus=function(){return this.xf_object.hasClass("_xf_tab_item_focus")?(this.xf_object.removeClass("_xf_tab_item_focus"),this.selstyle(),!0):!1},XF_TAB_ITEM.prototype.settabitemtext=function(a){this.xf_prop.title=a,this.xf_title.text(a)},XF_TAB_ITEM.prototype.settabitemwidth=function(a){return this.xf_prop.width=_xfu["int"](a),this.xf_object.css({width:_xfu.px(this.xf_prop.width)}),!0},XF_TAB_ITEMBOX.prototype._init=function(a,b){this.xf_tab=a,this.xf_tab_prop=b},XF_TAB_ITEMBOX.prototype._prop=function(){this.xf_prop={prev_button_image:"",prev_button_downimage:"",next_button_image:"",next_button_downimage:""},this.xf_prop.internal_name=this.xf_tab_prop.internal_name+"_itembox"},XF_TAB_ITEMBOX.prototype._dom=function(){this.xf_object=this.xf_tab.xf_object.children("._xf_tab_item_box"),this.xf_item_view=this.xf_object.children("._xf_tab_item_view"),this.xf_item_content=this.xf_item_view.children("._xf_tab_item_content"),this.xf_navibtn_box=this.xf_item_view.children("._xf_tab_item_navibtn_box"),this.xf_prev_button=this.xf_navibtn_box.children("._xf_tab_item_navibtn_prev"),this.xf_next_button=this.xf_navibtn_box.children("._xf_tab_item_navibtn_next")},XF_TAB_ITEMBOX.prototype._offevent=function(){_xfj.offevent(this.xf_object,["mousedown"]),_xfj.offevent(this.xf_prev_button,["click","mousedown"]),_xfj.offevent(this.xf_next_button,["click","mousedown"])},XF_TAB_ITEMBOX.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_prev_button.on("mousedown",$.proxy(this.on_prevbutton_mousedown,this)),this.xf_next_button.on("mousedown",$.proxy(this.on_nextbutton_mousedown,this)),this.xf_prev_button.on("click",$.proxy(this.on_prevbutton_click,this)),this.xf_next_button.on("click",$.proxy(this.on_nextbutton_click,this))},XF_TAB_ITEMBOX.prototype._create=function(){this._dom(),this._event()},XF_TAB_ITEMBOX.prototype._buttonimage=function(a,b){b?a.css("background",_xfx.imageurlfunc(b)+" no-repeat"):a.css("background","")},XF_TAB_ITEMBOX.prototype.on_prevbutton_click=function(a){var b,c;for(c=this.getfirstvisibletabitem(),b=c-1;b>=0;b--)if(!this.xf_tab.xf_item_arr[b].xf_prop.item_hidden){this.setfirstvisibletabitem(b);break}a.preventDefault()},XF_TAB_ITEMBOX.prototype.on_nextbutton_click=function(a){var b,c;for(c=this.getfirstvisibletabitem(),b=c+1;b<this.xf_tab.xf_item_arr.length;b++)if(!this.xf_tab.xf_item_arr[b].xf_prop.item_hidden){this.setfirstvisibletabitem(b);break}a.preventDefault()},XF_TAB_ITEMBOX.prototype.on_object_mousedown=function(a){0==this.xf_tab_prop.click_setfocus&&a.preventDefault()},XF_TAB_ITEMBOX.prototype.on_prevbutton_mousedown=function(a){this._buttonimage(this.xf_prev_button,this.xf_prop.prev_button_downimage),$(document).on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_prev_mouseup,this)),0==this.xf_tab_prop.click_setfocus&&a.preventDefault()},XF_TAB_ITEMBOX.prototype.on_nextbutton_mousedown=function(a){this._buttonimage(this.xf_next_button,this.xf_prop.next_button_downimage),$(document).on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_next_mouseup,this)),0==this.xf_tab_prop.click_setfocus&&a.preventDefault()},XF_TAB_ITEMBOX.prototype.on_document_prev_mouseup=function(a){this._buttonimage(this.xf_prev_button,this.xf_prop.prev_button_image),$(document).off("mouseup."+this.xf_prop.internal_name),a.stopPropagation()},XF_TAB_ITEMBOX.prototype.on_document_next_mouseup=function(a){this._buttonimage(this.xf_next_button,this.xf_prop.next_button_image),$(document).off("mouseup."+this.xf_prop.internal_name),a.stopPropagation()},XF_TAB_ITEMBOX.prototype.itemboxsizepos=function(a,b){switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:0==this.xf_tab_prop.tabitem_overflow?a?this.xf_object.css({top:"0px",right:"auto",bottom:"auto",left:"0px",width:"100%",height:_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.top.width)}):(b.push("top:0px;right:auto;bottom:auto;left:0px;"),b.push("width:100%;height:"+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.top.width)+";")):1==this.xf_tab_prop.tabitem_overflow&&(a?this.xf_object.css({top:"0px",right:"auto",bottom:"auto",left:"0px",width:"100%",height:"auto",minHeight:_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.top.width)}):(b.push("top:0px;right:auto;bottom:auto;left:0px;"),b.push("width:100%;height:auto;min-height:"+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.top.width)+";")));break;case XF_TAB.TABITEM_POSITION_BOTTOM:0==this.xf_tab_prop.tabitem_overflow?a?this.xf_object.css({top:"auto",right:"auto",bottom:"0px",left:"0px",width:"100%",height:_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.bottom.width)}):(b.push("top:auto;right:auto;bottom:0px;left:0px;"),b.push("width:100%;height:"+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.bottom.width)+";")):1==this.xf_tab_prop.tabitem_overflow&&(a?this.xf_object.css({top:"auto",right:"auto",bottom:"0px",left:"0px",width:"100%",height:_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.bottom.width)}):(b.push("top:auto;right:auto;bottom:0px;left:0px;"),b.push("width:100%;height:auto;min-height:"+_xfu.px(this.xf_tab_prop.tabitem_height+this.xf_tab.border_info.bottom.width)+";")));break;case XF_TAB.TABITEM_POSITION_LEFT:a?this.xf_object.css({top:"0px",right:"auto",bottom:"auto",left:"0px",width:_xfu.px(this.xf_tab_prop.tabitem_width+this.xf_tab.border_info.left.width),height:"100%"}):(b.push("top:0px;right:auto;bottom:auto;left:0px;"),b.push("width:"+_xfu.px(this.xf_tab_prop.tabitem_width+this.xf_tab.border_info.left.width)+";height:100%;"));break;case XF_TAB.TABITEM_POSITION_RIGHT:a?this.xf_object.css({top:"0px",right:"0px",bottom:"auto",left:"auto",width:_xfu.px(this.xf_tab_prop.tabitem_width+this.xf_tab.border_info.right.width),height:"100%"}):(b.push("top:0px;right:0px;bottom:auto;left:auto;"),b.push("width:"+_xfu.px(this.xf_tab_prop.tabitem_width+this.xf_tab.border_info.right.width)+";height:100%;"))}},XF_TAB_ITEMBOX.prototype.itemboxpadding=function(a,b){switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:a?this.xf_object.css({paddingLeft:_xfu.px(this.xf_tab_prop.tabitemarea_leftmargin),paddingRight:_xfu.px(this.xf_tab_prop.tabitemarea_rightmargin),paddingTop:"0px",paddingBottom:"0px"}):(b.push("padding:"),b.push("0px "+_xfu.px(this.xf_tab_prop.tabitemarea_rightmargin)+" "),b.push("0px "+_xfu.px(this.xf_tab_prop.tabitemarea_leftmargin)+";"));break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:a?this.xf_object.css({paddingTop:_xfu.px(this.xf_tab_prop.tabitemarea_topmargin),paddingBottom:_xfu.px(this.xf_tab_prop.tabitemarea_bottommargin),paddingLeft:"0px",paddingRight:"0px"}):(b.push("padding:"),b.push(_xfu.px(this.xf_tab_prop.tabitemarea_topmargin)+" 0px "),b.push(_xfu.px(this.xf_tab_prop.tabitemarea_bottommargin)+" 0px;"))}},XF_TAB_ITEMBOX.prototype.itemboxcontentsize=function(a,b){switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:0==this.xf_tab_prop.tabitem_overflow?a?this.xf_item_content.css({width:"50000px",height:"100%"}):b.push("width: 50000px; height: 100%;"):1==this.xf_tab_prop.tabitem_overflow&&(a?this.xf_item_content.css({width:"100%",height:"auto"}):b.push("width: 100%; height: auto;"));break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:a?this.xf_item_content.css({width:"100%",height:"50000px"}):b.push("width:100%;height:50000px;")}},XF_TAB_ITEMBOX.prototype.itemnaviboxsizepos=function(a,b){switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:a?this.xf_navibtn_box.css({top:"0px",right:"0px",left:"auto",bottom:"auto",width:"32px",height:"100%"}):b.push("top:0px;right:0px;left:auto;bottom:auto;width:32px;height:100%;");break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:a?this.xf_navibtn_box.css({top:"auto",right:"auto",left:"0px",bottom:"0px",width:"100%",height:"16px"}):b.push("top:auto;right:auto;left:0px;bottom:0px;width:100%;height:16px;")}},XF_TAB_ITEMBOX.prototype.show=function(a){a?this.xf_object.show():this.xf_object.hide()},XF_TAB_ITEMBOX.prototype.appenditem=function(a){this.xf_item_content.append(a)},XF_TAB_ITEMBOX.prototype.appenditemcombo=function(a){this.xf_item_view.append(a)},XF_TAB_ITEMBOX.prototype.itemsizesum=function(a,b,c){var d,e,f;for(f=this.xf_tab.xf_item_arr.length,e=0,void 0===b&&(b=0),void 0===c&&(c=f-1),d=b;c>=d;d++)this.xf_tab.xf_item_arr[d].xf_prop.item_hidden||(e+=a?this.xf_tab.xf_item_arr[d].xf_object.outerWidth(!0):this.xf_tab.xf_item_arr[d].xf_object.outerHeight(!0));return e},XF_TAB_ITEMBOX.prototype.naviboxsize=function(a){var b;return b=this.itemsizesum(a),a?b<=this.xf_item_view.outerWidth()?0:this.xf_navibtn_box.outerWidth():b<=this.xf_item_view.outerHeight()?0:this.xf_navibtn_box.outerHeight()},XF_TAB_ITEMBOX.prototype.rwdstyle=function(a){a?(this.xf_item_content.hide(),this.xf_navibtn_box.hide()):(this.xf_item_content.show(),this.refreshnavibox())},XF_TAB_ITEMBOX.prototype.refreshnavibox=function(){var a,b,c,d;if(1==this.xf_tab_prop.tabitem_overflow)return this.xf_navibtn_box.hide(),void this.xf_tab._boxpadding(!0);switch(this.xf_tab_prop.tabitem_scrollbtnhidden&&this.xf_navibtn_box.hide(),c={},this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:a=this.itemsizesum(!0),b=this.xf_item_view.outerWidth();break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:a=this.itemsizesum(!1),b=this.xf_item_view.outerHeight()}c.top="0px",c.left="0px",this.xf_item_content.css(c),d=this.xf_tab.gettabitemfocus(),d>=0&&this.setvisibletabitem(d),this.xf_tab_prop.tabitem_scrollbtnhidden||(this.xf_tab.xf_tab_itemcombo||b>a?this.xf_navibtn_box.hide():this.xf_navibtn_box.show())},XF_TAB_ITEMBOX.prototype.getleftbtnimagedown=function(){return this.xf_prop.prev_button_downimage},XF_TAB_ITEMBOX.prototype.setleftbtnimagedown=function(a){this.xf_prop.prev_button_downimage=a},XF_TAB_ITEMBOX.prototype.getleftbtnimagenormal=function(){return this.xf_prop.prev_button_image},XF_TAB_ITEMBOX.prototype.setleftbtnimagenormal=function(a){this.xf_prop.prev_button_image=a,this.xf_prev_button.css("background",_xfx.imageurlfunc(this.xf_prop.prev_button_image)+" no-repeat")},XF_TAB_ITEMBOX.prototype.getrightbtnimagedown=function(){return this.xf_prop.next_button_downimage},XF_TAB_ITEMBOX.prototype.setrightbtnimagedown=function(a){this.xf_prop.next_button_downimage=a},XF_TAB_ITEMBOX.prototype.getrightbtnimagenormal=function(){return this.xf_prop.next_button_image},XF_TAB_ITEMBOX.prototype.setrightbtnimagenormal=function(a){this.xf_prop.next_button_image=a,this.xf_next_button.css("background",_xfx.imageurlfunc(this.xf_prop.next_button_image)+" no-repeat")},XF_TAB_ITEMBOX.prototype.getfirstvisibletabitem=function(){var a,b,c,d,e,f,g;switch(c=-1,this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:for(d=this.xf_item_content.position().left,d=Math.ceil(d),a=0;a<this.xf_tab.xf_item_arr.length;a++)if(b=this.xf_tab.xf_item_arr[a],!b.xf_prop.item_hidden&&(f=b.xf_object.position().left,f=Math.ceil(f),f+d>=0)){c=a;break}break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:for(e=this.xf_item_content.position().top,e=Math.ceil(e),a=0;a<this.xf_tab.xf_item_arr.length;a++)if(b=this.xf_tab.xf_item_arr[a],!b.xf_prop.item_hidden&&(g=b.xf_object.position().top,g=Math.ceil(g),g+e>=0)){c=a;break}}return c},XF_TAB_ITEMBOX.prototype.getlastvisibletabitem=function(a){var b,c,d,e,f,g,h,i,j,k,l;switch(f=-1,0>a&&(a=0),this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:for(d=this.xf_item_view.outerWidth()-this.naviboxsize(!0),k=this.xf_item_content.position().left,b=a;b<this.xf_tab.xf_item_arr.length;b++)if(c=this.xf_tab.xf_item_arr[b],!c.xf_prop.item_hidden){if(g=k+c.xf_object.position().left,h=g+c.xf_object.outerWidth(!0),h>d)break;f=b}break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:for(e=this.xf_item_view.outerHeight()-this.naviboxsize(!1),l=this.xf_item_content.position().top,b=a;b<this.xf_tab.xf_item_arr.length;b++)if(c=this.xf_tab.xf_item_arr[b],!c.xf_prop.item_hidden){if(i=g=l+c.xf_object.position().top,j=i+c.xf_object.outerHeight(!0),j>e)break;f=b}}return f},XF_TAB_ITEMBOX.prototype.getfirstvisibletabitemlimit=function(){var a,b,c,d,e,f,g,h,i;switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:if(h=this.naviboxsize(!0),0==h)return 0;for(f=this.xf_item_view.outerWidth()-h,d=0,b=0,a=this.xf_tab.xf_item_arr.length-1;a>=0;a--)if(this.xf_tab.xf_item_arr[a].xf_prop.item_hidden)b++;else if(d+=this.xf_tab.xf_item_arr[a].xf_object.outerWidth(!0),d>f){c=a+1+b;break}break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:if(i=this.naviboxsize(!1),0==i)return 0;for(g=this.xf_item_view.outerHeight()-i,e=0,b=0,a=this.xf_tab.xf_item_arr.length-1;a>=0;a--)if(this.xf_tab.xf_item_arr[a].xf_prop.item_hidden)b++;else if(e+=this.xf_tab.xf_item_arr[a].xf_object.outerHeight(!0),e>g){c=a+1+b;break}}return c},XF_TAB_ITEMBOX.prototype.setvisibletabitem=function(a){var b,c;return _xf_htmlready_mode?!0:this.xf_tab.xf_item_arr[a].xf_prop.item_hidden?!1:(b=this.getfirstvisibletabitem(),0>b?this.setfirstvisibletabitem(a):(c=this.getlastvisibletabitem(b),a>=b&&c>=a?!0:this.setfirstvisibletabitem(a)))},XF_TAB_ITEMBOX.prototype.setfirstvisibletabitem=function(a){var b,c,d;if(this.xf_tab.xf_item_arr[a].xf_prop.item_hidden)return!1;if(1==this.xf_tab_prop.tabitem_overflow)return!0;switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:case XF_TAB.TABITEM_POSITION_BOTTOM:b=this.getfirstvisibletabitemlimit(),a>b&&(a=b),c=this.itemsizesum(!0,0,a-1),this.xf_item_content.css("left",_xfu.px(-1*c));break;case XF_TAB.TABITEM_POSITION_LEFT:case XF_TAB.TABITEM_POSITION_RIGHT:b=this.getfirstvisibletabitemlimit(),a>b&&(a=b),d=this.itemsizesum(!1,0,a-1),this.xf_item_content.css("top",_xfu.px(-1*d))}return!0},XF_TAB_ITEMCOMBO.prototype._init=function(a){this.xf_tab=a,this.xf_tab_prop=a.xf_prop,this.is_selectbox_show=!1,this.xf_selectbox=null,this.css_arr=[]},XF_TAB_ITEMCOMBO.prototype._prop=function(a){this.xf_prop={internal_name:""},$.extend(this.xf_prop,a),this.xf_prop.internal_name=this.xf_tab_prop.internal_name+"_itemcombo",this._css(a)},XF_TAB_ITEMCOMBO.prototype._css=function(a){},XF_TAB_ITEMCOMBO.prototype._box=function(){var a;a=[],a.push("<div"),a.push(' class="_xf_tab_itemcombo"'),a.push(' style="'),a.push('">'),a.push('<div class="_xf_tab_itemcombo_item"'),a.push(' style="'),this.selstyle(!1,a,null),this.color(!1,a,null),this.border(!1,a,null),a.push("padding-right:21px;"),a.push('">'),a.push('<span class="_xf_tab_itemcombo_item_text"'),a.push(' style="'),a.push('">'),a.push(this.xf_tab.gettabitemfocustext()),a.push("</span>"),a.push("<button"),a.push(' tabindex="-1"'),a.push(' class="_xf_tab_itemcombo_btn"'),a.push(' style="'),a.push('">'),a.push("</button>"),a.push("</div>"),a.push("</div>"),this.xf_object=$(a.join("")),$(document.body).append(this.xf_object)},XF_TAB_ITEMCOMBO.prototype._dom=function(){var a;this.xf_item=this.xf_object.children("._xf_tab_itemcombo_item"),this.xf_item_text=this.xf_item.children("._xf_tab_itemcombo_item_text"),this.xf_button=this.xf_item.children("._xf_tab_itemcombo_btn"),a=[],a.push("<div"),a.push(' class="_xf_tab_itemcombo_selectbox" '),a.push(' style="'),a.push("display:none;"),a.push("top:"+_xfu.px(this.xf_tab_prop.tabitem_height)+";"),a.push("border:1px solid "+_xfu.rgbfunc(this.xf_tab_prop.tabitem_bordercolor)+";"),a.push('"'),a.push(">"),a.push('<div class="_xf_tab_itemcombo_content"></div>'),a.push("</div>"),this.xf_selectbox=$(a.join("")),this.xf_content=this.xf_selectbox.find("._xf_tab_itemcombo_content"),$(document.body).append(this.xf_selectbox),this.xf_vscroll=new XF_SCROLL(this.xf_selectbox,this.xf_selectbox,this.xf_content,{id:this.xf_prop.internal_name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)})},XF_TAB_ITEMCOMBO.prototype._offdocevent=function(){$(document).off("click."+this.xf_prop.internal_name)},XF_TAB_ITEMCOMBO.prototype._docevent=function(){this._offdocevent(),$(document).on("click."+this.xf_prop.internal_name,$.proxy(this.on_document_click,this))},XF_TAB_ITEMCOMBO.prototype._offevent=function(){_xfj.offevent(this.xf_item,["mousedown","click"]),_xfj.offevent(this.xf_content,["mousedown","click"])},XF_TAB_ITEMCOMBO.prototype._event=function(){this.xf_item.on("mousedown",$.proxy(this.on_item_mousedown,this)),this.xf_item.on("click",$.proxy(this.on_item_click,this)),this.xf_content.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_content.on("click",$.proxy(this.on_content_click,this))},XF_TAB_ITEMCOMBO.prototype._create=function(){this._dom(),this._event()},XF_TAB_ITEMCOMBO.prototype.destroy=function(){this._offevent(),this.xf_item_text.remove(),this.xf_button.remove(),this.xf_item.remove()},XF_TAB_ITEMCOMBO.prototype._showselectbox=function(){var a,b,c,d,e,f,g;if(!this.is_selectbox_show){for(this.is_selectbox_show=!0,d=this._getselectboxheight(),e=this.xf_object.offset(),g=e.left,f=e.top+this.xf_tab_prop.tabitem_height+this.xf_tab_prop.tabitem_combocontentboxgap,1==this.xf_tab_prop.tabitem_position&&(f=e.top-d-this.xf_tab_prop.tabitem_combocontentboxgap+1),this.xf_selectbox.css({left:_xfu.px(g),top:_xfu.px(f),height:_xfu.px(d),width:_xfu.px(this.xf_object[0].offsetWidth)}),this.xf_selectbox.show(),c=[],a=this.xf_tab.gettabitemcount(),b=0;a>b;b++)c.push(this._getitemhtml(b));this.xf_content.get(0).innerHTML=c.join(""),_xfu.async({func:this.on_selectbox_show,context:this})}},XF_TAB_ITEMCOMBO.prototype._hideselectbox=function(){this.is_selectbox_show&&(this.is_selectbox_show=!1,this.xf_selectbox.fadeOut("fast",$.proxy(this.on_selectbox_hide,this)))},XF_TAB_ITEMCOMBO.prototype._getselectboxheight=function(){var a,b,c,d;return c=this.xf_tab.getheight()-2*this.xf_tab_prop.tabitem_height,c-=this.xf_tab_prop.tabitem_combocontentboxgap,d=Math.floor(c/this.xf_tab_prop.tabitem_height),0>=d&&(d=1e5),a=this.xf_tab.gettabitemcount()-this.xf_tab.gettabitemcount(1),a=Math.min(a,d),b=this.xf_tab_prop.tabitem_height*a,1==this.xf_prop.border&&(b+=2),b},XF_TAB_ITEMCOMBO.prototype._getitemhtml=function(a){var b,c;return c=this.xf_tab.xf_item_arr[a].xf_prop,b=[],b.push('<div class="_xf_tab_itemcombo_item _xf_tab_itemcombo_selectbox_item'),c.item_index==this.xf_tab.gettabitemfocus()&&b.push(" _xf_tab_itemcombo_selectbox_item_selected"),b.push('"'),b.push(this._getitemdatahtml(c)),b.push(' style="'),b.push("height:"+_xfu.px(this.xf_tab_prop.tabitem_height)+";"),b.push(_xfc.basic("fore_color",this.xf_tab_prop.tabitem_forecolor,!1,null)),b.push(_xfc.basic("back_color",this.xf_tab_prop.tabitem_backcolor,!1,null)),
c.item_hidden&&b.push("display:none;"),b.push('">'),b.push('<span class="_xf_tab_itemcombo_item_text"'),b.push(this._getitemdatahtml(c)),b.push(' style="'),b.push('">'),b.push(c.title),b.push("</span>"),b.push("</div>"),b.join("")},XF_TAB_ITEMCOMBO.prototype._getitemdatahtml=function(a){var b;return b=[],b.push(' data-index="'+a.item_index+'"'),b.push(' data-text="'+a.title+'"'),b.push(' data-is_hidden="'+a.item_hidden+'"'),b.join("")},XF_TAB_ITEMCOMBO.prototype.refresh=function(){this.xf_item_text.text(this.xf_tab.gettabitemfocustext()),this.color(!0,null,this.xf_item)},XF_TAB_ITEMCOMBO.prototype.destroy=function(){this._offevent(),this.xf_object.remove()},XF_TAB_ITEMCOMBO.prototype.rwdstyle=function(a){a?this.xf_object.show():(this._hideselectbox(),this.xf_object.hide())},XF_TAB_ITEMCOMBO.prototype.isshowselectbox=function(){return this.is_selectbox_show},XF_TAB_ITEMCOMBO.prototype.showselectbox=function(a){a?this.is_selectbox_show||this._showselectbox():this.is_selectbox_show&&this._hideselectbox()},XF_TAB_ITEMCOMBO.prototype.toggleselectbox=function(){this.isshowselectbox()?this.showselectbox(!1):this.showselectbox(!0)},XF_TAB_ITEMCOMBO.prototype.on_scroll_start=function(){this._offdocevent()},XF_TAB_ITEMCOMBO.prototype.on_scroll_end=function(){_xfu.async({func:this._docevent,context:this})},XF_TAB_ITEMCOMBO.prototype.on_selectbox_show=function(){var a;this.xf_vscroll.refresh(),a=this.xf_content.find("._xf_tab_itemcombo_selectbox_item_selected"),a.length>0&&this.xf_vscroll.focus(a),this.is_selectbox_show=!0,this.xf_button.addClass("_xf_tab_itemcombo_btn_up"),_xfu.async({func:this._docevent,context:this})},XF_TAB_ITEMCOMBO.prototype.on_selectbox_hide=function(){this.is_selectbox_show=!1,this.xf_button.removeClass("_xf_tab_itemcombo_btn_up"),this._offdocevent()},XF_TAB_ITEMCOMBO.prototype.on_content_mousedown=function(a){a.preventDefault()},XF_TAB_ITEMCOMBO.prototype.on_content_click=function(a){var b,c;this._hideselectbox(),b=$(a.target),c=_xfu["int"](b.data("index")),this.xf_tab.xf_item_arr[c].xf_object.trigger("click",!0)},XF_TAB_ITEMCOMBO.prototype.on_document_click=function(a){this.showselectbox(!1)},XF_TAB_ITEMCOMBO.prototype.on_item_mousedown=function(a){a.preventDefault()},XF_TAB_ITEMCOMBO.prototype.on_item_click=function(a){this.toggleselectbox()},XF_TAB_ITEMCOMBO.prototype.selstyle=function(a,b,c){var d,e,f,g;d={},f=this.xf_tab_prop.tabitem_selfont,e="",g=!0,0==this.xf_tab_prop.tabitem_gradient_seleffect&&(g=!1),g||(e=0==e.length?"none":_xfx.imageurlfunc(e),d.backgroundImage=e),a?(_xfc.font(null,f,d),c.css(d),g&&_xfc.gradient(c,this.xf_tab_prop.tabitem_gradient_seleffect,this.xf_tab_prop.tabitem_gradient_selstartcolor,this.xf_tab_prop.tabitem_gradient_selendcolor,e)):(b.push(_xfc.font(null,f)),g?_xfc.gradient(null,this.xf_tab_prop.tabitem_gradient_seleffect,this.xf_tab_prop.tabitem_gradient_selstartcolor,this.xf_tab_prop.tabitem_gradient_selendcolor,e,b):b.push(_xfc.css("background-image",d.backgroundImage,!1,null)))},XF_TAB_ITEMCOMBO.prototype.color=function(a,b,c){var d,e,f,g;d={},e=this.xf_tab.xf_item_arr[this.xf_tab.gettabitemfocus()],f=e.sel_forecolor,f||(f=this.xf_tab_prop.tabitem_selforecolor),g=e.sel_backcolor,g||(g=this.xf_tab_prop.tabitem_selbackcolor),d.color=_xfu.rgbfunc(f),d.backgroundColor=_xfu.rgbfunc(g),a?c.css(d):(b.push(_xfc.css("color",d.color,!1,null)),b.push(_xfc.css("background-color",d.backgroundColor,!1,null)))},XF_TAB_ITEMCOMBO.prototype.border=function(a,b,c){var d,e,f;if(a&&c.css("border",""),e={},e.borderColor=_xfu.rgbfunc(this.xf_tab_prop.tabitem_selbordercolor),0==this.xf_tab_prop.tabitem_border?e.borderWidth="0px":e.borderWidth="1px",d=["0","0","0","0"],1==this.xf_tab_prop.tabitem_style)d[0]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[1]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[2]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[3]=_xfu.px(this.xf_tab_prop.tabitem_radius);else switch(this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:d[0]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[1]=_xfu.px(this.xf_tab_prop.tabitem_radius);break;case XF_TAB.TABITEM_POSITION_BOTTOM:d[2]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[3]=_xfu.px(this.xf_tab_prop.tabitem_radius);break;case XF_TAB.TABITEM_POSITION_LEFT:d[0]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[3]=_xfu.px(this.xf_tab_prop.tabitem_radius);break;case XF_TAB.TABITEM_POSITION_RIGHT:d[1]=_xfu.px(this.xf_tab_prop.tabitem_radius),d[2]=_xfu.px(this.xf_tab_prop.tabitem_radius)}switch(e.borderRadius=d.join(" "),f=0==this.xf_tab_prop.tabitem_style?"none":"solid",this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:e.borderBottomStyle=f;break;case XF_TAB.TABITEM_POSITION_BOTTOM:e.borderTopStyle=f;break;case XF_TAB.TABITEM_POSITION_LEFT:e.borderRightStyle=f;break;case XF_TAB.TABITEM_POSITION_RIGHT:e.borderLeftStyle=f}if(a)c.css(e);else switch(b.push("border-color:"+e.borderColor+";"),b.push("border-width:"+e.borderWidth+";"),b.push("border-radius:"+e.borderRadius+";"),this.xf_tab_prop.tabitem_position){case XF_TAB.TABITEM_POSITION_TOP:b.push(_xfc.css("border-bottom-style",e.borderBottomStyle,!1,null));break;case XF_TAB.TABITEM_POSITION_BOTTOM:b.push(_xfc.css("border-top-style",e.borderTopStyle,!1,null));break;case XF_TAB.TABITEM_POSITION_LEFT:b.push(_xfc.css("border-left-style",e.borderRightStyle,!1,null));break;case XF_TAB.TABITEM_POSITION_RIGHT:b.push(_xfc.css("border-right-style",e.borderLeftStyle,!1,null))}},XF_TAB.prototype._zindex=function(a,b){b=_xfu.str(b),this.xf_panel_arr[a].xf_object.css("z-index",b),this.xf_item_arr[a].xf_object.css("z-index",b)},XF_TAB.prototype._zindextop=function(a){this.zindex_top=this.zindex_top+1,this._zindex(a,this.zindex_top)},XF_TAB.prototype._zindexmdi=function(){var a,b;for(b=this.xf_panel_arr.length,a=0;b>a;a++)this._zindex(a,b-a);this.zindex_top=b},XF_TAB.prototype._restore=function(a,b){var c,d,e;for(d=this.gettabitemcount(),c=0;d>c;c++)if(e=this.xf_panel_arr[c],c==a)if(b)e.restore();else switch(e.last_panel_style){case XF_TAB_PANEL.PS_MAXIMIZED:e.maximize();break;case XF_TAB_PANEL.PS_MINIMIZED:e.minimize();break;case XF_TAB_PANEL.PS_RESTORED:e.restore()}else switch(e.last_panel_style){case XF_TAB_PANEL.PS_MAXIMIZED:e.maximize();break;case XF_TAB_PANEL.PS_MINIMIZED:e.minimize();break;case XF_TAB_PANEL.PS_RESTORED:e.restore()}this.is_window_mode=!0},XF_TAB.prototype._maximize=function(a){var b,c,d;for(c=this.gettabitemcount(),b=0;c>b;b++)d=this.xf_panel_arr[b],d.maximize();this.is_window_mode=!1},XF_TAB.prototype._minimize=function(a){var b,c,d;for(c=this.gettabitemcount(),b=0;c>b;b++)if(d=this.xf_panel_arr[b],b==a)d.minimize(!0);else if(!this.is_window_mode)switch(d.last_panel_style){case XF_TAB_PANEL.PS_MAXIMIZED:d.restore();break;case XF_TAB_PANEL.PS_MINIMIZED:d.minimize(!1);break;case XF_TAB_PANEL.PS_RESTORED:d.restore()}this.is_window_mode=!0},XF_TAB.prototype._savecurrentpanelstyle=function(){var a;for(a=0;a<this.xf_panel_arr.length;a++)this.xf_panel_arr[a].savecurrentpanelstyle()},XF_TAB_PANEL.PS_MAXIMIZED=0,XF_TAB_PANEL.PS_RESTORED=1,XF_TAB_PANEL.PS_MINIMIZED=2,XF_TAB_PANEL.prototype._init=function(a,b,c,d,e){this.control_kind=XFD_CTRLKIND_TAB,this.object_kind=XFD_OBJKIND_CONTROL,this.xf_tab=a,this.xf_tab_prop=a.xf_prop,this.xf_item=b,this.xf_item_prop=b.xf_prop,this.xf_link_screen=null,this.is_focused=c,this.is_focus_inner=d,this.xf_panel_iframe=null,this.xf_panel_content=null,this.mdi_left=0,this.mdi_top=0,this.mdi_width=0,this.mdi_height=0,this.dragarea_left=-1,this.dragarea_top=-1,this.dragarea_right=-1,this.dragarea_bottom=-1,this.current_panel_style=XF_TAB_PANEL.PS_MAXIMIZED,this.last_panel_style=XF_TAB_PANEL.PS_RESTORED,this.panel_style_before_minimized=XF_TAB_PANEL.PS_MAXIMIZED,this.xf_panel_preload=null,this.is_use_preload=!1,this.is_event_locked=a.is_event_locked,this.is_event_locked_subscreen=a.is_event_locked_subscreen,void 0!==e&&(this.is_event_locked_subscreen=e),this.xf_item.islinkscreen()&&(this.xf_panel_preload=this.xf_tab._gettabpanelpreload(),null!=this.xf_panel_preload&&(this.is_use_preload=!0))},XF_TAB_PANEL.prototype._box=function(){var a;this.xf_tab_panel_class=this.xf_tab_prop.internal_name+"_panel_"+this.xf_item_prop.item_index,_xf_htmlready_mode||(a=[],this.is_use_preload||(a.push('<div class="_xf_tab_panel '+this.xf_tab_panel_class+'"'),a.push(' style="'),this._backcolor(!1,a),this._scrollbarstyle(!1,a),a.push('">'),a.push('<div class="_xf_tab_panel_content"'),a.push(' style="'),this._contentsizebackcolor(!1,a),this._contentscrollbarstyle(!1,a),a.push('">'),this.xf_item.islinkscreen()&&a.push(this._dom_iframe(!1)),a.push("</div>"),a.push("</div>"))),_xf_htmlready_mode?this.xf_object=this.xf_tab.xf_panel_box.find("."+this.xf_tab_panel_class):this.is_use_preload?(this.xf_object=this.xf_panel_preload.xf_object,this.xf_panel_content=this.xf_panel_preload.xf_panel_content,this.xf_object.addClass(this.xf_tab_panel_class),this.xf_object.show(),this._backcolor(!0,null),this._scrollbarstyle(!0,null),this._contentsizebackcolor(!0,null),this._contentscrollbarstyle(!0,null)):(this.xf_object=$(a.join("")),this.xf_tab.xf_panel_box.append(this.xf_object))},XF_TAB_PANEL.prototype._dom=function(){this.is_use_preload||(this.xf_panel_content=this.xf_object.find("._xf_tab_panel_content")),_xfu.isie()&&!this.xf_tab.is_window_mode&&this.xf_object.addClass("_xf_tab_panel_print_hide"),this.xf_content=new XF_CONTENT(this.xf_tab,this.xf_panel_content),this.xf_content.xf_tab_panel=this,this.xf_titlebar=new XF_TAB_TITLEBAR(this.xf_tab,this),this.xf_resizebox=new XF_RESIZE_BOX(this.xf_tab,this.xf_object,{enable:!1,min_x:0,min_y:0,min_height:this.xf_tab.mdi_min_height,min_width:this.xf_tab.mdi_min_width,on_resize_start:$.proxy(this.on_resize_start,this),on_resize_ing:$.proxy(this.on_resize_ing,this),on_resize_end:$.proxy(this.on_resize_end,this)}),this.xf_item.islinkscreen()&&(this.is_use_preload?this.xf_panel_iframe=this.xf_panel_preload.xf_panel_iframe:this.xf_panel_iframe=this.xf_panel_content.children("._xf_tab_panel_iframe")),this.xf_protect=new XF_PROTECT(this.xf_tab,this.xf_object,{opacity:0,is_use_icon:!0}),_xf_htmlready_mode||this.xf_item.xf_prop.item_hidden&&this.setprotect(!0,100,!1)},XF_TAB_PANEL.prototype._dom_iframe=function(a){var b;return b=[],b.push('<iframe class="_xf_tab_panel_iframe" src=""'),b.push(' style="'),b.push("display:none;"),b.push('">'),b.push("</iframe>"),a?(this.xf_panel_iframe=$(b.join("")),this.xf_panel_content.append(this.xf_panel_iframe),this.xf_panel_iframe.on("load",$.proxy(this.on_iframe_load,this)),void 0):b.join("")},XF_TAB_PANEL.prototype._offevent=function(){this.xf_panel_iframe&&this.xf_panel_iframe.off("load"),_xfj.offevent(this.xf_object,["click","mousedown"]),_xfj.offevent(this.xf_panel_content,["click","mousedown"])},XF_TAB_PANEL.prototype._event=function(){this.xf_panel_iframe&&this.xf_panel_iframe.on("load",$.proxy(this.on_iframe_load,this)),this.xf_object.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_content_click,this)),this.xf_panel_content.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_panel_content.on("click",$.proxy(this.on_content_click,this))},XF_TAB_PANEL.prototype._create=function(){_xf_htmlready_mode||this.setinnerscreenurl(),this.initmdisizepos(0),_xf_htmlready_mode||this.maximize()},XF_TAB_PANEL.prototype._backcolor=function(a,b){var c;c={backColor:_xfu.rgbfunc(this.xf_item_prop.panel_color)},a?this.xf_object.css(c):b.push(_xfc.basic("back_color",this.xf_item_prop.panel_color,!1,null))},XF_TAB_PANEL.prototype._scrollbarstyle=function(a,b,c,d){void 0!==c&&(this.xf_item_prop.horzscrollbar_style=c),void 0!==d&&(this.xf_item_prop.vertscrollbar_style=d),a?(_xfc.basic("horzscrollbar_style",this.xf_item_prop.horzscrollbar_style,!0,this.xf_object),_xfc.basic("vertscrollbar_style",this.xf_item_prop.vertscrollbar_style,!0,this.xf_object)):(b.push(_xfc.basic("horzscrollbar_style",this.xf_item_prop.horzscrollbar_style,!1,null)),b.push(_xfc.basic("vertscrollbar_style",this.xf_item_prop.vertscrollbar_style,!1,null)))},XF_TAB_PANEL.prototype._contentscrollbarstyle=function(a,b,c,d){void 0!==c&&(this.xf_item_prop.panel_horzscrollbar_style=c),void 0!==d&&(this.xf_item_prop.panel_vertscrollbar_style=d),a?(_xfc.basic("horzscrollbar_style",this.xf_item_prop.panel_horzscrollbar_style,!0,this.xf_panel_content),_xfc.basic("vertscrollbar_style",this.xf_item_prop.panel_vertscrollbar_style,!0,this.xf_panel_content)):(b.push(_xfc.basic("horzscrollbar_style",this.xf_item_prop.panel_horzscrollbar_style,!1,null)),b.push(_xfc.basic("vertscrollbar_style",this.xf_item_prop.panel_vertscrollbar_style,!1,null)))},XF_TAB_PANEL.prototype._contentsizebackcolor=function(a,b){var c;c={minWidth:_xfu.px(this.xf_item_prop.panel_width),minHeight:_xfu.px(this.xf_item_prop.panel_height),backColor:_xfu.rgbfunc(this.xf_item_prop.panel_color)},a?this.xf_panel_content.css(c):(b.push("min-width:"+_xfu.px(this.xf_item_prop.panel_width)+";"),b.push("min-height:"+_xfu.px(this.xf_item_prop.panel_height)+";"),b.push(_xfc.basic("back_color",this.xf_item_prop.panel_color,!1,null)))},XF_TAB_PANEL.prototype._isdragarea=function(a,b){var c,d,e,f;return-1!==this.dragarea_left?(c=this.dragarea_left,d=this.dragarea_top,e=this.dragarea_right,f=this.dragarea_bottom):(c=this.xf_tab.dragarea_left,d=this.xf_tab.dragarea_top,e=this.xf_tab.dragarea_right,f=this.xf_tab.dragarea_bottom),-1==c||-1==d?!1:c>a||d>b?!1:e>=0&&a>e?!1:!(f>=0&&b>f)},XF_TAB_PANEL.prototype.on_object_resize=function(a,b){var c;this.xf_content.on_content_resize(a,b),c=this.xf_tab.getchildscreeninstance(this.xf_item.xf_prop.item_index),c&&this.xf_item.islinkportlet()&&c.xf_screen.on_window_resize(event,a,b),a&&c&&c.xf_screen.on_window_resize(event,a,b)},XF_TAB_PANEL.prototype.on_titlebar_show=function(a){var b;b=a?_xfu.px(this.xf_tab_prop.titlebar_height):"0px",this.xf_object.css("padding-top",b),this.on_object_resize()},XF_TAB_PANEL.prototype.on_resize_start=function(){var a;this.xf_resizebox.xf_prop.min_height=this.xf_tab.mdi_min_height,this.xf_resizebox.xf_prop.min_width=this.xf_tab.mdi_min_width,a=this.xf_object.position(),this.xf_resizebox.xf_prop.max_width=this.xf_tab.xf_panel_box.innerWidth()-a.left,this.xf_resizebox.xf_prop.max_height=this.xf_tab.xf_panel_box.innerHeight()-a.top},XF_TAB_PANEL.prototype.on_resize_ing=function(){this.on_object_resize()},XF_TAB_PANEL.prototype.on_resize_end=function(){this.savepanelpos()},XF_TAB_PANEL.prototype.on_iframe_mousedown=function(a){var b,c;this.xf_tab.is_window_mode&&(this.xf_tab.settabitemfocus(this.xf_item_prop.item_index,!0),b=a.pageX,c=a.pageY,this._isdragarea(b,c)&&this.xf_titlebar.on_titlebar_mousedown(a))},XF_TAB_PANEL.prototype.on_content_mousedown=function(a){var b,c,d,e;e=_xfj.eventtarget(a,{type:"class",value:"_xf_tab"}),null!=e&&this.xf_tab.xf_object[0]!=e||(d=$(a.target),this.xf_item_prop.enable&&(d.hasClass("_xf_tab_panel_content")||d.hasClass("_xf_tab_panel"))&&0==this.xf_tab.xf_prop.click_setfocus&&a.preventDefault(),this.xf_tab.is_window_mode&&(this.xf_tab.settabitemfocus(this.xf_item_prop.item_index,!0),b=a.clientX-this.xf_panel_content.offset().left,c=a.clientY-this.xf_panel_content.offset().top,this._isdragarea(b,c)&&this.xf_titlebar.on_titlebar_mousedown(a)))},XF_TAB_PANEL.prototype.on_content_click=function(a){var b,c;if(c=_xfj.eventtarget(a,{type:"class",value:"_xf_tab"}),(null==c||this.xf_tab.xf_object[0]==c)&&(b=$(a.target),this.xf_item_prop.enable&&(b.hasClass("_xf_tab_panel_content")||b.hasClass("_xf_tab_panel")))){if(a.target!=a.currentTarget)return;this.xf_tab.settabitemfocus(this.xf_item_prop.item_index,!0)}},XF_TAB_PANEL.prototype.on_iframe_load=function(a){var b;b=this.xf_panel_iframe.attr("src"),"about:blank"!==b&&this.xf_panel_iframe.show(),this.xf_item.islinkscreen()&&(this.xf_panel_iframe.get(0).contentWindow.xframe_parent_tabpanel=this)},XF_TAB_PANEL.prototype.on_screen_load=function(a){this.xf_link_screen=a,this.xf_tab_prop.show_loadstatus&&this.xf_item.islinkscreen()&&this.xf_protect.hideprotect(),factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemcreate"},this.xf_tab,this.xf_item_prop.item_index),this.xf_tab._fireonitemcreate(this.xf_item_prop.item_index),this.is_focused&&(this.xf_tab._settabitemfocus(this.xf_item_prop.item_index,!0,!1,this.is_focus_inner),this.xf_tab.gettabitemcount()>1&&factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemchange",is_fire_async:!0},this.xf_tab,this.xf_item_prop.item_index)),this.xf_tab.sync_addtab_info&&this.xf_tab.sync_addtab_info.promise_resolve&&1!=factory_xf_param.EVENTFIRE_SYNC_SCREENONLOAD&&0==a._iscontainerscreen()&&(this.xf_tab.sync_addtab_info.promise_resolve(this.xf_item_prop.item_index),this.xf_tab.sync_addtab_info=null)},XF_TAB_PANEL.prototype.on_screen_loadafter=function(a){this.xf_tab.sync_addtab_info&&this.xf_tab.sync_addtab_info.promise_resolve&&1==factory_xf_param.EVENTFIRE_SYNC_SCREENONLOAD&&0==a._iscontainerscreen()&&(this.xf_tab.sync_addtab_info.promise_resolve(this.xf_item_prop.item_index),this.xf_tab.sync_addtab_info=null)},XF_TAB_PANEL.prototype.on_portlet_load=function(a){factory._fireevent({xf_component:this.xf_tab,event_name:"on_itemcreate"},this.xf_tab,this.xf_item_prop.item_index),this.xf_tab._fireonitemcreate(this.xf_item_prop.item_index)},XF_TAB_PANEL.prototype.destroy=function(){this.xf_content.destroy(),this.xf_object.remove()},XF_TAB_PANEL.prototype.eventlock=function(a,b){var c;this.is_event_locked=a,1==b&&(this.is_event_locked_subscreen=a),this.xf_content.eventlock(a,b),b&&(c=this.xf_tab.getchildscreeninstance(this.xf_item.xf_prop.item_index),c&&c.eventlock(a,b))},XF_TAB_PANEL.prototype.eventlocksubscreen=function(a,b){var c;this.is_event_locked_subscreen=a,c=this.xf_tab.getchildscreeninstance(this.xf_item.xf_prop.item_index),c&&c.eventlock(a,b)},XF_TAB_PANEL.prototype.setchildframedragarea=function(a,b,c,d){return this.dragarea_left=a,this.dragarea_top=b,this.dragarea_right=c,this.dragarea_bottom=d,!0},XF_TAB_PANEL.prototype.setinnerscreenurl=function(){this.xf_tab_prop.show_loadstatus&&this.xf_item.islinkscreen()&&this.xf_protect.showprotect(80,!0),this.xf_item_prop.link_screen.length>0?(this.xf_panel_iframe&&this.xf_panel_iframe.hide(),0==this.xf_item_prop.link_type?this.xf_panel_content.css("overflow","hidden"):this.xf_panel_content.css({overflow:"visible","overflow-x":"visible","overflow-y":"visible"}),this.xf_content.empty(),0==this.xf_item_prop.link_type&&(this.xf_panel_iframe||this._dom_iframe(!0)),_xfu.async({func:this.setinnerscreenurl_callback,context:this,timeout:1})):(this._contentscrollbarstyle(!0,null),this.xf_panel_iframe&&(this.xf_panel_iframe.hide(),_xfj.cleariframe(this.xf_panel_iframe)))},XF_TAB_PANEL.prototype.setinnerscreenurl_callback=function(){var a,b,c;if(b=100,this.xf_tab.xf_parent&&this.xf_tab.xf_parent.xf_screen&&(b=this.xf_tab.xf_parent.xf_screen.getzoom()),this.xf_item_prop.link_type>0)switch(this.xf_item_prop.link_type){case 1:_xfl_loadscreenbytype(this.xf_item_prop.link_screen,this.xf_tab,this,this.xf_content,_XFD_SCREENTYPE_PORTLET,this.xf_item_prop.portlet_name);break;case 2:_xfl_loadscreenbytype(this.xf_item_prop.link_screen,this.xf_tab,this,this.xf_content,_XFD_SCREENTYPE_CONTENT)}else this.is_use_preload?(this.is_use_preload=!1,this.xf_panel_iframe.show(),this.xf_panel_iframe.get(0).contentWindow.xframe_parent_tabpanel=this,this.xf_panel_iframe.get(0).contentWindow._xf_beforeloadscreen&&this.xf_panel_iframe.get(0).contentWindow._xf_beforeloadscreen(),100!=b&&(this.xf_panel_iframe.get(0).contentWindow.document.body.style.zoom=b+"%"),this.xf_panel_iframe.get(0).contentWindow._xfl_loadscreen(this.xf_item_prop.link_screen,!1,!0)):(this.xf_panel_iframe.get(0).contentWindow&&(this.xf_panel_iframe.get(0).contentWindow.xframe_parent_tabpanel=this),this.xf_item_prop.link_screen.indexOf("http://")>=0?this.xf_panel_iframe.attr("src",this.xf_item.xf_prop.link_screen):(a=factory._createtablinkscreenkey(this),c=_xfx.screenurl(this.xf_item.xf_prop.link_screen)+"&xframe_screen_kind="+XFD_SCREEN_TABLINK+"&xframe_screen_key="+a,100!=b&&(c+="&xframe_screen_zoom="+b),this.xf_panel_iframe.attr("src",c)))},XF_TAB_PANEL.prototype.showhtml=function(a){var b;this.xf_panel_iframe||this._dom_iframe(!0),this.xf_panel_iframe.css("display","block"),b=this.xf_panel_iframe[0].contentDocument,b.write(a),b.close()},XF_TAB_PANEL.prototype.savecurrentpanelstyle=function(){this.last_panel_style=this.current_panel_style},XF_TAB_PANEL.prototype.enable=function(a){a?this.xf_protect.hideprotect(!0):this.xf_protect.showprotect(0,!1)},XF_TAB_PANEL.prototype.getprotect=function(){return this.xf_protect.getprotect()},XF_TAB_PANEL.prototype.setprotect=function(a,b,c){a?this.xf_protect.showprotect(b,c):this.xf_protect.hideprotect(!0)},XF_TAB_PANEL.prototype.setpanelsize=function(a,b){this.xf_panel_content.css({minWidth:_xfu.px(a),minHeight:_xfu.px(b)})},XF_TAB_PANEL.prototype.setpanelcolor=function(a){this.xf_item_prop.panel_color=a,_xfc.basic("back_color",this.xf_item_prop.panel_color,!0,this.xf_panel_content)},XF_TAB_PANEL.prototype.movechildframe=function(a,b,c,d){this.mdi_left=a,this.mdi_top=b,this.mdi_width=c,this.mdi_height=d,this.restore()},XF_TAB_PANEL.prototype.refreshborder=function(){var a;switch(this.current_panel_style){case XF_TAB_PANEL.PS_MAXIMIZED:a="0px none";break;case XF_TAB_PANEL.PS_MINIMIZED:a="1px solid black";break;case XF_TAB_PANEL.PS_RESTORED:a=0==this.xf_tab.mdi_panel_border?"none":"1px solid "+_xfu.rgbfunc(this.xf_tab_prop.titlebar_backcolor)}this.xf_object.css("border",a),this.on_object_resize()},XF_TAB_PANEL.prototype.initmdisizepos=function(a){var b;switch(a){case XF_TAB.MDI_TYPE_CASCADE:this.mdi_width=Math.floor(.66*this.xf_tab.xf_panel_box.outerWidth()),this.mdi_height=Math.floor(.66*this.xf_tab.xf_panel_box.outerHeight()),this.mdi_left=25*this.xf_item.xf_prop.item_index,this.mdi_top=25*this.xf_item.xf_prop.item_index;break;case XF_TAB.MDI_TYPE_TILEHORZ:b=this.xf_tab.gettabitemcount(),this.mdi_width=Math.floor(this.xf_tab.xf_panel_box.outerWidth()),this.mdi_height=Math.floor(this.xf_tab.xf_panel_box.outerHeight()/b),this.mdi_left=0,this.mdi_top=this.mdi_height*this.xf_item.xf_prop.item_index;break;case XF_TAB.MDI_TYPE_TILEVERT:b=this.xf_tab.gettabitemcount(),this.mdi_width=Math.floor(this.xf_tab.xf_panel_box.outerWidth()/b),this.mdi_height=Math.floor(this.xf_tab.xf_panel_box.outerHeight()),this.mdi_left=this.mdi_width*this.xf_item.xf_prop.item_index,this.mdi_top=0}this.mdi_minimized_left=-1,this.mdi_minimized_top=-1},XF_TAB_PANEL.prototype.restore=function(){this.current_panel_style=XF_TAB_PANEL.PS_RESTORED,this._mdistyle()},XF_TAB_PANEL.prototype.maximize=function(){this.current_panel_style=XF_TAB_PANEL.PS_MAXIMIZED,this._mdistyle()},XF_TAB_PANEL.prototype.minimize=function(){this.current_panel_style=XF_TAB_PANEL.PS_MINIMIZED,this._mdistyle()},XF_TAB_PANEL.prototype._mdistyle=function(){var a,b;switch(b=!1,this.current_panel_style){case XF_TAB_PANEL.PS_MAXIMIZED:a={display:"block",left:0,top:0,width:"100%",height:"100%",boxShadow:"none",borderTop:"none"};break;case XF_TAB_PANEL.PS_RESTORED:b=!0,a={display:this.xf_item.xf_prop.item_hidden?"none":"block",left:this.mdi_left+"px",top:this.mdi_top+"px",width:this.mdi_width+"px",height:this.mdi_height+"px",boxShadow:"2px 2px 2px 2px rgb(60,60,60)",borderTop:"1px solid rgb(100,100,100)"};break;case XF_TAB_PANEL.PS_MINIMIZED:this.mdi_minimized_left>=0?a={display:this.xf_item.xf_prop.item_hidden?"none":"block",left:this.mdi_minimized_left+"px",top:this.mdi_minimized_top+"px",width:this.xf_tab.mdi_min_width+"px",height:this.xf_tab_prop.titlebar_height+"px",boxShadow:"2px 2px 2px 2px rgb(60,60,60)",borderTop:"1px solid rgb(100,100,100)"}:(this.mdi_minimized_top=this.getminimizedtop(),a={display:this.xf_item.xf_prop.item_hidden?"none":"block",left:0,top:this.mdi_minimized_top+"px",width:this.xf_tab.mdi_min_width+"px",height:this.xf_tab_prop.titlebar_height+"px",boxShadow:"2px 2px 2px 2px rgb(60,60,60)",borderTop:"1px solid rgb(100,100,100)"},this.mdi_minimized_left=0)}this.xf_object.css(a),this.xf_resizebox.setenable(b),this.xf_titlebar.refresh(),this.refreshborder()},XF_TAB_PANEL.prototype.savepanelpos=function(){this.current_panel_style==XF_TAB_PANEL.PS_MINIMIZED?(this.mdi_minimized_left=this.xf_object.position().left,this.mdi_minimized_top=this.xf_object.position().top):(this.mdi_left=this.xf_object.position().left,this.mdi_top=this.xf_object.position().top,this.mdi_width=this.xf_object.outerWidth(),this.mdi_height=this.xf_object.outerHeight())},XF_TAB_PANEL.prototype.getminimizedtop=function(){var a,b,c,d;c=1,d=!1;do for(d=!1,b=this.xf_tab.xf_panel_box.innerHeight()-this.xf_tab_prop.titlebar_height*c++,a=0;a<this.xf_tab.xf_panel_arr.length;a++)if(this.xf_tab.xf_panel_arr[a].current_panel_style==XF_TAB_PANEL.PS_MINIMIZED&&Math.abs(this.xf_tab.xf_panel_arr[a].mdi_minimized_top-b)<this.xf_tab_prop.titlebar_height){d=!0;break}while(d);return-1>b&&(b=this.xf_tab.xf_panel_box.innerHeight()-this.xf_tab_prop.titlebar_height),b},XF_TAB_PANEL.prototype._setfocus=function(){if(this.xf_item.islinkscreen())this.xf_panel_iframe.get(0).contentWindow._xf_screen&&this.xf_panel_iframe.get(0).contentWindow._xf_screen._setfocus();else if(this.xf_item.islinkportlet())this.xf_content.xf_execution_context.xf_portlet&&this.xf_content.xf_execution_context.xf_portlet._setfocus();else{if(!this.xf_content.focused_object)return this.xf_tab.xf_parent.xf_screen.setcontrolfocusnext(this.xf_tab,!0);this.xf_content.focused_object.setfocus()}},XF_TAB_PANEL.prototype.settabitemfocus=function(a,b){void 0===b&&(b=!0),b&&this._setfocus(),this.xf_titlebar.color(),_xfu.isie()&&(this.xf_object.removeClass("_xf_tab_panel_print_hide"),this.xf_tab.is_window_mode?this.xf_object.removeClass("_xf_tab_panel_print_show"):this.xf_object.addClass("_xf_tab_panel_print_show"))},XF_TAB_PANEL.prototype.killtabitemfocus=function(){this.xf_titlebar.color(),_xfu.isie()&&(this.xf_object.removeClass("_xf_tab_panel_print_show"),this.xf_tab.is_window_mode?this.xf_object.removeClass("_xf_tab_panel_print_hide"):this.xf_object.addClass("_xf_tab_panel_print_hide"))},XF_TAB_PANEL.prototype.setzoom=function(a){return a=_xfu.intval(a,10,200),a===!1?!1:(this.xf_panel_content[0].style.zoom=a+"%",!0)},XF_TAB_PANEL_PRELOAD.prototype._init=function(a){this.xf_tab=a,this.xf_object=null,this.xf_panel_iframe=null,this.xf_panel_content=null,this.is_iframe_ready=!1},XF_TAB_PANEL_PRELOAD.prototype._box=function(){var a;a=[],a.push('<div class="_xf_tab_panel"'),a.push(' style="'),a.push("display:none;"),a.push('">'),a.push('<div class="_xf_tab_panel_content">'),a.push('<iframe class="_xf_tab_panel_iframe"'),a.push(' src="'+_xfx.screenurl("")+"&xframe_screen_kind="+XFD_SCREEN_TABLINK+'"'),a.push(' style="'),a.push("display:none;"),a.push('">'),a.push("</iframe>"),a.push("</div>"),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_tab.xf_panel_box.append(this.xf_object)},XF_TAB_PANEL_PRELOAD.prototype._dom=function(){this.xf_panel_content=this.xf_object.find("._xf_tab_panel_content"),this.xf_panel_iframe=this.xf_panel_content.children("._xf_tab_panel_iframe")},XF_TAB_PANEL_PRELOAD.prototype._event=function(){this.xf_panel_iframe.on("load",$.proxy(this.on_iframe_load,this))},XF_TAB_PANEL_PRELOAD.prototype._create=function(){this._dom(),this._event()},XF_TAB_PANEL_PRELOAD.prototype.on_iframe_load=function(a){this.is_iframe_ready=!0},XF_TAB_PANEL_PRELOAD.prototype.isready=function(a){return!(!this.is_iframe_ready||!this.xf_panel_iframe.get(0).contentWindow._xfl_ishtmlready())},XF_TAB_TITLEBAR.prototype._init=function(a,b){this.control_kind=XFD_CTRLKIND_TAB,this.object_kind=XFD_OBJKIND_CONTROL,this.xf_tab=a,this.xf_tab_prop=a.xf_prop,this.xf_panel=b,this.xf_object=null,this.xf_userbtn_arr=[],this.is_titlebar_show=!1,this.is_titlebar_move=!1,this.mousedown_x=0,this.mousedown_y=0,this.mousedown_pos=null,this.css_title_arr=[],this.button_style="",this.xf_min_btn=null,this.xf_max_btn=null,this.xf_close_btn=null,this.min_btn_class="_xf_tab_titlebar_btn_min",this.max_btn_class="_xf_tab_titlebar_btn_max",this.close_btn_class="_xf_tab_titlebar_btn_close"},XF_TAB_TITLEBAR.prototype._prop=function(){var a;for(this.xf_prop={font:this.xf_tab_prop.titlebar_font,internal_name:this.xf_tab_prop.internal_name+"_titlebar"},a=0;a<this.xf_tab.xf_userbtn_prop_arr.length;a++)this.xf_userbtn_arr.push(new XF_TAB_USERBUTTON(this.xf_tab,this,this.xf_tab.xf_userbtn_prop_arr[a]));this._css(this.xf_prop)},XF_TAB_TITLEBAR.prototype._css=function(a){var b;_xf_htmlready_mode||(_xfx.propcss(this,a,this.css_title_arr,["font"]),b=[],b.push("width:"+_xfu.px(this.xf_tab_prop.titlebar_buttonsize)+";"),b.push("height:"+_xfu.px(this.xf_tab_prop.titlebar_buttonsize)+";"),this.button_style=b.join(""))},XF_TAB_TITLEBAR.prototype._box=function(){var a,b,c;if(!_xf_htmlready_mode){for(b=[],b.push('<div class="_xf_tab_titlebar"'),b.push(' style="'),b.push("height:"+_xfu.px(this.xf_tab_prop.titlebar_height)+";"),c=this._getcolorinfo(),b.push(_xfc.css("color",_xfu.rgbfunc(c.fore_color),!1,null)),b.push(_xfc.css("background-color",_xfu.rgbfunc(c.back_color),!1,null)),b.push(_xfc.gradient(null,this.xf_tab_prop.titlebar_gradient_effect,this.xf_tab_prop.titlebar_gradient_startcolor,this.xf_tab_prop.titlebar_gradient_endcolor)),b.push('">'),b.push('<img class="_xf_tab_titlebar_icon"'),this.xf_tab_prop.titlebar_icon.length>0&&b.push(' src="'+_xfx.imageurl(this.xf_tab_prop.titlebar_icon)+'"'),b.push(' style="'),0==this.xf_tab_prop.titlebar_icon.length&&b.push("display:none;"),b.push(_xfc.css("margin-left",_xfu.px(this.xf_tab_prop.titlebar_icon_margin[0]),!1,null)),b.push('"/>'),b.push('<span class="_xf_tab_titlebar_title _xfd_padding"'),b.push(' style="'),b.push(this.css_title_arr.join("")),b.push(_xfc.css("margin-left",_xfu.px(this.xf_tab_prop.titlebar_icon_margin[1]),!1,null)),b.push('">'),b.push(this.xf_panel.xf_item.xf_prop.titlebar_text),b.push("</span>"),b.push('<div class="_xf_tab_titlebar_btn_box">'),a=0;a<this.xf_userbtn_arr.length;a++)b.push(this.xf_userbtn_arr[a]._btnhtml());this.xf_tab_prop.titlebar_minimizebox&&b.push(this._btnhtml("min",this.min_btn_class)),this.xf_tab_prop.titlebar_maximizebox&&b.push(this._btnhtml("max",this.max_btn_class)),this.xf_tab_prop.titlebar_closebox&&b.push(this._btnhtml("close",this.close_btn_class)),b.push("</div>"),b.push("</div>")}_xf_htmlready_mode?this.xf_object=this.xf_panel.xf_object.children("._xf_tab_titlebar"):(this.xf_object=$(b.join("")),this.xf_panel.xf_object.append(this.xf_object),this.css_dom_arr=[])},XF_TAB_TITLEBAR.prototype._dom=function(){this.xf_icon=this.xf_object.children("._xf_tab_titlebar_icon"),this.xf_title=this.xf_object.children("._xf_tab_titlebar_title"),this.xf_btn_box=this.xf_object.children("._xf_tab_titlebar_btn_box"),this.xf_tab_prop.titlebar_minimizebox&&(this.xf_min_btn=this.xf_btn_box.children("._xf_tab_titlebar_btntype_min")),this.xf_tab_prop.titlebar_maximizebox&&(this.xf_max_btn=this.xf_btn_box.children("._xf_tab_titlebar_btntype_max")),this.xf_tab_prop.titlebar_closebox&&(this.xf_close_btn=this.xf_btn_box.children("._xf_tab_titlebar_btntype_close"))},XF_TAB_TITLEBAR.prototype._offdocevent=function(){$(document).off("mouseup."+this.xf_prop.internal_name),$(document).off("mousemove."+this.xf_prop.internal_name),$(document).off("mouseleave."+this.xf_prop.internal_name)},XF_TAB_TITLEBAR.prototype._docevent=function(){$(document).on("mousemove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this)),$(document).on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("mouseleave."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseleave,this))},XF_TAB_TITLEBAR.prototype._offevent=function(){this.xf_min_btn&&_xfj.offevent(this.xf_min_btn,["mousedown","click"]),this.xf_max_btn&&_xfj.offevent(this.xf_max_btn,["mousedown","click"]),this.xf_close_btn&&_xfj.offevent(this.xf_close_btn,["mousedown","click"]),_xfj.offevent(this.xf_object,["dblclick","mousedown"])},XF_TAB_TITLEBAR.prototype._event=function(){this.xf_min_btn&&(this.xf_min_btn.on("mousedown",$.proxy(this.on_button_mousedown,this)),
this.xf_min_btn.on("click",$.proxy(this.on_minbutton_click,this))),this.xf_max_btn&&(this.xf_max_btn.on("mousedown",$.proxy(this.on_button_mousedown,this)),this.xf_max_btn.on("click",$.proxy(this.on_maxbutton_click,this))),this.xf_close_btn&&(this.xf_close_btn.on("mousedown",$.proxy(this.on_button_mousedown,this)),this.xf_close_btn.on("click",$.proxy(this.on_closebutton_click,this))),this.xf_object.on("dblclick",$.proxy(this.on_titlebar_dblclick,this)),this.xf_object.on("mousedown",$.proxy(this.on_titlebar_mousedown,this))},XF_TAB_TITLEBAR.prototype._create=function(){var a;for(this._box(),this._dom(),this._event(),a=0;a<this.xf_userbtn_arr.length;a++)this.xf_userbtn_arr[a]._create()},XF_TAB_TITLEBAR.prototype._btnhtml=function(a,b){return'<button type="button" class="_xf_tab_titlebar_btn _xf_tab_titlebar_btntype_'+a+" "+b+'" style="'+this.button_style+'"/>'},XF_TAB_TITLEBAR.prototype._setvisible=function(a){a?(null==this.xf_object&&this._create(),this.is_titlebar_show||this.xf_panel.on_titlebar_show(!0)):this.is_titlebar_show&&this.xf_panel.on_titlebar_show(!1),this.is_titlebar_show=a,this.xf_object&&(a?this.xf_object.css("display","flex"):this.xf_object.hide())},XF_TAB_TITLEBAR.prototype._getcolorinfo=function(){var a,b,c;return c={fore_color:null,back_color:null},c.fore_color=this.xf_panel.xf_item.titlebar_forecolor,void 0===c.fore_color&&(c.fore_color=this.xf_tab.xf_prop.titlebar_forecolor),c.back_color=this.xf_panel.xf_item.titlebar_backcolor,void 0===c.back_color&&(c.back_color=this.xf_tab.xf_prop.titlebar_backcolor),this.xf_panel.xf_item.xf_object.hasClass("_xf_tab_item_focus")||(a=_xfu.rgb_to_hsl(c.fore_color),a[2]=Math.min(1,a[2]+.1),c.fore_color=_xfu.hsl_to_rgb(a),b=_xfu.rgb_to_hsl(c.back_color),b[2]=Math.min(1,b[2]+.1),c.back_color=_xfu.hsl_to_rgb(b)),c},XF_TAB_TITLEBAR.prototype.on_button_mousedown=function(a){return this.xf_panel.xf_item.xf_prop.enable&&this.xf_tab.settabitemfocus(this.xf_panel.xf_item.xf_prop.item_index,!0),!1},XF_TAB_TITLEBAR.prototype.on_closebutton_click=function(a){var b;a.stopPropagation(),this.xf_panel.xf_item.xf_prop.enable&&(b=factory._fireevent({xf_component:this.xf_tab,event_name:"on_titlebarbuttonclick",is_fire_async:!0,default_value:0},this.xf_tab,"close_btn"),0==b&&this.xf_tab.deletetab(this.xf_panel.xf_item.xf_prop.item_index,!1))},XF_TAB_TITLEBAR.prototype.on_minbutton_click=function(a){var b;a.stopPropagation(),this.xf_panel.xf_item.xf_prop.enable&&(b=factory._fireevent({xf_component:this.xf_tab,event_name:"on_titlebarbuttonclick",is_fire_async:!0,default_value:0},this.xf_tab,"minimize_btn"),0==b&&(this.xf_panel.current_panel_style==XF_TAB_PANEL.PS_MINIMIZED?this.xf_panel.panel_style_before_minimized==XF_TAB_PANEL.PS_MAXIMIZED?(this.xf_tab._savecurrentpanelstyle(),this.xf_tab._maximize(this.xf_panel.xf_item.xf_prop.item_index)):this.xf_panel.restore():(this.xf_panel.panel_style_before_minimized=this.xf_panel.current_panel_style,this.xf_tab._minimize(this.xf_panel.xf_item.xf_prop.item_index))))},XF_TAB_TITLEBAR.prototype.on_maxbutton_click=function(a){var b;a.stopPropagation(),this.xf_panel.xf_item.xf_prop.enable&&(b=factory._fireevent({xf_component:this.xf_tab,event_name:"on_titlebarbuttonclick",is_fire_async:!0,default_value:0},this.xf_tab,"maximize_btn"),0==b&&(this.xf_panel.current_panel_style==XF_TAB_PANEL.PS_MAXIMIZED?this.xf_tab._restore(this.xf_panel.xf_item.xf_prop.item_index,!0):(this.xf_tab._savecurrentpanelstyle(),this.xf_tab._maximize(this.xf_panel.xf_item.xf_prop.item_index))))},XF_TAB_TITLEBAR.prototype.on_titlebar_dblclick=function(a){var b;a.stopPropagation(),this.xf_panel.xf_item.xf_prop.enable&&(b=factory._fireevent({xf_component:this.xf_tab,event_name:"on_titlebardblclick",is_fire_async:!0,default_value:0},this.xf_tab),0==b&&(this.xf_panel.current_panel_style==XF_TAB_PANEL.PS_MAXIMIZED?this.xf_tab._restore(this.xf_panel.xf_item.xf_prop.item_index,!0):(this.xf_tab._savecurrentpanelstyle(),this.xf_tab._maximize(this.xf_panel.xf_item.xf_prop.item_index))))},XF_TAB_TITLEBAR.prototype.on_titlebar_mousedown=function(a){a.preventDefault(),this.xf_panel.xf_item.xf_prop.enable&&(this.xf_tab.settabitemfocus(this.xf_panel.xf_item.xf_prop.item_index,!0),this.xf_tab.is_window_mode&&(this.mousedown_x=a.screenX,this.mousedown_y=a.screenY,this.mousedown_pos=this.xf_panel.xf_object.position(),this.is_titlebar_move=!0,this.xf_tab.setprotect(!0,0,!1),this._docevent()))},XF_TAB_TITLEBAR.prototype.on_document_mouseleave=function(a){this.on_document_mouseup(a)},XF_TAB_TITLEBAR.prototype.on_document_mouseup=function(a){this.is_titlebar_move&&(this.on_document_mousemove(a),this.xf_tab.setprotect(!1,0,!1),this.xf_panel.savepanelpos(),this._offdocevent(),this.is_titlebar_move=!1)},XF_TAB_TITLEBAR.prototype.on_document_mousemove=function(a){var b,c;this.is_titlebar_move&&(b=Math.max(this.mousedown_pos.left+a.screenX-this.mousedown_x,0),c=Math.max(this.mousedown_pos.top+a.screenY-this.mousedown_y,0),b=Math.min(b,this.xf_tab.xf_panel_box.outerWidth()-this.xf_tab.xf_prop.titlebar_height),c=Math.min(c,this.xf_tab.xf_panel_box.outerHeight()-this.xf_tab.xf_prop.titlebar_height),this.xf_panel.xf_object.css({left:_xfu.px(b),top:_xfu.px(c)}))},XF_TAB_TITLEBAR.prototype.destroy=function(){},XF_TAB_TITLEBAR.prototype.settitlebaruserbtnimage=function(a,b,c,d,e,f){return a>=this.xf_userbtn_arr.length?!1:(this.xf_userbtn_arr[a].xf_prop.image=b,this.xf_userbtn_arr[a].xf_prop.imageindex_normal=c,this.xf_userbtn_arr[a].xf_prop.imageindex_down=d,this.xf_userbtn_arr[a].xf_prop.imageindex_disable=e,this.xf_userbtn_arr[a].xf_prop.imageindex_hover=f,void this.xf_userbtn_arr[a].image(c,!0,null))},XF_TAB_TITLEBAR.prototype.gettitlebaruserbtnpushstate=function(a){return this.xf_userbtn_arr[a].push_state},XF_TAB_TITLEBAR.prototype.settitlebaruserbtnpushstate=function(a,b){var c;return a>=this.xf_userbtn_arr.length?!1:(this.xf_userbtn_arr[a].push_state=b,c=b?this.xf_userbtn_arr[a].xf_prop.imageindex_down:this.xf_userbtn_arr[a].xf_prop.imageindex_normal,void this.xf_userbtn_arr[a].image(c,!0,null))},XF_TAB_TITLEBAR.prototype.showtitlebaruserbtn=function(a,b){return a>=this.xf_userbtn_arr.length?!1:(this.xf_userbtn_arr[a].xf_prop.hidden=!b,void(b?this.xf_userbtn_arr[a].xf_object.show():this.xf_userbtn_arr[a].xf_object.hide()))},XF_TAB_TITLEBAR.prototype.color=function(){var a;a=this._getcolorinfo(),this.xf_object&&(_xfc.css("color",_xfu.rgbfunc(a.fore_color),!0,this.xf_object),0==this.xf_tab.xf_prop.titlebar_gradient_effect&&_xfc.css("background-color",_xfu.rgbfunc(a.back_color),!0,this.xf_object))},XF_TAB_TITLEBAR.prototype.isshow=function(){return this.is_titlebar_show},XF_TAB_TITLEBAR.prototype.refresh=function(){switch(this.xf_panel.current_panel_style){case XF_TAB_PANEL.PS_MINIMIZED:this.min_btn_class="_xf_tab_titlebar_btn_restore",this.max_btn_class="_xf_tab_titlebar_btn_max";break;case XF_TAB_PANEL.PS_MAXIMIZED:this.min_btn_class="_xf_tab_titlebar_btn_min",this.max_btn_class="_xf_tab_titlebar_btn_restore";break;case XF_TAB_PANEL.PS_RESTORED:this.min_btn_class="_xf_tab_titlebar_btn_min",this.max_btn_class="_xf_tab_titlebar_btn_max"}if(this.xf_min_btn&&(this.xf_min_btn.removeClass("_xf_tab_titlebar_btn_min"),this.xf_min_btn.removeClass("_xf_tab_titlebar_btn_restore"),this.xf_min_btn.addClass(this.min_btn_class)),this.xf_max_btn&&(this.xf_max_btn.removeClass("_xf_tab_titlebar_btn_max"),this.xf_max_btn.removeClass("_xf_tab_titlebar_btn_restore"),this.xf_max_btn.addClass(this.max_btn_class)),this.xf_panel.current_panel_style==XF_TAB_PANEL.PS_MINIMIZED)this._setvisible(!0);else if(this.xf_panel.current_panel_style==XF_TAB_PANEL.PS_MAXIMIZED)switch(this.xf_tab_prop.titlebar_show){case 1:case 2:this._setvisible(!0);break;case 0:case 3:this._setvisible(!1)}else if(this.xf_panel.current_panel_style==XF_TAB_PANEL.PS_RESTORED)switch(this.xf_tab_prop.titlebar_show){case 0:case 1:this._setvisible(!0);break;case 2:case 3:this._setvisible(!1)}},XF_TAB_TITLEBAR.prototype.gettabitemtitlebartext=function(){return this.xf_panel.xf_item.xf_prop.titlebar_text},XF_TAB_TITLEBAR.prototype.settabitemtitlebartext=function(a){return this.xf_panel.xf_item.xf_prop.titlebar_text=a,this.xf_title&&this.xf_title.text(a),!0},XF_TAB_USERBUTTON.prototype._init=function(a,b){this.xf_tab=a,this.xf_titlebar=b,this.control_kind=XFD_CTRLKIND_TAB,this.object_kind=XFD_OBJKIND_CONTROL,this.xf_object=null,this.image_index=0,this.enable=!0,this.push_state=!1,this.css_arr=[]},XF_TAB_USERBUTTON.prototype._prop=function(a){this.xf_prop={name:"",border:1,border_color:[255,255,255],image:"",imageindex_normal:0,imageindex_down:0,imageindex_disable:0,imageindex_hover:0,tooltip:"",on_click:null,hidden:!1,index:0},this.event_name_arr=["on_click"],$.extend(this.xf_prop,a),this.image_index=this.xf_prop.imageindex_normal,this._css(a)},XF_TAB_USERBUTTON.prototype._css=function(a){_xf_htmlready_mode||_xfx.propcss(this,a,this.css_arr,["border_color","border","image"])},XF_TAB_USERBUTTON.prototype._dom=function(){this.xf_object=this.xf_titlebar.xf_btn_box.find("._xf_tab_titlebar_btn_user_"+this.xf_prop.index)},XF_TAB_USERBUTTON.prototype._offevent=function(){_xfj.offevent(this.xf_object,["click","dblclick","mousedown","mouseup","mouseenter","mouseleave"])},XF_TAB_USERBUTTON.prototype._event=function(){this.xf_object.on("click",$.proxy(this.on_object_click,this)),this.xf_object.on("dblclick",$.proxy(this.on_object_dblclick,this)),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("mouseup",$.proxy(this.on_object_mouseup,this)),this.xf_object.on("mouseenter",$.proxy(this.on_object_mouseenter,this)),this.xf_object.on("mouseleave",$.proxy(this.on_object_mouseleave,this))},XF_TAB_USERBUTTON.prototype._create=function(){this._dom(),this._event()},XF_TAB_USERBUTTON.prototype.destroy=function(a){this.xf_object&&(this._offevent(),this.xf_object.remove())},XF_TAB_USERBUTTON.prototype._btnhtml=function(){var a;return a=[],a.push("<button"),a.push(' class=" _xf_tab_titlebar_btn _xf_tab_titlebar_btn_user_'+this.xf_prop.index+'"'),a.push(' title="'+_xfu.quot(this.xf_prop.tooltip)+'"'),a.push(' style="'),a.push(this.css_arr.join("")),a.push(this.image(this.image_index,!1,a)),a.push(this.xf_titlebar.button_style),a.push('">'),a.push("</button>"),a.join("")},XF_TAB_USERBUTTON.prototype._eventimage=function(a){return this.enable&&this.xf_titlebar.xf_panel.xf_item.xf_prop.enable?(this.image(a,!0,null),!0):!1},XF_TAB_USERBUTTON.prototype.on_object_mousedown=function(a){return this._eventimage(this.xf_prop.imageindex_down)&&this.xf_tab.settabitemfocus(this.xf_titlebar.xf_panel.xf_item.xf_prop.item_index,!0),!1},XF_TAB_USERBUTTON.prototype.on_object_mouseup=function(a){this._eventimage(this.xf_prop.imageindex_hover),a.stopPropagation()},XF_TAB_USERBUTTON.prototype.on_object_mouseenter=function(a){this._eventimage(this.xf_prop.imageindex_hover),a.stopPropagation()},XF_TAB_USERBUTTON.prototype.on_object_mouseleave=function(a){this._eventimage(this.xf_prop.imageindex_normal),a.stopPropagation()},XF_TAB_USERBUTTON.prototype.on_object_click=function(a){this.enable&&this.xf_titlebar.xf_panel.xf_item.xf_prop.enable&&factory._fireevent({xf_component:this.xf_tab,event_name:"on_click",is_fire_async:!0,xf_prop:this.xf_prop},this.xf_tab,this.xf_prop.index,this.xf_prop.name),a.stopPropagation()},XF_TAB_USERBUTTON.prototype.on_object_dblclick=function(a){return!1},XF_TAB_USERBUTTON.prototype.image=function(a,b,c){var d,e;this.image_index=a,this.xf_object&&0!=this.xf_prop.image.length&&(d=this.xf_tab.xf_prop.titlebar_buttonsize,1==this.xf_prop.border&&(d-=2),e=d*a*-1,b?this.xf_object.css("background-position",e+"px center"):c.push("background-position:"+e+"px center;"))};