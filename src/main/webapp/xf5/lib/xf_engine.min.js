/* 2020-10-30 18:04 */ function _xfl_extendlib(a){var b,c,d,e;if(void 0===_xf_param.ENGINEMODE&&(_xf_param.ENGINEMODE=_XFD_ENGINEMODE_RELEASE),void 0===_xf_used_lib[a]){if(_xf_param.ENGINEMODE!==_XFD_ENGINEMODE_DEVELOP){for(d=!1,c=_xf_engine_lib_name_arr.length,b=0;c>b;b++)if(a==_xf_engine_lib_name_arr[b]){d=!0;break}0==d&&(void 0!==factory&&void 0!==factory.xf_main_factory.lib_src_map[a]?$.globalEval(factory.xf_main_factory.lib_src_map[a]):(e=_xf_param.ENGINEMODE==_XFD_ENGINEMODE_DEBUG?_xf_param.ENGINEURL+"/lib/"+a.toLowerCase()+".js":_xf_param.ENGINEURL+"/lib/"+a.toLowerCase()+".min.js",e=_xfl_httpcacheurl(e),$.ajax({url:e,method:"GET",async:!1,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load library javascript file",url:e,jqxhr:a,status:b,error:c,alert:!0})},success:function(b,c,d){$.globalEval(b),void 0!==factory&&(factory.xf_main_factory.lib_src_map[a]=b)}})))}_xfl_extendlib_module(a)}}function _xfl_extendlib_module(a){switch(a){case"XF_FIELD":case"XF_HANGUL":case"XF_NUMBER":case"XF_PASSWORD":case"XF_MULTILINE":case"XF_COMBOBOX":case"XF_POPFIELD":case"XF_COLOR":case"XF_CHECKBOX":case"XF_RADIO":case"XF_CALENDAR":case"XF_DATE":case"XF_SELECTBOX":case"XF_SPINNUMBER":case"XF_TOGGLE":case"XF_RATINGBAR":_xfu.extend(window[a].prototype,XF_API.prototype,!1),_xfu.extend(window[a].prototype,XF_API_INPUT.prototype,!1);break;case"XF_PANEL":case"XF_TAB":case"XF_MENUBTN":case"XF_ROWBOX":case"XF_LISTVIEW":case"XF_TABLEVIEW":case"XF_SLIDE":_xfu.extend(window[a].prototype,XF_API.prototype,!1),_xfu.extend(window[a].prototype,XF_API_CONTAINER.prototype,!1);break;default:_xfu.extend(window[a].prototype,XF_API.prototype,!1)}_xf_used_lib[a]=a}function _xfl_initlib(){var a,b;for(b=_xf_engine_lib_name_arr.length,a=0;b>a;a++)_xfl_extendlib_module(_xf_engine_lib_name_arr[a])}function _xfl_getscreenloadinfo(){var a,b,c,d,e;if(e={screen_url:_xf_param.MAINFRAMESCREEN,language:_xf_param.USER_LANGUAGE,country:_xf_param.USER_COUNTRY,console:_xf_param.SHOW_CONSOLETRACE,event:_xf_param.CONSOLETRACE_SHOWEVENT,param:_xf_param.CONSOLETRACE_SHOWEVENTPARAM,prototype_mode:!1},void 0===e.screen_url&&(e.screen_url=""),a=window.location.search.substr(1),a=decodeURI(a),0===a.length)return e;for(c=a.split("&"),b=0;b<c.length;b++)if(d=c[b].split("="),1==d.length&&(window.xframe_popup_key=d[0],null!=window.opener&&void 0!==window.opener.factory)){a=window.opener.factory.xf_main_factory.popup_param[window.xframe_popup_key];break}for(c=a.split("&"),b=0;b<c.length;b++)d=c[b].split("="),2==d.length&&("xframe_screen_url"==d[0]?e.screen_url=d[1]:"xframe_language"==d[0]?e.language=d[1]:"xframe_country"==d[0]?e.country=d[1]:"xframe_screen_title"==d[0]?d[1].length>0&&(document.title=d[1]):"xframe_screen_kind"==d[0]?window.xframe_screen_kind=_xfu["int"](d[1]):"xframe_console"==d[0]?"1"==d[1]?e.console=!0:"0"==d[1]&&(e.console=!1):"xframe_event"==d[0]?"1"==d[1]?e.event=!0:"0"==d[1]&&(e.event=!1):"xframe_param"==d[0]?"1"==d[1]?e.param=!0:"0"==d[1]&&(e.param=!1):"xframe_prototype_mode"==d[0]?"1"==d[1]?e.prototype_mode=!0:"0"==d[1]&&(e.prototype_mode=!1):"xframe_screen_zoom"==d[0]?d[1].length>0&&(document.body.style.zoom=d[1]+"%"):"xframe_popup_name"==d[0]?window.xframe_popup_name=decodeURIComponent(d[1]):"xframe_screen_key"==d[0]&&(window.xframe_screen_key=d[1]));return e}function _xfl_httpcacheurl(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;return 0==_xf_param.USE_CACHE||void 0===_xf_param.CACHE_TYPE||0==_xf_param.CACHE_TYPE?a:(b={result:0,error_code:0,error_message:"",file_size:0,last_modify_datetime:""},c=encodeURI(a),$.ajax({url:c,method:"HEAD",async:!1,dataType:"text",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},error:function(c,d,e){b.result=0,b.error_code=c.status,b.error_message="("+c.readyState+") "+e,_xfu.ajaxerror({message:"Fail to check file",url:a,jqxhr:c,status:d,error:e,alert:!1})},success:function(a,c,o){b.result=1,e=o.getResponseHeader("content-length"),null!=e&&e.length>0&&(b.file_size=_xfu["int"](e),isNaN(b.file_size)&&(b.file_size=0)),d=o.getResponseHeader("last-modified"),null!=d&&d.length>0&&(f=d.split(" "),g=f[3],h="Jan"==f[2]?"01":"Feb"==f[2]?"02":"Mar"==f[2]?"03":"Apr"==f[2]?"04":"May"==f[2]?"05":"Jun"==f[2]?"06":"Jul"==f[2]?"07":"Aug"==f[2]?"08":"Sep"==f[2]?"09":"Oct"==f[2]?"10":"Nov"==f[2]?"11":"Dec"==f[2]?"12":"00",i=f[1],j=f[4].substr(0,2),k=f[4].substr(3,2),l=f[4].substr(6,2),m=new Date(_xfu["int"](g),_xfu["int"](h)-1,_xfu["int"](i),_xfu["int"](j),_xfu["int"](k),_xfu["int"](l)),n=m.getTimezoneOffset(),m.setMinutes(_xfu["int"](k)+-1*n),b.last_modify_datetime=_xfp.date(m,"yyyymmdd")+_xfp.time(m,"HHmmss"))}}),1!=b.result?a:a=a+"?_="+b.last_modify_datetime.substring(0,12))}function _xfl_loadscreen(a,b,c){var d,e,f,g,h;return b?(_xf_htmlready_mode=!1,_xf_prototype_mode=!0):1==_xf_param.HTML_READY_MODE&&(_xf_htmlready_mode=!0),c&&$("#_xf_loader_box").hide(),_xf_htmlready_mode?_xfl_loadscreenex(a):(d=_xf_param.SCREENBASEURL+a+".xml",e=_xf_param.SCREENBASEURL+a+".js",d=_xfl_httpcacheurl(d),e=_xfl_httpcacheurl(e),null!=_xf_screen&&(_xf_screen.destroy(),_xf_screen=null),$("._xf_screen").remove(),void(_xf_screen_script_jqxhr=$.ajax({url:e,method:"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load screen javascript file",url:e,jqxhr:a,status:b,error:c,alert:!1})},success:function(a,b,c){},complete:function(a,b){$.ajax({url:d,method:_xf_param.USE_XPLUSSCREENSVR?"XF5_GET":"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load screen xml file",url:d,jqxhr:a,status:b,error:c,alert:!0}),_xfl_process_failure()},success:function(a,b,c){try{if(f=$.parseXML(a),g=$(f).find("map"),1!=g.length)return void alert("Invalid XML Document");h=_node2map(g[0]),_xfu.extend(XF_SCREEN.prototype,XF_API_CONTAINER.prototype,!1),_xf_screen=new XF_SCREEN(h,h.screen)}catch(d){alert(d.message),_xfl_process_failure()}}})}})))}function _xfl_loadscreenex(a){var b,c,d,e,f,g;e=_xf_param.SCREENBASEURL+a+".xml",f=_xf_param.SCREENBASEURL+a+".js",g=_xf_param.SCREENBASEURL+a+".html",e=_xfl_httpcacheurl(e),f=_xfl_httpcacheurl(f),g=_xfl_httpcacheurl(g),null!=_xf_screen&&(_xf_screen.destroy(),_xf_screen=null),$("._xf_screen").remove(),$.ajax({url:g,method:"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xf_htmlready_mode=!1,_xfu.ajaxerror({message:"Fail to load screen html javascript file",url:g,jqxhr:a,status:b,error:c,alert:!1})},success:function(a,b,c){document.title=document.title+="(HTMLREADY)",_xf_screen_innerhtml=a},complete:function(a,g){_xf_screen_script_jqxhr=$.ajax({url:f,method:_xf_param.USE_XPLUSSCREENSVR?"XF5_GET":"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load screen javascript file",url:f,jqxhr:a,status:b,error:c,alert:!1})},success:function(a,b,c){},complete:function(a,f){$.ajax({url:e,method:"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load screen xml file",url:e,jqxhr:a,status:b,error:c,alert:!0}),_xfl_process_failure()},success:function(a,e,f){try{if(b=$.parseXML(a),c=$(b).find("map"),1!=c.length)return void alert("Invalid XML Document");d=_node2map(c[0]),_xfu.extend(XF_SCREEN.prototype,XF_API_CONTAINER.prototype,!1),_xf_screen=new XF_SCREEN(d,d.screen)}catch(g){alert(g.message),_xfl_process_failure()}}})}})}})}function _xfl_loadscreenbytype(a,b,c,d,e,f){var g,h,i,j,k,l;j=_xf_param.SCREENBASEURL+a+".xml",k=_xf_param.SCREENBASEURL+a+".js",j=_xfl_httpcacheurl(j),k=_xfl_httpcacheurl(k),d.xf_object.empty(),$.ajax({url:k,method:"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load library screen javascript file",url:k,jqxhr:a,status:b,error:c,alert:!1})},success:function(a,b,c){$.globalEval(a)},complete:function(k,m){$.ajax({url:j,method:_xf_param.USE_XPLUSSCREENSVR?"XF5_GET":"GET",async:!0,dataType:"text",cache:void 0===_xf_param.USE_CACHE?!1:_xf_param.USE_CACHE,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to load library screen xml file",url:j,jqxhr:a,status:b,error:c,alert:!0}),_xfl_process_failure()},success:function(j,k,m){try{if(g=$.parseXML(j),h=$(g).find("map"),1!=h.length)return void alert("Invalid XML Document");if(i=_node2map(h[0]),e==_XFD_SCREENTYPE_PORTLET||e==_XFD_SCREENTYPE_PORTLETMENU){var n=a.substr(1);n=n.replace(/\//g,"_"),void 0!==f&&0!=f.length||(f=n+"_"+_xfu.uuid()),d.xf_execution_context[f]=new window[n],_xfu.extend(XF_SCREEN_PORTLET.prototype,XF_SCREEN.prototype,!1),i.screen.screen_type=e,i.screen.portlet_name=f;var o=new XF_SCREEN_PORTLET(i,i.screen,d,d.xf_execution_context[f],c);d.xf_execution_context=d.xf_execution_context[f],d.xf_execution_context.screen=o,d.xf_execution_context.xf_portlet=o,_xfl_createscreen(o,i,b,o.xf_content,_XFD_CREATEMODE_PORTLET),o._create()}else e==_XFD_SCREENTYPE_CONTENT&&(i.screen.screen_type=_XFD_SCREENTYPE_CONTENT,l=new XF_SCREEN_CONTENT({xf_screen:xf_screen,xf_component:b,xf_content:d},i.screen),l._create(c),_xf_screen.is_onload_register_complete=!1,_xfl_createscreen(_xf_screen,i,b,d,_XFD_CREATEMODE_CONTENT))}catch(p){alert(p.message),_xfl_process_failure()}}})}})}function _xfl_screenready(){_xf_screen_innerhtml.length>0?(_xf_screen.xf_object[0].innerHTML=_xf_screen_innerhtml,_xfu.async({func:_xfl_screenready_callback,context:window})):_xfl_screenready_callback()}function _xfl_screenready_callback(){_xf_screen._globalready&&_xf_screen._globalready(),_xfl_createscreen(_xf_screen,_xf_screen.xf_map,null,_xf_screen.xf_content,_XFD_CREATEMODE_STATIC)}function _xfl_createscreen(a,b,c,d,e){if(null!=_xf_screen_script_jqxhr&&200==_xf_screen_script_jqxhr.status){try{$.globalEval(_xf_screen_script_jqxhr.responseText)}catch(f){alert(f.message)}_xf_screen_script_jqxhr=null}a._fireoncreate(),e!=_XFD_CREATEMODE_PORTLET&&_xfl_link(a,b),_xfl_taborder(a,b,d),_xfl_xdataset(a,b,d,e),_xfl_xlinktranmap(a,b,d,e),_xfl_tranmap(a,b,e),_xfl_attrmap(a,b,e),_xfl_traniomap(a,b,e),_xfl_component(a,b,c,d,e),e!=_XFD_CREATEMODE_STATIC&&e!=_XFD_CREATEMODE_CONTENT||(_xfx.register_component_arr(d),a._create()),_xf_htmlready_mode=!1,_xf_screen_innerhtml=""}function _xfl_meta(a,b){return 0==factory.xf_param.META_RESOURCE_URL.length||factory.xf_param.SCREEN_LANGUAGE==factory.xf_param.USER_LANGUAGE?b:factory.metadataget(a,b)}function _xfl_taborder(a,b,c){c.settaborder(b.tab_order)}function _xfl_xdataset(a,b,c,d){var e,f,g;if(b.xlinkdataset)for(e=_xfu.array(b.xlinkdataset),f=e.length,g=0;f>g;g++)d&&(e[g].create_mode=d),new XF_XDATASET({xf_screen:a,xf_component:null,xf_content:c},e[g])}function _xfl_link(a,b){var c,d,e,f;if(b.link)for(c=_xfu.array(b.link),d=c.length,e=0;d>e;e++)f=new XF_LINK({xf_screen:a,xf_component:null,xf_object:null},c[e])}function _xfl_attrmap(a,b){var c,d,e,f;if(b.attrimap)for(c=_xfu.array(b.attrimap),d=c.length,e=0;d>e;e++)f=new XF_SCREEN_ATTRMAP({xf_screen:a,xf_component:null,xf_object:null},c[e])}function _xfl_tranmap(a,b){var c,d,e,f;if(b.tranmap)for(c=_xfu.array(b.tranmap),d=c.length,e=0;d>e;e++)f=new XF_SCREEN_TRANMAP({xf_screen:a,xf_component:null,xf_object:null},c[e])}function _xfl_xlinktranmap(a,b,c,d){var e,f,g,h,i,j,k,l;if(b.xlinktranmap)for(e=_xfu.array(b.xlinktranmap),f=e.length,j=0;f>j;j++)if(g=_node2prop(e[j]),d&&(g.create_mode=d),l=a._getxtranmap(g.id),null===l)for(l=new XF_SCREEN_XTRANMAP({xf_screen:a,xf_component:null,xf_content:c},g),h=_node2map(e[j]),h=h.controls,i=h.length,k=0;i>k;k++)l._addxtds(_node2prop(h[k]))}function _xfl_traniomap(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(b.traniomap)for(e=_xfu.array(b.traniomap),f=e.length,h=0;f>h;h++)if(g=_node2prop(e[h]),d&&(g.create_mode=d),i=a._gettraniomap(g.id),null===i){for(i=new XF_SCREEN_TRANIOMAP({xf_screen:a,xf_component:null,xf_content:c},g),j=_node2map(e[h]),p=_node2map(j.input),p=p.controls,q=p.length,k=0;q>k;k++)for(i._addinputitem(_node2prop(p[k])),r=_node2map(p[k]),r=r.controls,s=r.length,l=0;s>l;l++)i._addinputsubitem(k,_node2prop(r[l]));if(_xf_param.TRANIOMAP_OUTPUT_DEVICEMODE===!1)for(p=_node2map(j.output),p=p.controls,q=p.length,k=0;q>k;k++)for(i._addoutputitem(_node2prop(p[k]),-1),r=_node2map(p[k]),r=r.controls,s=r.length,l=0;s>l;l++)i._addoutputsubitem(k,_node2prop(r[l]),-1);else for(p=_node2map(j.output),m=p.controls,n=m.length,o=0;n>o;o++)for(i._addoutputdevice(_node2prop(m[o])),p=_node2map(m[o]),p=p.controls,q=p.length,k=0;q>k;k++)for(i._addoutputitem(_node2prop(p[k]),o),r=_node2map(p[k]),r=r.controls,s=r.length,l=0;s>l;l++)i._addoutputsubitem(k,_node2prop(r[l]),o)}}function _node2prop(a){var b={};return void 0!=a&&$.each(a.attributes,function(a,c){b[c.name]=c.value}),b}function _node2map(a){var b=$(a),c={controls:[],tab_item:[],column:[]};return $.each(b.children(),function(a,b){switch(b.nodeName){case"screen":case"tab_order":case"headermegeinfo":case"data":c[b.nodeName]=_node2prop(b);break;case"header":case"link":case"tranmap":case"attrimap":case"xlinkdataset":void 0===c[b.nodeName]&&(c[b.nodeName]=[]),c[b.nodeName].push(_node2prop(b));break;case"xlinktranmap":case"traniomap":case"input":case"output":case"tab_item":case"rowbox_item":case"column":case"cell":case"menubutton_box":case"slide_item":void 0==c[b.nodeName]&&(c[b.nodeName]=[]),c[b.nodeName].push(b);break;default:c.controls.push(b)}}),c}function _xfl_component(a,b,c,d,e,f){var g,h;void 0===f&&(f=!1),void 0!==_xf_param.SHAPE_IS_COMPONENT&&0!=_xf_param.SHAPE_IS_COMPONENT||$.each(b.controls,function(b,i){switch(g=i.nodeName,h=_node2prop(i),void 0!==e&&(h.create_mode=e),f&&(h.hidden="1",h.in_hidden_area="1"),g){case"line":case"rectangle":case"triangle":case"roundrect":case"diamond":case"ellipse":case"caption":case"imagebox":"object"==typeof h&&_xfl_createcomponent(a,g,h,c,d)}}),$.each(b.controls,function(b,i){switch(g=i.nodeName,h=_node2prop(i),void 0!==e&&(h.create_mode=e),f&&(h.hidden="1",h.in_hidden_area="1"),g){case"panel":_xfl_panel(a,i,h,c,d,e);break;case"grid":_xfl_grid(a,i,h,c,d,XFD_CTRLKIND_GRID);break;case"treegrid":_xfl_grid(a,i,h,c,d,XFD_CTRLKIND_TREEGRID);break;case"multilinegrid":_xfl_grid(a,i,h,c,d,XFD_CTRLKIND_MULTILINEGRID);break;case"tab":_xfl_tab(a,i,h,c,d,e);break;case"rowbox":_xfl_rowbox(a,i,h,c,d,e);break;case"slide":case"slideview":_xfl_slide(a,i,h,c,d,e);break;case"listview":_xfl_listview(a,i,h,c,d,e);break;case"tableview":_xfl_tableview(a,i,h,c,d,e);break;case"accordion":_xfl_accordion(a,h,c,d,e);break;case"stepbar":_xfl_stepbar(a,h,c,d,e);break;case"table":_xfl_table(a,i,h,c,d,e);break;case"menubutton":_xfl_menubutton(a,i,h,c,d,e);break;case"line":case"rectangle":case"triangle":case"roundrect":case"diamond":case"ellipse":case"caption":case"imagebox":void 0!==_xf_param.SHAPE_IS_COMPONENT&&1==_xf_param.SHAPE_IS_COMPONENT&&"object"==typeof h&&_xfl_createcomponent(a,g,h,c,d);break;case"hidden_screen":_xfl_hidden_screen(a,i,h,c,d,e);break;default:"object"==typeof h&&_xfl_createcomponent(a,g,h,c,d)}})}function _xfl_createcomponent(a,b,c,d,e){var f,g,h,i;for(g=_xfu.array(c),h=g.length,i={xf_screen:a,xf_component:d,xf_content:e},f=0;h>f;f++)if("1"!==g[f].designtime_only)switch(b){case"normal_field":_xfl_extendlib("XF_FIELD"),new XF_FIELD(i,g[f]);break;case"numericex_field":_xfl_extendlib("XF_NUMBER"),new XF_NUMBER(i,g[f]);break;case"hangul_field":_xfl_extendlib("XF_HANGUL"),new XF_HANGUL(i,g[f]);break;case"password":_xfl_extendlib("XF_PASSWORD"),new XF_PASSWORD(i,g[f]);break;case"date":case"datepicker":_xfl_extendlib("XF_DATE"),new XF_DATE(i,g[f]);break;case"pagingbar":_xfl_extendlib("XF_PAGINGBAR"),new XF_PAGINGBAR(i,g[f]);break;case"progressbar":_xfl_extendlib("XF_PROGRESSBAR"),new XF_PROGRESSBAR(i,g[f]);break;case"combobox":_xfl_extendlib("XF_COMBOBOX"),new XF_COMBOBOX(i,g[f]);break;case"colorpicker":_xfl_extendlib("XF_COLOR"),new XF_COLOR(i,g[f]);break;case"combobtn":_xfl_extendlib("XF_COMBOBTN"),new XF_COMBOBTN(i,g[f]);break;case"multiline":_xfl_extendlib("XF_MULTILINE"),new XF_MULTILINE(i,g[f]);break;case"timer":_xfl_extendlib("XF_TIMER"),new XF_TIMER(i,g[f]);break;case"radiobutton":_xfl_extendlib("XF_RADIO"),factory._callbackmetadata(g[f].meta_id,g[f].text,a.getscreenurl(),a.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_RADIOBUTTON,g[f]),new XF_RADIO(i,g[f]);break;case"checkbox":_xfl_extendlib("XF_CHECKBOX"),factory._callbackmetadata(g[f].meta_id,g[f].text,a.getscreenurl(),a.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_CHECKBOX,g[f]),new XF_CHECKBOX(i,g[f]);break;case"tree":_xfl_extendlib("XF_TREE"),new XF_TREE(i,g[f]);break;case"webbrowser":_xfl_extendlib("XF_WEBBROWSER"),new XF_WEBBROWSER(i,g[f]);break;case"ellipse":_xfl_extendlib("XF_RECTANGLE"),g[f].shape_kind=XFD_SHAPEKIND_ELLIPSE,new XF_RECTANGLE(i,g[f]);break;case"roundrect":_xfl_extendlib("XF_RECTANGLE"),g[f].shape_kind=XFD_SHAPEKIND_ROUNDRECT,new XF_RECTANGLE(i,g[f]);break;case"rectangle":_xfl_extendlib("XF_RECTANGLE"),new XF_RECTANGLE(i,g[f]);break;case"triangle":_xfl_extendlib("XF_DIAMOND"),g[f].shape_kind=XFD_SHAPEKIND_TRIANGLE,new XF_DIAMOND(i,g[f]);break;case"diamond":_xfl_extendlib("XF_DIAMOND"),new XF_DIAMOND(i,g[f]);break;case"line":_xfl_extendlib("XF_LINE"),new XF_LINE(i,g[f]);break;case"statusbar":_xfl_extendlib("XF_STATUSBAR"),new XF_STATUSBAR(i,g[f]);break;case"caption":_xfl_extendlib("XF_TEXT"),factory._callbackmetadata(g[f].meta_id,g[f].text,a.getscreenurl(),a.getscreenid(),XFD_OBJKIND_SHAPE,XFD_SHAPEKIND_CAPTION,g[f]),g[f].object_kind=XFD_OBJKIND_SHAPE,new XF_TEXT(i,g[f]);break;case"text":_xfl_extendlib("XF_TEXT"),factory._callbackmetadata(g[f].meta_id,g[f].text,a.getscreenurl(),a.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_HYPERTEXT,g[f]),new XF_TEXT(i,g[f]);break;case"pushbutton":_xfl_extendlib("XF_BUTTON"),factory._callbackmetadata(g[f].meta_id,g[f].text,a.getscreenurl(),a.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_PUSHBUTTON,g[f]),new XF_BUTTON(i,g[f]);break;case"password_field":_xfl_extendlib("XF_PASSWORD"),new XF_PASSWORD(i,g[f]);break;case"image":_xfl_extendlib("XF_IMAGE"),new XF_IMAGE(i,g[f]);break;case"imagebox":_xfl_extendlib("XF_IMAGE"),g[f].object_kind=XFD_OBJKIND_SHAPE,new XF_IMAGE(i,g[f]);break;case"activex":_xfl_extendlib("XF_ACTIVEX");try{new XF_ACTIVEX(i,g[f])}catch(j){}break;case"mapview":_xfl_extendlib("XF_MAPVIEW"),new XF_MAPVIEW(i,g[f]);break;case"calendar":_xfl_extendlib("XF_CALENDAR"),new XF_CALENDAR(i,g[f]);break;case"schedule":_xfl_extendlib("XF_SCHEDULE"),new XF_SCHEDULE(i,g[f]);break;case"selectbox":_xfl_extendlib("XF_SELECTBOX"),new XF_SELECTBOX(i,g[f]);break;case"menubutton":_xfl_extendlib("XF_MENUBTN"),new XF_MENUBTN(i,g[f]);break;case"menubox":_xfl_extendlib("XF_MENUBTN_BOX"),new XF_MENUBTN_BOX(i,g[f]);break;case"video":_xfl_extendlib("XF_VIDEO"),new XF_VIDEO(i,g[f]);break;case"audio":_xfl_extendlib("XF_AUDIO"),new XF_AUDIO(i,g[f]);break;case"spin_number":_xfl_extendlib("XF_SPINNUMBER"),new XF_SPINNUMBER(i,g[f]);break;case"filebox":_xfl_extendlib("XF_FILEBOX"),new XF_FILEBOX(i,g[f]);break;case"downloader":_xfl_extendlib("XF_DOWNLOADER"),new XF_DOWNLOADER(i,g[f]);break;case"uploader":_xfl_extendlib("XF_UPLOADER"),new XF_UPLOADER(i,g[f]);break;case"slider":_xfl_extendlib("XF_SLIDER"),new XF_SLIDER(i,g[f]);break;case"slideview":_xfl_extendlib("XF_SLIDE"),new XF_SLIDE(i,g[f]);break;case"ratingbar":_xfl_extendlib("XF_RATINGBAR"),new XF_RATINGBAR(i,g[f]);break;case"togglebutton":_xfl_extendlib("XF_TOGGLE"),new XF_TOGGLE(i,g[f]);break;case"div":_xfl_extendlib("XF_DIV"),new XF_DIV(i,g[f]);break;case"htmleditor":_xfl_extendlib("XF_HTMLEDITOR"),new XF_HTMLEDITOR(i,g[f]);break;case"pushbutton2":_xfl_extendlib("XF_PUSHBUTTON"),new XF_PUSHBUTTON(i,g[f]);break;case"switchbutton":_xfl_extendlib("XF_SWITCHBUTTON"),new XF_SWITCHBUTTON(i,g[f]);break;case"splitter":_xfl_extendlib("XF_SPLITTER"),new XF_SPLITTER(i,g[f]);break;case"webfilemanager":_xfl_extendlib("XF_WEBFILEMANAGER"),new XF_WEBFILEMANAGER(i,g[f]);break;case"p":_xfl_extendlib("XF_P"),new XF_P(i,g[f]);break;case"websocket":_xfl_extendlib("XF_WEBSOCKET"),new XF_WEBSOCKET(i,g[f]);break;case"mobile":_xfl_extendlib("XF_MOBILE"),new XF_MOBILE(i,g[f]);break;case"navibar":_xfl_extendlib("XF_NAVIBAR"),new XF_NAVIBAR(i,g[f]);break;case"file":_xfl_extendlib("XF_FILE"),new XF_FILE(i,g[f]);break;case"canvas":_xfl_extendlib("XF_CANVAS"),new XF_CANVAS(i,g[f])}}function _xfl_grid(a,b,c,d,e,f){var g,h;h=_node2map(b),c.headermegeinfo=h.headermegeinfo.info,c.control_kind=f,_xfl_extendlib("XF_GRID"),factory._callbackmetadata(c.meta_id,"",a.getscreenurl(),a.getscreenid(),XFD_OBJKIND_CONTROL,c.control_kind,c),g=new XF_GRID({xf_screen:a,xf_component:d,xf_content:e},c),g.create_child_node_map=$.extend(!0,{},h),void 0!==h.column&&h.column.length>0&&_xfl_gridcolumn(h.column,g)}function _xfl_gridcolumn(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(j=a.length,c=b.control_kind==XFD_CTRLKIND_MULTILINEGRID?j/b.xf_prop.header_horzcount:j,i=0;j>i;i++)d=i%c,k=a[i],l=_node2prop(k),m=_node2map(k),void 0===l.row&&(l.row="0"),l.row=_xfu["int"](l.row),e=0===l.row?new XF_GRID_COLUMN(b,d):b._getcolumn(d),f=m.data,factory._callbackmetadata(f.meta_id,"",b.xf_parent.xf_screen.getscreenurl(),b.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_GRIDCOLUMNDATA,f),g=new XF_GRID_COLUMN_DATA(b,e,d,f),h=g.xf_column_data_prop.width,e.width=h,void 0!==m.header&&m.header.length>0&&_xfl_gridcolumnheader(m.header,b,e,d,h)}function _xfl_gridcolumnheader(a,b,c,d,e){var f,g,h;for(f=a.length,g=0;f>g;g++)h=a[g],factory._callbackmetadata(h.meta_id,h.title,b.xf_parent.xf_screen.getscreenurl(),b.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_GRIDCOLUMNHEAD,h),new XF_GRID_COLUMN_HEAD(b,c,d,e,h)}function _xfl_slide(a,b,c,d,e,f){var g,h;_xfl_extendlib("XF_SLIDE"),g=new XF_SLIDE({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),void 0!=h.slide_item&&h.slide_item.length>0&&_xfl_slideitem(a,h.slide_item,g,f)}function _xfl_slideitem(a,b,c,d){var e,f,g,h,i,j,k;for(g=_xfu.array(b),f=g.length,e=0;f>e;e++)h=_node2map(g[e]),i=_node2prop(g[e]),j=c._additem(i,!1),k=c._getitemcontent(j),k.settaborder(h.tab_order),_xfl_component(a,h,c,k,d),_xfx.register_component_arr(k)}function _xfl_accordion(a,b,c,d){var e,f,g,h;for(e=_xfu.array(b),f=e.length,h=0;f>h;h++)_xfl_extendlib("XF_ACCORDION"),g=new XF_ACCORDION({xf_screen:a,xf_component:c,xf_object:d},e[h]),e[h].accordion_item&&_xfl_accordion_item(a,e[h].accordion_item,g)}function _xfl_accordion_item(a,b,c){var d,e,f,g;for(d=_xfu.array(b),e=d.length,f=0;e>f;f++)g=c._additem(d[f]),_xfl_component(a,d[f],c,c._get_content_object(g)),_xfx.register_component_arr()}function _xfl_stepbar(a,b,c,d){var e,f,g,h,i;for(e=_xfu.array(b),f=e.length,h=0;f>h;h++)for(_xfl_extendlib("XF_STEPBAR"),g=new XF_STEPBAR({xf_screen:a,xf_component:c,xf_object:d},e[h]),i=0;i<e[h].step.length;i++)g._addstep(e[h].step[i])}function _xfl_table(a,b,c,d,e,f){var g,h,i;if(_xfl_extendlib("XF_TABLE"),g=new XF_TABLE({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),h.cell)for(i=0;i<h.cell.length;i++)g._addcell(_node2prop(h.cell[i]))}function _xfl_tab(a,b,c,d,e,f){var g,h;_xfl_extendlib("XF_TAB"),g=new XF_TAB({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),h.tab_item.length>0&&_xfl_tabitem(a,h.tab_item,g,f)}function _xfl_tabitem(a,b,c,d){var e,f,g,h,i,j,k,l;for(e=_xfu.array(b),f=e.length,i=!0,g=0;f>g;g++)j=_node2map(e[g]),k=_node2prop(e[g]),factory._callbackmetadata(k.meta_id,k.title,c.xf_parent.xf_screen.getscreenurl(),c.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_TABITEM,k),!k.item_hidden&&i?(i=!1,h=c._addtab(k,!0,!1,!1)):h=c._addtab(k,!1,!1,!1),l=c._getpanelcontent(h),l.settaborder(j.tab_order),_xfl_component(a,j,c,l,d),_xfx.register_component_arr(l),c._postprocess_for_addtab(k,!1,!0,!1)}function _xfl_rowbox(a,b,c,d,e,f){var g,h;_xfl_extendlib("XF_ROWBOX"),g=new XF_ROWBOX({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),h.rowbox_item.length>0&&_xfl_rowboxitem(a,h.rowbox_item,g,f)}function _xfl_rowboxitem(a,b,c,d){var e,f,g,h,i,j;for(g=_xfu.array(b),f=g.length,e=0;f>e;e++)h=_node2prop(g[e]),i=new XF_ROWBOX_ITEM({xf_screen:a,xf_component:c,xf_content:c},h),j=_node2map(g[e]),_xfl_component(a,j,c,i.xf_content,d),_xfx.register_component_arr(i.xf_content)}function _xfl_hidden_screen(a,b,c,d,e,f){var g=_node2map(b);_xfl_component(a,g,d,e,f,!0)}function _xfl_panel(a,b,c,d,e,f){var g,h;_xfl_extendlib("XF_PANEL"),g=new XF_PANEL({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),g.xf_content.settaborder(h.tab_order),_xfl_component(a,h,g,g.xf_content,f),_xfx.register_component_arr(g.xf_content)}function _xfl_listview(a,b,c,d,e,f){var g,h;_xfl_extendlib("XF_LISTVIEW"),g=new XF_LISTVIEW({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),_xfl_component(a,h,g,g.xf_content,f),g._after_set_item()}function _xfl_tableview(a,b,c,d,e,f){var g,h;_xfl_extendlib("XF_TABLEVIEW"),g=new XF_TABLEVIEW({xf_screen:a,xf_component:d,xf_content:e},c),h=_node2map(b),h.controls.length>0&&_xfl_tableviewtr(a,h.controls,g,f),g.xf_content.settaborder(h.tab_order)}function _xfl_tableviewtr(a,b,c,d){var e,f,g,h,i;for(g=_xfu.array(b),f=g.length,e=0;f>e;e++)h=_node2prop(g[e]),i=_node2map(g[e]),i.controls.length>0&&_xfl_tableviewtd(a,i.controls,c,e,d)}function _xfl_tableviewtd(a,b,c,d,e){var f,g,h,i,j,k;for(h=_xfu.array(b),g=h.length,f=0;g>f;f++)i=_node2prop(h[f]),i.row_index=d,i.column_index=f,j=new XF_TABLEVIEW_ITEM(c,i),k=_node2map(h[f]),_xfl_component(a,k,c,j.xf_content,e),_xfx.register_component_arr(j.xf_content)}function _xfl_menubutton(a,b,c,d,e,f){var g,h,i,j;h=_node2map(b),j=_node2prop(h.menubutton_box[0]),_xfl_extendlib("XF_MENUBTN"),g=new XF_MENUBTN({xf_screen:a,xf_component:d,xf_content:e},c,j),i=_node2map(h.menubutton_box[0]),g.xf_menubtn_box.xf_content.settaborder(i.tab_order),_xfl_component(a,i,g,g.xf_menubtn_box.xf_content,f),_xfx.register_component_arr(g.xf_menubtn_box.xf_content)}function _xfl_process_failure(){switch(window.xframe_parent_tabpanel&&window.xframe_parent_tabpanel.xf_tab.sync_addtab_info&&window.xframe_parent_tabpanel.xf_tab.sync_addtab_info.promise_resolve&&(window.xframe_parent_tabpanel.xf_tab.sync_addtab_info.promise_resolve(-2),window.xframe_parent_tabpanel.xf_tab.sync_addtab_info=null),window.xframe_screen_kind){case XFD_SCREEN_MODALPOPUP:window.factory&&(factory.xf_main_factory.popup_map[window.xframe_popup_name].parent_popupbox._remove_element(),factory._unregister_popup(window.xframe_popup_name));break;case XFD_SCREEN_MODELESSPOPUP:window.factory&&xframe_popup_key&&delete factory[xframe_popup_key],window.close(),window.factory&&factory._unregister_popup(window.xframe_popup_name);break;case XFD_SCREEN_MENU:window.factory&&factory.closemenu(window.xframe_popup_name)}}function _xfl_sethtmlready(){_xf_html_ready=!0}function _xfl_ishtmlready(){return _xf_html_ready}function XF_API(){}function XF_API_CONTAINER(){}function XF_API_INPUT(){}function XF_CONSOLE(a){this._init(a),this._member(),this._box(),this._dom(),this._event()}function XF_CONTENT(a,b){this._init(a,b)}function XF_CONTEXT(a,b){this._init(a),this._prop(b),this._box()}function XF_FACTORY(a,b){this._init(a,b),this._global(),this._local(),this._dom()}function XF_MENUBOX(a,b,c){this._init(a,b),this._prop(c),this._box(),this._dom(),this._event(),this._create()}function XF_MODALBOX(a){this._init(),this._prop(a),this._box(),this._dom(),this._event()}function XF_PICKLIST(a,b){this._init(a),this._prop(b),this._comboboxdata()}function XF_POPUPBOX(a){this._init(),this._prop(a),this._box(),this._dom(),this._event()}function XF_PORTLETBOX(a,b,c){this._init(a,b),this._prop(c),this._box(),this._dom(),this._event(),this._create()}function XF_PROTECT(a,b,c){this._init(a,b),this._prop(c)}function XF_RESIZE(a,b){this._init(a),this._prop(b),this._box(),this._create()}function XF_RESIZE_BOX(a,b,c){this._init(a,b),this._prop(c),this._box()}function XF_SCREEN(a,b){this._init(a,b),this._global(!0)}function XF_LINK(a,b){this.xf_parent=a,this.xf_prop_type={autorun:XFD_PROP_BOOL},this.xf_prop={title:"",autorun:!1,screenid:"",copy_info:""},_xfx.prop(this,this.xf_prop,this.xf_prop_type,b),$.extend(this.xf_prop,b),this.xf_parent.xf_screen._addlink(this)}function XF_SCREEN_ALERTBOX(a,b){this._init(a),this._prop(b),this._box(),this._dom(),this._event()}function XF_SCREEN_ATTRMAP(a,b){this._init(a),this._prop(b),this._mapinfo(),this._create()}function XF_SCREEN_CONTENT(a,b){this._init(a),this._prop(b)}function XF_SCREEN_EXT(a){this.xf_screen=a}function XF_SCREEN_MSGBOX(a,b){this._init(a),this._prop(b),this._box(),this._dom(),this._event()}function XF_SCREEN_PORTLET(a,b,c,d,e){this._init(a,c,d,e),this._global(),this._prop(b),this._box(),this._dom(),this._event()}function XF_SCREEN_COLOR_SELECTBOX(a){this._init(a),this._prop(),this._box(),this._dom(),this._event()}function XF_SCREEN_COMBO_SELECTBOX(a){this._init(a),this._prop(),this._box(),this._dom(),this._event()}function XF_SCREEN_DATE_SELECTBOX(a){this._init(a),this._prop(),this._box(),this._dom(),this._event()}function XF_SCREEN_FIELD_SELECTBOX(a){this._init(a),this._prop(),this._box(),this._dom(),this._event()}function XF_SCREEN_TRANMAP(a,b){this._init(a),this._member(),this._prop(b),this._mapinfo(),this._iomap(!0,this.in_map_info_arr),this._iomap(!1,this.out_map_info_arr),this._create()}function XF_SCREEN_TRANIOMAP(a,b){this._init(a),this._prop(b),this._create()}function XF_SCREEN_XTRANMAP(a,b){this._init(a),this._prop(b),this._create()}function XF_SCROLL(a,b,c,d){this._init(a,b,c),this._prop(d),this._box(),this._create()}function XF_XDATASET(a,b){arguments.length<1?(a=null,b={}):arguments.length<2&&(b={}),this._init(a,b)&&(this._member(),this._prop(b),this._data(),this._create())}function XF_XDATASET_COLUMN(a,b){this._init(a),this._prop(b),this._data()}window._xfc={writecss:function(a,b){0!==b.length&&$(document.head).append('<style id="_xf5_css_'+a+'">.'+a+"{"+b.join("")+"}</style>")},deletecss:function(a){$(document.head).find("#_xf5_css_"+a).remove()},writejs:function(a){0!==a.length&&$(document.head).append('<script src="'+a+'"></script>')},cssstr:function(a){var b,c;b=[];for(c in a)b.push(c+":"+a[c]+";");return b.join("")},cssinfo:function(a){var b,c,d,e,f;for(f={},d=$.isArray(a)?a.join("").split(";"):a.split(";"),c=d.length,b=0;c>b;b++)e=d[b].split(":"),2==e.length&&(f[e[0]]=e[1]);return f},css:function(a,b,c,d){return c?(d.css(a,b),""):a+":"+b+";"},basic:function(a,b,c,d){var e,f,g,h,i;if(i="none",void 0===b)return"";switch(a){case"opacity":if(0==isNaN(b/10))return this.css("opacity",b/10,c,d);break;case"max_width":if(b>0)return this.css("max-width",_xfu.px(b),c,d);break;case"max_width_percent":if(b>0)return this.css("max-width",_xfu.pc(b),c,d);break;case"position":return 0==b?this.css("position","absolute",c,d):1==b?this.css("position","relative",c,d):2==b?this.css("position","fixed",c,d):3==b?this.css("position","static",c,d):this.css("position",b,c,d);case"hidden":return this.css("visibility",b?"hidden":"visible",c,d);case"x":return this.css("left",_xfu.px(b),c,d);case"y":return this.css("top",_xfu.px(b),c,d);case"right":return this.css("right",_xfu.px(b),c,d);case"bottom":return this.css("bottom",_xfu.px(b),c,d);case"width":return this.css("width",_xfu.px(b),c,d);case"height":return this.css("height",_xfu.px(b),c,d);case"line_height":return 0==b?this.css("line-height","1",c,d):this.css("line-height",_xfu.px(b),c,d);case"unselectpage_color":case"mousehover_forecolor":case"fore_color":return this.css("color",_xfu.rgbfunc(b),c,d);case"progress_color":case"docbody_backcolor":case"panel_color":case"mousehover_backcolor":case"back_color":return this.css("background-color",_xfu.rgbfunc(b),c,d);case"border_color":return this.css("border-color",_xfu.rgbfunc(b),c,d);case"border_width":return this.css("border-width",_xfu.px(b),c,d);case"title_horzalign":case"horz_align":return this.css("text-align",0===b?"left":1==b?"center":"right",c,d);case"title_vertalign":case"vert_align":
return this.css("vertical-align",0===b?"top":1==b?"middle":"bottom",c,d);case"padding":case"text_margin":return this.css("padding",_xfu.px(b[2])+" "+_xfu.px(b[1])+" "+_xfu.px(b[3])+" "+_xfu.px(b[0]),c,d);case"relative_margin":case"margin":return this.css("margin",_xfu.px(b[2])+" "+_xfu.px(b[1])+" "+_xfu.px(b[3])+" "+_xfu.px(b[0]),c,d);case"vertscrollbar_style":if(0==b)return this.css("overflow-y","hidden",c,d);if(1==b)return this.css("overflow-y","auto",c,d);if(2==b)return this.css("overflow-y","scroll",c,d);break;case"horzscrollbar_style":if(0==b)return this.css("overflow-x","hidden",c,d);if(1==b)return this.css("overflow-x","auto",c,d);if(2==b)return this.css("overflow-x","scroll",c,d);break;case"ellipse_width":return this.css("border-radius",_xfu.px(b/2),c,d);case"border":switch(b){case 0:return this.css("border-style","none",c,d);case 1:return this.css("border-style","solid",c,d);case 2:return this.css("border-style","outset",c,d);case 3:return this.css("border-style","inset",c,d);case 4:return this.css("border-style","dashed",c,d);case 5:return this.css("border-style","dotted",c,d)}break;case"border_style":if(0===b)return this.css("border-style","solid",c,d);if(1==b)return this.css("border-style","dashed",c,d);if(2==b)return this.css("border-style","dotted",c,d);if(3==b)return this.css("border-style","dotted",c,d);if(4==b)return this.css("border-style","dotted",c,d);break;case"header_font":case"mousehover_font":case"font":if(1!=c||null==d)return this.isscreenfont(b)?"":this.font(null,b);if(1!=this.isscreenfont(b))return this.font(d,b);d.css({"font-family":"","font-size":"inherit","font-weight":"inherit","font-style":"inherit","text-decoration":""});break;case"font_nocheck":return 1==c&&null!=d?this.font(d,b):this.font(null,b);case"progress_imagesize":case"back_imagesize":case"imagesize":switch(b){case 0:return f=this.css("background-size","auto",c,d),g=this.css("background-position","0% 0%",c,d),f+g;case 1:return f=this.css("background-size","100% 100%",c,d),g=this.css("background-position","center center",c,d),f+g;case 2:return f=this.css("background-size","auto",c,d),g=this.css("background-position","0% 0%",c,d),f+g;case 3:return f=this.css("background-size","auto auto",c,d),g=this.css("background-position","center center",c,d),f+g;case 4:return f=this.css("background-size","100% auto",c,d),g=this.css("background-position","center center",c,d),f+g;case 5:return f=this.css("background-size","auto 100%",c,d),g=this.css("background-position","center center",c,d),f+g}break;case"background_size_only":switch(b){case 0:return _xfc.css("background-size","auto",!1,null);case 1:return _xfc.css("background-size","100% 100%",!1,null);case 4:return _xfc.css("background-size","100% auto",!1,null);case 5:return _xfc.css("background-size","auto 100%",!1,null)}break;case"image_size_only":switch(b){case 0:return f=this.css("width","auto",c,d),g=this.css("height","auto",c,d),f+g;case 1:return f=this.css("width","100%",c,d),g=this.css("height","100%",c,d),f+g;case 4:return f=this.css("width","100%",c,d),g=this.css("height","auto",c,d),f+g;case 5:return f=this.css("width","auto",c,d),g=this.css("height","100%",c,d),f+g}break;case"mouse_cursor":switch(b){case 0:return this.css("cursor","default",c,d);case 1:return this.css("cursor","text",c,d);case 2:return this.css("cursor","wait",c,d);case 3:return this.css("cursor","crosshair",c,d);case 4:return this.css("cursor","default",c,d);case 5:return this.css("cursor","nw-resize",c,d);case 6:return this.css("cursor","sw-resize",c,d);case 7:return this.css("cursor","e-resize",c,d);case 8:return this.css("cursor","n-resize",c,d);case 9:return this.css("cursor","all-scroll",c,d);case 10:return this.css("cursor","not-allowed",c,d);case 11:return this.css("cursor","pointer",c,d);case 12:return this.css("cursor","help",c,d);case 13:return this.css("cursor","progress",c,d);default:return this.css("cursor","default",c,d)}break;case"progress_imagefillstyle":case"back_imagefillstyle":case"image_fillstyle":switch(b){case 0:return this.css("background-repeat","no-repeat",c,d);case 1:return this.css("background-repeat","repeat-x",c,d);case 2:return this.css("background-repeat","repeat-y",c,d);case 3:return this.css("background-repeat","repeat",c,d)}break;case"back_image":case"image_back":case"image":case"image_normal":return this.css("background-image",0===b.length?"none":_xfx.imageurlfunc(b),c,d);case"button_size":return this.css("padding-right",_xfu.px(b),c,d);case"border_radius":if(h=_xfu.str(b).split(","),h.length>1){for(e=0;e<h.length;e++)h[e]=_xfu.px(h[e]);return this.css("border-radius",h.join(" "),c,d)}return this.css("border-radius",_xfu.px(b),c,d);case"tabitem_radius":return this.css("border-radius",_xfu.px(b)+" "+_xfu.px(b)+" 0px 0px",c,d);case"make_case":if(0==b)return this.css("text-transform","none",c,d);if(1==b)return this.css("text-transform","uppercase",c,d);if(2==b)return this.css("text-transform","lowercase",c,d);break;case"transparent":if(1==b)return this.css("background-color","transparent",c,d);break;case"imemode":return 0==b?1==c?void d.css({"ime-mode":"inactive","-webkit-ime-mode":"inactive","-moz-ime-mode":"inactive","-ms-ime-mode":"inactive"}):(h=[],h.push("ime-mode:inactive;"),h.push("-webkit-ime-mode:inactive;"),h.push("-moz-ime-mode:inactive;"),h.push("-ms-ime-mode:inactive;"),h.join("")):1==c?void this.xf_object.css({"ime-mode":"active","-webkit-ime-mode":"active","-moz-ime-mode":"active","-ms-ime-mode":"active"}):(h=[],h.push("ime-mode:active;"),h.push("-webkit-ime-mode:active;"),h.push("-moz-ime-mode:active;"),h.push("-ms-ime-mode:active;"),h.join(""));case"word_break":return this.css("word-break",0===b?"normal":"break-all",c,d);case"line_gap":return this.css("line-height",_xfu.pc(100+10*b),c,d);case"text_wordellipsis":return this.css("text-overflow",0===b?"clip":"ellipsis",c,d)}},borderstyle:function(a,b,c,d){var e;return 0==b?e="none":1==b?e="solid":2==b?e="dashed":3==b&&(e="dotted"),this.css(a,e,c,d)},isscreenfont:function(a){return void 0===factory.xf_param.SCREEN_FONT?!1:a[0]!=factory.xf_param.SCREEN_FONT[0]?!1:a[1]!=factory.xf_param.SCREEN_FONT[1]?!1:a[2]!=factory.xf_param.SCREEN_FONT[2]?!1:a[3]!=factory.xf_param.SCREEN_FONT[3]?!1:a[4]!=factory.xf_param.SCREEN_FONT[4]?!1:a[5]==factory.xf_param.SCREEN_FONT[5]},font:function(a,b,c){var d,e,f,g;return b[5]===!1&&b[4]===!1?g="none":(f=[],b[5]===!0&&f.push("line-through"),b[4]===!0&&f.push("underline"),g=f.join(" ")),e=b[2],b[2]===!0||1==b[2]?e="bold":b[2]!==!1&&0!=b[2]||(e="normal"),null!=a?(a.css({"font-family":b[0],"font-size":_xfu.pt(b[1]),"font-weight":e,"font-style":b[3]?"italic":"normal","text-decoration":g}),""):void 0===c?(d=[],d.push(this.css("font-family",b[0],!1,null)),d.push(this.css("font-size",_xfu.pt(b[1]),!1,null)),d.push(this.css("font-weight",e,!1,null)),d.push(this.css("font-style",b[3]?"italic":"normal",!1,null)),d.push(this.css("text-decoration",g,!1,null)),d.join("")):(c.fontFamily=b[0],c.fontSize=_xfu.pt(b[1]),c.fontWeight=e,c.fontStyle=b[3]?"italic":"normal",c.fontDecoration=g,void 0)},flexalign:function(a,b,c){var d,e;return d=this.justifycontent(a,b),e=this.alignitems(a,c),d+e},alignitems:function(a,b){var c,d;return void 0===b?"":(d=0==b?"flex-start":2==b?"flex-end":"center",c=!1,null!==a&&(c=!0),this.css("align-items",d,c,a))},justifycontent:function(a,b){var c,d;return void 0===b?"":(d=0==b?"flex-start":2==b?"flex-end":"center",c=!1,null!==a&&(c=!0),this.css("justify-content",d,c,a))},textalign:function(a,b){var c,d;return void 0===b?"":(d=0==b?"left":2==b?"right":"center",c=!1,null!==a&&(c=!0),this.css("text-align",d,c,a))},backcolor:function(a,b,c,d,e){var f,g;return void 0===e&&(e=0),f=!1,null!==a&&(f=!0),1==b?this.css("background-color","transparent",f,a):void 0===c?"":void 0===d?this.css("background-color",_xfu.rgbfunc(c),f,a):(g=0==e?d/10:d/100,1==isNaN(g)?this.css("background-color",_xfu.rgbfunc(c),f,a):this.css("background-color",_xfu.rgbafunc(c,g),f,a))},alignclass:function(a,b){if(0==b){if(0==a)return"_xfd_pos_topleft";if(1==a)return"_xfd_pos_topcenter";if(2==a)return"_xfd_pos_topright"}else if(1==b){if(0==a)return"_xfd_pos_middleleft";if(1==a)return"_xfd_pos_middlecenter";if(2==a)return"_xfd_pos_middleright"}else if(2==b){if(0==a)return"_xfd_pos_bottomleft";if(1==a)return"_xfd_pos_bottomcenter";if(2==a)return"_xfd_pos_bottomright"}},backimagepos:function(a,b,c,d){var e,f,g;return void 0===d&&(d=[0,0,0,0]),f=0==b?"left":1==b?"center":"right",g=0==c?"top":1==c?"center":"bottom",e=!1,null!==a&&(e=!0),"left"==f&&d[0]>0?f=f+" "+_xfu.px(d[0]):"right"==f&&d[1]>0&&(f=f+" "+_xfu.px(d[1])),"top"==g&&d[2]>0?g=g+" "+_xfu.px(d[2]):"bottom"==g&&d[3]>0&&(g=g+" "+_xfu.px(d[3])),this.css("background-position",f+" "+g,e,a)},forecolor:function(a,b,c){return _xfu.isequalarray(a,b)?"":void 0!==c&&null!=c?(c.css("color",_xfu.rgbfunc(a)),""):"color:"+_xfu.rgbfunc(a)+";"},gradient:function(a,b,c,d,e,f){var g,h,i;return void 0===b&&(b=0),void 0===e&&(e=""),void 0===f&&(f=[]),i="",0==b?(i=0==e.length?"none":_xfx.imageurlfunc(e),null===a?f.push("background-image:"+i+";"):a.css("background-image",i),null===a?f.join(""):void 0):(e.length>0&&(i=_xfx.imageurlfunc(e)+","),g=_xfu.rgbfunc(c),h=_xfu.rgbfunc(d),1==b?null===a?(f.push("background-image:"+i+"-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(top,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-moz-linear-gradient(top,  "+g+" 0%, "+h+" 100%);"),f.push("background-image:"+i+"-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+h+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(top,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-o-linear-gradient(top,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-ms-linear-gradient(top,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"linear-gradient(to bottom,  "+g+" 0%,"+h+" 100%);")):(a.css("background-image",i+"-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+g+"), color-stop(100%,"+h+"))"),a.css("background-image",i+"-webkit-linear-gradient(top,  "+g+" 0%,"+h+" 100%)"),a.css({backgroundImage:i+"-moz-linear-gradient(top,  "+g+" 0%, "+h+" 100%)",backgroundImage:i+"-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+h+"), color-stop(100%,"+h+"))",backgroundImage:i+"-webkit-linear-gradient(top,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-o-linear-gradient(top,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-ms-linear-gradient(top,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"linear-gradient(to bottom,  "+g+" 0%,"+h+" 100%)"})):2==b?null===a?(f.push("background-image:"+i+"-webkit-gradient(linear, left top, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(left, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-moz-linear-gradient(left,  "+g+" 0%, "+h+" 100%)"),f.push("background-image:"+i+"-webkit-gradient(linear, left top, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(left,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-o-linear-gradient(left, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-ms-linear-gradient(left, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"linear-gradient(to right, "+g+" 0%,"+h+" 100%);")):(a.css("background-image",i+"-webkit-gradient(linear, left top, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"))"),a.css("background-image",i+"-webkit-linear-gradient(left, "+g+" 0%,"+h+" 100%)"),a.css({backgroundImage:i+"-moz-linear-gradient(left,  "+g+" 0%, "+h+" 100%)",backgroundImage:i+"-webkit-gradient(linear, left top, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"))",backgroundImage:i+"-webkit-linear-gradient(left,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-o-linear-gradient(left, "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-ms-linear-gradient(left, "+g+" 0%,"+h+" 100%)",backgroundImage:i+"linear-gradient(to right, "+g+" 0%,"+h+" 100%)"})):3==b?null===a?(f.push("background-image:"+i+"-webkit-gradient(linear, left top, right bottom, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-moz-linear-gradient(-65deg, "+g+" 0%, "+h+" 100%);"),f.push("background-image:"+i+"-webkit-gradient(linear, left top, right bottom, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-o-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-ms-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"linear-gradient(160deg, "+g+" 0%,"+h+" 100%);")):(a.css("background-image",i+"-webkit-gradient(linear, left top, right bottom, color-stop(0%,"+g+"), color-stop(100%,"+h+"))"),a.css("background-image",i+"-webkit-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%)"),a.css({backgroundImage:i+"-moz-linear-gradient(-65deg, "+g+" 0%, "+h+" 100%)",backgroundImage:i+"-webkit-gradient(linear, left top, right bottom, color-stop(0%,"+g+"), color-stop(100%,"+h+"))",backgroundImage:i+"-webkit-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-o-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-ms-linear-gradient(-65deg, "+g+" 0%,"+h+" 100%)",backgroundImage:i+"linear-gradient(160deg, "+g+" 0%,"+h+" 100%)"})):4==b&&(null===a?(f.push("background-image:"+i+"-webkit-gradient(linear, left bottom, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(-110deg,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-moz-linear-gradient(-160deg,  "+g+" 0%, "+h+" 100%);"),f.push("background-image:"+i+"-webkit-gradient(linear, left bottom, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"));"),f.push("background-image:"+i+"-webkit-linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-o-linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"-ms-linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%);"),f.push("background-image:"+i+"linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%);")):(a.css("background-image",i+"-webkit-gradient(linear, left bottom, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"))"),a.css("background-image",i+"-webkit-linear-gradient(-110deg,  "+g+" 0%,"+h+" 100%)"),a.css({backgroundImage:i+"-moz-linear-gradient(-160deg,  "+g+" 0%, "+h+" 100%)",backgroundImage:i+"-webkit-gradient(linear, left bottom, right top, color-stop(0%,"+g+"), color-stop(100%,"+h+"))",backgroundImage:i+"-webkit-linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-o-linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"-ms-linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%)",backgroundImage:i+"linear-gradient(-160deg,  "+g+" 0%,"+h+" 100%)"}))),null===a?f.join(""):void 0)}},window._xfj={gc:function(){"function"==typeof CollectGarbage&&CollectGarbage()},styleremove:function(a){a[0].style.removeProperty("background-image")},cleariframe:function(a){a.attr("src","about:blank")},editable:function(a,b){a.prop("readonly",!b)},enable:function(a,b){a.prop("disabled",!b)},inputtype:function(a,b){0===b?(a.prop("readOnly",!1),a.prop("required",!1)):1==b?(a.prop("readOnly",!1),a.prop("required",!0)):2!=b&&3!=b||(a.prop("readOnly",!0),a.prop("required",!1))},center:function(a,b){this.vcenter(a,b),this.hcenter(a,b)},vcenter:function(a,b){var c=a.outerHeight()-b.outerHeight();0>c?b.css({top:_xfu.px(0)}):b.css({top:_xfu.px(c/2)})},hcenter:function(a,b){var c=a.outerWidth()-b.outerWidth();0>c?b.css({left:_xfu.px(0)}):b.css({left:_xfu.px(c/2)})},ishidden:function(a){return a.closest(":hidden").length>0},eventchar:function(a){return a["char"]?a["char"]:32==a.which?" ":110==a.which?".":a.key},isnumpad:function(a){return a.keyCode>=96&&a.keyCode<=111},isnumpadnumber:function(a){return a.keyCode>=96&&a.keyCode<=105},positionend:function(a){_xfj.select(a,-1,-1)},positionevent:function(a,b){var c,d;switch(d=-1,b.which){case XFD_KEY_LEFTARROW:c=_xfj.select(a),d=c.start==c.end?c.start-1:c.start;break;case XFD_KEY_RIGHTARROW:c=_xfj.select(a),d=c.start==c.end?c.start+1:c.end,b.preventDefault();break;case XFD_KEY_HOME:d=0;break;case XFD_KEY_END:d=a.value.length,b.preventDefault()}return d>=0?(_xfj.position(a,d),!0):!1},position:function(a,b){var c,d,e;return 1==arguments.length?"selectionStart"in a?a.selectionEnd:document.selection?(c=document.selection.createRange(),d=document.selection.createRange().text.length,c.moveStart("character",-a.value.length),c.text.length-d):0:void(2==arguments.length&&(a.setSelectionRange?(a.focus(),"number"!=a.type&&a.setSelectionRange(b,b)):a.createTextRange?(e=a.createTextRange(),e.collapse(!0),e.moveEnd("character",b),e.moveStart("character",b),e.select()):a.selectionStart&&(a.focus(),a.selectionStart=b,a.selectionEnd=b)))},selectstart:function(a){return _xfj.select(a).start},selectend:function(a){return _xfj.select(a).end},selectcount:function(a){var b=_xfj.select(a);return b.end-b.start},select:function(a,b,c){var d,e,f,g,h,i;return 1==arguments.length?(d=0,e=0,"selectionStart"in a?(d=a.selectionStart,e=a.selectionEnd):document.selection&&(g=document.selection.createRange(),f=g.text.length,g.moveStart("character",-a.value.length),d=g.text.length-f,e=d+f),{start:d,end:e}):void(3==arguments.length&&(h=_xfu["int"](b),i=_xfu["int"](c),-1==b&&-1==c?(h=a.value.length,i=a.value.length):-1==b&&0==c?(h=0,i=a.value.length):0==b&&-1==c&&(h=0,i=a.value.length),"selectionStart"in a?"number"!=a.type&&(a.selectionStart=h,a.selectionEnd=i):document.selection&&(a.focus(),g=document.selection.createRange(),g.moveStart("character",-a.value.length),g.moveEnd("character",-a.value.length),g.moveEnd("character",i),g.moveStart("character",h),g.select())))},eventoffset:function(a,b){var c,d,e,f;for(c=a.target,f={offset_x:0,offset_y:0},a&&(f.offset_x=a.offsetX?a.offsetX:a.originalEvent.offsetX,f.offset_y=a.offsetY?a.offsetY:a.originalEvent.offsetY);c;){switch(b.type){case"id":if(c.id==b.value)return f;break;case"tag":if(c.tagName.toLowerCase()!=b.value.toLowerCase())return f;break;case"class":if(d=$(c),d.hasClass(b.value)===!0)return f}if(e=$(c).position(),f.offset_x+=e.left,f.offset_y+=e.top,!c.parentNode)break;if(c=c.parentNode,"BODY"==c.tagName.toUpperCase())break}return f},eventtarget:function(a,b){var c,d;for(c=a.target;c;){switch(b.type){case"id":if(c.id==b.value)return c;break;case"tag":if(c.tagName.toLowerCase()!=b.value.toLowerCase())return c;break;case"class":if(d=$(c),d.hasClass(b.value)===!0)return c}if(!c.parentNode)return null;c=c.parentNode}return c},eventpastevalue:function(a){var b;return b=a.originalEvent.clipboardData||window.clipboardData,b.getData("Text")},pastevalue:function(a,b){return void 0===b&&(b=!1),a.match(_xfp.expr_newline)&&(a=1==b?a.replace(_xfp.expr_newline,""):a.replace(/\s+$/,""),a=_xfu.trimquot(a)),a},eventcopyvalue:function(a,b){var c;c=a.originalEvent.clipboardData||window.clipboardData,c.setData("Text",b),a.preventDefault()},clipboardcopy:function(a){a.focus(),_xfj.select(a[0],0,-1),document.execCommand("copy")},eventpagexy:function(a){return a.type.indexOf("touchend")>=0&&void 0!==a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length>0?{x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}:a.type.indexOf("touch")>=0&&void 0!==a.originalEvent.touches&&a.originalEvent.touches.length>0?{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:{x:a.pageX,y:a.pageY}},eventscreenxy:function(a){return a.type.indexOf("touchend")>=0&&void 0!==a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length>0?{x:a.originalEvent.changedTouches[0].screenX,y:a.originalEvent.changedTouches[0].screenY}:a.type.indexOf("touch")>=0&&void 0!==a.originalEvent.touches&&a.originalEvent.touches.length>0?{x:a.originalEvent.touches[0].screenX,y:a.originalEvent.touches[0].screenY}:{x:a.screenX,y:a.screenY}},offevent:function(a,b){var c,d;for(d=b.length,c=0;d>c;c++)a.off(b[c])},offtarget:function(a,b){var c,d;for(d=b.length,c=0;d>c;c++)b[c].off(a)},element:function(a,b){var c;return"script"==a?(c=document.createElement("script"),c.src=b,document.body.appendChild(c)):"link"==a&&(c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.href=b,document.head.appendChild(c)),c},scroll:function(a,b){this.hscroll(a,b),this.vscroll(a,b)},hscroll:function(a,b){var c,d,e;c=b.position(),c.left<a[0].scrollLeft&&(a[0].scrollLeft=c.left),d=b.outerWidth(),e=c.top+d,e>a[0].scrollLeft+a[0].clientWidth&&(a[0].scrollLeft=c.left-(a[0].clientWidth-d))},vscroll:function(a,b){var c,d,e;c=b.position(),c.top<a[0].scrollTop&&(a[0].scrollTop=c.top),d=b.outerHeight(),e=c.top+d,e>a[0].scrollTop+a[0].clientHeight&&(a[0].scrollTop=c.top-(a[0].clientHeight-d))},isscrollshow:function(a){return this.isvscrollshow(a)||this.ishscrollshow(a)},ishscrollshow:function(a){return a.get(0)?a.get(0).scrollWidth>a.innerWidth():!1},isvscrollshow:function(a){return a.get(0)?a.get(0).scrollHeight>a.innerHeight():!1},scrollpos:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;if(void 0===d&&(d=9),void 0===f&&(f=0),void 0===g&&(g=0),void 0===e&&(e=!0),a?(k=b[0].clientHeight,l=b[0].scrollTop,m=l+k,n=b[0].scrollHeight-k,j=c.outerHeight(),h=c.position().top,i=h+j):(k=b[0].clientWidth,l=b[0].scrollLeft,m=l+k,n=b[0].scrollWidth-k,j=c.outerWidth(),h=c.position().left,i=h+j),0>n&&(n=0),9==d){if(h>=l&&m>=i)return-1;l>h?o=h:h>m?o=h-(k-j)-g:i>m&&(o=h-(k-j)-g)}else if(0==d)o=h;else if(1==d)o=h,k>j&&(o-=Math.floor((k-j)/2));else{if(2!=d)return-1;o=h-(k-j)-g}return o>n&&(o=n),0>o&&(o=0),e&&(a?b[0].scrollTop=o:b[0].scrollLeft=o),o},textsize:function(a,b,c,d,e,f,g){var h,i,j;return c=c||[],void 0===d&&(d=!0),void 0===f&&(f=0),void 0===g&&(g=0),c.push("_xfd_text_size"),h=document.createElement("div"),h.setAttribute("class",c.join(" ")),i=$(h),_xfc.font(i,b),f>0?(void 0!==e&&null!=e||(e={}),e.lineHeight=_xfu.px(f)):g>0&&(void 0!==e&&null!=e||(e={}),e.lineHeight=_xfu.pc(100+10*g)),void 0!==e&&null!=e&&i.css(e),d?i.text(a):h.innerHTML=a,document.body.appendChild(h),j={width:i.outerWidth(),height:i.outerHeight()},h.parentNode.removeChild(h),j},spaninfo:function(a){var b;return b={row_span:a.attr("rowspan"),column_span:a.attr("colspan")},void 0===b.row_span||0==b.row_span.length?b.row_span=1:b.row_span=_xfu["int"](b.row_span),void 0===b.column_span||0==b.column_span.length?b.column_span=1:b.column_span=_xfu["int"](b.column_span),b},imagesize:function(a){return{width:a[0].width,height:a[0].height,image_width:a[0].naturalWidth,image_height:a[0].naturalHeight}},xmlmake:function(a,b,c){var d,e,f=b.split(">"),b=f[0],g=null;for(d=1;d<f.length;d++)b+=">"+f[d],e=$(a).find(b),0<e.length?g=e:(e=$(a.createElement(f[d])),g.append(e),g=e),d==f.length-1&&g.text(c)},xmlselector:function(a){var b=a.replace(/[\.\/]/g,">");return b},replace:function(a,b){var c,d;return c=a,d=c.cloneNode(!1),d.innerHTML=b,c.parentNode.replaceChild(d,c),d}};var _XFD_ENGINEMODE_RELEASE="RELEASE",_XFD_ENGINEMODE_DEBUG="DEBUG",_XFD_ENGINEMODE_DEVELOP="DEVELOP",_XFD_SCREENTYPE_NORMAL=0,_XFD_SCREENTYPE_PORTLET=1,_XFD_SCREENTYPE_CONTAINER=2,_XFD_SCREENTYPE_PORTLETMENU=3,_XFD_SCREENTYPE_CONTENT=9,_XFD_CREATEMODE_STATIC=0,_XFD_CREATEMODE_GRID=1,_XFD_CREATEMODE_API=2,_XFD_CREATEMODE_LISTVIEW=3,_XFD_CREATEMODE_PORTLET=4,_XFD_CREATEMODE_CONTENT=5,_XFD_FOCUSTYPE_API=0,_XFD_FOCUSTYPE_CLICK=1,_XFD_FOCUSTYPE_PREV=2,_XFD_FOCUSTYPE_NEXT=3,_XFD_FOCUSTYPE_FIRST=4,_XFD_FOCUSTYPE_LAST=5,_XFD_CALENDAR_MIN_WIDTH=200,_XFD_CALENDAR_XLARGE_MIN_WIDTH=226,_XFD_CALENDAR_SMALL_MIN_HEIGHT=167,_XFD_CALENDAR_SMALL_MAX_HEIGHT=187,_XFD_CALENDAR_MEDIUM_MIN_HEIGHT=201,_XFD_CALENDAR_MEDIUM_MAX_HEIGHT=223,_XFD_CALENDAR_LARGE_MIN_HEIGHT=235,_XFD_CALENDAR_LARGE_MAX_HEIGHT=259,_XFD_CALENDAR_XLARGE_MIN_HEIGHT=269,_XFD_CALENDAR_XLARGE_MAX_HEIGHT=295,_XFD_CALENDAR_SIZE_SMALL=0,_XFD_CALENDAR_SIZE_MEDIUM=1,_XFD_CALENDAR_SIZE_LARGE=2,_XFD_CALENDAR_SIZE_XLARGE=3,_xf_screen=null,_xf_screen_script_jqxhr=null,_xf_htmlready_mode=!1,_xf_prototype_mode=!1,_xf_screen_innerhtml="",_xf_html_ready=!1,xframe_popup_key,_xf_engine_lib_name_arr=[],_xf_source_lib_name_arr=["XF_GRID","XF_TAB","XF_BUTTON","XF_CALENDAR","XF_CHECKBOX","XF_COMBOBOX","XF_DATE","XF_FIELD","XF_HANGUL","XF_IMAGE","XF_MULTILINE","XF_NUMBER","XF_PANEL","XF_RADIO","XF_TABLE","XF_TEXT"],_xf_used_lib={};window._xfp={expr_int:/[^0-9]/g,expr_int_minus:/[^0-9^\-]/g,expr_float:/[^0-9^\.]/g,expr_float_minus:/[^0-9^\-^\.]/g,expr_money:/([0-9])([0-9][0-9][0-9][,.])/,expr_hangul:/[ㄱ-ㅎㅏ-ㅣ가-힣]/g,expr_only_hangul:/([^가-힣ㄱ-ㅎㅏ-ㅣ\x20])/gi,expr_only_english:/^[A-za-z]/g,expr_only_number:/[^0-9]/g,expr_only_engAndnum:/^[A-Za-z0-9]+$/,expr_char_number:/[0-9]/g,expr_char_english:/[a-zA-z]/g,expr_char_hangul:/[가-힣ㄱ-ㅎㅏ-ㅣ]/g,expr_char_number_english:/[0-9a-zA-Z]/g,expr_char_number_english_hangul:/[0-9a-zA-Z가-힣ㄱ-ㅎㅏ-ㅣ]/g,expr_newline:/\n|\r/g,expr_newlinechar:/\\r\\n|\\n\\r|\\n|\\r/g,type:function(a,b,c){var d;return void 0===c&&(c=","),void 0===a?b:""===a?b:(d=a.toUpperCase(),d.indexOf("Z"+c)>=0?XFD_PATTERN_TYPE_MONEY:d.indexOf("Z")>=0?XFD_PATTERN_TYPE_NUMBER:d.indexOf("YY")>=0?XFD_PATTERN_TYPE_DATE:d.indexOf("DD")>=0?XFD_PATTERN_TYPE_DATE:/[-:\/.]/g.test(a)===!0?XFD_PATTERN_TYPE_CUSTOM:d.indexOf("9")>=0?XFD_PATTERN_TYPE_NUMBER:d.indexOf("*")>=0?XFD_PATTERN_TYPE_CUSTOM:d.indexOf("H")>=0?XFD_PATTERN_TYPE_CUSTOM:b)},numberpatterninfo:function(a,b,c){var d,e,f,g;if(g={fill_zero_count:0,blank_is_zero:!1,zero_is_blank:!1,places:0,allow_minus:!1},0==a.length)return g;if("-"==a.charAt(0)&&(g.allow_minus=!0),void 0===b&&(b="."),d=a.split(b),2==d.length)for(g.places=d[1].length,e=0;e<g.places&&"9"==d[1].charAt(e);e++)g.fill_zero_count++;return f=d[0].length,f>0&&("9"==d[0].charAt(f-1)?g.blank_is_zero=!0:g.zero_is_blank=!0),g},mask_range:function(a){var b,c,d,e,f;if(b=[],void 0===a||0==a.length)return b;for(d=-1,c=a.length,f=0;c>f;f++)"x"==a.charAt(f)||"X"==a.charAt(f)||"*"==a.charAt(f)?-1==d&&(d=f):-1!=d&&(e=f-1,b.push({mask_start_pos:d,mask_end_pos:e}),d=-1);return-1!=d&&(e=f-1,b.push({mask_start_pos:d,mask_end_pos:e})),b},delimiter:function(a){var b;return b=a.replace(/[Y|y|M|m|D|d|A|a|X|x|Z|z|H|h]/g,"9"),b=b.replace(/[\d]/g,""),b.substr(0,1)},regexp:function(a,b){var c,d,e,f,g,h,i,j,k,l;for(d=!0,void 0===b&&(b=XFD_DATA_ALPHANUM),g=[],h=[],j=[],a=a.toUpperCase(),e=a.length,0==e&&b==XFD_DATA_HANGUL&&(d=!1),c=0;e>c;c++)f=a.charAt(c),"Z"==f||"Y"==f||"M"==f||"D"==f||"S"==f||"9"==f?(j.push(!1),g.push("9")):"X"==f||"A"==f?(j.push(!1),g.push("A")):"H"==f?(j.push(!1),b==XFD_DATA_HANGUL?(g.push("H"),d=!1):g.push("9")):"*"==f?(j.push(!1),g.push("H"),d=!1):(j.push(!0),g.push(f),-1==h.indexOf(f)&&h.push(f));if(i=h.length,k=[],0==d&&0==i)l=null;else{for(d&&k.push("ㄱ-ㅎㅏ-ㅣ가-힣"),c=0;i>c;c++)"-"==h[c]?k.push("\\-"):k.push(h[c].replace(/[.*+?^${}()|[\]\\]/g,"\\\\$&"));k.length>0&&(l=new RegExp("["+k.join("|")+"]","g"))}return{pattern_char_arr:g,pattern_char_count:g.length,delimiter_char_arr:h,delimiter:h.join(""),delimiter_char_count:i,delimiter_char_regexp:l,is_delimiter_char_arr:j,no_hangul:d}},_exp:function(a,b){return void 0===b||null===b||0==b.delimiter_char_count?a:(null!=b.delimiter_char_regexp&&(a=a.replace(b.delimiter_char_regexp,"")),a)},exp:function(a,b){var c,d,e,f,g;if(d=a.length,void 0===b||null===b)return a;if(0==b.pattern_char_count)return a;if(0==d)return a;for(e=[],f=0,c=0;d>c;c++)b.is_delimiter_char_arr[f]&&(e.push(b.pattern_char_arr[f]),f++),"9"==b.pattern_char_arr[f]?(g=a.charAt(c),g.search(_xfp.expr_char_number)>=0&&(e.push(g),f++)):"A"==b.pattern_char_arr[f]?(g=a.charAt(c),g.search(_xfp.expr_char_hangul)<0&&(e.push(g),f++)):"H"==b.pattern_char_arr[f]&&(g=a.charAt(c),e.push(g),f++);return e.join("")},trimlast:function(a,b){var c;return c=a.toString(),_xfu.last(c,1)==b?_xfu.first(c,c.length-1):c},trimplaces:function(a,b,c,d,e){var f,g,h,i,j,k,l;if(void 0===d&&(d=0),void 0==e&&(e="."),c>b&&(c=b),f=a.split(e),k=!1,"-"==f[0].charAt(0)&&(k=!0),f.length<2){if(a=parseInt(a,10),c>0){for(h=[],g=0;c>g;g++)h.push("0");l=a.toString(10)+e+h.join("")}else l=a.toString(10);return k&&"-"!=l.charAt(0)?"-"+l:l}if(0==f[0].length?f[0]="0":"-"==f[0]&&(f[0]="-0"),0==f[1].length&&0==c)return a;if(f[1].length>0){switch(f[1]="0."+f[1],j=parseFloat(f[1]),i=j*Math.pow(10,b),i=i.toFixed(1),d){case 0:i=Math.round(i);break;case 1:i=Math.floor(i);break;case 2:i=Math.ceil(i);break;default:i=Math.round(i)}for(j=i/Math.pow(10,b),f[1]=j.toFixed(b).split(".")[1],g=0;b-c>g&&"0"==f[1].charAt(b-g-1);g++);f[1]=f[1].substr(0,b-g)}if(f[0]=parseFloat(f[0]),j>=1&&(k?f[0]-=1:f[0]+=1),f[0]=f[0].toString(10),k&&"-"!=f[0].charAt(0)&&(f[0]="-"+f[0]),c>0){for(h=[],void 0===f[1]&&(f[1]=""),h.push(f[1]),g=0;g<c-f[1].length;g++)h.push("0");f[1]=h.join("")}return f.join(e)},masklength:function(a,b,c,d){var e,f,g,h,i,j,k,l,m;if(j=b,0==c){if(l=d-b,0>=l)return a;if(g=_xfu.bytelen(a),l>g)return a;for(m=0,h=0;g>h&&(m+=_xfu.bytelen(a.charAt(h)),m!=l);h++)if(m>l){j=b-1;break}e=h+1}else{if(g=a.length,e=Math.ceil(d/(b/factory.xf_param.HANGUL_BYTE_LENGTH)),e>g)return a;f=b%factory.xf_param.HANGUL_BYTE_LENGTH,f>0&&(j=b-1)}for(k=[],i=0;j>i;i++)k.push("*");return a.substring(0,e)+k.join("")},masklength_prev:function(a,b,c,d){var e,f,g,h,i,j,k,l,m;if(j=b,l=d-b,0>=l)return a;if(0==c){if(g=_xfu.bytelen(a),l>g)return a;for(m=0,h=0;g>h&&(m+=_xfu.bytelen(a.charAt(h)),m!=l);h++)if(m>l){j=b-1;break}e=h+1}else{if(g=a.length,e=Math.ceil(l/factory.xf_param.HANGUL_BYTE_LENGTH),e>g)return a;f=(d-b)%factory.xf_param.HANGUL_BYTE_LENGTH,f>0&&(j=b-1)}for(k=[],i=0;j>i;i++)k.push("*");return a.substring(0,e)+k.join("")},hangulmasks:function(a,b,c,d,e,f,g,h){var i,j,k;if(d===!0&&(k=0==f?_xfu.bytelen(a):a.length,k>=c[0].mask_start_pos&&e.length-k>0&&(a+=e.substring(k))),0==a.length)return"";for(j=a,i=0;b>i;i++)j=_xfp.mask(j,c[i].mask_start_pos,c[i].mask_end_pos,h);return 1==d&&g>0&&(j=0==f?_xfu.trimlength(j,g):_xfu.trimlength(j,g,!0,1)),j},masks:function(a,b,c,d,e,f){var g,h,i;if(d===!0&&(i=a.length,i>=c[0].mask_start_pos&&e.length-i>0&&(a+=e.substring(i))),0==a.length)return"";for(h=a,g=0;b>g;g++)h=_xfp.mask(h,c[g].mask_start_pos,c[g].mask_end_pos,f);return h},mask:function(a,b,c,d){var e,f,g,h,i,j;if(g=d||"*",j=a.length,b+1>j)return a;for(e=_xfu.first(a,b),f=a.substr(c+1),h="",i=b;c>=i&&!(i>=j);i++)h+=g;return e+h+f},"int":function(a){return a=Math.round(a),a.toString(10)},_number:function(a,b,c,d){var e,f;return 0===a.length?"":(void 0===d&&(d="."),e=new RegExp("[^0-9^\\-^\\"+d+"]","g"),f=new RegExp("[^0-9^\\"+d+"]","g"),a=_xfu.str(a),c?b>0?a.replace(e,""):(a=a.split(d)[0],a.replace(_xfp.expr_int_minus,"")):b>0?a.replace(f,""):(a=a.split(d)[0],a.replace(_xfp.expr_int,"")))},number:function(a,b,c,d,e,f){var g,h,i,j,k;if(a=_xfu.str(a),0==a.length)return"";if(void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f="."),g=new RegExp("[^0-9^\\-^\\"+f+"]","g"),h=new RegExp("[^0-9^\\"+f+"]","g"),b>0)return c?"-"==a?a:(a=a.replace(g,""),0===a.length?"":_xfp.trimplaces(a,b,d,e,f)):(a=a.replace(h,""),0===a.length?"":_xfp.trimplaces(a,b,d,e,f));if(i=!1,"-"==a[0].charAt(0)&&(i=!0),c){if("-"==a)return a;if(a=a.replace(g,""),0===a.length)return"";if(k=a.split(f),k.length>1){switch(e){case 0:a=Math.round(a);break;case 1:a=Math.floor(a);break;case 2:a=Math.ceil(a);break;default:a=Math.round(a)}j=a.toString(10)}else j=parseInt(a,10).toString(10)}else{if(a=a.replace(h,""),0===a.length)return"";if(k=a.split(f),k.length>1){switch(e){case 0:a=Math.round(a);break;case 1:a=Math.floor(a);break;case 2:a=Math.ceil(a);break;default:a=Math.round(a)}j=a.toString(10)}else j=parseInt(a,10).toString(10)}return i&&"-"!=j.charAt(0)?"-"+j:j},_money:function(a,b,c,d){return void 0==d&&(d="."),_xfp._number(a,b,c,d)},money:function(a,b,c,d,e,f,g,h){var i,j;if(a=_xfu.str(a),0===a.length)return"";void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f="."),void 0===g&&(g="."),void 0===h&&(h=","),i=_xfp.number(a,b,c,d,e,f),j=i.split(f),
j[0]+=g;do j[0]=j[0].replace(_xfp.expr_money,"$1"+h+"$2");while(_xfp.expr_money.test(j[0]));return j.length>1?j.join(""):j[0].split(g)[0]},money_ex:function(a,b,c,d){var e,f;if(0===a.length)return"";e=String(a),f=e.split("."),"money"==d&&(f[0].length>1?f[0]=parseInt(f[0]):0==f[0]&&(f[0]="")),f[0]+=".";do f[0]=f[0].replace(_xfp.expr_money,"$1,$2");while(_xfp.expr_money.test(f[0]));return f.length>1?f.join(""):f[0].split(".")[0]},date:function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(f=[],4==arguments.length)a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2]),d=arguments[3];else{if(3==arguments.length)return e=_xfu.str(arguments[0]),d=arguments[2],4==e.length?(a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),f.push(a.toString()),f.push(b>9?b:"0"+b),f.join(d)):(b=_xfu["int"](arguments[0]),c=_xfu["int"](arguments[1]),f.push(b>9?b:"0"+b),f.push(c>9?c:"0"+c),f.join(d));if(2==arguments.length)if(d=arguments[1],$.isPlainObject(arguments[0]))a=arguments[0].year,b=arguments[0].month,c=arguments[0].day;else if(arguments[0]instanceof Date==1)a=arguments[0].getFullYear(),b=arguments[0].getMonth()+1,c=arguments[0].getDate();else{if(0==arguments[0].length)return"";g=arguments[0],i=this.delimiter(arguments[1]),i.length>0&&(g=g.replace(/value_delimiter/g,"")),h=g.length,8==h?(a=_xfu["int"](g.substr(0,4)),b=_xfu["int"](g.substr(4,2)),c=_xfu["int"](g.substr(6,2))):6==h?(a=_xfu["int"](g.substr(0,4)),b=_xfu["int"](g.substr(4,2)),c=1):4==h&&(l=/yyyy/i,1==l.test(g)?(a=_xfu["int"](g),b=1,c=1):(j=new Date,a=j.getFullYear(),b=_xfu["int"](g.substr(0,2)),c=_xfu["int"](g.substr(2,2))))}}return isNaN(a)||isNaN(b)||isNaN(c)?arguments[1]:d.length<=1?(f.push(a.toString()),f.push(b>9?b:"0"+b),f.push(c>9?c:"0"+c),f.join(d)):(k=d,j=new Date(a,b-1,c,0,0,0,0),k.replace(/(yyyy|YYYY|yy|YY|mm|MM|m|M|dd|DD|d|D)/g,function(a){switch(a){case"yyyy":case"YYYY":return j.getFullYear();case"yy":case"YY":return _xfu.padzero(j.getFullYear()%100,2,!0);case"MM":case"mm":return _xfu.padzero(j.getMonth()+1,2,!0);case"M":case"m":return j.getMonth()+1;case"dd":case"DD":return _xfu.padzero(j.getDate(),2,!0);case"d":case"D":return j.getDate();default:return a}}))},time:function(){var a,b,c,d,e,f,g,h,i;if(i=[],4==arguments.length)a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2]),d=arguments[3];else if(2==arguments.length)if(d=arguments[1],$.isPlainObject(arguments[0]))a=arguments[0].hour,b=arguments[0].minute,c=arguments[0].second;else if(arguments[0]instanceof Date==1)a=arguments[0].getHours(),b=arguments[0].getMinutes(),c=arguments[0].getSeconds();else{if(6!=arguments[0].length)return arguments[0];a=_xfu["int"](arguments[0].substr(0,2)),b=_xfu["int"](arguments[0].substr(2,2)),c=_xfu["int"](arguments[0].substr(4,2))}return isNaN(a)||isNaN(b)||isNaN(c)?arguments[1]:null!=d&&d.length<=1?(i.push(a>9?a:"0"+a),i.push(b>9?b:"0"+b),i.push(c>9?c:"0"+c),i.join(d)):(g=d,e=new Date,f=new Date(e.getFullYear(),e.getMonth(),e.getDay(),a,b,c,0),g.replace(/(hh|h|HH|H|mm|m|ss|s|t)/gi,function(a){switch(a){case"hh":return _xfu.padzero((h=f.getHours()%12)?h:12,2,!0);case"h":return(h=f.getHours()%12)?h:12;case"HH":return _xfu.padzero(f.getHours(),2,!0);case"H":return f.getHours();case"mm":return _xfu.padzero(f.getMinutes(),2,!0);case"m":return f.getMinutes();case"ss":return _xfu.padzero(f.getSeconds(),2,!0);case"s":return f.getSeconds();case"t":return f.getHours()<12?"오전":"오후";default:return a}}))},datetime:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return o=["일","월","화","수","목","금","토"],void 0===a||null===a||0===a.length?"":(l=a.split(" "),m=l[0].split("-"),void 0==m[1]&&void 0==l[1]&&a.length>=9?(d=new Date,d.setTime(a),f=d.getFullYear(),g=d.getMonth()+1,h=d.getDate(),i=d.getHours(),j=d.getMinutes(),k=d.getSeconds()):(void 0==m[1]?(f=m[0].substring(0,4),g=m[0].substring(4,6),h=m[0].substring(6,8)):(f=m[0],g=m[1],h=m[2]),void 0==l[1]?(i="00",j="00",k="00"):(n=l[1].split(":"),i=n[0],j=n[1],k=(k=void 0==n[2])?"00":n[2])),c=new Date(f,g-1,h,i,j,k),b.length<=10?b.replace(/(yyyy|YYYY|yy|YY|mm|MM|m|M|eee|ddd|DDD|dd|DD|d|D)/gi,function(a){switch(a){case"yyyy":case"YYYY":return c.getFullYear();case"yy":case"YY":return _xfu.padzero(c.getFullYear()%100,2,!0);case"MM":case"mm":return _xfu.padzero(c.getMonth()+1,2,!0);case"M":case"m":return c.getMonth()+1;case"eee":case"ddd":case"DDD":return o[c.getDay()];case"dd":case"DD":return _xfu.padzero(c.getDate(),2,!0);case"d":case"D":return c.getDate();default:return a}}):b.replace(/(yyyy|YYYY|yy|YY|MM|M|eee|ddd|DDD|dd|DD|d|D|hh|h|HH|H|mm|m|ss|s|t)/gi,function(a){switch(a){case"yyyy":case"YYYY":return c.getFullYear();case"yy":case"YY":return _xfu.padzero(c.getFullYear()%100,2,!0);case"MM":case"mm":return _xfu.padzero(c.getMonth()+1,2,!0);case"M":case"m":return c.getMonth()+1;case"eee":case"ddd":case"DDD":return o[c.getDay()];case"dd":case"DD":return _xfu.padzero(c.getDate(),2,!0);case"d":case"D":return c.getDate();case"hh":return _xfu.padzero((e=c.getHours()%12)?e:12,2,!0);case"h":return(e=c.getHours()%12)?e:12;case"HH":return _xfu.padzero(c.getHours(),2,!0);case"H":return c.getHours();case"mm":return _xfu.padzero(c.getMinutes(),2,!0);case"m":return c.getMinutes();case"ss":return _xfu.padzero(c.getSeconds(),2,!0);case"s":return c.getSeconds();case"t":return c.getHours()<12?"오전":"오후";default:return a}}))},fmt:function(a,b,c,d,e,f,g,h,i,j){var k;return a=a.toString(),k=a,b==XFD_PATTERN_TYPE_NUMBER?k=_xfp.number(a,c,d,e,f,h):b==XFD_PATTERN_TYPE_MONEY?k=_xfp.money(a,c,d,e,f,h,i,j):b==XFD_PATTERN_TYPE_CUSTOM&&(k=_xfp.exp(a,g)),k},_fmt:function(a,b,c,d,e){var f;return a=a.toString(),f=a,b==XFD_PATTERN_TYPE_NUMBER?f=_xfp._number(a,c,d):b==XFD_PATTERN_TYPE_MONEY?f=_xfp._money(a,c,d):b==XFD_PATTERN_TYPE_CUSTOM&&(f=_xfp._exp(a,e)),f},now:function(a,b,c){var d,e,f,g,h,i,j,k,l,m;switch(d=new Date,void 0===a&&(a=1),void 0===b&&(b="-"),void 0===c&&(c=":"),e=d.getFullYear(),f=d.getMonth()+1,g=d.getDate(),h=d.getHours(),i=d.getMinutes(),j=d.getSeconds(),k=d.getMilliseconds(),f=f>9?f:"0"+f,g=g>9?g:"0"+g,l=e+b+f+b+g,h=h>9?h:"0"+h,i=i>9?i:"0"+i,j=j>9?j:"0"+j,m=h+c+i+c+j,k=k>99?k:k>9?"0"+k:"00"+k,a){case 1:return l+" "+m+"."+k;case 2:return l+" "+m;case 3:return l;case 4:return m+"."+k;case 5:return m;default:return l+" "+m+"."+k}},escapecsv:function(a){return a=a.replace(/"/g,'""'),'"'+a+'"'},arraytocsv:function(a){var b,c;for(c=a.length,b=0;c>b;b++)a[b]=a[b].replace(/"/g,'""');return'"'+a.join('","')+'"'},csvtoarray:function(a,b){var c,d,e,f=[""],g=0,h="",i=!0;for(void 0===b&&(b=","),d=a.length,e=0;d>e;e++)c=a.charAt(e),'"'===c?(i=!i,'"'===h?(f[g]+='"',c="-"):""===h&&(c="-")):i&&b===c?c=f[++g]="":f[g]+=c,h=c;return f},escapexml:function(a){return a.replace(/[<>&"']/g,function(a){return"<"==a?"&lt;":">"==a?"&gt;":"&"==a?"&amp;":'"'==a?"&quot;":"'"==a?"&apos;":void 0})}},window._xfu={EXPR_TRIM_START:/^\s+/,EXPR_TRIM_END:/\s+$/,numberpattern:function(a,b){var c,d,e;for(e=[],d=0,1==b&&(e.push("-"),d=1),c=d;a-1>c;c++)e.push("Z");return e.push("9"),e.join("")},numberpatterninfo:function(a){var b,c,d;return d={is_minus_pattern:!1,is_float_pattern:!1,int_max_length:0,max_length:0},0==a.length?d:(b=a,b=b.replace(/,/g,""),0==b.length?d:(d.max_length=b.length,c=b.indexOf("."),c>0&&(d.is_float_pattern=!0,b=b.substring(0,c)),d.int_max_length=b.length,"-"==b.charAt(0)&&(d.is_minus_pattern=!0,d.int_max_length--),d))},intpartlength:function(a,b){var c,d,e;return 0==a.length?0:(d=a,d=d.replace(/,/g,""),0==d.length?0:(b&&(b.max_length=d.length),e=a.indexOf("."),e>0&&(d=d.substring(0,e-1)),c=d.length,"-"==d.charAt(0)&&c--,c))},startswith:function(a,b,c){return String.prototype.startsWith?a.startsWith(b,c):a.substr(!c||0>c?0:+c,b.length)===b},endswith:function(a,b,c){var d;return String.prototype.endsWith?a.endsWith(b,c):(("number"!=typeof position||!isFinite(position)||Math.floor(position)!==position||position>a.length)&&(c=a.length),c-=b.length,d=a.indexOf(b,c),-1!==d&&d===c)},includes:function(a,b,c){return String.prototype.includes?a.includes(b,c):c+b.length>a.length?!1:-1!==this.indexOf(b,c)},newline:function(a){var b,c,d;for(b=a.split(""),c=b.length,d=0;c>d;d++)"\\"==b[d]&&("n"==b[d+1]?(b[d]="\n",b.splice(d+1,1)):"\\"==b[d+1]&&"n"==b[d+2]&&(b.splice(d,1),d++));return b.join("")},today:function(){var a=new Date;return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),week:a.getDay()}},now:function(){var a=new Date;return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),ms:a.getMilliseconds()}},briefsize:function(a){var b,c,d,e=["KB","MB","GB","TB","PB","EB","ZB","YB"];for(b=0,d=a+"B",c=a/1024;c>=1;c/=1024,b++)d=c.toFixed(0)+e[b];return d},tickcount:function(){var a=new Date;return a.getTime()},gapdate:function(){var a,b,c,d;return a=arguments[0],b=_xfu["int"](arguments[1]),2==arguments.length?d=this.today():3==arguments.length?d=arguments[2]:(d={},d.year=_xfu["int"](arguments[2]),arguments.length>3?d.month=_xfu["int"](arguments[3]):(d.month=1,d.day=1),arguments.length>4?d.day=_xfu["int"](arguments[4]):d.day=1),"day"==a?(c=new Date(d.year,d.month-1,d.day),c.setDate(c.getDate()+b),{year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()}):"month"==a?(c=new Date(d.year,d.month-1,1),c.setMonth(c.getMonth()+b),d.day=Math.min(d.day,_xfu.lastday(c.getFullYear(),c.getMonth()+1)),{year:c.getFullYear(),month:c.getMonth()+1,day:d.day}):"year"==a?{year:d.year+b,month:d.month,day:d.day}:void 0},lastday:function(a,b){var c=[31,0,31,30,31,30,31,31,30,31,30,31];return a=_xfu["int"](a),b=_xfu["int"](b),2!=b?c[b-1]:a%100===0||a%4!==0&&a%400!==0?28:29},date:function(a){var b=this.today();return void 0===a||0===a.length?b:(a=_xfu.str(a),8==a.length?{year:this["int"](a.substr(0,4)),month:this["int"](a.substr(4,2)),day:this["int"](a.substr(6,2))}:a.length>=6&&a.length<8?{year:this["int"](a.substr(0,4)),month:this["int"](a.substr(4,2)),day:1}:4==a.length?{year:b.year,month:this["int"](a.substr(0,2)),day:this["int"](a.substr(2,2))}:2==a.length?{year:b.year,month:b.month,day:this["int"](a)}:void 0)},time:function(a,b){var c,d;return d=this.now(),void 0===a||0===a.length?d:(c=0,a=_xfu.str(a),(b.indexOf("HH")>=0||b.indexOf("hh")>=0)&&(d.hour=this["int"](a.substr(c,2)),c+=2),b.indexOf("mm")>=0&&(d.minute=this["int"](a.substr(c,2)),c+=2),b.indexOf("ss")>=0&&(d.second=this["int"](a.substr(c,2))),d)},debug:function(a){_xfu.log("DEBUG",a)},info:function(a){_xfu.log("INFO ",a)},warn:function(a){_xfu.log("WARN ",a)},error:function(a){_xfu.log("ERROR",a)},fatal:function(a){_xfu.log("FATAL",a)},log:function(a,b){var c,d,e,f,g,h,i=[];c=new Date,d=c.getHours(),e=c.getMinutes(),f=c.getSeconds(),g=c.getMilliseconds(),i.push(d.toString()),i.push(e>9?e:"0"+e),i.push(f>9?f:"0"+f),h=g>99?g:g>9?"0"+g:"00"+g,i.join(":")},log_object:function(a){for(var b in a)_xfu.debug("["+b+"]=["+a[b]+"]")},log_xdataset:function(a){var b=a.getrowcount(),c=a.getcolumncount(),d=0;for(_xfu.debug("data_row_count = "+b),_xfu.debug("data_column_count = "+c),d=0;b>d;d++){var e=a.xf_data_row_arr[d];_xfu.debug("[key="+e.getkey()+"][check="+e.ischeckedrow()+"][op="+e.getrowoperation()+"][data="+e.getdata().join(",")+"]")}},log_keyevent:function(a,b){var c;void 0===b?b="":b+=" ",c=[],c.push("which = "+a.which+", "+a.originalEvent.which),c.push("key = "+a.key+", "+a.originalEvent.key),c.push("code = "+a.code+", "+a.originalEvent.code)},first:function(a,b){return a.substr(0,b)},last:function(a,b){return a.substr(a.length-b)},mid:function(a,b,c){return a.substr(b,c)},quot:function(a){return void 0!==a&&a.length>0&&(a=a.replace(/"/g,"&quot;")),a},intval:function(){var a,b,c,d,e;if(c=parseInt(arguments[0],10),1==isNaN(c))return!1;if(1==arguments.length)return c;if(3==arguments.length){if(e=arguments[2],1==$.isArray(e)&&(e=e.length-1),c<arguments[1]||c>e)return!1}else if(2==arguments.length){for(d=arguments[1],b=d.length,a=0;b>a;a++)if(c==d[a])return c;return!1}return c},"int":function(a){return parseInt(a,10)},"float":function(a){return parseFloat(a)},px:function(a){return a+"px"},pt:function(a){return a+"pt"},pc:function(a){return a+"%"},xml:function(){var a,b,c,d;if(2==arguments.length){if(1==$.isArray(arguments[1])){for(b=[],d=arguments[1].length,c=0;d>c;c++)b.push("<"+arguments[0]+">"+arguments[1][c]+"</"+arguments[0]+">");return b.join("")}return"<"+arguments[0]+">"+arguments[1]+"</"+arguments[0]+">"}b=[];for(a in arguments[0])b.push("<"+a+">"+arguments[0][a]+"</"+a+">");return b.join("")},urlfunc:function(a){return"url("+a+")"},rgbfunc:function(a){return"rgb("+a[0]+","+a[1]+","+a[2]+")"},rgbafunc:function(a,b){return"rgba("+a[0]+","+a[1]+","+a[2]+","+b+")"},_rgbfunc:function(a){var b,c;return a.indexOf("rgb")<0?null:(b=a,b=b.replace(/[^0-9^,]/g,""),c=b.split(","),3!=c.length?null:(c[0]=_xfu.intval(c[0],0,255),c[1]=_xfu.intval(c[1],0,255),c[2]=_xfu.intval(c[2],0,255),c[0]!==!1&&c[1]!==!1&&c[2]!==!1?c:null))},space:function(a){return void 0===a?"":null===a?"":a.replace(/ /g,"&nbsp;")},array:function(a){return $.isArray(a)?a:[a]},color:function(a){return 256*a[2]*256+256*a[1]+a[0]},rgb:function(a){var b,c,d,e;return 3==arguments.length?[_xfu["int"](arguments[0]),_xfu["int"](arguments[1]),_xfu["int"](arguments[2])]:("string"==typeof a&&(a=_xfu["int"](a)),"number"==typeof a?(d=parseInt(a/65536,10),e=a-256*d*256,c=parseInt(e/256,10),b=e-256*c,[b,c,d]):void 0)},str:function(a){var b;return void 0===a?"":(b=typeof a,"string"==b?a:"number"==b?a.toString(10):"boolean"==b?a===!0?"1":"0":a.toString())},bool:function(a){return"boolean"==typeof a?a:1==_xfu["int"](a)},uuid:function(){var a=(new Date).getTime(),b="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)});return b},extend:function(a,b,c){var d;if(c!==!0)for(d in b)"undefined"==typeof a[d]&&(a[d]=b[d]);else for(d in b)a[d]=b[d]},proparr:function(a){var b,c;c=[];for(b in a)c.push(b);return c},ajaxerror:function(a){var b,c=[];switch(a.jqxhr.readyState){case 0:b="uninitialized";break;case 1:b="loading";break;case 2:b="loaded";break;case 3:b="interactive";break;case 4:b="complete";break;default:b="unknown"}c.push(a.message),c.push("URL: "+a.url),c.push("STATE: ("+a.jqxhr.readyState+") "+b),c.push("STATUS: ("+a.jqxhr.status+") "+a.error),a.alert&&alert(c.join("\n"))},async:function(a){void 0===a.timeout&&(a.timeout=0),void 0===a.context?setTimeout(a.func,a.timeout):setTimeout(a.func.bind(a.context),a.timeout)},trim:function(a,b,c){return _xfu.trimend(_xfu.trimstart(a,b),c)},trimstart:function(a,b){var c,d;if(null==a)return"";if(a=_xfu.str(a),void 0===b||1!=b.length)return a.replace(_xfu.EXPR_TRIM_START,"");for(d=a.length,c=0;d>c&&a.charAt(c)==b;c++);return a.substr(c)},trimend:function(a,b){var c,d;if(null==a)return"";if(a=_xfu.str(a),void 0===b||1!=b.length)return a.replace(_xfu.EXPR_TRIM_END,"");for(d=a.length,c=d-1;c>=0&&a.charAt(c)==b;c--);return a.substr(0,c+1)},trimquot:function(a){var b=a.length;return 2>b?a:'"'==a.charAt(0)?a.substr(1,b-2):a},padzero:function(a,b,c){var d,e,f,g;if(void 0===c&&(c=!0),a=a.toString(10),d=a.length,f=b-d,1>f)return a;for(g=[],0==c&&g.push(a),e=0;f>e;e++)g.push("0");return 1==c&&g.push(a),g.join("")},pad:function(a,b,c,d,e,f){var g,h,i,j,k,l;if(void 0===d&&(d=!0),void 0===e&&(e=!0),a=a.toString(10),g=0==e?a.length:_xfu.bytelen(a,0,f),i=b-g,1>i)return a;for(k=[],h=0;i>h;h++)k.push(c);return l=k.join(""),l.length>i&&(l=this.trimlength(l,i)),j=[],0==d&&j.push(a),j.push(l),1==d&&j.push(a),j.join("")},get_tokens_array:function(a,b){for(var c=!1,d=[],e="",f=0;f<a.length;f++)c||a.charAt(f)!=b?'"'==a.charAt(f)?c=!c:e+=a.charAt(f):(d.push(e),e="");return d.push(e),d},hsl_to_rgb:function(a){var b,c,d,e=a[0],f=a[1],g=a[2];if(0==f)b=c=d=g;else{var h=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a},i=.5>g?g*(1+f):g+f-g*f,j=2*g-i;b=h(j,i,e+1/3),c=h(j,i,e),d=h(j,i,e-1/3)}return[Math.round(255*b),Math.round(255*c),Math.round(255*d)]},rgb_to_hsl:function(a){var b=a[0],c=a[1],d=a[2];b/=255,c/=255,d/=255;var e,f,g=Math.max(b,c,d),h=Math.min(b,c,d),i=(g+h)/2;if(g==h)e=f=0;else{var j=g-h;switch(f=i>.5?j/(2-g-h):j/(g+h),g){case b:e=(c-d)/j+(d>c?6:0);break;case c:e=(d-b)/j+2;break;case d:e=(b-c)/j+4}e/=6}return[e,f,i]},cookie:function(){var a,b,c,d,e,f,g,h,i;if(a=arguments[0],1==arguments.length){for(f=a+"=",g=document.cookie.split(";"),h=g.length,e=0;h>e;e++){for(i=g[e];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(f))return unescape(i.substring(f.length,i.length))}return""}return b=arguments[1],3==arguments.length?(c=_xfu["int"](arguments[2]),d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),document.cookie=a+"="+escape(b)+"; path=/; expires="+d.toGMTString()+";"):document.cookie=a+"="+escape(b)+"; path=/;",!0},trimlength:function(a,b,c,d){var e,f,g,h,i;if(i=0,g=0,f=a.length,void 0===c&&(c=!0),void 0===d&&(d=factory?factory.xf_param.HANGUL_BYTE_LENGTH:3),c){for(e=0;f>e&&(h=a.charCodeAt(e),g+=h>>11?d:h>>7?2:1,b>=g);e++)i++;if(g>b)return a.substr(0,i)}else{for(e=f-1;e>=0&&(h=a.charCodeAt(e),g+=h>>11?d:h>>7?2:1,!(g>b));e--);if(g>b)return a.substr(e+1)}return a},bytelen:function(a,b,c){var d,e,f,g;for(void 0===b&&(b=0),void 0===c&&(c=factory?factory.xf_param.HANGUL_BYTE_LENGTH:3),a=_xfu.str(a),e=a.length,f=0,d=b;e>d;d++)g=a.charCodeAt(d),f+=g>>11?c:g>>7?2:1;return f},bytesplit:function(a,b,c,d,e){var f,g,h,i,j;for(i=[],j={next:0,data:""},g=0,j.next=c,f=c;a>f&&(h=b.charCodeAt(f),g+=h>>11?e:h>>7?2:1,!(g>d));f++)i.push(b.charAt(f));return j.next=f,j.data=i.join(""),j},isdate:function(){var a,b,c,d;try{if(1==arguments.length){if($.isPlainObject(arguments[0]))a=arguments[0].year,b=arguments[0].month,c=arguments[0].day;else if("string"==typeof arguments[0]){if(8!=arguments[0].length)return!1;a=parseInt(arguments[0].substr(0,4),10),b=parseInt(arguments[0].substr(4,2),10),c=parseInt(arguments[0].substr(6,2),10)}}else{if(3!=arguments.length)return!1;a=parseInt(arguments[0],10),b=parseInt(arguments[1],10),c=parseInt(arguments[2],10)}if(isNaN(a)||isNaN(b)||isNaN(c))return!1;if(d=new Date(a,b-1,c),100>a){if(d.getFullYear()-1900!=a||d.getMonth()!=b-1||d.getDate()!=c)return!1}else if(d.getFullYear()!=a||d.getMonth()!=b-1||d.getDate()!=c)return!1;return!0}catch(e){return!1}},istime:function(){var a,b,c;try{if(1==arguments.length){if($.isPlainObject(arguments[0]))a=arguments[0].hour,b=arguments[0].minute,c=arguments[0].second;else if("string"==typeof arguments[0]){if(6!=arguments[0].length)return!1;a=parseInt(arguments[0].substr(0,2),10),b=parseInt(arguments[0].substr(2,2),10),c=parseInt(arguments[0].substr(4,2),10)}}else{if(3!=arguments.length)return!1;a=parseInt(arguments[0],10),b=parseInt(arguments[1],10),c=parseInt(arguments[2],10)}return isNaN(a)||isNaN(b)||isNaN(c)?!1:0>a||a>=24?!1:0>b||b>60?!1:!(0>c||c>60)}catch(d){return!1}},throttle:function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:Date.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=Date.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},debounce:function(a,b,c){var d,e,f,g,h,i=function(){var j=Date.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=Date.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},stats:function(){var a,b,c,d,e,f,g,h;if(arguments.length<2||arguments.length>4)return"";if(d=arguments[0],e=arguments[1],2==arguments.length?(f=e.length,g=0,h=f-1):3==arguments.length?(f=arguments[2],g=0,h=f-1):4==arguments.length&&(g=arguments[2],h=arguments[3],f=h-g+1),void 0===g&&(f=e.length),d==XFD_STAT_COUNT)return f;for(d==XFD_STAT_SUM||d==XFD_STAT_AVER?a=0:d==XFD_STAT_MIN?a=XFD_MAX_VALUE:d==XFD_STAT_MAX&&(a=XFD_MIN_VALUE),b=g;h>=b;b++)c=parseFloat(e[b]),1!=isNaN(c)&&(d==XFD_STAT_SUM||d==XFD_STAT_AVER?a+=c:d==XFD_STAT_MIN?a>c&&(a=c):d==XFD_STAT_MAX&&c>a&&(a=c));return isNaN(a)?"":(d==XFD_STAT_MIN?a==XFD_MAX_VALUE&&(a=""):d==XFD_STAT_MAX?a==XFD_MIN_VALUE&&(a=""):d==XFD_STAT_AVER&&(a/=f),a)},unique:function(){var a,b,c,d,e,f,g,h;if(g={},h=[],arguments.length<1||arguments.length>3)return h;for(b=arguments[0],1==arguments.length?(c=b.length,d=0,e=c-1):2==arguments.length?(c=arguments[1],d=0,e=c-1):3==arguments.length&&(c=b.length,d=arguments[1],e=arguments[2]),0>d&&(d=0),e>=c&&(e=c-1),a=d;e>=a;a++)f=b[a],void 0===g[f]&&(g[f]=f,h.push(f));return h},ismobile:function(){var a="win16|win32|win64|mac|linux|sunos|hp-ux";return!!(navigator.platform&&a.indexOf(navigator.platform.toLowerCase())<0)},isapple:function(){var a,b="mac";if(a=null!=navigator.userAgent.match(/iPhone|iPad|iPod/i),1==a)return!0;if(navigator.platform){if(b.indexOf(navigator.platform.toLowerCase())>=0)return!0;if("MacIntel"==navigator.platform&&navigator.maxTouchPoints>1)return!0}return!1},isfunction:function(a){return"function"==typeof a},isie:function(){var a=navigator.userAgent.toLowerCase();return"Netscape"==navigator.appName&&-1!=a.indexOf("trident")||-1!=a.indexOf("msie")},ischrome:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("chrome")&&-1==a.indexOf("opr")&&-1==a.indexOf("edge")},isequalarray:function(a,b){var c,d,e;if(d=a.length,e=b.length,d!=e)return!1;for(c=0;d>c;c++)if(a[c]!==b[c])return!1;return!0},escapehtml:function(a){return a.replace(/[&<>]/g,_xfu.escapehtmlfunc)},escapehtmlfunc:function(a){return _xfu.escapehtmltagmap[a]||a},escapehtmltagmap:{"&":"&amp;","<":"&lt;",">":"&gt;"}},window._xfx={getvalue:function(a){return-1==a.xdataset_row_index?a.xf_xdataset._getposdatabyname(a.xdataset_column_type,a.xdataset_column_id):a.xf_xdataset._getdatabyname(a.xdataset_row_index,a.xdataset_column_type,a.xdataset_column_id)},setxdatasetvalue:function(a,b){-1==a.xdataset_row_index?a.xf_xdataset._setposdatabyname(a.xdataset_column_type,a.xdataset_column_id,b,!0,a,a,-1,-1,-1):a.xf_xdataset._setdatabyname(a.xdataset_row_index,a.xdataset_column_type,a.xdataset_column_id,b,!0,a,a,-1,-1,-1)},on_xdataset_event:function(a,b){var c=!1;switch(b.type){case XFD_XDATASET_EVENT_ROW_DELETE:b.xdataset_row_index<=b.xdataset_pos_index?c=!0:-1==b.xdataset_pos_index&&(c=!0);break;case XFD_XDATASET_EVENT_DATA_UPDATE:-1==a.xdataset_row_index?b.xdataset_row_index==b.xdataset_pos_index&&b.xdataset_column_type==a.xdataset_column_type&&b.xdataset_column_id==a.xdataset_column_id&&(c=!0):a.xdataset_row_index==b.xdataset_row_index&&b.xdataset_column_type==a.xdataset_column_type&&b.xdataset_column_id==a.xdataset_column_id&&(c=!0);break;case XFD_XDATASET_EVENT_DATA_LOAD:c=!0;break;case XFD_XDATASET_EVENT_DATA_POSITION:-1==a.xdataset_row_index&&(c=!0)}1==c&&a._setvalue(a._getvalue(),{is_set_xdataset:!1,event_type:XFD_DATA_CHANGE_BY_XDATASET,is_display_value:!0})},init:function(a,b,c,d,e){a.xf_parent=b,a.object_kind=c,a.control_kind=XFD_CTRLKIND_NONE,a.shape_kind=XFD_SHAPEKIND_NONE,a.is_disabled_by_parent=!1,a.focusout_type=0,c==XFD_OBJKIND_CONTROL?a.control_kind=d:c==XFD_OBJKIND_SHAPE&&(a.shape_kind=d),null===b?a.parent_control_kind=XFD_CTRLKIND_NONE:null===b.xf_component?a.parent_control_kind=XFD_CTRLKIND_NONE:a.parent_control_kind=b.xf_component.control_kind,a.is_expired=!1,a.is_has_focus=!1,a.is_event_locked=!1,a.is_event_locked_subscreen=!1,b&&b.xf_screen&&(a.is_event_locked=b.xf_screen.is_event_locked,a.is_event_locked_subscreen=b.xf_screen.is_event_locked_subscreen),a.xf_create_prop=null,void 0!==e&&(a.xf_create_prop=$.extend({},e)),a.event_name_arr=null,a.css_arr=[],a.xf_xdataset=null,a.xdataset_id="",a.xdataset_column_id="VALUE",a.xdataset_row_index=-1,a.xdataset_type=e.xdataset_type,a.xdataset_column_type=e.xdataset_column_type,a.init_value="",a.originvalue={parentwidth:0,parentheight:0,x:0,y:0,right:0,bottom:0,width:0,height:0},a.border_info={left:{width:0,color:0,style:"1"},top:{width:0,color:0,style:"1"},right:{width:0,color:0,style:"1"},bottom:{width:0,color:0,style:"1"}}},propnewname:function(a,b,c){void 0!==a[b]&&(a[c]=a[b],delete a[b])},propdiff:function(a,b,c,d){var e,f,g;if(void 0!==d&&null!==d||(d={}),null==c)for(g in b)b[g]!==a[g]&&(d[g]=b[g]);else for(f=c.length,e=0;f>e;e++)b[c[e]]!==a[c[e]]&&(d[c[e]]=b[c[e]]);return d},propparam:function(a,b,c){if(null!==a){switch(null!==c&&(a.xf_create_prop=$.extend({},c)),_xfx.style(a,c),a.control_kind){case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_DIV:case XFD_CTRLKIND_P:case XFD_CTRLKIND_MENUBTN:case XFD_CTRLKIND_MENUBTNBOX:void 0===c.border&&(c.border=b.border)}switch(a.shape_kind){case XFD_SHAPEKIND_IMAGE:void 0===c.border&&(c.border=b.border)}void 0===c.transparent&&void 0!==b.transparent&&1==b.transparent&&(c.transparent="1")}_xfx.propconv(a,b,c),_xfx.propinputtype(a,b,c),_xfx.propevent(a,b,c,a.event_name_arr),$.extend(b,c),b.internal_name=factory._internalname(a),a.control_kind!=XFD_CTRLKIND_ROWBOXITEM&&a.control_kind!=XFD_CTRLKIND_MENUBTNBOX&&a.control_kind!=XFD_CTRLKIND_TABLEVIEWITEM&&a.control_kind!=XFD_CTRLKIND_SLIDEITEM&&(a.xdataset_row_index=b.xdataset_row_index,a.originvalue.x=b.x,a.originvalue.y=b.y,a.originvalue.right=b.right,a.originvalue.bottom=b.bottom,a.originvalue.width=b.width,a.originvalue.height=b.height,a.xf_init_prop=$.extend({},b))},propconv:function(a,b,c){var d;for(d in c)void 0!==b[d]&&(c[d]=this.propvalue(a,b,d,c[d]))},propvalue:function(a,b,c,d){var e,f;if(void 0===b[c])return d;if(e=typeof b[c],"number"==e){if(f=_xfu["float"](d),1==isNaN(f))return b[c];if(0==isNaN(f))return f}else{if("boolean"==e)return _xfu.bool(d);if("object"==e&&1==$.isArray(b[c])){if(c.indexOf("font")>=0)return _xfx.font(d);if(c.indexOf("color")>=0)return _xfx.rgb(d);if(4==b[c].length)return _xfx.margin(d)}}return d},propevent:function(a,b,c,d){var e,f;if(void 0!==d&&null!==d||(d=a.event_name_arr,void 0!==d&&null!==d))for(f=d.length,e=0;f>e;e++)b[d[e]]=null,void 0!==c[d[e]]&&null!==c[d[e]]&&(c[d[e]]=_xfx.funcname(c[d[e]]))},propcommon:function(a,b,c,d){b.control_id=-1,b.name="",b.description="",b.in_index=-1,b.out_index=-1,b.arrayindex=-1,b.semantic_tag=0,b.meta_id="",b.position=0,b.anchor=0,b.autosize=1,b.x=0,b.x_percent=100,b.x_unit=0,b.y=0,b.y_percent=100,b.y_unit=0,b.right=0,b.bottom=0,b.width=void 0===c?0:c,b.width_percent=100,b.width_unit=0,b.width_type=0,b.height=void 0===d?0:d,b.height_percent=100,b.height_unit=0,b.height_type=0,b.margin=[0,0,0,0],b.resize_dir=0,b.link_data="",b.enable=!0,void 0!==a.xf_prop&&void 0!==a.xf_prop.enable&&(b.enable=a.xf_prop.enable),b.internal_name="",b.create_mode=_XFD_CREATEMODE_STATIC,b.row_index=0,b.sub_row_index=0,b.column_index=0,b.xdataset_row_index=-1,b.in_hidden_area=!1},propcss:function(a,b,c,d){var e,f;for(f=d.length,e=0;f>e;e++)void 0!==b[d[e]]&&c.push(_xfc.basic(d[e],b[d[e]],!1,null))},propbackimagepos:function(a,b,c){void 0===b.back_imagehorzalign&&void 0===b.back_imagevertalign&&void 0===b.back_imagemargin||c.push(_xfc.backimagepos(null,a.xf_prop.back_imagehorzalign,a.xf_prop.back_imagevertalign,a.xf_prop.back_imagemargin))},propflexalign:function(a,b,c){void 0!==b.horz_align&&c.push(_xfc.justifycontent(null,b.horz_align)),void 0!==b.vert_align&&c.push(_xfc.alignitems(null,b.vert_align))},colorinput:function(a,b,c,d){var e,f;return e={},a.control_kind==XFD_CTRLKIND_COLOR?1==c?(e.fore_color=a.xf_prop.fore_color,e.border_color=a.xf_prop.border_color):a.xf_prop.disable_style_use&&(e.fore_color=a.xf_prop.fore_color_disable,e.border_color=a.xf_prop.border_color_disable):a.control_kind==XFD_CTRLKIND_CHECKBOX||a.control_kind==XFD_CTRLKIND_RADIOBUTTON?1==c?(e.back_color=a.xf_prop.back_color,e.fore_color=a.xf_prop.fore_color):a.xf_prop.disable_style_use&&(e.back_color=a.xf_prop.back_color_disable,e.fore_color=a.xf_prop.fore_color_disable):1==c?(e.back_color=a.xf_prop.back_color,e.fore_color=a.xf_prop.fore_color,e.border_color=a.xf_prop.border_color):a.xf_prop.disable_style_use&&(e.back_color=a.xf_prop.back_color_disable,e.fore_color=a.xf_prop.fore_color_disable,e.border_color=a.xf_prop.border_color_disable),b?(f={},e.border_color&&(f.borderColor=_xfu.rgbfunc(e.border_color)),e.fore_color&&(f.color=_xfu.rgbfunc(e.fore_color)),b.css(f),e.back_color&&_xfc.backcolor(b,a.xf_prop.transparent,e.back_color,a.xf_prop.back_color_opacity)):d&&(e.back_color&&d.push("background-color:"+_xfu.rgbfunc(e.back_color)+";"),e.border_color&&d.push("border-color:"+_xfu.rgbfunc(e.border_color)+";"),e.fore_color&&d.push("color:"+_xfu.rgbfunc(e.fore_color)+";")),e},colorfocus:function(a,b,c,d){var e,f;return f={},0!=a.xf_prop.focus_style_use?(a.control_kind==XFD_CTRLKIND_COLOR?1==c?(f.border_color=a.xf_prop.border_color_focus,f.fore_color=a.xf_prop.fore_color_focus):(f.border_color=a.xf_prop.border_color,f.fore_color=a.xf_prop.fore_color):1==c?(f.back_color=a.xf_prop.back_color_focus,f.border_color=a.xf_prop.border_color_focus,f.fore_color=a.xf_prop.fore_color_focus):(f.back_color=a.xf_prop.back_color,f.border_color=a.xf_prop.border_color,f.fore_color=a.xf_prop.fore_color),b?(e={},f.border_color&&(e.borderColor=_xfu.rgbfunc(f.border_color)),f.fore_color&&(e.color=_xfu.rgbfunc(f.fore_color)),b.css(e),f.back_color&&_xfc.backcolor(b,a.xf_prop.transparent,f.back_color,a.xf_prop.back_color_opacity)):d&&(f.back_color&&d.push("background-color:"+_xfu.rgbfunc(f.back_color)+";"),f.border_color&&d.push("border-color:"+_xfu.rgbfunc(f.border_color)+";"),f.fore_color&&d.push("color:"+_xfu.rgbfunc(f.fore_color)+";")),f):void 0},propinputtype:function(a,b,c){var d,e,f;if(void 0!==c&&null!=c||(c=b),e=void 0===c.apply_inputtypecolor?b.apply_inputtypecolor:c.apply_inputtypecolor,0!=e&&void 0!==e){switch(d=void 0===c.input_type?b.input_type:c.input_type){case 0:factory.xf_param.OPTIONALCOLOR&&(c.back_color=factory.xf_param.OPTIONALCOLOR),factory.xf_param.OPTIONALBORDERCOLOR&&(c.border_color=factory.xf_param.OPTIONALBORDERCOLOR),factory.xf_param.OPTIONALFORECOLOR&&(c.fore_color=factory.xf_param.OPTIONALFORECOLOR),factory.xf_param.OPTIONALCOLORFOCUS&&(c.back_color_focus=factory.xf_param.OPTIONALCOLORFOCUS),factory.xf_param.OPTIONALBORDERCOLORFOCUS&&(c.border_color_focus=factory.xf_param.OPTIONALBORDERCOLORFOCUS),factory.xf_param.OPTIONALFORECOLORFOCUS&&(c.fore_color_focus=factory.xf_param.OPTIONALFORECOLORFOCUS),factory.xf_param.OPTIONALCOLORFOCUS||c.focus_style_use||(c.back_color_focus=null),factory.xf_param.OPTIONALBORDERCOLORFOCUS||c.focus_style_use||(c.border_color_focus=null),factory.xf_param.OPTIONALCOLORFOCUS||c.focus_style_use||(c.fore_color_focus=null),(factory.xf_param.OPTIONALCOLORFOCUS||factory.xf_param.OPTIONALBORDERCOLORFOCUS||factory.xf_param.OPTIONALCOLORFOCUS)&&(c.focus_style_use=!0),f=void 0===c.inputtype_optionkind?b.inputtype_optionkind:c.inputtype_optionkind,void 0!==f&&1==f&&(factory.xf_param.IMPORTANTCOLOR&&(c.back_color=factory.xf_param.IMPORTANTCOLOR),factory.xf_param.IMPORTANTBORDERCOLOR&&(c.border_color=factory.xf_param.IMPORTANTBORDERCOLOR),factory.xf_param.IMPORTANTFORECOLOR&&(c.fore_color=factory.xf_param.IMPORTANTFORECOLOR),factory.xf_param.IMPORTANTCOLORFOCUS&&(c.back_color_focus=factory.xf_param.IMPORTANTCOLORFOCUS),factory.xf_param.IMPORTANTBORDERCOLORFOCUS&&(c.border_color_focus=factory.xf_param.IMPORTANTBORDERCOLORFOCUS),factory.xf_param.IMPORTANTFORECOLORFOCUS&&(c.fore_color_focus=factory.xf_param.IMPORTANTFORECOLORFOCUS),factory.xf_param.IMPORTANTCOLORFOCUS||c.focus_style_use||(c.back_color_focus=null),factory.xf_param.IMPORTANTBORDERCOLORFOCUS||c.focus_style_use||(c.border_color_focus=null),factory.xf_param.IMPORTANTFORECOLORFOCUS||c.focus_style_use||(c.fore_color_focus=null),(factory.xf_param.IMPORTANTCOLORFOCUS||factory.xf_param.IMPORTANTBORDERCOLORFOCUS||factory.xf_param.IMPORTANTFORECOLORFOCUS)&&(c.focus_style_use=!0));break;case 1:factory.xf_param.MANDATORYCOLOR&&(c.back_color=factory.xf_param.MANDATORYCOLOR),factory.xf_param.MANDATORYBORDERCOLOR&&(c.border_color=factory.xf_param.MANDATORYBORDERCOLOR),factory.xf_param.MANDATORYFORECOLOR&&(c.fore_color=factory.xf_param.MANDATORYFORECOLOR),factory.xf_param.MANDATORYCOLORFOCUS&&(c.back_color_focus=factory.xf_param.MANDATORYCOLORFOCUS),
factory.xf_param.MANDATORYBORDERCOLORFOCUS&&(c.border_color_focus=factory.xf_param.MANDATORYBORDERCOLORFOCUS),factory.xf_param.MANDATORYFORECOLORFOCUS&&(c.fore_color_focus=factory.xf_param.MANDATORYFORECOLORFOCUS),factory.xf_param.MANDATORYCOLORFOCUS||c.focus_style_use||(c.back_color_focus=null),factory.xf_param.MANDATORYBORDERCOLORFOCUS||c.focus_style_use||(c.border_color_focus=null),factory.xf_param.MANDATORYCOLORFOCUS||c.focus_style_use||(c.fore_color_focus=null),(factory.xf_param.MANDATORYCOLORFOCUS||factory.xf_param.OPTIONALBORDERCOLORFOCUS||factory.xf_param.MANDATORYFORECOLORFOCUS)&&(c.focus_style_use=!0);break;case 2:case 3:factory.xf_param.PROTECTCOLOR&&(c.back_color=factory.xf_param.PROTECTCOLOR),factory.xf_param.PROTECTBORDERCOLOR&&(c.border_color=factory.xf_param.PROTECTBORDERCOLOR),factory.xf_param.PROTECTFORECOLOR&&(c.fore_color=factory.xf_param.PROTECTFORECOLOR),factory.xf_param.PROTECTCOLORFOCUS&&(c.back_color_focus=factory.xf_param.PROTECTCOLORFOCUS),factory.xf_param.PROTECTBORDERCOLORFOCUS&&(c.border_color_focus=factory.xf_param.PROTECTBORDERCOLORFOCUS),factory.xf_param.PROTECTFORECOLORFOCUS&&(c.fore_color_focus=factory.xf_param.PROTECTFORECOLORFOCUS),factory.xf_param.PROTECTCOLORFOCUS||c.focus_style_use||(c.back_color_focus=null),factory.xf_param.PROTECTBORDERCOLORFOCUS||c.focus_style_use||(c.border_color_focus=null),factory.xf_param.PROTECTCOLORFOCUS||c.focus_style_use||(c.fore_color_focus=null),(factory.xf_param.PROTECTCOLORFOCUS||factory.xf_param.PROTECTBORDERCOLORFOCUS||factory.xf_param.PROTECTFORECOLORFOCUS)&&(c.focus_style_use=!0)}factory.xf_param.DISABLECOLOR&&(c.back_color_disable=factory.xf_param.DISABLECOLOR),factory.xf_param.DISABLEBORDERCOLOR&&(c.border_color_disable=factory.xf_param.DISABLEBORDERCOLOR),factory.xf_param.DISABLEFORECOLOR&&(c.fore_color_disable=factory.xf_param.DISABLEFORECOLOR),factory.xf_param.DISABLECOLOR||c.disable_style_use||(c.back_color_disable=null),factory.xf_param.DISABLEBORDERCOLOR||c.disable_style_use||(c.border_color_disable=null),factory.xf_param.DISABLEFORECOLOR||c.disable_style_use||(c.fore_color_disable=null),(factory.xf_param.DISABLECOLOR||factory.xf_param.DISABLEBORDERCOLOR||factory.xf_param.DISABLEFORECOLOR)&&(c.disable_style_use=!0)}},propbackcolor:function(a,b,c){var d;void 0===b.transparent&&void 0===b.back_color&&void 0===b.back_color_opacity&&a.control_kind!==XFD_CTRLKIND_FIELD&&a.control_kind!==XFD_CTRLKIND_COMBOBOX&&a.control_kind!==XFD_CTRLKIND_DATE&&a.control_kind!==XFD_CTRLKIND_SPINNUMBER&&a.control_kind!==XFD_CTRLKIND_MULTILINE||(d=void 0!==b&&void 0!==b.back_color?b.back_color:a.xf_prop.back_color,c.push(_xfc.backcolor(null,a.xf_prop.transparent,d,a.xf_prop.back_color_opacity)))},inputtypebackcolor:function(a,b){var c;return a.xf_prop.apply_inputtypecolor===!0&&(1==a.xf_prop.enable?0==a.xf_prop.input_type?c=_xf_param.OPTIONALCOLOR:1==a.xf_prop.input_type?c=_xf_param.MANDATORYCOLOR:2!=a.xf_prop.input_type&&3!=a.xf_prop.input_type||(c=_xf_param.PROTECTCOLOR):c=_xf_param.DISABLECOLOR),void 0===c&&(c=void 0!==b&&void 0!==b.back_color?b.back_color:a.xf_prop.back_color),c},propgradient:function(a,b,c){void 0===b.back_image&&void 0===b.gradient_effect||_xfc.gradient(null,a.xf_prop.gradient_effect,a.xf_prop.gradient_startcolor,a.xf_prop.gradient_endcolor,a.xf_prop.back_image,c)},parentsize:function(a){var b={width:0,height:0};return null==a.xf_parent.xf_component?(b.width=Math.max(a.xf_parent.xf_screen.xf_object.innerWidth(),window.innerWidth),b.height=Math.max(a.xf_parent.xf_screen.xf_object.innerHeight(),window.innerHeight)):(b.width=a.xf_parent.xf_content.xf_object.innerWidth(),b.height=a.xf_parent.xf_content.xf_object.innerHeight()),b},resizedirheight:function(a,b){var c,d;return d=_xfu["int"](b),c=d-a.originvalue.y-a.originvalue.bottom,1==a.xf_prop.in_hidden_area&&null==a.xf_parent.xf_component&&(c+=a.xf_parent.xf_screen.xf_prop.canvas_height-a.xf_parent.xf_screen.original_screen_height),c},resizedirwidth:function(a,b){var c,d;return d=_xfu["int"](b),c=d-a.originvalue.x-a.originvalue.right,1==a.xf_prop.in_hidden_area&&null==a.xf_parent.xf_component&&(c+=a.xf_parent.xf_screen.xf_prop.canvas_width-a.xf_parent.xf_screen.original_screen_width),c},resizesize:function(a){var b,c;return c=_xfx.parentsize(a),b={width:a.xf_prop.width,height:a.xf_prop.height},0==a.xf_prop.height_unit?2!=a.xf_prop.resize_dir&&3!=a.xf_prop.resize_dir||(b.height=_xfx.resizedirheight(a,c.height)):1==a.xf_prop.height_unit&&(b.height=_xfu["int"](c.height*(a.xf_prop.height_percent/100))),0==a.xf_prop.width_unit?1!=a.xf_prop.resize_dir&&3!=a.xf_prop.resize_dir||(b.width=_xfx.resizedirwidth(a,c.width)):1==a.xf_prop.width_unit&&(b.width=_xfu["int"](c.width*(a.xf_prop.width_percent/100))),b},sizeposcss:function(a,b,c){var d;d=_xfx.zindex(a,!1),d&&c.push("z-index:"+d+";"),_xfx.sizecss(a,b,c),_xfx.poscss(a,b,c)},poscss:function(a,b,c){if(0===b.position||2===b.position)_xfx.anchorcss(a,b,c);else if(1===b.position){if(void 0===b.margin)return;0==b.margin[0]&&0==b.margin[1]&&0==b.margin[2]&&0==b.margin[3]||c.push(_xfc.basic("margin",b.margin,!1,null))}},sizecss:function(a,b,c){-1===b.width?c.push("width:100%;"):void 0===b.width_type||0==b.width_type?void 0===b.width_unit||0===b.width_unit?c.push("width:"+b.width+"px;"):1===b.width_unit&&c.push("width:"+b.width_percent+"%;"):1==b.width_type&&(void 0!==b.max_width_percent&&0!=b.max_width_percent||c.push("width:auto;")),-1===b.height?c.push("height:100%;"):void 0===b.height_type||0==b.height_type?void 0===b.height_unit||0===b.height_unit?c.push("height:"+b.height+"px;"):1===b.height_unit&&c.push("height:"+b.height_percent+"%;"):1==b.height_type?c.push("height:auto;"):2==b.height_type&&(c.push("height:auto;"),void 0===b.height_unit||0===b.height_unit?c.push("min-height:"+b.height+"px;"):1===b.height_unit&&c.push("min-height:"+b.height_percent+"%;"))},propclass:function(a,b,c){var d=[];switch(d.push("_xf_object"),d.push(c),a.control_kind){case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_PUSHBUTTON:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_MENUBTN:case XFD_CTRLKIND_MENUBTNBOX:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_DIV:case XFD_CTRLKIND_P:d.push("_xfd_border_style_none")}switch(a.shape_kind){case XFD_SHAPEKIND_IMAGE:d.push("_xfd_border_style_none")}if(d.push(this.anchorclass(b.anchor)),d.push(this.boxshadowclass(b.boxshadow_type)),_xf_prototype_mode===!0)switch(a.control_kind){case XFD_CTRLKIND_PUSHBUTTON:4===b.border&&d.push("_xfd_border_style_none");break;default:0===b.border&&d.push("_xfd_border_style_none")}return d.join(" ")},anchorclass:function(a){if(void 0===a)return"";switch(a){case 0:return"_xfd_pos_topleft";case 1:return"_xfd_pos_bottomleft";case 2:return"_xfd_pos_topright";case 3:return"_xfd_pos_bottomright";case 4:return"_xfd_pos_middleleft";case 5:return"_xfd_pos_topcenter";case 6:return"_xfd_pos_middlecenter";case 7:return"_xfd_pos_middleright";case 8:return"_xfd_pos_bottomcenter";default:return""}},anchorcss:function(a,b,c){if(void 0===b.anchor)return c.push("left:"+b.x+"px;"),void c.push("top:"+b.y+"px;");switch(b.anchor){case 0:c.push("left:"+b.x+"px;"),c.push("top:"+b.y+"px;"),c.push("right:auto;bottom:auto;");break;case 1:c.push("left:"+b.x+"px;"),c.push("bottom:"+b.bottom+"px;"),c.push("right:auto;top:auto;");break;case 2:c.push("right:"+b.right+"px;"),c.push("top:"+b.y+"px;"),c.push("left:auto;bottom:auto;");break;case 3:c.push("right:"+b.right+"px;"),c.push("bottom:"+b.bottom+"px;"),c.push("left:auto;top:auto;");break;case 4:c.push("left:"+b.x+"px;"),c.push("right:auto;");break;case 5:c.push("top:"+b.y+"px;"),c.push("bottom:auto;");break;case 6:break;case 7:c.push("right:"+b.right+"px;"),c.push("left:auto;");break;case 8:c.push("bottom:"+b.bottom+"px;"),c.push("top:auto;")}},bordercss:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(w=[],""===b.border_ex||void 0===b.border_ex)return b.border?(c.push(_xfc.basic("border",b.border,!1,null)),a.border_info.left.width=b.border,a.border_info.top.width=b.border,a.border_info.right.width=b.border,a.border_info.bottom.width=b.border):(c.push(_xfc.basic("border",a.xf_prop.border,!1,null)),a.border_info.left.width=a.xf_prop.border,a.border_info.top.width=a.xf_prop.border,a.border_info.right.width=a.xf_prop.border,a.border_info.bottom.width=a.xf_prop.border),void(b.border_color?(c.push(_xfc.basic("border_color",b.border_color,!1,null)),a.border_info.left.color=b.border_color,a.border_info.top.color=b.border_color,a.border_info.right.color=b.border_color,a.border_info.bottom.color=b.border_color):(a.border_info.left.color=a.xf_prop.border_color,a.border_info.top.color=a.xf_prop.border_color,a.border_info.right.color=a.xf_prop.border_color,a.border_info.bottom.color=a.xf_prop.border_color));switch(d=b.border_ex.split("^"),e=d[0].split(","),f=d[1].split(","),g=d[2].split(","),h=d[3].split(","),i=d[4].split(","),j=e[0],k=e[1],t=_xfx.rgb(e[2]),l=e[3],o=e[4],w=e[5].split("-"),p=e[6],q=e[7],m=e[8],n=e[9],u=e[10],v=e[11],c.push("border-width:"+_xfu.px(k)+";"),a.border_info.left.width=parseInt(k,10),a.border_info.top.width=parseInt(k,10),a.border_info.right.width=parseInt(k,10),a.border_info.bottom.width=parseInt(k,10),c.push("border-color:"+_xfu.rgbfunc(t)+";"),a.border_info.left.color=t,a.border_info.top.color=t,a.border_info.right.color=t,a.border_info.bottom.color=t,m){case"0":c.push("border-style:none;");break;case"1":c.push("border-style:solid;");break;case"2":c.push("border-style:dashed;");break;case"3":c.push("border-style:dotted;")}if(a.border_info.left.style=m,a.border_info.top.style=m,a.border_info.right.style=m,a.border_info.bottom.style=m,0!==n)switch(u=_xfx.rgb(u),v=_xfx.rgb(v),n){case"1":c.push("border-image: -moz-linear-gradient(top,  "+_xfu.rgbfunc(u)+" 0%, "+_xfu.rgbfunc(v)+" 100%);"),c.push("border-image: -webkit-linear-gradient(top,  "+_xfu.rgbfunc(u)+" 0%, "+_xfu.rgbfunc(v)+" 100%);"),c.push("border-image: linear-gradient(to bottom,  "+_xfu.rgbfunc(u)+" 0%,"+_xfu.rgbfunc(v)+" 100%);"),c.push("border-image-slice: 1;");break;case"2":c.push("border-image: -moz-linear-gradient(left,  "+_xfu.rgbfunc(u)+" 0%, "+_xfu.rgbfunc(v)+" 100%);"),c.push("border-image: -webkit-linear-gradient(left,  "+_xfu.rgbfunc(u)+" 0%, "+_xfu.rgbfunc(v)+" 100%);"),c.push("border-image: linear-gradient(to right,  "+_xfu.rgbfunc(u)+" 0%,"+_xfu.rgbfunc(v)+" 100%);"),c.push("border-image-slice: 1;")}if(""!==l){switch(c.push("border-image-source:"+_xfx.imageurlfunc(l)+";"),p){case"0":r="repeat";break;case"1":r="round";break;case"2":r="stretch"}switch(q){case"0":r+=" repeat";break;case"1":r+=" round";break;case"2":r+=" stretch"}switch(c.push("border-image-repeat:"+r+";"),o){case"0":c.push("border-image-slice:"+w[0]+" "+w[1]+" "+w[2]+" "+w[3]+";");break;case"1":c.push("border-image-slice:"+_xfu.pc(w[0])+" "+_xfu.pc(w[1])+" "+_xfu.pc(w[2])+" "+_xfu.pc(w[3])+";")}}s=_xfx.borderdir("top",f,c,n,l),s&&(a.border_info.top=s),s=_xfx.borderdir("right",g,c,n,l),s&&(a.border_info.right=s),s=_xfx.borderdir("bottom",h,c,n,l),s&&(a.border_info.bottom=s),s=_xfx.borderdir("left",i,c,n,l),s&&(a.border_info.left=s)},borderdir:function(a,b,c,d,e){var f,g,h,i,j,k;for(f={width:0,color:0,style:"0"},k=[],g=0;g<b.length;g++)0===g?h=b[g]:1===g?(i=b[g],f.width=parseInt(i,10)):2===g?(k=_xfx.rgb(b[g]),f.color=k):3===g&&(j=b[g],f.style=j);return"1"===h?(this.borderdircss(a,i,k,j,c,d,e),f):null},borderdircss:function(a,b,c,d,e,f,g){var h;if(void 0===f&&(f="0"),void 0===g&&(g=""),e.push("border-"+a+"-width:"+_xfu.px(b)+";"),"0"===f&&""===g){switch(e.push("border-"+a+"-color:"+_xfu.rgbfunc(c)+";"),d){case"0":h="none";break;case"1":h="solid";break;case"2":h="dashed";break;case"3":h="dotted";break;case"4":h="double";break;default:h="solid"}e.push("border-"+a+"-style:"+h+";")}},boxshadowclass:function(a){switch(a){case 1:return"_xfe_boxshadow_xs";case 2:return"_xfe_boxshadow_sm";case 3:return"_xfe_boxshadow_md";case 4:return"_xfe_boxshadow_lg";case 5:return"_xfe_boxshadow_xl";default:return""}},textshadowclass:function(a){switch(a){case 1:return"_xfe_textshadow_xs";case 2:return"_xfe_textshadow_sm";case 3:return"_xfe_textshadow_md";case 4:return"_xfe_textshadow_lg";case 5:return"_xfe_textshadow_xl";default:return""}},iframeurl:function(a){return a?_xf_param.ENGINEHTMLURL+"?xframe_screen_url="+a:_xf_param.ENGINEHTMLURL},callback:function(a,b){var c=null;return _xfu.isfunction(b)?b:(c=a.xf_execution_context[b],_xfu.isfunction(c)?c:null)},event:function(a,b){var c,d;for(d=b.length,c=0;d>c;c++)null!==a[b[c]]&&void 0!==a[b[c]]&&(a[b[c]]=_xfx.funcname(a[b[c]]))},engineimageurlfunc:function(a){return _xfu.urlfunc(_xf_param.ENGINEURL+"/image/"+a)},engineimageurl:function(a){return _xf_param.ENGINEURL+"/image/"+a},enginecssimageurl:function(a){return _xf_param.ENGINEURL+"/css/image/"+a},screenurl:function(a){return _xf_param.ENGINEHTMLURL+"?xframe_screen_url="+a},imageurl:function(a){var b;return void 0===a||0===a.length?"":(b=new RegExp("^http[s]?:\\/\\/(www\\.)?"),b.test(a)?encodeURI(a):_xf_param.IMAGEBASEURL+encodeURI(a))},imageurlfunc:function(a){var b=new RegExp("^http[s]?:\\/\\/(www\\.)?");return b.test(a)?_xfu.urlfunc(encodeURI(a)):_xfu.urlfunc(_xf_param.IMAGEBASEURL+encodeURI(a))},picklisturl:function(a){return factory.xf_param.PICKLISTBASEURL+encodeURI(a)+".pic"},picklisturlfunc:function(a){return _xfu.urlfunc(factory.xf_param.PICKLISTBASEURL+encodeURI(a)+".pic")},fontstr:function(a){var b=[];return b.push(a[0]),b.push(a[1]),b.push(a[2]),b.push(1==a[3]?"1":"0"),b.push(1==a[4]?"1":"0"),b.push(1==a[5]?"1":"0"),b.join(",")},font:function(a){var b,c,d,e,f,g;if(b=a.split(","),c=!1,d=!1,e=!1,b[1]=_xfu["int"](b[1]),b[2]=_xfu["int"](b[2]),"1"==b[3]&&(c=!0),"1"==b[4]&&(d=!0),6==b.length&&"1"==b[5]&&(e=!0),factory.xf_param.WEBFONT_FAMILY_LIST)for(g=factory.xf_param.WEBFONT_FAMILY_LIST.length,f=0;g>f;f++)if(factory.xf_param.WEBFONT_FAMILY_LIST[f]==b[0].substr(0,factory.xf_param.WEBFONT_FAMILY_LIST[f].length)){b[0]=factory.xf_param.WEBFONT_FAMILY_LIST[f];break}return[b[0],b[1],b[2],c,d,e]},classname:function(a){return a},name:function(a){return void 0!==a.name&&0!==a.name.length||void 0===a.control_id?a.name:XFD_INTERNAL_NAME_PREFIX+a.control_id},margin:function(a){var b,c;if(0===a.length)return[0,0,0,0];for(b=a.split(","),c=0;4>c;c++)b[c]=_xfu["int"](b[c]);return b},rgb:function(a){return[parseInt(a.substr(6),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16)]},rgbhex:function(){var a,b,c;return 1==arguments.length?(a=arguments[0][0],b=arguments[0][1],c=arguments[0][2]):3==arguments.length&&(a=arguments[0],b=arguments[1],c=arguments[2]),"00"+_xfu.padzero(c.toString(16),2).toUpperCase()+_xfu.padzero(b.toString(16),2).toUpperCase()+_xfu.padzero(a.toString(16),2).toUpperCase()},funcname:function(a){var b,c,d,e;if(d=a.split(":"),1==d.length)e=a;else{if(2!=d.length)return"";e=d[1]}return b=e.indexOf("("),0>b?e:(c=e.substr(0,b),d=c.split("."),3==d.length&&(c=d[2],b=c.indexOf("="),b>=0&&(c=c.substr(0,b)),b=c.indexOf(" "),b>=0&&(c=c.substr(0,b))),c)},funcinst:function(a,b){var c,d,e,f;if(0==b.length)return null;if(c=b.split("."),1==c.length){if(f=b,d=a.xf_parent.xf_content.xf_execution_context,a.xf_parent&&a.xf_parent.xf_content&&a.xf_parent.xf_content.xf_execution_context&&1==_xfu.isfunction(d[f]))return d[f]}else if(2==c.length&&(e=c[0],f=c[1],window[e]&&window[e][f]&&_xfu.isfunction(window[e][f])))return window[e][f];return null},xdatasetid:function(a){return"_"+a.xf_prop.name+"_xdataset"},xdatasetcolumnid:function(a){return"_"+a.xdataset_id+"_"+_xfu.uuid()},zindex:function(a,b){var c="";return _xf_htmlready_mode===!0?c:a.xf_parent&&a.xf_parent.xf_content?(c=void 0!==_xf_param.SHAPE_IS_COMPONENT&&1==_xf_param.SHAPE_IS_COMPONENT?a.xf_parent.xf_content.last_control_zindex++:a.object_kind==XFD_OBJKIND_CONTROL?a.xf_parent.xf_content.last_control_zindex++:a.xf_parent.xf_content.last_shape_zindex++,b===!0&&a.xf_object.css("z-index",c),c):c},register:function(a,b,c,d){if(void 0===d&&(d=!0),_xf_htmlready_mode===!0)a.xf_object=$("#"+a.xf_prop.internal_name);else{if(null===a.xf_parent)return void(void 0===b||b?$(document.body).append(a.xf_object):(document.body.insertAdjacentHTML("beforeend",c.join("")),a.xf_object=$("#"+a.xf_prop.internal_name)));if(void 0===b||b)a.xf_parent.xf_content.xf_object.append(a.xf_object);else{if(a.xf_parent.xf_content&&a.xf_parent.xf_content.xf_object)if(factory.xf_param.MULTI_REGISTER_MODE===!0&&a.xf_parent.xf_screen&&0==a.xf_parent.xf_screen.is_onload_register_complete){if(!_xfx.iscontainercomponent(a)&&a.control_kind!=XFD_CTRLKIND_TABLE)return void a.xf_parent.xf_content.register_component_info_arr.push({xf_component:a,component_html:c.join("")});_xfx.register_component_arr(a.xf_parent.xf_content),a.xf_parent.xf_content.xf_object[0].insertAdjacentHTML("beforeend",c.join(""))}else a.xf_parent.xf_content.xf_object[0].insertAdjacentHTML("beforeend",c.join(""));a.xf_object=a.xf_parent.xf_content.xf_object.find("#"+a.xf_prop.internal_name)}}_xfx.register_component(a,d)},register_component_arr:function(a){var b,c,d;if(c=a.register_component_info_arr.length,!(0>=c)){for(d=[],b=0;c>b;b++)d.push(a.register_component_info_arr[b].component_html);for(a.xf_object[0].insertAdjacentHTML("beforeend",d.join("")),b=0;c>b;b++)_xfx.register_component(a.register_component_info_arr[b].xf_component,!0);a.register_component_info_arr=[]}},register_component:function(a,b){var c,d,e,f,g;if(void 0===b&&(b=!0),null!==a.xf_parent&&a.xf_parent.xf_content&&a.xf_parent.xf_content.xf_object){if(d=a.xf_parent.xf_screen,e=a.xf_parent.xf_content,a.xf_object=e.xf_object.find("#"+a.xf_prop.internal_name),null!==d)if(void 0!==a.xf_prop.control_id&&a.xf_prop.control_id>=0&&(g=a.getcontrolid(),d.id_map[g]=a,d.last_control_id=Math.max(d.last_control_id,g)),void 0===a.xf_prop.arrayindex||-1==a.xf_prop.arrayindex)void 0!==a.xf_prop.name&&a.xf_prop.name.length>0&&(d.name_map[a.xf_prop.name]=a,e.xf_execution_context[a.xf_prop.name]=a),void 0!==a.xf_prop.in_index&&a.xf_prop.in_index>-1&&(d.index_map[a.xf_prop.in_index]=a);else if(a.xf_prop.arrayindex>=0&&a.xf_prop.name.length>0)for(f=d._getinstancearraybyname(a.xf_prop.name),null==f&&(f=[],d.name_map[a.xf_prop.name]=f,e.xf_execution_context[a.xf_prop.name]=f),f[a.xf_prop.arrayindex]=a,c=0;c<f.length;c++)void 0===f[c]&&(f[c]=null);a.xf_prop.create_mode!=_XFD_CREATEMODE_GRID&&b&&(_xfu.isfunction(e.register)?e.register(a):a.object_kind===XFD_OBJKIND_CONTROL?e.controls.push(a):a.object_kind===XFD_OBJKIND_SHAPE&&(void 0!==_xf_param.SHAPE_IS_COMPONENT&&1==_xf_param.SHAPE_IS_COMPONENT?e.controls.push(a):e.shapes.push(a)))}},unregister:function(a){var b,c,d,e,f;if(null!==a.xf_parent&&null!==a.xf_parent.xf_screen&&(e=a.xf_parent.xf_screen,f=a.xf_parent.xf_content,void 0!==a.xf_prop.control_id&&a.xf_prop.control_id>=0&&delete e.id_map[a.xf_prop.control_id],void 0===a.xf_prop.arrayindex||-1==a.xf_prop.arrayindex?(void 0!==a.xf_prop.name&&a.xf_prop.name.length>0&&delete e.name_map[a.xf_prop.name],void 0!==a.xf_prop.in_index&&a.xf_prop.in_index>-1&&delete e.index_map[a.xf_prop.in_index],void 0!==a.xf_prop.name&&a.xf_prop.name.length>0&&delete window[a.xf_prop.name]):a.xf_prop.arrayindex>=0&&a.xf_prop.name.length>0&&(d=e._getinstancearraybyname(a.xf_prop.name),null!=d&&(void 0===a.xf_prop.create_mode?d[a.xf_prop.arrayindex]=null:d.splice(a.xf_prop.arrayindex,1))),a.xf_prop.create_mode!=_XFD_CREATEMODE_GRID))if(_xfu.isfunction(f.unregister))f.unregister(a);else if(a.object_kind==XFD_OBJKIND_CONTROL){for(c=a.xf_parent.xf_content.controls.length,b=0;c>b;b++)if(a.xf_parent.xf_content.controls[b]===a){a.xf_parent.xf_content.controls.splice(b,1);break}}else if(a.object_kind==XFD_OBJKIND_SHAPE)for(c=a.xf_parent.xf_content.shapes.length,b=0;c>b;b++)if(a.xf_parent.xf_content.shapes[b]===a){a.xf_parent.xf_content.shapes.splice(b,1);break}},style:function(a,b){var c,d,e,f;if(void 0!==b.style&&0!==b.style.length&&null!==a.xf_parent&&void 0!==a.xf_parent&&(d=b.style.split(","),e=d.length,0!=e)){for(c={},f=0;e>f;f++)void 0!==a.xf_parent.xf_screen.global_style[d[f]]&&(c=$.extend(c,a.xf_parent.xf_screen.global_style[d[f]].xf_prop));$.extend(b,$.extend(c,b))}},prop:function(a,b,c,d){var e,f,g;if(g=["position","x","y","width","height","transparent"],f=g.length,null!==a)for(void 0!==d.control_id?d.internal_name=XFD_INTERNAL_NAME_PREFIX+a.getcontrolid():d.internal_name=XFD_INTERNAL_NAME_PREFIX+_xfu.uuid(),_xfx.style(a,d),e=0;f>e;e++)void 0===d[g[e]]&&void 0!==b[g[e]]&&(d[g[e]]=b[g[e]]);_xfx.prop_conv(c,d)},prop_conv:function(a,b){var c;for(c in b)if(void 0!==a[c])switch(a[c]){case XFD_PROP_INT:b[c]=_xfu["int"](b[c]);break;case XFD_PROP_BOOL:b[c]=_xfu.bool(b[c]);break;case XFD_PROP_COLOR:b[c]=_xfx.rgb(b[c]);break;case XFD_PROP_FONT:b[c]=_xfx.font(b[c]);break;case XFD_PROP_MARGIN:b[c]=_xfx.margin(b[c]);break;case XFD_PROP_FLOAT:b[c]=_xfu["float"](b[c])}},xdataset:function(a,b,c){var d;if(void 0===b&&(b=!0),void 0===c&&(c=!0),a.xf_prop.link_data.length>0)if(d=a.xf_prop.link_data.split(":"),a.xdataset_id=d[0],void 0===a.xdataset_type&&(a.xdataset_type=XFD_XDATASET_NORMAL),a.xf_xdataset=a.xf_parent.xf_content.xf_execution_context[a.xdataset_id],void 0!==a.xf_xdataset&&null!=a.xf_xdataset||(a.xdataset_type=XFD_XDATASET_GLOBAL,a.xf_xdataset=factory.getglobalxdataset(a.xdataset_id)),_xfx.isvalidxdataset(a,!0)){if(1==d.length)return void a.xf_xdataset._addlinkobject(a);if(2==d.length&&(a.xdataset_column_id=d[1],void 0===a.xdataset_column_type&&(a.xdataset_column_type=XFD_XDATASET_COLUMN_DATA),_xfx.isvalidxdatasetcolumn(a,!0)))return void a.xf_xdataset._addlinkobject(a)}else a.xf_xdataset=null;b&&(null===a.xf_xdataset&&(a.xdataset_id=_xfx.xdatasetid(a),a.xdataset_type=XFD_XDATASET_INNER,a.xf_xdataset=new XF_XDATASET(null,{id:a.xdataset_id}),a.xf_xdataset.xdataset_type=XFD_XDATASET_INNER),c===!0&&(a.xdataset_column_id=_xfx.xdatasetcolumnid(a),a.xdataset_column_type=XFD_XDATASET_COLUMN_INNER,a.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,a.xdataset_column_id,"",0,!1)),a.xf_xdataset._addlinkobject(a))},defaultvalueinfo:function(a,b){var c,d,e;if(c={default_value:"",is_set_xdataset:!1},a.xdataset_column_type==XFD_XDATASET_COLUMN_INNER)d=!0;else{if(c.default_value=a._getvalue(),e=void 0,void 0===e&&void 0!==a.xf_prop.default_value_usage&&(e=a.xf_prop.default_value_usage),void 0===e&&void 0!==a.xf_prop.default_check_usage&&(e=a.xf_prop.default_check_usage),void 0===e&&void 0!==a.xf_prop.default_select_usage&&(e=a.xf_prop.default_select_usage),void 0===e&&void 0!==a.xf_prop.default_text_usage&&(e=a.xf_prop.default_text_usage),void 0===e&&void 0!==a.xf_prop.default_image_usage&&(e=a.xf_prop.default_image_usage),void 0===e&&void 0!==a.xf_prop.default_state_usage&&(e=a.xf_prop.default_state_usage),void 0===e&&void 0!==a.xf_prop.default_source_usage&&(e=a.xf_prop.default_source_usage),void 0===e)return a.init_value=c.default_value,c;switch(d=!1,e){case 1:d=!0;break;case 2:0==a.xf_xdataset.getrowcount()&&(d=!0);break;case 3:0==c.default_value.length&&(d=!0)}}if(d)if(c.is_set_xdataset=!0,_xfu.isfunction(a._defaultvalue))c.default_value=a._defaultvalue();else if(void 0!==b)c.default_value=b;else switch(a.control_kind){case XFD_CTRLKIND_CHECKBOX:a.xf_prop.default_check?c.default_value=a.xf_prop.true_value:c.default_value=a.xf_prop.false_value;break;case XFD_CTRLKIND_RADIOBUTTON:a.xf_prop.default_select&&(c.default_value=a.xf_prop.select_value);break;case XFD_CTRLKIND_TOGGLEBUTTON:a.xf_prop.default_state&&(c.default_value=a.xf_prop.on_value);break;default:void 0!==a.xf_prop.default_value&&(c.default_value=a.xf_prop.default_value)}return a.init_value=c.default_value,c},semantictag:function(a,b){var c=["article","aside","details","figcaption","figure","footer","header","main","mark","nav","section","summary","time"];return 0==a.xf_prop.semantic_tag?b:c[a.xf_prop.semantic_tag-1]},isvalidxdataset:function(a,b){var c;return null!==a.xf_xdataset?!0:void 0!==b&&0==b?!1:(c=[],c.push("Invalid link_data property value."),c.push("(XDataSet is not defined.)"),null!==a.xf_parent&&null!==a.xf_parent.xf_screen&&c.push("screen = "+a.xf_parent.xf_screen.getscreenurl()),c.push("control_id = "+a.xf_prop.control_id),c.push("name = "+a.xf_prop.name),c.push("link_data = "+a.xf_prop.link_data),alert(c.join("\n")),!1)},isvalidxdatasetcolumn:function(a,b){var c,d;return d=a.xf_xdataset._getcolumn(a.xdataset_column_type,a.xdataset_column_id),-1!=d?!0:void 0!==b&&0==b?!1:(c=[],c.push("Invalid link_data property value."),c.push("(XDataSet column is not defined.)"),null!==a.xf_parent&&null!==a.xf_parent.xf_screen&&c.push("screen = "+a.xf_parent.xf_screen.getscreenurl()),c.push("control_id = "+a.xf_prop.control_id),c.push("name = "+a.xf_prop.name),c.push("link_data = "+a.xf_prop.link_data),alert(c.join("\n")),!1)},getfont:function(a){var b={};return b.szfontname=a[0],b.nfontsize=_xfu["int"](a[1]),0==a[2]?b.bfontbold=!1:1==a[2]?b.bfontbold=!0:b.bfontbold=a[1],b.bfontitalic=a[3],b.bfontunderline=a[4],b.bfontstrikeout=a[5],b},setfont:function(a,b,c,d,e,f,g,h){void 0===h&&(h=!1),null!=b&&(b[0]=c,b[1]=_xfu["int"](d),e===!0?b[2]=1:e===!1?b[2]=0:b[2]=_xfu["int"](e),b[3]=f,b[4]=g,b[5]=h),a.css({"font-family":c,"font-size":_xfu.pt(_xfu["int"](d)),"font-weight":e===!0?"bold":e===!1?"normal":e,"font-style":f?"italic":"normal","text-decoration":g?"underline":h?"line-through":"none"})},regexp:function(a){var b,c;return b=a.replace(/\?/g,"."),c=b.replace(/\*/g,".*"),c==a?null:(c="^"+c,new RegExp(c))},ismatchtofilter:function(a,b,c,d,e,f){var g,h;if(a==XFD_FILTER_ALL)return!0;if(a==XFD_FILTER_EXIST)return f.length>0;if(a==XFD_FILTER_NULL)return 0==f.length;if(a==XFD_FILTER_TEXT||a==XFD_FILTER_EXPR){if("="==b)return null!=c?c.test(f):d==f;if("<>"==b)return null!=c?!c.test(f):d!=f;if(e==XFD_DATA_NUMBER?(g=parseFloat(f),h=parseFloat(d)):(g=f,h=d),">"==b)return g>h;if(">="==b)return g>=h;if("<"==b)return h>g;if("<="==b)return h>=g}return!0},createobject:function(a,b,c,d,e,f,g,h,i){var j;return void 0===i&&(i=""),j={x:e,y:f,width:g,height:h,style:i,create_mode:_XFD_CREATEMODE_API},this.createobjectex(a,b,c,d,j)},createobjectex:function(a,b,c,d,e){var f,g,h;switch(h=$.extend({},e),h.control_id=xf_screen._newcontrolid(),f={xf_screen:a,xf_component:b,xf_content:c},void 0===h.create_mode&&(h.create_mode=_XFD_CREATEMODE_API),d=_xfu["int"](d)){case XFD_CTRLKIND_HYPERTEXT:_xfl_extendlib("XF_TEXT"),g=new XF_TEXT(f,h);break;case XFD_CTRLKIND_MULTILINE:_xfl_extendlib("XF_MULTILINE"),g=new XF_MULTILINE(f,h);break;case XFD_CTRLKIND_PUSHBUTTON:_xfl_extendlib("XF_BUTTON"),g=new XF_BUTTON(f,h);break;case XFD_CTRLKIND_CHECKBOX:_xfl_extendlib("XF_CHECKBOX"),g=new XF_CHECKBOX(f,h);break;case XFD_CTRLKIND_RADIOBUTTON:_xfl_extendlib("XF_RADIO"),g=new XF_RADIO(f,h);break;case XFD_CTRLKIND_TAB:_xfl_extendlib("XF_TAB"),g=new XF_TAB(f,h);break;case XFD_CTRLKIND_PANEL:_xfl_extendlib("XF_PANEL"),g=new XF_PANEL(f,h);break;case XFD_CTRLKIND_COMBOBOX:_xfl_extendlib("XF_COMBOBOX"),g=new XF_COMBOBOX(f,h);break;case XFD_CTRLKIND_TABLE:_xfl_extendlib("XF_TABLE"),g=new XF_TABLE(f,h);break;case XFD_CTRLKIND_TREE:_xfl_extendlib("XF_TREE"),g=new XF_TREE(f,h);break;case XFD_CTRLKIND_WEBBROWSER:_xfl_extendlib("XF_WEBBROWSER"),g=new XF_WEBBROWSER(f,h);break;case XFD_CTRLKIND_IMAGE:_xfl_extendlib("XF_IMAGE"),g=new XF_IMAGE(f,h);break;case XFD_CTRLKIND_TIMER:_xfl_extendlib("XF_TIMER"),g=new XF_TIMER(f,h);break;case XFD_CTRLKIND_PROGRESSBAR:_xfl_extendlib("XF_PROGRESSBAR"),g=new XF_PROGRESSBAR(f,h);break;case XFD_CTRLKIND_FIELD_NORMAL:_xfl_extendlib("XF_FIELD"),g=new XF_FIELD(f,h);break;case XFD_CTRLKIND_FIELD_NUMERIC:_xfl_extendlib("XF_NUMBER"),g=new XF_NUMBER(f,h);break;case XFD_CTRLKIND_FIELD_HANGUL:_xfl_extendlib("XF_HANGUL"),g=new XF_HANGUL(f,h);break;case XFD_CTRLKIND_FIELD_PASSWORD:_xfl_extendlib("XF_PASSWORD"),g=new XF_PASSWORD(f,h);break;case XFD_CTRLKIND_PAGINGBAR:_xfl_extendlib("XF_PAGINGBAR"),g=new XF_PAGINGBAR(f,h);break;case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_MULTILINEGRID:h.control_kind=d,_xfl_extendlib("XF_GRID"),g=new XF_GRID(f,h);break;case XFD_CTRLKIND_WEBFILEMANAGER:_xfl_extendlib("XF_WEBFILEMANAGER"),g=new XF_WEBFILEMANAGER(f,h);break;case XFD_CTRLKIND_STATUSBAR:_xfl_extendlib("XF_STATUSBAR"),g=new XF_STATUSBAR(f,h);break;case XFD_CTRLKIND_WEBSOCKET:_xfl_extendlib("XF_WEBSOCKET"),g=new XF_WEBSOCKET(f,h);break;case XFD_CTRLKIND_DATE:_xfl_extendlib("XF_DATE"),g=new XF_DATE(f,h);break;case XFD_CTRLKIND_P:_xfl_extendlib("XF_P"),g=new XF_P(f,h);break;case XFD_CTRLKIND_DIV:_xfl_extendlib("XF_DIV"),g=new XF_DIV(f,h);break;case XFD_CTRLKIND_SPINNUMBER:_xfl_extendlib("XF_SPINNUMBER"),g=new XF_SPINNUMBER(f,h);break;case XFD_CTRLKIND_SELECTBOX:_xfl_extendlib("XF_SELECTBOX"),g=new XF_SELECTBOX(f,h);break;case XFD_CTRLKIND_MAPVIEW:_xfl_extendlib("XF_MAPVIEW"),g=new XF_MAPVIEW(f,h);break;case XFD_CTRLKIND_VIDEO:_xfl_extendlib("XF_VIDEO"),g=new XF_VIDEO(f,h);break;case XFD_CTRLKIND_AUDIO:_xfl_extendlib("XF_AUDIO"),g=new XF_AUDIO(f,h);break;case XFD_CTRLKIND_CALENDAR:_xfl_extendlib("XF_CALENDAR"),g=new XF_CALENDAR(f,h);break;case XFD_CTRLKIND_ROWBOX:_xfl_extendlib("XF_ROWBOX"),g=new XF_ROWBOX(f,h);break;case XFD_CTRLKIND_MENUBTN:_xfl_extendlib("XF_MENUBTN"),g=new XF_MENUBTN(f,h);break;case XFD_CTRLKIND_TABLEVIEW:_xfl_extendlib("XF_TABLEVIEW"),g=new XF_TABLEVIEW(f,h);break;case XFD_CTRLKIND_SLIDE:_xfl_extendlib("XF_SLIDE"),g=new XF_SLIDE(f,h);break;case XFD_CTRLKIND_DOWNLOADER:_xfl_extendlib("XF_DOWNLOADER"),g=new XF_DOWNLOADER(f,h);break;case XFD_CTRLKIND_UPLOADER:_xfl_extendlib("XF_UPLOADER"),g=new XF_UPLOADER(f,h);break;case XFD_CTRLKIND_NAVIBAR:_xfl_extendlib("XF_NAVIBAR"),g=new XF_NAVIBAR(f,h);break;case XFD_CTRLKIND_RATINGBAR:_xfl_extendlib("XF_RATINGBAR"),g=new XF_RATINGBAR(f,h);break;case XFD_CTRLKIND_FILE:_xfl_extendlib("XF_FILE"),g=new XF_FILE(f,h);break;case XFD_CTRLKIND_CANVAS:_xfl_extendlib("XF_CANVAS"),g=new XF_CANVAS(f,h);break;case XFD_CTRLKIND_CHARTLNB:case XFD_CTRLKIND_CHARTPIE:case XFD_CTRLKIND_SPINDATE:default:return null}return g._create(),g.xf_prop.hidden&&g.setvisible(!1),g},createshape:function(a,b,c,d,e,f,g,h,i){var j;return void 0===i&&(i=""),j=XFD_SHAPEKIND_LINE==_xfu["int"](d)?{x1:e,y1:f,x2:g,y2:h,style:i}:{x:e,y:f,width:g,height:h,style:i},this.createshapeex(a,b,c,d,j)},createshapeex:function(a,b,c,d,e){var f,g,h;switch(h=$.extend({},e),h.control_id=xf_screen._newcontrolid(),f={xf_screen:a,xf_component:b,xf_content:c},d=_xfu["int"](d)){case XFD_SHAPEKIND_ELLIPSE:case XFD_SHAPEKIND_RECT:case XFD_SHAPEKIND_ROUNDRECT:h.shape_kind=d,_xfl_extendlib("XF_RECTANGLE"),g=new XF_RECTANGLE(f,h);break;case XFD_SHAPEKIND_TRIANGLE:case XFD_SHAPEKIND_DIAMOND:h.shape_kind=d,_xfl_extendlib("XF_DIAMOND"),g=new XF_DIAMOND(f,h);break;case XFD_SHAPEKIND_LINE:_xfl_extendlib("XF_LINE"),g=new XF_LINE(f,h);break;case XFD_SHAPEKIND_IMAGE:h.object_kind=XFD_OBJKIND_SHAPE,h.transparent="1",_xfl_extendlib("XF_IMAGE"),g=new XF_IMAGE(f,h);break;case XFD_SHAPEKIND_CAPTION:h.object_kind=XFD_OBJKIND_SHAPE,h.transparent="1",_xfl_extendlib("XF_TEXT"),g=new XF_TEXT(f,h);break;default:return null}return g._create(),g.xf_prop.hidden&&g.setvisible(!1),g},islistviewtemplate:function(a,b){return a.parent_control_kind!=XFD_CTRLKIND_LISTVIEW||void 0!==b.create_mode&&b.create_mode!=_XFD_CREATEMODE_STATIC&&b.create_mode!=_XFD_CREATEMODE_PORTLET?!1:(a.xf_parent.xf_component._addlistviewtemplate(a,a.xf_parent,b),!0)},iscontainercomponent:function(a){var b;if(void 0===a||null===a)return!1;if(_xfu.isfunction(a.getcontrolkind)===!1)return!1;switch(b=a.getcontrolkind()){case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_MENUBTN:case XFD_CTRLKIND_ROWBOX:case XFD_CTRLKIND_LISTVIEW:case XFD_CTRLKIND_TABLEVIEW:case XFD_CTRLKIND_SLIDE:return!0;default:return!1}},iskeyfunction:function(a,b){return a.keyCode>=112&&a.keyCode<=123},iskeyfocus:function(a,b){var c;return b.is_focus_next=0,_xfx.iskeyfocusnext(a)?factory._callbackfocusmovekey(b,b.xf_prop.input_type,b.value,!0,a.keyCode)===!1?(a.preventDefault(),0):(b.next_focus_dir=1,b.event_keydown&&(c=factory._firekeyevent(b,b.event_keydown),1===c)?(a.preventDefault(),0):(b.focusout_type=1,b.xf_parent&&b.xf_parent.xf_screen&&(a.which==XFD_KEY_ENTER?b.xf_parent.xf_screen.setcontrolfocusnext(b,!0,!0,!0):b.xf_parent.xf_screen.setcontrolfocusnext(b,!0,!1,!0)),
1)):_xfx.iskeyfocusprev(a)?0==factory._callbackfocusmovekey(b,b.xf_prop.input_type,b.value,!1,a.keyCode)?(a.preventDefault(),0):(b.next_focus_dir=-1,b.event_keydown&&(c=factory._firekeyevent(b,b.event_keydown),1===c)?(a.preventDefault(),0):(b.focusout_type=1,b.xf_parent&&b.xf_parent.xf_screen&&(a.which==XFD_KEY_ENTER?b.xf_parent.xf_screen.setcontrolfocusprev(b,!0,!0):b.xf_parent.xf_screen.setcontrolfocusprev(b,!0,!1)),-1)):0},unpatternsymbol:function(a,b){var c=b;return a.xf_prop.pattern_front_symbol.length>0&&(c=c.replace(a.xf_prop.pattern_front_symbol,"")),a.xf_prop.pattern_rear_symbol.length>0&&(c=c.replace(a.xf_prop.pattern_rear_symbol,"")),c},input:function(a){var b;switch(b=a.xf_object,a.control_kind){case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:b=a.xf_edit;break;case XFD_CTRLKIND_MULTILINE:b=a.xf_multiline}return b},copyevent:function(a,b,c){var d,e,f,g;return factory.xf_param.PROTECT_COPY?void c.preventDefault():0==a.xf_prop.enable&&factory.xf_param.PROTECT_COPY_DISABLE?void c.preventDefault():void 0===a.xf_prop.input_type||2!=a.xf_prop.input_type&&3!=a.xf_prop.input_type||!factory.xf_param.PROTECT_COPY_PROTECT?void(_xfu.isfunction(a._unfmt)&&(d=_xfj.select(b[0]),d.end-d.start>0&&(e=b.val(),f=e.substring(d.start,d.end),g=a._unfmt(f),_xfj.eventcopyvalue(c,g)))):void c.preventDefault()},cutevent:function(a,b,c){var d,e,f,g,h;return 0==a.xf_prop.enable?void c.preventDefault():void 0===a.xf_prop.input_type||2!=a.xf_prop.input_type&&3!=a.xf_prop.input_type?factory.xf_param.PROTECT_COPY?void c.preventDefault():0==a.xf_prop.enable&&factory.xf_param.PROTECT_COPY_DISABLE?void c.preventDefault():void 0===a.xf_prop.input_type||2!=a.xf_prop.input_type&&3!=a.xf_prop.input_type||!factory.xf_param.PROTECT_COPY_PROTECT?(e=_xfj.select(b.get(0)),f=e.end-e.start,void(0!=f&&(d=b.val(),g=d.split(""),g.splice(e.start,f),h=e.start,_xfx.copyevent(a,b,c),a._setvalue(g.join(""),{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,cursor_pos:h,event_type:XFD_DATA_CHANGE_BY_KEYUP})))):void c.preventDefault():void c.preventDefault()},autoskip:function(a,b){var c,d;if(c=-1,b==XFD_DATA_CHANGE_BY_KEYUP||b==XFD_DATA_CHANGE_BY_API&&1==a.ishasfocus()){if(a.value.length<a.xf_prop.max_length&&(void 0===a.is_check_autoskip_maxlength||1==a.is_check_autoskip_maxlength))return this.is_check_autoskip_maxlength=!0,0;if(this.is_check_autoskip_maxlength=!0,1==a.xf_prop.auto_skip){if(a.xf_prop.create_mode==_XFD_CREATEMODE_GRID)return a.next_focus_dir=1,a.xf_prop.xf_grid.setfocus(),0;a.event_keydown&&b==XFD_DATA_CHANGE_BY_KEYUP&&factory._firekeyevent(a,a.event_keydown),void 0!==a.value&&void 0!==a.value_on_focus&&a.value_on_focus!==a.value&&(d=a.value_on_focus,a.value_on_focus=a.value,factory._fireevent({xf_component:a,event_name:"on_changed",is_fire_async:!0},a,d,a.value)),a.focusout_type=2,c=_xfx.focusmove(a,!0)}else c=!1,void 0!==a.value&&void 0!==a.value_on_focus&&a.value_on_focus!==a.value&&(d=a.value_on_focus,a.value_on_focus=a.value,factory._fireevent({xf_component:a,event_name:"on_changed",is_fire_async:!0},a,d,a.value));return c===!1?0:1}return c},focusmove:function(a,b){return void 0===a.xf_parent||null===a.xf_parent?!1:void 0===a.xf_parent.xf_screen||null===a.xf_parent.xf_screen?!1:b?a.xf_parent.xf_screen.setcontrolfocusnext(a,!0):a.xf_parent.xf_screen.setcontrolfocusprev(a,!0)},makecase:function(a,b){return 1==a?b=b.toUpperCase():2==a&&(b=b.toLowerCase()),b},iskeyinputblock:function(a,b){return!!this.iskeydefined(a,factory.xf_param.KEYMAP_INPUT_BLOCK)},iskeydupfield:function(a,b){return this.iskeydefined(a,factory.xf_param.KEYMAP_DUP_FIELD)?(void 0!==b&&b.filldupdata(),!0):!1},iskeytriplezero:function(a,b){return!!this.iskeydefined(a,factory.xf_param.KEYMAP_TRIPLE_ZERO)},iskeyfocusnext:function(a){if(a.altKey||a.ctrlKey)return!1;if(!a.shiftKey){if(a.keyCode==XFD_KEY_TAB)return!0;if(this.iskeydefined(a,factory.xf_param.KEYMAP_FOCUS_NEXT))return!0}return!1},iskeyfocusprev:function(a){if(a.altKey||a.ctrlKey)return!1;if(a.shiftKey){if(a.keyCode==XFD_KEY_TAB)return!0;if(this.iskeydefined(a,factory.xf_param.KEYMAP_FOCUS_NEXT))return!0}return!!this.iskeydefined(a,factory.xf_param.KEYMAP_FOCUS_PREV)},iskeydefined:function(a,b){var c,d;if(void 0===b)return!1;for(d=b.length,c=0;d>c;c++)if(b[c]==a.keyCode)return!0;return!1},trimimagesplit:function(a){var b;return void 0===a||0==a.length?a:(b=a.split(","),_xfu.trimquot(b[0]))},imagesplitinfo:function(a){var b,c;return c={is_split:!1,image_url:"",left_end:0,middle_end:0},b=a.split(","),3==b.length?(c.is_split=!0,c.image_url=_xfu.trimquot(b[0]),c.left_end=_xfu["int"](b[1]),c.middle_end=_xfu["int"](b[2])):c.image_url=a,c},splitimage:function(a,b,c,d){var e,f,g,h,i,j;h=a[0],i=h.getContext("2d"),j=new Image,e=a.outerWidth(),j.src=_xfx.imageurl(b),j.onload=function(){f=_xfu["int"](j.width)-_xfu["int"](d),g=_xfu["int"](e)-_xfu["int"](c)-f,i.drawImage(j,0,0,c,j.height,0,0,c,j.height),i.drawImage(j,c,0,d-c,j.height,c,0,g,j.height),i.drawImage(j,d,0,f,j.height,e-f,0,f,j.height)}}},XF_API.prototype.animatestop=function(a,b){this.xf_object.stop(a,b)},XF_API.prototype.animatefinish=function(){this.xf_object.finish()},XF_API.prototype.animate=function(a,b,c,d){var e=this;return b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1?!1:(""==c&&(c="swing"),"linear"!==c&&"swing"!==c?!1:(this.xf_object.animate(a,b,c,function(){1==_xfu.isfunction(window[d])?window[d](e,a,b,c):1==_xfu.isfunction(d)&&d(e,a,b,c)}),!0))},XF_API.prototype.rotate=function(a,b,c,d,e){var f,g,h;if(f=this,b=_xfu.intval(b,-360,360),b===!1)return!1;if(void 0===c&&(c=0),c=_xfu.intval(c,0,XFD_MAX_VALUE),c===!1)return!1;if(void 0===d&&(d="ease"),"linear"!==d&&"ease"!==d)return!1;switch(a=a.toUpperCase()){case"X":h="rotateX";break;case"Y":h="rotateY";break;case"Z":h="rotateZ";break;default:return!1}return g={transition:"transform "+c+"ms "+d,transform:h+"("+b+"deg)"},f.xf_object.off("transitionend"),f.xf_object.on("transitionend",function(g){f.xf_object.off("transitionend"),f.xf_object.css("transition","none"),_xfu.isfunction(window[e])?window[e](f,a,b,c,d):_xfu.isfunction(e)&&e(f,a,b,c,d)}),f.xf_object.css(g),!0},XF_API.prototype.destroy=function(){this.is_expired=!0,_xfu.isfunction(this._offevent)&&this._offevent(),this.xf_object.remove(),this.xf_xdataset&&this.xf_xdataset.xdataset_type==XFD_XDATASET_GLOBAL&&this.xf_xdataset._deletelinkobject(this),_xfx.unregister(this)},XF_API.prototype.ensurevisible=function(){this.xf_object.get(0).scrollIntoView()},XF_API.prototype.fittext=function(a,b,c){var d,e;switch(d=_xfj.textsize(this.xf_prop.text,this.xf_prop.font),e=this.getrect(),void 0===a&&(a=3),void 0===b&&(b=2),void 0===c&&(c=2),this.control_kind){case XFD_CTRLKIND_HYPERTEXT:if(""!=this.xf_prop.image&&0==this.xf_prop.image_hidden)switch(this.xf_prop.image_position){case 0:case 1:d.width+=$("._xfd_textbox_image").get(0).clientWidth,d.height=Math.max(d.height,$("._xfd_textbox_image").get(0).clientHeight);break;case 2:case 3:d.width=Math.max(d.width,$("._xfd_textbox_image").get(0).clientWidth),d.height+=$("._xfd_textbox_image").get(0).clientHeight;break;case 4:}d.width+=this.xf_prop.text_margin[0]+this.xf_prop.text_margin[1]+2*this.xf_prop.border,d.height+=this.xf_prop.text_margin[2]+this.xf_prop.text_margin[3]+2*this.xf_prop.border,1!=a&&3!=a||(1==b?e[0]=e[2]-d.width:2==b&&(e[2]=e[0]+d.width)),2!=a&&3!=a||(1==c?e[1]=e[3]-d.height:2==c&&(e[3]=e[1]+d.height)),0!=a&&this.setrect(e[0],e[1],e[2],e[3]);break;case XFD_CTRLKIND_PUSHBUTTON:d.width+=this.xf_prop.text_margin[0]+this.xf_prop.text_margin[1],d.height+=this.xf_prop.text_margin[2]+this.xf_prop.text_margin[3],this.xf_prop.border<4&&(d.width+=2,d.height+=2),1!=a&&3!=a||(1==b?e[0]=e[2]-d.width:2==b&&(e[2]=e[0]+d.width)),2!=a&&3!=a||(1==c?e[1]=e[3]-d.height:2==c&&(e[3]=e[1]+d.height)),0!=a&&this.setrect(e[0],e[1],e[2],e[3])}},XF_API.prototype.forcepaint=function(){var a;a=this.xf_object.css("display"),this.xf_object.css("display","none"),this.xf_object.outerHeight(!1),this.xf_object.css("display",a)},XF_API.prototype.getarrayindex=function(){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:return-1;default:return this.xf_prop.arrayindex}},XF_API.prototype.setarrayindex=function(a){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:break;default:this.xf_prop.arrayindex=_xfu["int"](a)}},XF_API.prototype.getbackcolor=function(){if(this.object_kind!=XFD_OBJKIND_SHAPE)return _xfu.color(this.xf_prop.back_color);switch(this.shape_kind){case XFD_SHAPEKIND_LINE:return 0;default:return _xfu.color(this.xf_prop.back_color)}},XF_API.prototype.setbackcolor=function(a,b,c){if(this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_TRIANGLE:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this._draw_triangle(this.xf_prop.transparent);break;case XFD_SHAPEKIND_DIAMOND:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this._draw_diamond(this.xf_prop.transparent);break;default:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this.xf_prop.transparent||this.xf_object.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color))}else switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:break;case XFD_CTRLKIND_PANEL:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this.xf_prop.transparent||this.xf_panel_content.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color)),this.xf_partial_border_cover.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color));break;case XFD_CTRLKIND_TAB:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this.xf_prop.tabitemarea_transparent||this.xf_itembox.xf_object.css({"background-color":_xfu.rgbfunc(this.xf_prop.back_color)});break;case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this.xf_prop.transparent||this.xf_edit.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color));break;case XFD_CTRLKIND_MENUBTN:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this.xf_prop.transparent||this.xf_menubtn_btn.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color));break;default:this.xf_prop.back_color=[_xfu["int"](a),_xfu["int"](b),_xfu["int"](c)],this.xf_prop.transparent||this.xf_object.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color))}},XF_API.prototype.setbackcolorex=function(a){var b;switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_PANEL:break;default:return b=_xfu.rgb(a),this.setbackcolor(b[0],b[1],b[2])}},XF_API.prototype.setbackcoloropacity=function(a,b){if(void 0===b)b=0;else if(b=_xfu.intval(b,0,1),b===!1)return!1;if(a=0==b?_xfu.intval(a,0,10):_xfu.intval(a,0,100),a===!1)return!1;if(this.xf_prop.opacity_value_type=b,this.xf_prop.back_color_opacity=a,this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_IMAGE:_xfc.backcolor(this.xf_object,this.xf_prop.transparent,this.xf_prop.back_color,this.xf_prop.back_color_opacity,this.xf_prop.opacity_value_type);break;default:return!1}else switch(this.control_kind){case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_MULTILINEGRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_STATUSBAR:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_TIMER:case XFD_CTRLKIND_PAGINGBAR:case XFD_CTRLKIND_MAPVIEW:case XFD_CTRLKIND_CALENDAR:case XFD_CTRLKIND_VIDEO:case XFD_CTRLKIND_AUDIO:case XFD_CTRLKIND_SELECTBOX:case XFD_CTRLKIND_MENUBTN:case XFD_CTRLKIND_RATINGBAR:case XFD_CTRLKIND_UPLOADER:case XFD_CTRLKIND_DOWNLOADER:case XFD_CTRLKIND_WEBSOCKET:case XFD_CTRLKIND_MOBILE:case XFD_CTRLKIND_TABLEVIEW:case XFD_CTRLKIND_SCHEDULE:case XFD_CTRLKIND_FILE:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_CANVAS:return!1;case XFD_CTRLKIND_PANEL:_xfc.backcolor(this.xf_panel_content,this.xf_prop.transparent,this.xf_prop.back_color,this.xf_prop.back_color_opacity,this.xf_prop.opacity_value_type),_xfc.backcolor(this.xf_partial_border_cover,this.xf_prop.transparent,this.xf_prop.back_color,this.xf_prop.back_color_opacity,this.xf_prop.opacity_value_type);break;case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:_xfc.backcolor(this.xf_edit,this.xf_prop.transparent,this.xf_prop.back_color,this.xf_prop.back_color_opacity,this.xf_prop.opacity_value_type);break;default:_xfc.backcolor(this.xf_object,this.xf_prop.transparent,this.xf_prop.back_color,this.xf_prop.back_color_opacity,this.xf_prop.opacity_value_type)}return!0},XF_API.prototype._getbordertargetobject=function(){if(this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_TRIANGLE:case XFD_SHAPEKIND_DIAMOND:return null;default:return this.xf_object}else switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_TABLE:return null;case XFD_CTRLKIND_PANEL:return this.xf_outer_content_wrapper;case XFD_CTRLKIND_TOGGLEBUTTON:return this.xf_object;case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:return this.xf_edit;case XFD_CTRLKIND_MENUBTN:return this.xf_menubtn_btn;default:return this.xf_object}},XF_API.prototype.getborder=function(){return this.xf_prop.border},XF_API.prototype.setborder=function(a){var b;return this.xf_prop.border=_xfu["int"](a),b=this._getbordertargetobject(),null==b?!0:void _xfc.basic("border",this.xf_prop.border,!0,b)},XF_API.prototype.getbordercolor=function(){return _xfu.color(this.xf_prop.border_color)},XF_API.prototype.getbordercolorex=function(a){return[_xfu.color(this.border_info.top.color),_xfu.color(this.border_info.right.color),_xfu.color(this.border_info.bottom.color),_xfu.color(this.border_info.left.color)]},XF_API.prototype.getbordercolordir=function(a){var b=0;switch(a=_xfu["int"](a)){case XFD_BORDER_TOP:return _xfu.color(this.border_info.top.color);case XFD_BORDER_RIGHT:return _xfu.color(this.border_info.right.color);case XFD_BORDER_BOTTOM:return _xfu.color(this.border_info.bottom.color);case XFD_BORDER_LEFT:return _xfu.color(this.border_info.left.color)}return b},XF_API.prototype.setbordercolor=function(a){var b,c;if(c=_xfu.rgb(a),this.xf_prop.border_color=c,this.border_info.top.color=c,this.border_info.right.color=c,this.border_info.bottom.color=c,this.border_info.left.color=c,b=this._getbordertargetobject(),null==b){switch(this.shape_kind){case XFD_SHAPEKIND_TRIANGLE:this._draw_triangle(this.xf_prop.transparent);break;case XFD_SHAPEKIND_DIAMOND:this._draw_diamond(this.xf_prop.transparent)}return!0}return b.css("border-color",_xfu.rgbfunc(c)),!0},XF_API.prototype.setbordercolorex=function(a){var b;if(!$.isArray(a)||4!=a.length)return!1;switch(-1!=a[0]&&(this.border_info.top.color=_xfu.rgb(a[0])),-1!=a[1]&&(this.border_info.right.color=_xfu.rgb(a[1])),-1!=a[2]&&(this.border_info.bottom.color=_xfu.rgb(a[2])),-1!=a[3]&&(this.border_info.left.color=_xfu.rgb(a[3])),this.control_kind){case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_MULTILINEGRID:this.xf_object.find("._xfd_border_top").css("border-top-color",_xfu.rgbfunc(this.border_info.top.color)),this.xf_object.find("._xfd_border_right").css("border-right-color",_xfu.rgbfunc(this.border_info.right.color)),this.xf_object.find("._xfd_border_bottom").css("border-bottom-color",_xfu.rgbfunc(this.border_info.bottom.color)),this.xf_object.find("._xfd_border_left").css("border-left-color",_xfu.rgbfunc(this.border_info.left.color));break;default:b=this._getbordertargetobject(),b.css({"border-top-color":_xfu.rgbfunc(this.border_info.top.color),"border-right-color":_xfu.rgbfunc(this.border_info.right.color),"border-bottom-color":_xfu.rgbfunc(this.border_info.bottom.color),"border-left-color":_xfu.rgbfunc(this.border_info.left.color)})}return!0},XF_API.prototype.setbordercolordir=function(a,b){var c,d,e="";switch(a=_xfu["int"](a),c=_xfu.rgb(b),a){case XFD_BORDER_TOP:e="border-top-color",this.border_info.top.color=c;break;case XFD_BORDER_RIGHT:e="border-right-color",this.border_info.right.color=c;break;case XFD_BORDER_BOTTOM:e="border-bottom-color",this.border_info.bottom.color=c;break;case XFD_BORDER_LEFT:e="border-left-color",this.border_info.left.color=c;break;case XFD_BORDER_ALL:this.border_info.top.color=c,this.border_info.right.color=c,this.border_info.bottom.color=c,this.border_info.left.color=c;break;default:return!1}switch(this.control_kind){case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_MULTILINEGRID:if(a===XFD_BORDER_ALL)this.xf_object.find("._xfd_border_top").css("border-top-color",_xfu.rgbfunc(this.border_info.top.color)),this.xf_object.find("._xfd_border_right").css("border-right-color",_xfu.rgbfunc(this.border_info.right.color)),this.xf_object.find("._xfd_border_bottom").css("border-bottom-color",_xfu.rgbfunc(this.border_info.bottom.color)),this.xf_object.find("._xfd_border_left").css("border-left-color",_xfu.rgbfunc(this.border_info.left.color));else switch(a){case XFD_BORDER_TOP:this.xf_object.find("._xfd_border_top").css("border-top-color",_xfu.rgbfunc(this.border_info.top.color));break;case XFD_BORDER_RIGHT:this.xf_object.find("._xfd_border_right").css("border-right-color",_xfu.rgbfunc(this.border_info.right.color));break;case XFD_BORDER_BOTTOM:this.xf_object.find("._xfd_border_bottom").css("border-bottom-color",_xfu.rgbfunc(this.border_info.bottom.color));break;case XFD_BORDER_LEFT:this.xf_object.find("._xfd_border_left").css("border-left-color",_xfu.rgbfunc(this.border_info.left.color))}break;default:if(d=this._getbordertargetobject(),null==d)return!0;a===XFD_BORDER_ALL?d.css({"border-left-color":_xfu.rgbfunc(c),"border-right-color":_xfu.rgbfunc(c),"border-top-color":_xfu.rgbfunc(c),"border-bottom-color":_xfu.rgbfunc(c)}):d.css(e,_xfu.rgbfunc(c))}return!0},XF_API.prototype.getborderstyle=function(){return this.xf_prop.border_style},XF_API.prototype.getborderstyleex=function(){return[this.border_info.top.style,this.border_info.right.style,this.border_info.bottom.style,this.border_info.left.style]},XF_API.prototype.getborderstyledir=function(a){var b=0;switch(a){case XFD_BORDER_TOP:return this.border_info.top.style;case XFD_BORDER_RIGHT:return this.border_info.right.style;case XFD_BORDER_BOTTOM:return this.border_info.bottom.style;case XFD_BORDER_LEFT:return this.border_info.left.style}return b},XF_API.prototype.setborderstyle=function(a){var b,c;switch(a=_xfu["int"](a)){case 0:b="none";break;case 1:b="solid";break;case 2:b="dashed";break;case 3:b="dotted";break;case 4:b="double";break;default:return!1}return this.xf_prop.border_style=a,this.border_info.left.style=a,this.border_info.right.style=a,this.border_info.top.style=a,this.border_info.bottom.style=a,c=this._getbordertargetobject(),null==c?!0:(c.css("border-style",b),!0)},XF_API.prototype.setborderstyledir=function(a,b){var c,d,e;switch(a=_xfu["int"](a),b=_xfu["int"](b)){case 0:c="none";break;case 1:c="solid";break;case 2:c="dashed";break;case 3:c="dotted";break;case 4:c="double";break;default:return!1}switch(a){case XFD_BORDER_TOP:e="border-top-style",this.border_info.top.style=b;break;case XFD_BORDER_RIGHT:e="border-right-style",this.border_info.right.style=b;break;case XFD_BORDER_BOTTOM:e="border-bottom-style",this.border_info.bottom.style=b;break;case XFD_BORDER_LEFT:e="border-left-style",this.border_info.left.style=b;break;case XFD_BORDER_ALL:this.border_info.left.style=b,this.border_info.right.style=b,this.border_info.top.style=b,this.border_info.bottom.style=b;break;default:return!1}return d=this._getbordertargetobject(),null==d?!0:(a===XFD_BORDER_ALL?d.css({"border-left-style":c,"border-right-style":c,"border-top-style":c,"border-bottom-style":c}):d.css(e,c),!0)},XF_API.prototype.getborderwidth=function(){return this.xf_prop.border_width},XF_API.prototype.getborderwidthex=function(a){return[this.border_info.top.width,this.border_info.right.width,this.border_info.bottom.width,this.border_info.left.width]},XF_API.prototype.getborderwidthdir=function(a){var b=0;switch(a){case XFD_BORDER_TOP:return this.border_info.top.width;case XFD_BORDER_RIGHT:return this.border_info.right.width;case XFD_BORDER_BOTTOM:return this.border_info.bottom.width;case XFD_BORDER_LEFT:return this.border_info.left.width}return b},XF_API.prototype.setborderwidth=function(a){var b;return this.xf_prop.border_width=_xfu["int"](a),this.border_info.left.width=this.xf_prop.border_width,this.border_info.right.width=this.xf_prop.border_width,this.border_info.top.width=this.xf_prop.border_width,this.border_info.bottom.width=this.xf_prop.border_width,b=this._getbordertargetobject(),null==b?!0:void b.css("border-width",_xfu.px(a))},XF_API.prototype.setborderwidthex=function(a){var b;if(!$.isArray(a)||4!=a.length)return!1;if(-1!=a[0]&&(this.border_info.top.width=_xfu["int"](a[0])),-1!=a[1]&&(this.border_info.right.width=_xfu["int"](a[1])),-1!=a[2]&&(this.border_info.bottom.width=_xfu["int"](a[2])),-1!=a[3]&&(this.border_info.left.width=_xfu["int"](a[3])),b=this._getbordertargetobject(),null==b)return!1;switch(b.css({"border-left-width":_xfu.px(this.border_info.top.width),"border-right-width":_xfu.px(this.border_info.right.width),"border-top-width":_xfu.px(this.border_info.bottom.width),"border-bottom-width":_xfu.px(this.border_info.left.width)}),this.control_kind){case XFD_CTRLKIND_PANEL:this._style()}return!0},XF_API.prototype.setborderwidthdir=function(a,b){var c,d;switch(b=_xfu["int"](b),a=_xfu["int"](a)){case XFD_BORDER_LEFT:d="border-left-width",this.border_info.left.width=b;break;case XFD_BORDER_RIGHT:d="border-right-width",this.border_info.right.width=b;break;case XFD_BORDER_TOP:d="border-top-width",this.border_info.top.width=b;break;case XFD_BORDER_BOTTOM:d="border-bottom-width",this.border_info.bottom.width=b;break;case XFD_BORDER_ALL:this.border_info.left.width=b,this.border_info.right.width=b,this.border_info.top.width=b,this.border_info.bottom.width=b;break;default:return!1}if(c=this._getbordertargetobject(),null==c)return!0;switch(a===XFD_BORDER_ALL?c.css({"border-left-width":_xfu.px(b),"border-right-width":_xfu.px(b),"border-top-width":_xfu.px(b),"border-bottom-width":_xfu.px(b)}):c.css(d,_xfu.px(b)),this.control_kind){case XFD_CTRLKIND_PANEL:this._style()}return!0},XF_API.prototype.getcontrolid=function(){return this.xf_prop.control_id},XF_API.prototype.getcontrolkind=function(){return this.control_kind},XF_API.prototype.getcustomprop=function(a){return void 0===this.xf_prop[a]?"":this.xf_prop[a]},XF_API.prototype.setcustomprop=function(a,b){this.xf_prop[a]=b},XF_API.prototype.getdescription=function(){return this.xf_prop.description},XF_API.prototype.setdescription=function(a){this.xf_prop.description=a},XF_API.prototype.getdisablestyleuse=function(){return void 0===this.xf_prop.disable_style_use?!1:this.xf_prop.disable_style_use},XF_API.prototype.setdisablestyleuse=function(a){this.xf_prop.disable_style_use=a},XF_API.prototype.setforecolordisable=function(a){this.xf_prop.fore_color_disable=_xfu.rgb(a)},XF_API.prototype.setbackcolordisable=function(a){this.xf_prop.back_color_disable=_xfu.rgb(a)},XF_API.prototype.setbordercolordisable=function(a){this.xf_prop.border_color_disable=_xfu.rgb(a)},XF_API.prototype.setbordercolorfocus=function(a){this.xf_prop.border_color_focus=_xfu.rgb(a)},XF_API.prototype.getdragable=function(){return this.xf_prop.dragable},XF_API.prototype.setdragable=function(a){this.xf_prop.dragable=a,this.xf_object.prop("draggable",this.xf_prop.dragable)},XF_API.prototype.getenable=function(){var a;if(0==this.xf_prop.enable)return!1;for(a=this.xf_parent.xf_component;a;){if(0==a.xf_prop.enable)return!1;a=a.xf_parent.xf_component}return!0},XF_API.prototype._isvalidsetenable=function(a,b){return void 0===b&&(b=!1),1==a&&0==this.xf_prop.enable&&1==b&&0==this.is_disabled_by_parent?!1:(0==a&&1==this.xf_prop.enable&&(1==b?this.is_disabled_by_parent=!0:this.is_disabled_by_parent=!1),!0)},XF_API.prototype.setenableex=function(a,b){1==b&&this.xf_parent&&this.xf_parent.xf_screen?this.xf_parent.xf_screen.setcontrolfocusnext(this,!0,!0,!1):-1==b&&this.xf_parent&&this.xf_parent.xf_screen&&this.xf_parent.xf_screen.setcontrolfocusprev(this,!0,!0,!1),this.setenable(a),0==b&&1==a&&this.setfocus()},XF_API.prototype.setenable=function(a,b){var c;if(c=this._isvalidsetenable(a,b),0!=c){if(0==a&&this.is_has_focus&&this.xf_parent&&this.xf_parent.xf_screen&&this.xf_parent.xf_screen.setcontrolfocusnext(this,!0,!0,!1),this.xf_prop.enable=a,this.object_kind==XFD_OBJKIND_CONTROL)switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_IMAGE:break;case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_SELECTBOX:case XFD_CTRLKIND_SLIDE:this.xf_prop.enable?this.xf_protect.hideprotect(!0):this.xf_protect.showprotect(0,!1);break;case XFD_CTRLKIND_MENUBTN:this.xf_object.prop("disabled",!this.xf_prop.enable),this._apply_image(!1);break;case XFD_CTRLKIND_MULTILINE:_xfj.enable(this.xf_multiline,this.xf_prop.enable),_xfx.colorinput(this,this.xf_object,this.xf_prop.enable,null);break;case XFD_CTRLKIND_SLIDER:_xfj.enable(this.xf_object,this.xf_prop.enable),this._applyhandleimage();break;default:_xfj.enable(this.xf_object,this.xf_prop.enable),_xfx.colorinput(this,this.xf_object,this.xf_prop.enable,null)}_xfx.iscontainercomponent(this)&&this.on_object_enable(this.xf_prop.enable)}},XF_API.prototype.on_object_enable=function(a){var b,c;switch(this.control_kind){case XFD_CTRLKIND_PANEL:this.xf_content.on_content_enable(a);break;case XFD_CTRLKIND_ROWBOX:for(c=this.getitemcount(),b=0;c>b;b++)this.xf_item_arr[b].on_content_enable(a)}},XF_API.prototype.geteventhandler=function(a){if(this.object_kind!=XFD_OBJKIND_SHAPE)return this.xf_prop[a]?this.xf_prop[a]:"";switch(this.shape_kind){case XFD_SHAPEKIND_LINE:return"";default:return this.xf_prop[a]?this.xf_prop[a]:""}},XF_API.prototype.getfont=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return _xfx.getfont(["",0,!1,!1,!1,!1]);default:return _xfx.getfont(this.xf_prop.font)}},XF_API.prototype.setfont=function(a,b,c,d,e,f){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:break;case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:_xfx.setfont(this.xf_edit,this.xf_prop.font,a,b,c,d,e,f);break;default:_xfx.setfont(this.xf_object,this.xf_prop.font,a,b,c,d,e,f)}},XF_API.prototype.setfontex=function(a){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:break;default:this.setfont(a.szfontname,a.nfontsize,a.bfontbold,a.bfontitalic,a.bfontunderline,a.bfontstrikeout)}},XF_API.prototype.getfontbold=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return!1;default:return 0==this.xf_prop.font[2]?!1:1==this.xf_prop.font[2]?!0:this.xf_prop.font[2]}},XF_API.prototype.setfontbold=function(a){this.setfont(this.xf_prop.font[0],this.xf_prop.font[1],a,this.xf_prop.font[3],this.xf_prop.font[4],this.xf_prop.font[5])},XF_API.prototype.getfontitalic=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return!1;default:return this.xf_prop.font[3]}},XF_API.prototype.setfontitalic=function(a){this.setfont(this.xf_prop.font[0],this.xf_prop.font[1],this.xf_prop.font[2],a,this.xf_prop.font[4],this.xf_prop.font[5])},XF_API.prototype.getfontname=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return"";default:return this.xf_prop.font[0]}},XF_API.prototype.setfontname=function(a){this.setfont(a,this.xf_prop.font[1],this.xf_prop.font[2],this.xf_prop.font[2],this.xf_prop.font[4],this.xf_prop.font[5])},XF_API.prototype.getfontsize=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return 0;default:return this.xf_prop.font[1]}},XF_API.prototype.setfontsize=function(a){this.setfont(this.xf_prop.font[0],a,this.xf_prop.font[2],this.xf_prop.font[3],this.xf_prop.font[4],this.xf_prop.font[5])},XF_API.prototype.getfontunderline=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return!1;default:return this.xf_prop.font[4]}},XF_API.prototype.setfontunderline=function(a){this.setfont(this.xf_prop.font[0],this.xf_prop.font[1],this.xf_prop.font[2],this.xf_prop.font[3],a,this.xf_prop.font[5])},XF_API.prototype.getfocusouttype=function(){return this.focusout_type},XF_API.prototype.getfocus=function(){return this.is_has_focus},XF_API.prototype.setfocus=function(a){var b;void 0===a&&(a=!0),1==a?(b=this,setTimeout(function(a){b._setfocus(_XFD_FOCUSTYPE_API)},0)):this._setfocus(_XFD_FOCUSTYPE_API)},XF_API.prototype.setfocusex=function(a,b){a&&this.ensurevisible(),this.setfocus(b)},XF_API.prototype._setfocus=function(a){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_NONE:break;case XFD_CTRLKIND_FIELD:this.is_has_focus?this.xf_object.focus():(this.xf_object.focus(),_xfj.select(this.xf_object.get(0),0,-1));break;case XFD_CTRLKIND_MULTILINE:this.is_has_focus?this.xf_multiline.focus():(this.xf_multiline.focus(),_xfj.select(this.xf_multiline.get(0),0,-1));break;case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.is_has_focus?this.xf_edit.focus():(this.xf_edit.focus(),_xfj.select(this.xf_edit.get(0),0,-1));break;case XFD_CTRLKIND_MENUBTN:this.xf_prop.click_setfocus&&this.xf_menubtn_btn.focus();break;case XFD_CTRLKIND_SELECTBOX:case XFD_CTRLKIND_SLIDER:this.xf_keyboard.focus();break;default:this.xf_object.focus()}},XF_API.prototype._getinputobject=function(){switch(this.control_kind){case XFD_CTRLKIND_FIELD:return this.xf_object;case XFD_CTRLKIND_MULTILINE:return this.xf_multiline;case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:return this.xf_edit}return null},XF_API.prototype.getforecolor=function(){if(this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_LINE:return 0;default:return _xfu.color(this.xf_prop.fore_color)}else switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return 0;default:return _xfu.color(this.xf_prop.fore_color)}},XF_API.prototype.setforecolor=function(a,b,c){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_prop.fore_color=[a,b,c],this.xf_edit.css("color",_xfu.rgbfunc(this.xf_prop.fore_color));break;case XFD_CTRLKIND_MENUBTN:this.xf_prop.fore_color=[a,b,c],this.xf_menubtn_text.css("color",_xfu.rgbfunc(this.xf_prop.fore_color));break;default:this.xf_prop.fore_color=[a,b,c],this.xf_object.css("color",_xfu.rgbfunc(this.xf_prop.fore_color))}},XF_API.prototype.setforecolorex=function(a){var b;switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:
case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:break;default:return b=_xfu.rgb(a),this.setforecolor(b[0],b[1],b[2])}},XF_API.prototype.getgradienteffect=function(){return this.xf_prop.gradient_effect},XF_API.prototype.setgradienteffect=function(a){switch(this.control_kind){case XFD_CTRLKIND_TOGGLEBUTTON:this.xf_prop.gradient_effect=_xfu["int"](a),this._gradient();break;default:this.xf_prop.gradient_effect=_xfu["int"](a),_xfc.gradient(this.xf_object,this.xf_prop.gradient_effect,this.xf_prop.gradient_startcolor,this.xf_prop.gradient_endcolor)}},XF_API.prototype.getgradientendcolor=function(){return _xfu.color(this.xf_prop.gradient_endcolor)},XF_API.prototype.setgradientendcolor=function(a){this.xf_prop.gradient_endcolor=_xfu.rgb(a),_xfc.gradient(this.xf_object,this.xf_prop.gradient_effect,this.xf_prop.gradient_startcolor,this.xf_prop.gradient_endcolor)},XF_API.prototype.getgradientstartcolor=function(){return _xfu.color(this.xf_prop.gradient_startcolor)},XF_API.prototype.setgradientstartcolor=function(a){this.xf_prop.gradient_startcolor=_xfu.rgb(a),_xfc.gradient(this.xf_object,this.xf_prop.gradient_effect,this.xf_prop.gradient_startcolor,this.xf_prop.gradient_endcolor)},XF_API.prototype.getheight=function(){if(this.object_kind==XFD_OBJKIND_SHAPE)return _xfu["int"](this.xf_object.outerHeight());switch(this.control_kind){case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return 1==this.xf_prop.hidden?this.xf_prop.height:_xfu["int"](this.xf_object.outerHeight());default:return _xfu["int"](this.xf_object.outerHeight())}},XF_API.prototype._updateoriginvalue=function(a,b,c,d){a&&(this.originvalue.x=this.xf_prop.x),b&&(this.originvalue.y=this.xf_prop.y),c&&(this.originvalue.width=this.xf_prop.width),d&&(this.originvalue.height=this.xf_prop.height),(a||c)&&(this.originvalue.right=this.xf_parent.xf_content.xf_object.innerWidth()-(this.originvalue.x+_xfu["int"](this.xf_object.outerWidth()))),(b||d)&&(this.originvalue.bottom=this.xf_parent.xf_content.xf_object.innerHeight()-(this.originvalue.y+_xfu["int"](this.xf_object.outerHeight())))},XF_API.prototype.gethorzalign=function(){return this.xf_prop.horz_align},XF_API.prototype.sethorzalign=function(a){if(a=_xfu.intval(a,0,2),a===!1)return!1;if(this.xf_prop.horz_align=a,this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_CAPTION:case XFD_SHAPEKIND_IMAGE:case XFD_SHAPEKIND_RECT:case XFD_SHAPEKIND_ROUNDRECT:case XFD_SHAPEKIND_ELLIPSE:case XFD_SHAPEKIND_DIAMOND:case XFD_SHAPEKIND_TRIANGLE:_xfc.basic("horz_align",a,!0,this.xf_object),_xfc.justifycontent(this.xf_object,a);break;default:_xfc.basic("horz_align",a,!0,this.xf_object)}else switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_IMAGE:_xfc.justifycontent(this.xf_object,a),_xfc.textalign(this.xf_object,a);break;case XFD_CTRLKIND_PUSHBUTTON:_xfc.justifycontent(this.xf_image,a),_xfc.textalign(this.xf_image,a);break;case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_MULTILINE:_xfc.css("text-align",0==a?"left":1==a?"right":"center",!0,this.xf_object);break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_COLOR:_xfc.textalign(this.xf_edit,a);break;default:_xfc.textalign(this.xf_object,a)}return!0},XF_API.prototype.getvertalign=function(){return this.xf_prop.vert_align},XF_API.prototype.setvertalign=function(a){if(a=_xfu.intval(a),a===!1)return!1;if(this.xf_prop.vert_align=a,this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_CAPTION:case XFD_SHAPEKIND_IMAGE:case XFD_SHAPEKIND_RECT:case XFD_SHAPEKIND_ROUNDRECT:case XFD_SHAPEKIND_ELLIPSE:case XFD_SHAPEKIND_DIAMOND:case XFD_SHAPEKIND_TRIANGLE:_xfc.basic("vert_align",a,!0,this.xf_object),_xfc.alignitems(this.xf_object,a);break;default:_xfc.basic("vert_align",a,!0,this.xf_object)}else switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_IMAGE:_xfc.basic("vert_align",a,!0,this.xf_object),_xfc.alignitems(this.xf_object,a);break;case XFD_CTRLKIND_PUSHBUTTON:_xfc.basic("vert_align",a,!0,this.xf_image),_xfc.alignitems(this.xf_image,a);break;default:_xfc.basic("vert_align",a,!0,this.xf_object)}return!0},XF_API.prototype.getinputindex=function(){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:case XFD_CTRLKIND_MENUBTN:return-1;default:return this.xf_prop.in_index}},XF_API.prototype.setinputindex=function(a){this.xf_prop.in_index=_xfu["int"](a)},XF_API.prototype.getleft=function(){return _xfj.ishidden(this.xf_object)?this.xf_prop.x:_xfu["int"](this.xf_object.position().left)},XF_API.prototype.getright=function(a){var b;return a===!0?(b=_xfx.parentsize(this),_xfu["int"](b.width-this.getleft()-this.getwidth())):this.getleft()+this.getwidth()},XF_API.prototype.gettop=function(){return _xfj.ishidden(this.xf_object)?this.xf_prop.y:_xfu["int"](this.xf_object.position().top)},XF_API.prototype.getbottom=function(a){var b;return a===!0?(b=_xfx.parentsize(this),_xfu["int"](b.height-this.gettop()-this.getheight())):this.gettop()+this.getheight()},XF_API.prototype.setlefttop=function(a,b,c){this.setleft(a,c),this.settop(b,c)},XF_API.prototype.setleft=function(a,b){return a=_xfu["int"](a),isNaN(a)?!1:void(0==this.xf_prop.anchor||1==this.xf_prop.anchor||4==this.xf_prop.anchor?(this.xf_prop.x=a,this._updateoriginvalue(!0,!1,!1,!1),this.xf_object.css("left",_xfu.px(a)),(void 0===b||b)&&this.on_object_resize(!1)):2!=this.xf_prop.anchor&&3!=this.xf_prop.anchor&&7!=this.xf_prop.anchor||(this.xf_prop.x=a,this._updateoriginvalue(!0,!1,!1,!1),this.xf_prop.right=this.originvalue.right,this.xf_object.css("left",_xfu.px(a)),this.xf_object.css("right",_xfu.px(this.xf_prop.right)),this.xf_object.css("left","auto"),(void 0===b||b)&&this.on_object_resize(!1)))},XF_API.prototype.setright=function(a,b){return a=_xfu["int"](a),isNaN(a)?!1:void(2!=this.xf_prop.anchor&&3!=this.xf_prop.anchor&&7!=this.xf_prop.anchor||(this.xf_prop.right=a,this.xf_object.css("right",_xfu.px(a)),(void 0===b||b)&&this.on_object_resize(!1)))},XF_API.prototype.settop=function(a,b){return a=_xfu["int"](a),isNaN(a)?!1:void(0!=this.xf_prop.anchor&&2!=this.xf_prop.anchor&&5!=this.xf_prop.anchor||(this.xf_prop.y=a,this._updateoriginvalue(!1,!0,!1,!1),this.xf_object.css("top",_xfu.px(a)),(void 0===b||b)&&this.on_object_resize(!1)))},XF_API.prototype.setbottom=function(a,b){return a=_xfu["int"](a),isNaN(a)?!1:void(1!=this.xf_prop.anchor&&3!=this.xf_prop.anchor&&8!=this.xf_prop.anchor||(this.xf_prop.bottom=a,this.xf_object.css("bottom",_xfu.px(a)),(void 0===b||b)&&this.on_object_resize(!1)))},XF_API.prototype.getmargin=function(){return this.xf_prop.margin},XF_API.prototype.getmetaid=function(){return this.xf_prop.meta_id},XF_API.prototype.setmetaid=function(a){this.xf_prop.meta_id=a},XF_API.prototype.getmousecursor=function(){return this.xf_prop.mouse_cursor},XF_API.prototype.setmousecursor=function(a){this.xf_prop.mouse_cursor=_xfu["int"](a),_xfc.basic("mouse_cursor",this.xf_prop.mouse_cursor,!0,this.xf_object)},XF_API.prototype.getdom=function(){return this.xf_object.get(0)},XF_API.prototype.getjdom=function(){return this.xf_object},XF_API.prototype.getdomid=function(){return this.xf_object.attr("id")},XF_API.prototype.getname=function(){return this.xf_prop.name},XF_API.prototype.setname=function(a){return void 0===a||a.length<=0?!1:void(this.xf_prop.name!==a&&(this.xf_prop.name.length>0&&(delete window[this.xf_prop.name],void 0!==this.xf_parent&&null!==this.xf_parent&&void 0!==this.xf_parent.xf_screen&&null!==this.xf_parent.xf_screen&&delete this.xf_parent.xf_screen.name_map[this.xf_prop.name]),this.xf_prop.name=a,void 0!==this.xf_parent&&null!==this.xf_parent&&void 0!==this.xf_parent.xf_screen&&null!==this.xf_parent.xf_screen&&(this.xf_parent.xf_screen.name_map[this.xf_prop.name]=this),window[this.xf_prop.name]=this))},XF_API.prototype.getobjectkind=function(){return this.object_kind},XF_API.prototype.getparent=function(){return null===this.xf_parent?null:null!==this.xf_parent.xf_component?this.xf_parent.xf_component:this.xf_parent.xf_screen.xf_window.screen},XF_API.prototype.getparentscrinstance=function(){return null===this.xf_parent?null:this.xf_parent.xf_screen.xf_window.screen},XF_API.prototype._getparentscrinstance=function(){return null===this.xf_parent?null:this.xf_parent.xf_screen},XF_API.prototype.gettableviewpos=function(){var a,b;return b={row:-1,column:-1},a=this.xf_object.closest("._xf_tableview_td"),a.length>0&&(b.row=_xfu["int"](a.data("row")),b.column=_xfu["int"](a.data("column"))),b},XF_API.prototype.getrect=function(){return[this.getleft(),this.gettop(),this.getright(),this.getbottom()]},XF_API.prototype.getrectex=function(){return{nleft:this.getleft(),ntop:this.gettop(),nright:this.getright(),nbottom:this.getbottom()}},XF_API.prototype.setrect=function(a,b,c,d){var e,f,g,h;if(e=this.getwidth(),f=this.getheight(),this.xf_prop.x=_xfu["int"](a),this.xf_prop.y=_xfu["int"](b),this.xf_prop.width=_xfu["int"](c)-this.xf_prop.x,this.xf_prop.height=_xfu["int"](d)-this.xf_prop.y,this._updateoriginvalue(!0,!0,!0,!0),this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_LINE:this.xf_prop.x1=_xfu["int"](a),this.xf_prop.y1=_xfu["int"](b),this.xf_prop.x2=_xfu["int"](c),this.xf_prop.y2=_xfu["int"](d),this.xf_prop.width=_xfu["int"](c)-this.xf_prop.x1,this.xf_prop.height=_xfu["int"](d)-this.xf_prop.y1,this.xf_object.css({left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y)}),this.xf_object.prop("width",this.xf_prop.width).prop("height",this.xf_prop.height),this._before_drawing_arrow(this.xf_prop.x2,this.xf_prop.y2);break;case XFD_SHAPEKIND_TRIANGLE:this.xf_object.css({left:_xfu.px(a),top:_xfu.px(b)}),this._draw_triangle(this.xf_prop.transparent,this.xf_prop.width,this.xf_prop.height);break;case XFD_SHAPEKIND_DIAMOND:this.xf_object.css({left:_xfu.px(a),top:_xfu.px(b)}),this.xf_object.prop("width",c-a+this.xf_prop.border_width+1).prop("height",d-b+this.xf_prop.border_width+1),this._draw_diamond(this.xf_prop.transparent);break;default:this.xf_object.css({left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y),height:_xfu.px(this.xf_prop.height),width:_xfu.px(this.xf_prop.width)})}else this.setsize(this.xf_prop.width,this.xf_prop.height,!1),this.setlefttop(this.xf_prop.x,this.xf_prop.y,!1);g=this.getwidth(),h=this.getheight(),(Math.abs(e-g)>1||Math.abs(f-h)>1)&&this.on_object_resize(!1)},XF_API.prototype.setrectex=function(a){return this.setrect(a.nleft,a.ntop,a.nright,a.nbottom)},XF_API.prototype.setrectonanchor=function(a,b,c,d){var e,f;switch(e=this.getwidth(),f=this.getheight(),void 0!==c&&(this.xf_prop.width=c,e=c),void 0!==d&&(this.xf_prop.height=d,f=d),this.xf_prop.anchor){case 0:this.xf_prop.x=a,this.xf_prop.y=b,this.xf_object.css({left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y),height:_xfu.px(f),width:_xfu.px(e)});break;case 1:this.xf_prop.x=a,this.xf_prop.bottom=b,this.xf_object.css({left:_xfu.px(this.xf_prop.x),bottom:_xfu.px(this.xf_prop.bottom),height:_xfu.px(f),width:_xfu.px(e)});break;case 2:this.xf_prop.right=a,this.xf_prop.y=b,this.xf_object.css({right:_xfu.px(this.xf_prop.right),top:_xfu.px(this.xf_prop.y),height:_xfu.px(f),width:_xfu.px(e)});break;case 3:this.xf_prop.right=a,this.xf_prop.bottom=b,this.xf_object.css({right:_xfu.px(this.xf_prop.right),bottom:_xfu.px(this.xf_prop.bottom),height:_xfu.px(f),width:_xfu.px(e)});break;case 4:this.xf_prop.x=a,this.xf_object.css({left:_xfu.px(this.xf_prop.x),"margin-top":"-"+_xfu.px(this.xf_prop.height/2),height:_xfu.px(f),width:_xfu.px(e)});break;case 5:this.xf_prop.y=b,this.xf_object.css({"margin-left":"-"+_xfu.px(this.xf_prop.width/2),top:_xfu.px(this.xf_prop.y),height:_xfu.px(f),width:_xfu.px(e)});break;case 6:break;case 7:this.xf_prop.right=a,this.xf_object.css({right:_xfu.px(this.xf_prop.right),"margin-top":"-"+_xfu.px(this.xf_prop.height/2),height:_xfu.px(f),width:_xfu.px(e)});break;case 8:this.xf_prop.bottom=b,this.xf_object.css({'"margin-left':"-"+_xfu.px(this.xf_prop.width/2),bottom:_xfu.px(this.xf_prop.bottom),height:_xfu.px(f),width:_xfu.px(e)})}},XF_API.prototype.getshapekind=function(){return this.shape_kind},XF_API.prototype.getenterstop=function(){return this.gettabstop(!0)},XF_API.prototype.gettabstop=function(a){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_NONE:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_ROWBOX:return!1;default:return a===!0?this.xf_prop.enterstop:this.xf_prop.tabstop}},XF_API.prototype.settabstop=function(a){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_NONE:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:break;default:this.xf_prop.tabstop=a}},XF_API.prototype.getdisplaytext=function(){switch(this.control_kind){case XFD_CTRLKIND_FIELD:return this.xf_object.val();case XFD_CTRLKIND_MULTILINE:return this.xf_multiline.val();case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:return this.xf_edit.val();default:return""}},XF_API.prototype.gettext=function(){if(this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_RECT:case XFD_SHAPEKIND_ROUNDRECT:case XFD_SHAPEKIND_ELLIPSE:case XFD_SHAPEKIND_DIAMOND:case XFD_SHAPEKIND_TRIANGLE:return this.xf_text.text();default:return""}else switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_NONE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:return"";case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_TOGGLEBUTTON:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_RADIOBUTTON:return this._getvalue();case XFD_CTRLKIND_P:return this.xf_object.text();case XFD_CTRLKIND_MENUBTN:return this.xf_menubtn_text.text();default:return this.xf_object.val()}},XF_API.prototype.settext=function(a){return this.settextex(a,!0,!0)},XF_API.prototype.settextex=function(a,b,c){switch(void 0===b&&(b=!0),void 0===c&&(c=!0),this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_NONE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:return;case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TOGGLEBUTTON:case XFD_CTRLKIND_RADIOBUTTON:return"boolean"==typeof a&&(0==a?a="0":1==a&&(a="-1")),this._setvalue(a,{is_fire_event:b,is_fire_async:c,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_API,is_display_value:!0});case XFD_CTRLKIND_P:this.xf_object.text(a);break;case XFD_CTRLKIND_MENUBTN:this.xf_menubtn_text.text(a);break;default:this.xf_object.val(a)}},XF_API.prototype.gettooltiptext=function(){return this.xf_prop.tooltip},XF_API.prototype.settooltiptext=function(a){this.xf_prop.tooltip=a,this.xf_object.prop("title",this.xf_prop.tooltip)},XF_API.prototype.getuserdata=function(a){var b;return void 0===a?void 0===this.user_data?"":this.user_data:(b=this.xf_object.data(a),void 0===b?"":b)},XF_API.prototype.setuserdata=function(a,b){return 1==arguments.length?void(this.user_data=a):void this.xf_object.data(a,b)},XF_API.prototype.getstyleid=function(){return this.xf_prop.style},XF_API.prototype.gettransparent=function(){if(this.object_kind!=XFD_OBJKIND_SHAPE)return this.xf_prop.transparent;switch(this.shape_kind){case XFD_SHAPEKIND_LINE:return-1;default:return this.xf_prop.transparent}},XF_API.prototype.settransparent=function(a){if(this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_TRIANGLE:this._draw_triangle(a);break;case XFD_SHAPEKIND_DIAMOND:this._draw_diamond(a);break;default:this.xf_prop.transparent=a,a?this.xf_object.css("background-color","transparent",!0,this.xf_object):this.xf_object.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color))}else this.xf_prop.transparent=a,a?this.xf_object.css("background-color","transparent",!0,this.xf_object):this.xf_object.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color))},XF_API.prototype.getvisible=function(){return!this.xf_prop.hidden},XF_API.prototype.setvisible=function(a){var b,c,d;if(this.xf_prop.hidden=!a,this.object_kind==XFD_OBJKIND_SHAPE)switch(this.shape_kind){case XFD_SHAPEKIND_CAPTION:case XFD_SHAPEKIND_IMAGE:case XFD_SHAPEKIND_RECT:case XFD_SHAPEKIND_ROUNDRECT:case XFD_SHAPEKIND_ELLIPSE:case XFD_SHAPEKIND_DIAMOND:case XFD_SHAPEKIND_TRIANGLE:this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"flex"});break;default:this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"inline-block"})}else switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:a?(this.xf_innerctrl.css("width","100%"),this.xf_innerctrl.css("height","100%")):(this.xf_innerctrl.css("width","0"),this.xf_innerctrl.css("height","0")),this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"inline-block"});break;case XFD_CTRLKIND_MENUBTN:0==this.xf_prop.menubox_position&&this.xf_prop.menubox_show&&this.xf_menubtn_box.xf_object.css("display",this.xf_prop.hidden?"none":"block"),this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"inline-block"});break;case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_RADIOBUTTON:case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_IMAGE:this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"flex"});break;case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_MULTILINEGRID:this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"inline-block"}),this.xf_prop.hidden||this.refresh();break;case XFD_CTRLKIND_ROWBOX:this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"block"});break;default:this.xf_object.css({visibility:this.xf_prop.hidden?"hidden":"visible",display:this.xf_prop.hidden?"none":"inline-block"})}if(_xfx.iscontainercomponent(this))for(a&&this.on_object_resize(!0,!0),c=this._getinstanceall(XF_CONTENT.INSTANCE_ORDER_CREATE,!1),d=c.length,b=0;d>b;b++)c[b].on_parent_hidden&&c[b].on_parent_hidden(this,this.xf_prop.hidden)},XF_API.prototype.getwidth=function(){return _xfu["int"](this.xf_object.outerWidth())},XF_API.prototype.setsize=function(a,b,c){var d,e,f;switch(d={},e=!1,f=!1,a>=0&&(e=!0,0==this.xf_prop.width_unit?(this.xf_prop.width=_xfu["int"](a),d.width=_xfu.px(a)):(this.xf_prop.width_percent=_xfu["int"](a),d.width=_xfu.pc(a))),b>=0&&(f=!0,0==this.xf_prop.height_unit?(this.xf_prop.height=_xfu["int"](b),d.height=_xfu.px(b)):(this.xf_prop.height_percent=_xfu["int"](b),d.height=_xfu.pc(b))),this.xf_object.css(d),this.control_kind){case XFD_CTRLKIND_TOGGLEBUTTON:this._togglehandleinit(),this._toggleonoffinit();break;case XFD_CTRLKIND_SLIDER:this._settracksize()}this._updateoriginvalue(!1,!1,e,f),(void 0===c||c)&&this.on_object_resize(!1)},XF_API.prototype.setwidth=function(a){return this.setsize(a,-1)},XF_API.prototype.setheight=function(a){return this.setsize(-1,a)},XF_API.prototype.getwindowrect=function(){return[this.getwindowleft(),this.getwindowtop(),this.getwindowright(),this.getwindowbottom()]},XF_API.prototype.getwindowleft=function(){return _xfu["int"](this.xf_object.offset().left)},XF_API.prototype.getwindowright=function(){return this.getwindowleft()+this.getwidth()},XF_API.prototype.getwindowtop=function(){return _xfu["int"](this.xf_object.offset().top)},XF_API.prototype.getwindowbottom=function(){return this.getwindowtop()+this.getheight()},XF_API.prototype.isexpired=function(){return this.is_expired},XF_API.prototype.ishasfocus=function(){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:return!1;default:return this.is_has_focus}},XF_API.prototype.ispanelchild=function(){return null===this.xf_parent?!1:null===this.xf_parent.xf_component?!1:this.xf_parent.xf_component.getcontrolkind()==XFD_CTRLKIND_PANEL},XF_API.prototype.isprintiteratepage=function(){return!1},XF_API.prototype.isprintoutput=function(){return!1},XF_API.prototype.isprintwidechar=function(){return!1},XF_API.prototype.istabpanelchild=function(){return null===this.xf_parent?!1:null===this.xf_parent.xf_component?!1:this.xf_parent.xf_component.getcontrolkind()==XFD_CTRLKIND_TAB},XF_API.prototype.registerevent=function(a,b){return-1==$.inArray(a,this.event_name_arr)?!1:(this.xf_prop[a]=_xfx.funcname(b),!0)},XF_API.prototype.setzorder=function(a){0===a?XFD_OBJKIND_CONTROL==this.object_kind?this.xf_object.css("z-index",this.xf_parent.xf_content.last_control_zindex++):this.xf_object.css("z-index",this.xf_parent.xf_content.last_shape_zindex++):1==a&&(XFD_OBJKIND_CONTROL==this.object_kind?this.xf_object.css("z-index",--this.xf_parent.xf_content.first_control_zindex):this.xf_object.css("z-index",--this.xf_parent.xf_content.first_shape_zindex))},XF_API.prototype.showtooltip=function(a){},XF_API.prototype.eventlock=function(a,b){this.is_event_locked=a,b===!0&&(this.is_event_locked_subscreen=a)},XF_API.prototype.setborderradius=function(a){switch(this.control_kind){case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_prop.border_radius=a,this.xf_object.css("border-radius",_xfu.px(this.xf_prop.border_radius)),this.xf_edit.css("border-radius",_xfu.px(this.xf_prop.border_radius)),this.xf_button.css("border-radius",_xfu.px(0),_xfu.px(this.xf_prop.border_radius),_xfu.px(this.xf_prop.border_radius),_xfu.px(0));break;case XFD_CTRLKIND_PANEL:this.xf_prop.border_radius=a,this.xf_outer_content_wrapper.css("border-radius",_xfu.px(this.xf_prop.border_radius)),this.xf_object.css("border-radius",_xfu.px(this.xf_prop.border_radius));break;default:this.xf_prop.border_radius=_xfu["int"](a),this.xf_object.css("border-radius",_xfu.px(this.xf_prop.border_radius))}},XF_API.prototype._css=function(a){this.control_kind!=XFD_CTRLKIND_FIELD&&this.control_kind!=XFD_CTRLKIND_MULTILINE||1!=_xf_htmlready_mode&&(this.control_kind==XFD_CTRLKIND_FIELD?(a.image=_xfx.trimimagesplit(a.image),_xfx.propcss(this,a,this.css_arr,["position","font","fore_color","border_color","border_radius","mouse_cursor","hidden","text_margin","make_case","imemode","back_imagesize","back_imagefillstyle","text_wordellipsis"])):this.control_kind==XFD_CTRLKIND_MULTILINE&&_xfx.propcss(this,a,this.css_arr,["position","mouse_cursor","border_radius","hidden","font","make-case","back_imagesize","back_imagefillstyle","fore_color","mouse_cursor"]),_xfx.propbackcolor(this,a,this.css_arr),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),_xfx.bordercss(this,a,this.css_arr),void 0!==a.horz_align&&this.css_arr.push(_xfc.css("text-align",0==a.horz_align?"left":1==a.horz_align?"right":"center",!1,null)))},XF_API.prototype._getparentinitsize=function(a){a.getobjectkind()===XFD_OBJKIND_SCREEN?(this.originvalue.parentwidth=a.getoriginscreenwidth(),this.originvalue.parentheight=a.getoriginscreenheight()):a.getcontrolkind()===XFD_CTRLKIND_PANEL?(this.originvalue.parentwidth=a.getoriginpanelwidth(),this.originvalue.parentheight=a.getoriginpanelheight()):a.getcontrolkind()===XFD_CTRLKIND_TAB&&(this.originvalue.parentwidth=a.getorigintabwidth(),0===a.gettitlebarshow()||3===a.gettitlebarshow()?a.gettabitemhidden?this.originvalue.parentheight=a.getorigintabheight()-a.gettabitemareagap():this.originvalue.parentheight=a.getorigintabheight()-a.gettabitemheight()-a.gettabitemareagap():a.gettabitemhidden?this.originvalue.parentheight=a.getorigintabheight()-a.gettitlebarheight()-a.gettabitemareagap():this.originvalue.parentheight=a.getorigintabheight()-a.gettabitemheight()-a.gettitlebarheight()-a.gettabitemareagap())},XF_API.prototype.on_parent_hidden=function(a,b,c){switch(this.control_kind){case XFD_CTRLKIND_MENUBTN:0==this.xf_prop.menubox_position&&this.xf_prop.menubox_show&&this.xf_menubtn_box.xf_object.css("display",b?"none":"block");break;case XFD_CTRLKIND_TAB:b||this.xf_itembox.refreshnavibox();break;case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_MULTILINEGRID:b||this._refreshgrid()}_xfx.iscontainercomponent(this)&&(b||this.on_object_resize(!0,c))},XF_API.prototype.on_parent_resize=function(a,b){var c,d,e,f;switch(void 0===b&&(b=!1),this.control_kind){case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_MENUBTN:case XFD_CTRLKIND_WEBFILEMANAGER:case XFD_CTRLKIND_TIMER:case XFD_CTRLKIND_CALENDAR:case XFD_CTRLKIND_SELECTBOX:case XFD_CTRLKIND_STATUSBAR:case XFD_CTRLKIND_WEBSOCKET:case XFD_CTRLKIND_MOBILE:case XFD_CTRLKIND_UPLOADER:case XFD_CTRLKIND_DOWNLOADER:case XFD_CTRLKIND_FILE:return!1}if(0==this.xf_prop.height_unit&&0==this.xf_prop.width_unit&&0==this.xf_prop.resize_dir)if(this.control_kind===XFD_CTRLKIND_GRID||this.control_kind===XFD_CTRLKIND_TAB){if(this.xf_prop.anchor>=0&&this.xf_prop.anchor<=3&&0==this.xf_prop.rwd_width)return b===!0&&this.on_parent_hidden&&this.on_parent_hidden(this,this.xf_prop.hidden,a),!1}else if(this.xf_prop.anchor>=0&&this.xf_prop.anchor<=3)return b===!0&&this.on_parent_hidden&&this.on_parent_hidden(this,this.xf_prop.hidden,a),!1;return c=this.xf_prop.width,d=this.xf_prop.height,e={},f=!1,0==this.xf_prop.height_unit&&(2!=this.xf_prop.resize_dir&&3!=this.xf_prop.resize_dir||(e.height=_xfx.resizedirheight(this,this.xf_parent.xf_content.xf_object.innerHeight()),d!=e.height&&(f=!0))),0==this.xf_prop.width_unit&&(1!=this.xf_prop.resize_dir&&3!=this.xf_prop.resize_dir||(e.width=_xfx.resizedirwidth(this,this.xf_parent.xf_content.xf_object.innerWidth()),c!=e.width&&(f=!0))),f&&this.xf_object.css(e),this.xf_prop.width=this.xf_object.outerWidth(),this.xf_prop.height=this.xf_object.outerHeight(),Math.abs(c-this.xf_prop.width)<1&&Math.abs(d-this.xf_prop.height)<1?(a?this.on_object_resize(a):this.control_kind==XFD_CTRLKIND_TAB&&this.on_object_resize(a),!1):(this.on_object_resize(a),!0)},XF_API.prototype.on_object_resize=function(a,b){var c,d;switch(this.xf_prop.width=this.xf_object.outerWidth(),this.xf_prop.height=this.xf_object.outerHeight(),this.control_kind){case XFD_CTRLKIND_PANEL:this.forcepaint(),this.xf_content.on_content_resize(a,b);break;case XFD_CTRLKIND_ROWBOX:for(d=this.getitemcount(),c=0;d>c;c++)this.xf_item_arr[c].on_object_resize(a,b)}},XF_API_CONTAINER.prototype._getinstanceall=function(a,b,c,d){var e,f,g,h,i,j,k;switch(void 0===b&&(b=!1),void 0===d&&(d=!1),this.control_kind){case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_SLIDE:return this._getinstanceallbykind(XFD_OBJKIND_CONTROL,a,b,c,d);case XFD_CTRLKIND_ROWBOX:case XFD_CTRLKIND_LISTVIEW:for(i=[],g=this.getitemcount(),e=0;g>e;e++)h=this.xf_item_arr[e].xf_content.getinstanceall(a,b,d,c),i=i.concat(h);return i;case XFD_CTRLKIND_MENUBTN:return this.xf_menubtn_box.xf_content.getinstanceall(a,b,d,c);case XFD_CTRLKIND_TABLEVIEW:if(i=[],a==XF_CONTENT.INSTANCE_ORDER_TAB)i=this.xf_content.getinstanceall(a,b,d,c);else for(j=this.getrowcount(),k=this.getcolumncount(),e=0;j>e;e++)for(f=0;k>f;f++)h=this.xf_item_arr_arr[e][f].xf_content.getinstanceall(a,b,d,c),i=i.concat(h);return i;default:return this.xf_content.getinstanceall(a,b,d,c)}},XF_API_CONTAINER.prototype._getshapeinstanceall=function(a,b,c){var d,e,f,g,h,i,j;switch(void 0===b&&(b=!1),this.control_kind){case XFD_CTRLKIND_TAB:return this._getinstanceallbykind(XFD_OBJKIND_SHAPE,a,b);case XFD_CTRLKIND_ROWBOX:case XFD_CTRLKIND_LISTVIEW:for(h=[],f=this.getitemcount(),d=0;f>d;d++)g=this.xf_item_arr[d].xf_content.getshapeinstanceall(a,b),h=h.concat(g);return h;case XFD_CTRLKIND_MENUBTN:return this.xf_menubtn_box.xf_content.getshapeinstanceall(a,b);case XFD_CTRLKIND_TABLEVIEW:switch(h=[],a){case XF_CONTENT.INSTANCE_ORDER_CREATE:case XF_CONTENT.INSTANCE_ORDER_POSITION:for(i=this.getrowcount(),j=this.getcolumncount(),d=0;i>d;d++)for(e=0;j>e;e++)g=this.xf_item_arr_arr[d][e].xf_content.getshapeinstanceall(a,b),h=h.concat(g);break;case XF_CONTENT.INSTANCE_ORDER_TAB:h=this.xf_content.getshapeinstanceall(a,b)}return h;default:return this.xf_content.getshapeinstanceall(a)}},XF_API_CONTAINER.prototype._getcontainerinstance=function(a,b,c,d,e,f){var g;return void 0===e&&(e=!1),g=a==XFD_OBJKIND_CONTROL?this._getinstanceall(b,e,f):this._getshapeinstanceall(b,e,f),XF_CONTENT.getinstancebypos(c,g,d)},XF_API_CONTAINER.prototype.getinstanceall=function(a){return a=_xfu.intval(a,0,3),a===!1?[]:(1==a?a=XF_CONTENT.INSTANCE_ORDER_POSITION:2==a?a=XF_CONTENT.INSTANCE_ORDER_TAB:3==a&&(a=XF_CONTENT.INSTANCE_ORDER_POSITIONALL),this._getinstanceall(a,!1))},XF_API_CONTAINER.prototype.getinstancefirst=function(){return this.getinstancefirstex(XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getinstancefirstex=function(a){return a=_xfu.intval(a,0,2),a===!1?null:this._getinstancefirstex(a,!1)},XF_API_CONTAINER.prototype._getinstancefirstex=function(a,b){return this._getcontainerinstance(XFD_OBJKIND_CONTROL,a,XF_CONTENT.INSTANCE_POSITION_FIRST,null,b)},XF_API_CONTAINER.prototype.getinstancelast=function(){return this.getinstancelastex(XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getinstancelastex=function(a){return a=_xfu.intval(a,0,2),a===!1?null:this._getinstancelastex(a,!1)},XF_API_CONTAINER.prototype._getinstancelastex=function(a,b){return this._getcontainerinstance(XFD_OBJKIND_CONTROL,a,XF_CONTENT.INSTANCE_POSITION_LAST,null,b)},XF_API_CONTAINER.prototype.getinstancenext=function(a){return this.getinstancenextex(a,XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getinstancenextex=function(a,b){return b=_xfu.intval(b,0,2),b===!1?null:this._getinstancenextex(a,b,!1)},XF_API_CONTAINER.prototype._getinstancenextex=function(a,b,c){return this._getcontainerinstance(XFD_OBJKIND_CONTROL,b,XF_CONTENT.INSTANCE_POSITION_NEXT,a,c)},XF_API_CONTAINER.prototype.getinstanceprev=function(a){return this.getinstanceprevex(a,XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getinstanceprevex=function(a,b){return b=_xfu.intval(b,0,2),b===!1?null:this._getinstanceprevex(a,b,!1)},XF_API_CONTAINER.prototype._getinstanceprevex=function(a,b,c){return this._getcontainerinstance(XFD_OBJKIND_CONTROL,b,XF_CONTENT.INSTANCE_POSITION_PREV,a,c)},XF_API_CONTAINER.prototype.getshapeinstanceall=function(a){return a=_xfu.intval(a,0,1),a===!1?[]:(1==a&&(a=XF_CONTENT.INSTANCE_ORDER_POSITION),this._getshapeinstanceall(a,!1))},XF_API_CONTAINER.prototype.getshapeinstancefirst=function(){return this.getshapeinstancefirstex(XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getshapeinstancefirstex=function(a){return a=_xfu.intval(a,0,2),a===!1?null:this._getshapeinstancefirstex(a,!1)},XF_API_CONTAINER.prototype._getshapeinstancefirstex=function(a,b){return this._getcontainerinstance(XFD_OBJKIND_SHAPE,a,XF_CONTENT.INSTANCE_POSITION_FIRST,null,b)},XF_API_CONTAINER.prototype.getshapeinstancelast=function(){return this.getshapeinstancelastex(XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getshapeinstancelastex=function(a){return a=_xfu.intval(a,0,1),a===!1?null:this._getshapeinstancelastex(a,!1)},XF_API_CONTAINER.prototype._getshapeinstancelastex=function(a,b){return this._getcontainerinstance(XFD_OBJKIND_SHAPE,a,XF_CONTENT.INSTANCE_POSITION_LAST,null,b)},XF_API_CONTAINER.prototype.getshapeinstancenext=function(a){return this.getshapeinstancenextex(a,XF_CONTENT.INSTANCE_ORDER_CREATE)},XF_API_CONTAINER.prototype.getshapeinstancenextex=function(a,b){return b=_xfu.intval(b,0,1),b===!1?null:this._getshapeinstancenextex(a,b,!1)},XF_API_CONTAINER.prototype._getshapeinstancenextex=function(a,b,c){return this._getcontainerinstance(XFD_OBJKIND_SHAPE,b,XF_CONTENT.INSTANCE_POSITION_NEXT,a,c)},XF_API_CONTAINER.prototype.getshapeinstanceprev=function(a){return this.getshapeinstanceprevex(a,XF_CONTENT.INSTANCE_ORDER_CREATE);
},XF_API_CONTAINER.prototype.getshapeinstanceprevex=function(a,b){return b=_xfu.intval(b,0,1),b===!1?null:this._getshapeinstanceprevex(a,b,!1)},XF_API_CONTAINER.prototype._getshapeinstanceprevex=function(a,b,c){return this._getcontainerinstance(XFD_OBJKIND_SHAPE,b,XF_CONTENT.INSTANCE_POSITION_PREV,a,c)},XF_API_INPUT.prototype.filldupdata=function(){var a;switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:break;default:return 0==this.xf_prop.allow_dup?!1:null===this.xf_prop.dup_name||void 0===this.xf_prop.dup_name?!1:0===this.xf_prop.dup_name.length?!1:null===this.xf_prop.dup_name||void 0===this.xf_prop.dup_name?!1:(a=factory._getdupdata(this,this.xf_prop.dup_name),void 0===a?!1:(this.control_kind==XFD_CTRLKIND_COMBOBOX?this.setselectedcode(a):this.settext(a),!0))}},XF_API_INPUT.prototype.getapplyinputtypecolor=function(){return this.xf_prop.apply_inputtypecolor},XF_API_INPUT.prototype.setapplyinputtypecolor=function(a){this.xf_prop.apply_inputtypecolor=a},XF_API_INPUT.prototype.getdatatype=function(){return this.data_type},XF_API_INPUT.prototype.getdefaultvalue=function(){return this.xf_prop.default_value},XF_API_INPUT.prototype.getdupname=function(){return this.xf_prop.dup_name},XF_API_INPUT.prototype.setdupname=function(a){this.xf_prop.dup_name=a},XF_API_INPUT.prototype.gethinttext=function(){return this.xf_prop.hint_text},XF_API_INPUT.prototype.sethinttext=function(a){switch(this.xf_prop.hint_text=a,this.control_kind){case XFD_CTRLKIND_FIELD:this.xf_object.prop("placeholder",this.xf_prop.hint_text);break;case XFD_CTRLKIND_MULTILINE:this.xf_multiline.prop("placeholder",this.xf_prop.hint_text);break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_edit.prop("placeholder",this.xf_prop.hint_text)}return!0},XF_API_INPUT.prototype._invalidvaluebyapi=function(a,b){var c,d;if(a){if(0==factory_xf_param.INVALID_VALUE_BY_API)return b;if(1==factory_xf_param.INVALID_VALUE_BY_API)return"";2==factory_xf_param.INVALID_VALUE_BY_API&&(c="")}else{if(0==factory_xf_param.INVALID_VALUE_BY_API||1==factory_xf_param.INVALID_VALUE_BY_API)return b;2==factory_xf_param.INVALID_VALUE_BY_API&&(c=b)}switch(d=a?factory_xf_param.INVALID_VALUE_HINTTEXT:this.xf_prop.hint_text,this.control_kind){case XFD_CTRLKIND_FIELD:this.xf_object.prop("placeholder",d),a?this.xf_object.addClass("_xfd_placeholder_error"):this.xf_object.removeClass("_xfd_placeholder_error");break;case XFD_CTRLKIND_MULTILINE:this.xf_multiline.prop("placeholder",d),a?this.xf_multiline.addClass("_xfd_placeholder_error"):this.xf_multiline.removeClass("_xfd_placeholder_error");break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_edit.prop("placeholder",d),a?this.xf_edit.addClass("_xfd_placeholder_error"):this.xf_edit.removeClass("_xfd_placeholder_error")}return c},XF_API_INPUT.prototype.gethostdata=function(){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:return"";case XFD_CTRLKIND_HYPERTEXT:return this.gettext();default:return""}},XF_API_INPUT.prototype.sethostdata=function(a){switch(this.control_kind){case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:break;case XFD_CTRLKIND_HYPERTEXT:this.settext(a)}},XF_API_INPUT.prototype.getimemode=function(){return this.xf_prop.imemode},XF_API_INPUT.prototype.setimemode=function(a){var b;if(a=_xfu.intval(a,0,1),a===!1)return!1;switch(this.xf_prop.imemode=a,b=0==this.xf_prop.imemode?{"ime-mode":"inactive","-webkit-ime-mode":"inactive","-moz-ime-mode":"inactive","-ms-ime-mode":"inactive"}:{"ime-mode":"active","-webkit-ime-mode":"active","-moz-ime-mode":"active","-ms-ime-mode":"active"},this.control_kind){case XFD_CTRLKIND_FIELD:this.xf_object.css(b);break;case XFD_CTRLKIND_MULTILINE:this.xf_multiline.css(b);break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_edit.css(b)}return this.is_has_focus&&factory._setimemode(this),!0},XF_API_INPUT.prototype.getinputtype=function(){switch(this.control_kind){default:return this.xf_prop.input_type}},XF_API_INPUT.prototype.setinitvalue=function(){return void 0===this.init_value?!1:(this._setvalue(this.init_value,{is_fire_event:!1,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_API,is_display_value:!0,is_close_selectbox:!0,is_close_calendar:!0}),!0)},XF_API_INPUT.prototype.setinputtype=function(a){switch(this.xf_prop.input_type=_xfu["int"](a),_xfx.propinputtype(this,this.xf_prop,null),this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_TREE:break;case XFD_CTRLKIND_MULTILINE:_xfj.inputtype(this.xf_multiline,a),_xfx.colorinput(this,this.xf_object,this.xf_prop.enable,null);break;case XFD_CTRLKIND_CHECKBOX:this._displaycheck(this.getcheck(),this.xf_prop.enable,this.xf_prop.input_type);break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:this.xf_prop.editable&&_xfj.inputtype(this.xf_edit,a),_xfx.colorinput(this,this.xf_edit,this.xf_prop.enable,null);break;default:_xfj.inputtype(this.xf_object,a),_xfx.colorinput(this,this.xf_object,this.xf_prop.enable,null)}},XF_API_INPUT.prototype.getlinkxdataset=function(){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return null;default:return this.xdataset_type===XFD_XDATASET_INNER?null:this.xf_xdataset}},XF_API_INPUT.prototype.getlinkxdatasetcolumnid=function(){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return"";default:return this.xdataset_type===XFD_XDATASET_INNER?"":this.xdataset_column_type===XFD_XDATASET_COLUMN_INNER?"":this.xdataset_column_id}},XF_API_INPUT.prototype.getlinkxdatasetid=function(){switch(this.control_kind){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_ACTIVEX:case XFD_CTRLKIND_WEBBROWSER:case XFD_CTRLKIND_IMAGE:case XFD_CTRLKIND_TABLE:case XFD_CTRLKIND_PANEL:case XFD_CTRLKIND_TAB:return"";default:return this.xdataset_type===XFD_XDATASET_INNER?"":this.xdataset_id}},XF_API_INPUT.prototype.getmakecase=function(){return this.xf_prop.make_case},XF_API_INPUT.prototype.setmakecase=function(a){var b;return b=_xfu["int"](a),isNaN(b)||0>b||b>2?!1:this.control_kind!==XFD_CTRLKIND_FIELD?!0:void 0===this.xf_prop.make_case?!0:(this.xf_prop.make_case=b,0==this.xf_prop.make_case?this.xf_object.css("text-transform","none"):1==this.xf_prop.make_case?this.xf_object.css("text-transform","uppercase"):2==this.xf_prop.make_case&&this.xf_object.css("text-transform","lowercase"),!0)},XF_API_INPUT.prototype.getmaxlength=function(){return this.xf_prop.max_length},XF_API_INPUT.prototype.setmaxlength=function(a){var b;if(b=_xfu["int"](a),isNaN(b)||0>b)return!1;switch(this.xf_prop.max_length=b,this.control_kind){case XFD_CTRLKIND_FIELD:void 0!==this.xf_prop.pattern?this.xf_object.prop("maxlength",this._getinputmaxlength()):this.xf_object.prop("maxlength",this.xf_prop.max_length);break;case XFD_CTRLKIND_MULTILINE:void 0!==this.xf_prop.pattern?this.xf_multiline.prop("maxlength",this._getinputmaxlength()):this.xf_multiline.prop("maxlength",this.xf_prop.max_length);break;case XFD_CTRLKIND_SPINNUMBER:void 0!==this.xf_prop.pattern?this.xf_edit.prop("maxlength",this._getinputmaxlength()):this.xf_edit.prop("maxlength",this.xf_prop.max_length);break;default:return!0}return this._setvalue(this._getvalue(),{is_fire_event:!1,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_API})},XF_API_INPUT.prototype.getmetamax=function(){return this.xf_prop.meta_maxlength},XF_API_INPUT.prototype.setmetamax=function(a){this.xf_prop.meta_maxlength=_xfu["int"](a)},XF_API_INPUT.prototype.getminlength=function(){return this.xf_prop.min_length},XF_API_INPUT.prototype.setminlength=function(a){this.xf_prop.min_length=a},XF_API_INPUT.prototype.getpattern=function(){return this.xf_prop.pattern},XF_API_INPUT.prototype.setpattern=function(a,b){this.xf_prop.pattern=a,this._pattern(),this.xf_object.prop("maxlength",this._getinputmaxlength()),void 0!==b&&b!==!0||this.settext(this.gettext())},XF_API_INPUT.prototype.getpatternmask=function(){return this.xf_prop.pattern_mask},XF_API_INPUT.prototype.setpatternmask=function(a,b){var c;this.xf_prop.pattern_mask=a,this._patternmask&&this._patternmask(),void 0!==b&&b!==!0||(c=this.gettext(),this._setvalue(c,{is_fire_event:!1,is_fire_async:!1,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_NONE,is_display_value:!0}))},XF_API_INPUT.prototype.getselcount=function(){switch(this.control_kind){case XFD_CTRLKIND_MULTILINE:return _xfj.selectcount(this.xf_multiline.get(0));case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:return _xfj.selectcount(this.xf_edit.get(0));default:return _xfj.selectcount(this.xf_object.get(0))}},XF_API_INPUT.prototype.getselend=function(){switch(this.control_kind){case XFD_CTRLKIND_MULTILINE:return _xfj.selectend(this.xf_multiline.get(0));case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:return _xfj.selectend(this.xf_edit.get(0));default:return _xfj.selectend(this.xf_object.get(0))}},XF_API_INPUT.prototype.getselstart=function(){switch(this.control_kind){case XFD_CTRLKIND_MULTILINE:return _xfj.selectstart(this.xf_multiline.get(0));case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:return _xfj.selectstart(this.xf_edit.get(0));default:return _xfj.selectstart(this.xf_object.get(0))}},XF_API_INPUT.prototype.settextatcursor=function(a,b,c){var d,e,f,g;void 0===b&&(b=!0),void 0===c&&(c=!0),d=this.getselstart(),e=this.getselend(),f=this.getdisplaytext(),g=f.split(""),g.splice(d,e-d,a),this.settextex(g.join(""),b,c),this.setsel(d+a.length,d+a.length)},XF_API_INPUT.prototype.setposend=function(){return this.setsel(-1,-1)},XF_API_INPUT.prototype.setsel=function(a,b){switch(this.control_kind){case XFD_CTRLKIND_FIELD:return _xfj.select(this.xf_object.get(0),a,b);case XFD_CTRLKIND_MULTILINE:return _xfj.select(this.xf_multiline.get(0),a,b);case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:return _xfj.select(this.xf_edit.get(0),a,b);default:return _xfj.select(this.xf_object.get(0),a,b)}},XF_API_INPUT.prototype.setlinkxdataset=function(a,b){var c,d,e;return this.xdataset_id===a?!1:(d=XFD_XDATASET_NORMAL,c=window[a],null===c&&(d=XFD_XDATASET_GLOBAL,c=factory.getglobalxdataset(a),null===c)?!1:(e=c.getcolumn(b),-1==e?!1:(this.xdataset_type==XFD_XDATASET_INNER?this.xf_xdataset._remove():this.xf_xdataset._deletelinkobject(this),this.xf_xdataset=c,this.xdataset_id=a,this.xdataset_type=d,this.xdataset_row_index=-1,this.xf_xdataset._addlinkobject(this),this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,this._setvalue(this._getvalue(),{is_fire_event:!1,is_set_xdataset:!1,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_API,is_display_value:!0,is_close_selectbox:!0,is_close_calendar:!0}),!0)))},XF_API_INPUT.prototype._data=function(){var a,b;b=!0,a=_xfx.defaultvalueinfo(this),0==a.default_value.length&&(b=!1,this.number_pattern_info&&this.number_pattern_info.blank_is_zero&&1===this.xf_prop.patternapply_blank&&(b=!0)),b&&this._setvalue(a.default_value,{is_fire_event:!1,is_set_xdataset:a.is_set_xdataset,event_type:a.is_set_xdataset?XFD_DATA_CHANGE_BY_API:XFD_DATA_CHANGE_BY_XDATASET,is_fire_editcomplete:!1,is_set_focus:!1,is_display_value:!0}),1==this.xf_prop.allow_dup&&1==this.xf_prop.auto_dup&&this.filldupdata()},XF_API_INPUT.prototype._getvalue=function(){return _xfx.getvalue(this)},XF_API_INPUT.prototype._setxdatasetvalue=function(a){_xfx.setxdatasetvalue(this,a)},XF_API_INPUT.prototype._input_offevent=function(a){_xfj.offevent(this.xf_object,["keydown","keyup","change","blur","copy","cut","focus","dblclick","click","mouseenter","mouseleave","mousedown","mouseup","dragstart"])},XF_API_INPUT.prototype._input_event=function(a){this.xf_object.on("keydown",$.proxy(this.on_input_keydown,this)),this.xf_object.on("keyup",$.proxy(this.on_input_keyup,this)),this.xf_object.on("change",$.proxy(this.on_input_change,this)),this.xf_object.on("blur",$.proxy(this.on_input_blur,this)),this.xf_object.on("copy",$.proxy(this.on_input_copy,this)),this.xf_object.on("cut",$.proxy(this.on_input_cut,this)),this.xf_object.on("focus",$.proxy(this.on_input_focus,this)),this.xf_object.on("dblclick",$.proxy(this.on_input_dblclick,this)),this.xf_object.on("click",$.proxy(this.on_input_click,this)),this.xf_object.on("contextmenu",$.proxy(this.on_input_rclick,this)),this.xf_object.on("mouseenter",$.proxy(this.on_input_mouseenter,this)),this.xf_object.on("mouseleave",$.proxy(this.on_input_mouseleave,this)),this.xf_object.on("mousedown",$.proxy(this.on_input_mousedown,this)),this.xf_object.on("mouseup",$.proxy(this.on_input_mouseup,this)),this.xf_object.on("dragstart",$.proxy(this.on_input_dragstart,this)),this.xf_object.on("touchstart",$.proxy(this.on_input_touchstart,this))},XF_API_INPUT.prototype._input_create=function(){this._dom(),this._data(),this._event()},XF_API_INPUT.prototype._input_box=function(a){var b;0==_xf_htmlready_mode&&(b=[],b.push(this._input_html(a,this.css_arr))),_xfx.register(this,!1,b)},XF_API_INPUT.prototype._input_html=function(a,b){var c;if(c=[],c.push("<input"),"_xf_password"==a)c.push(' type="password"');else if("_xf_number"==a)if(1==_xfu.ismobile()&&void 0!==this.xf_prop.mobile_keyboard)switch(this.xf_prop.mobile_keyboard){case 3:c.push(' type="tel"');break;case 7:c.push(' type="search"');break;default:c.push(' type="text"')}else c.push(' type="text"');else if("_xf_hangul"==a||"_xf_field"==a)if(1==_xfu.ismobile()&&void 0!==this.xf_prop.mobile_keyboard)switch(this.xf_prop.mobile_keyboard){case 0:c.push(' type="text"');break;case 1:c.push(' type="number"');break;case 2:c.push(' type="email"');break;case 3:c.push(' type="tel"');break;case 4:c.push(' type="url"');break;case 5:c.push(' type="date"');break;case 6:c.push(' type="time"');break;case 7:c.push(' type="search"');break;default:c.push(' type="text"')}else c.push(' type="text"');else c.push(' type="text"');return c.push(' id="'+this.xf_prop.internal_name+'"'),c.push(' class="'+_xfx.propclass(this,this.xf_prop,a)),c.push(" _xfd_padding_input"),void 0!==this.xf_prop.custom_input_class&&this.xf_prop.custom_input_class.length>0&&c.push(" "+this.xf_prop.custom_input_class),c.push('"'),void 0!==this.xf_prop.custom_input_attr&&this.xf_prop.custom_input_attr.length>0&&c.push(" "+this.xf_prop.custom_input_attr),c.push(' maxlength="'+this._getinputmaxlength()+'"'),this.xf_prop.tooltip.length>0&&c.push(' title="'+_xfu.quot(this.xf_prop.tooltip)+'"'),0==this.xf_prop.enable&&c.push(" disabled"),this.xf_prop.hint_text.length>0&&c.push(' placeholder="'+this.xf_prop.hint_text+'"'),1==this.xf_prop.input_type?c.push(" required"):2!=this.xf_prop.input_type&&3!=this.xf_prop.input_type||c.push(" readOnly"),c.push(' style="'),c.push(b.join("")),_xfx.sizeposcss(this,this.xf_prop,c),"_xf_hangul"!==a&&c.push("ime-mode:disabled;"),this.xf_prop.box_shadow_effect===!1&&c.push("box-shadow:none;"),0==this.xf_prop.enable&&_xfx.colorinput(this,null,this.xf_prop.enable,c),this.xf_prop.xf_button&&c.push("padding-right:"+_xfu.px(this.xf_prop.button_size+this.xf_prop.text_margin[1]-1)),c.push('"'),c.push("/>"),c.join("")},XF_API_INPUT.prototype._getinputmaxlength=function(){var a=0;return void 0===this.xf_prop.pattern_front_symbol&&(this.xf_prop.pattern_front_symbol=""),void 0===this.xf_prop.pattern_rear_symbol&&(this.xf_prop.pattern_rear_symbol=""),void 0===this.xf_prop.pattern&&(this.xf_prop.pattern=""),Math.max(this.xf_prop.max_length+this.xf_prop.pattern_front_symbol.length+ +this.xf_prop.pattern_rear_symbol.length,this.xf_prop.pattern.length+this.xf_prop.pattern_front_symbol.length+this.xf_prop.pattern_rear_symbol.length,a)},XF_API_INPUT.prototype.getpatternsymbol=function(a){return a=_xfu.intval(a,0,1),a===!1?null:0==a?this.xf_prop.pattern_front_symbol:this.xf_prop.pattern_rear_symbol},XF_API_INPUT.prototype.setpatternsymbol=function(a,b,c){return a=_xfu.intval(a,0,1),a===!1?!1:(0==a?this.xf_prop.pattern_front_symbol=b:this.xf_prop.pattern_rear_symbol=b,this.setpattern(this.xf_prop.pattern,c),!0)},XF_API_INPUT.prototype.on_xdataset_event=function(a){var b,c;switch(b=!1,a.type){case XFD_XDATASET_EVENT_ROW_DELETE:a.xdataset_row_index<=a.xdataset_pos_index?b=!0:-1==a.xdataset_pos_index&&(b=!0);break;case XFD_XDATASET_EVENT_ROW_INSERT:case XFD_XDATASET_EVENT_COLUMN_DELETE:case XFD_XDATASET_EVENT_COLUMN_EMPTY:case XFD_XDATASET_EVENT_COLUMN_ADD:case XFD_XDATASET_EVENT_COLUMN_INSERT:case XFD_XDATASET_EVENT_DATA_SORT:case XFD_XDATASET_EVENT_ETC:break;case XFD_XDATASET_EVENT_DATA_UPDATE:-1==this.xdataset_row_index?a.xdataset_row_index==a.xdataset_pos_index&&a.xdataset_column_type==this.xdataset_column_type&&a.xdataset_column_id==this.xdataset_column_id&&(b=!0):this.xdataset_row_index==a.xdataset_row_index&&a.xdataset_column_type==this.xdataset_column_type&&a.xdataset_column_id==this.xdataset_column_id&&(b=!0);break;case XFD_XDATASET_EVENT_DATA_LOAD:b=!0;break;case XFD_XDATASET_EVENT_DATA_POSITION:-1==this.xdataset_row_index&&(b=!0)}if(1==b)switch(c=this._getvalue(),this.control_kind){case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_COLOR:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_RADIOBUTTON:case XFD_CTRLKIND_TOGGLEBUTTON:this._setvalue(c,{is_fire_event:!0,is_set_xdataset:!1,is_set_focus:!1,is_fire_editcomplete:!1,event_type:XFD_DATA_CHANGE_BY_XDATASET,is_close_calendar:!0,is_display_value:!0});break;case XFD_CTRLKIND_COMBOBOX:this._clearvaluecodeinfo(),this._setselectedcodeex(c,!0,!0,XFD_DATA_CHANGE_BY_XDATASET,!1)}},XF_API_INPUT.prototype.on_input_change=function(a){0!=this.xf_prop.enable&&(void 0!==this.xf_prop.mobile_keyboard&&0!=this.xf_prop.mobile_keyboard?this.settext(this.xf_object.val()):factory._fireevent({xf_component:this,event_name:"on_change"},this))},XF_API_INPUT.prototype.on_input_mousedown=function(a){0==this.is_has_focus&&(this.focused_by=1),0!=this.xf_prop.enable&&this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation()},XF_API_INPUT.prototype.on_input_mouseup=function(a){0!=this.xf_prop.enable&&this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation()},XF_API_INPUT.prototype.on_input_dragstart=function(a){return 0!=this.xf_prop.enable?(this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation(),!1):void 0},XF_API_INPUT.prototype.on_input_touchstart=function(a){this.xf_prop.xf_grid&&a.stopPropagation()},XF_API_INPUT.prototype.on_input_click=function(a){0!=this.xf_prop.enable&&(this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation(),xf_screen._hideinputcontext(),factory._fireevent({xf_component:this,event_name:"on_click",is_fire_async:!0},this))},XF_API_INPUT.prototype.on_input_dblclick=function(a){0!=this.xf_prop.enable&&(this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation(),factory._fireevent({xf_component:this,event_name:"on_dblclick",is_fire_async:!0},this))},XF_API_INPUT.prototype.on_input_rclick=function(a){var b,c,d,e,f;a.preventDefault(),void 0!==this.xf_prop.create_mode&&this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation(),xf_screen._hideinputcontext(),0!=this.xf_prop.enable&&(factory.registermouseevent(this,a),b=factory._fireevent({xf_component:this,event_name:"on_rclick",default_value:0,is_fire_async:!1},this),1!==b&&(void 0===this.xf_prop.popupmenu_show||this.xf_prop.popupmenu_show!==!1&&2!==this.xf_prop.popupmenu_show)&&(d=xf_screen._getinputcontext(),d&&(f=0,c=this._getinputobject(),c&&(e=_xfj.selectcount(c[0]),0==e||this.control_field_kind===XFD_CTRLKIND_FIELD_PASSWORD?(d.setmenuprop("copy","is_hidden",!0),d.setmenuprop("cut","is_hidden",!0),f=2):(1==factory_xf_param.PROTECT_COPY?(d.setmenuprop("copy","is_hidden",!0),f++):d.setmenuprop("copy","is_hidden",!1),2==this.xf_prop.input_type||3==this.xf_prop.input_type?(d.setmenuprop("cut","is_hidden",!0),f++):d.setmenuprop("cut","is_hidden",!1)),2==this.xf_prop.input_type||3==this.xf_prop.input_type?(d.setmenuprop("paste","is_hidden",!0),f++):d.setmenuprop("paste","is_hidden",!1),3!=f&&(d.xf_component=this,d.show(a.originalEvent.pageX,a.originalEvent.pageY,a))))))},XF_API_INPUT.prototype.on_input_focus=function(a){if(this.count_keydown=0,1!=this.is_has_focus){if(this.control_field_kind===XFD_CTRLKIND_FIELD_NUMERIC&&1==_xfu.ismobile()&&1==this.xf_prop.mobile_keyboard&&(this.xf_object.attr("type","number"),this.xf_object.val(this.value)),this.focusout_type=0,this.is_has_focus=!0,this.value_on_focus=this.value,this.xf_prop.apply_inputtypecolor===!0||this.xf_prop.focus_style_use===!0)switch(this.control_kind){case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:_xfx.colorfocus(this,this.xf_edit,!0,null);break;default:_xfx.colorfocus(this,this.xf_object,!0,null)}this.xf_parent&&this.xf_parent.xf_content&&!this.xf_parent.xf_content.on_child_focus(this)||(factory_xf_param.UNMASK_ON_EDITABLE_FOCUS&&this.control_kind==XFD_CTRLKIND_FIELD&&(0!=this.xf_prop.input_type&&1!=this.xf_prop.input_type||(void 0!==this.xf_prop.masking_length&&this.xf_prop.masking_length>0||void 0!==this.mask_range_count&&this.mask_range_count>0)&&this._setvalue(this.value,{is_fire_event:!1,is_set_xdataset:!1,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_UNMASK})),this.pattern_type!==XFD_PATTERN_TYPE_NONE&&this.control_kind==XFD_CTRLKIND_FIELD&&this.control_field_kind==XFD_CTRLKIND_FIELD_HANGUL&&(0!=this.xf_prop.input_type&&1!=this.xf_prop.input_type||(a.target.value=this._unfmt(a.target.value,XFD_DATA_CHANGE_BY_USER))),this.on_input_focusselect(),factory._fireevent({xf_component:this,event_name:"on_focusin",is_fire_async:!0},this))}},XF_API_INPUT.prototype.on_input_focusselect=function(){factory._setimemode(this),1==this.xf_prop.focus_select?this.setsel(0,-1):2==this.xf_prop.focus_select&&1!=this.focused_by&&_xfu.async({func:this.on_input_focuscussor,context:this}),this.focused_by=0},XF_API_INPUT.prototype.on_input_focuscussor=function(){void 0!==this.cursor_on_blur?this.setsel(this.cursor_on_blur,this.cursor_on_blur):this.setsel(-1,-1)},XF_API_INPUT.prototype.on_input_blur=function(a){if(factory.on_component_blur(window.xf_screen,this),this.is_has_focus=!1,0==this.xf_prop.enable)return!1;if(this.xf_prop.apply_inputtypecolor===!0||this.xf_prop.focus_style_use===!0)switch(this.control_kind){case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:_xfx.colorfocus(this,this.xf_edit,!1,null);break;default:_xfx.colorfocus(this,this.xf_object,!1,null)}switch(this.control_kind){case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:this.cursor_on_blur=_xfj.position(this.xf_edit[0]);break;default:this.cursor_on_blur=_xfj.position(this.xf_object[0])}this.control_field_kind===XFD_CTRLKIND_FIELD_NUMERIC&&1==_xfu.ismobile()&&1==this.xf_prop.mobile_keyboard&&this.xf_object.attr("type","text"),this._setvalue(a.target.value,{is_fire_event:!0,is_fire_async:!0,is_set_xdataset:!0,is_fire_editcomplete:!0,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_BLUR,is_close_selectbox:!0,is_close_calendar:!0})},XF_API_INPUT.prototype.on_input_keydown=function(a){var b,c;if(this.xf_prop.enable){if(void 0!==this.count_keydown&&this.count_keydown++,this.is_edit_cancel=!1,this.event_keydown=a,a.which==XFD_KEY_ENTER&&this.control_kind==XFD_CTRLKIND_FIELD&&this.control_field_kind==XFD_CTRLKIND_FIELD_PASSWORD&&this._setvalue(a.target.value,{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_KEYUP}),c=factory._firekeyevent(this,a,!1,"on_prekeydown"),1==c)return void a.preventDefault();if(!a.ctrlKey){if(0!=_xfx.iskeyfocus(a,this))return!1;if(2==this.xf_prop.input_type||3==this.xf_prop.input_type)return void(a.which==XFD_KEY_BACKSPACE&&a.preventDefault());if(_xfx.iskeydupfield(a,this))return!1;if((0==a.shiftKey&&0==a.altKey&&a.which==XFD_KEY_ENTER||a.which==XFD_KEY_ESC)&&this.xf_prop.create_mode==_XFD_CREATEMODE_GRID)return a.which==XFD_KEY_ESC?this.is_edit_cancel=!0:a.which==XFD_KEY_ENTER&&(this.next_focus_dir=1),this.xf_object.blur(),!1;(_xfx.iskeyinputblock(a,this)||_xfx.iskeyfunction(a))&&a.preventDefault(),(factory.key_print_arr[a.which]||factory.key_hangul_arr[a.which])&&this.control_kind==XFD_CTRLKIND_MULTILINE&&0==_xfj.selectcount(this.xf_multiline.get(0))&&(b=_xfu.bytelen(this.value),b>=this.xf_prop.max_length&&a.preventDefault())}}},XF_API_INPUT.prototype.on_input_copy=function(a){return _xfx.copyevent(this,_xfx.input(this),a)},XF_API_INPUT.prototype.on_input_cut=function(a){return _xfx.cutevent(this,_xfx.input(this),a)},XF_API_INPUT.prototype.on_input_keyup=function(a){if(0!=this.xf_prop.enable&&2!=this.xf_prop.input_type&&3!=this.xf_prop.input_type){if(void 0!==this.count_keydown&&0==this.count_keydown)return a.preventDefault(),void(factory.key_stopbubble_arr[a.which]&&a.stopPropagation());if(void 0===this.count_keydown&&void 0!==this.event_keydown&&null==this.event_keydown)return a.preventDefault(),void(factory.key_stopbubble_arr[a.which]&&a.stopPropagation());if(a.which!=XFD_KEY_TAB&&a.which!=XFD_KEY_SHIFT)return this._setvalue(a.target.value,{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_KEYUP}),(!this.xf_prop.xf_grid||a.which!=XFD_KEY_BACKSPACE&&a.which!=XFD_KEY_DELETE)&&factory._firekeyevent(this,a),!1}},XF_API_INPUT.prototype.on_input_mouseenter=function(a){var b;if(0!=this.xf_prop.mousehover&&1!=this.xf_prop.transparent){switch(this.control_kind){case XFD_CTRLKIND_FIELD:b=this.xf_object;break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:b=this.xf_edit;break;case XFD_CTRLKIND_MULTILINE:b=this.xf_multiline;break;default:b=this.xf_object}b.css("color",_xfu.rgbfunc(this.xf_prop.mousehover_forecolor)),0===this.xf_prop.mousehover_gradienteffect?_xfc.backcolor(b,this.xf_prop.transparent,this.xf_prop.mousehover_backcolor,this.xf_prop.back_color_opacity):(b.css("background","none"),_xfc.gradient(b,this.xf_prop.mousehover_gradienteffect,this.xf_prop.mousehover_gradientendcolor,this.xf_prop.mousehover_gradientstartcolor,this.xf_prop.image))}},XF_API_INPUT.prototype.on_input_mouseleave=function(a){var b;if(0!=this.xf_prop.mousehover&&1!=this.xf_prop.transparent){switch(this.control_kind){case XFD_CTRLKIND_FIELD:b=this.xf_object;break;case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SPINNUMBER:b=this.xf_edit;break;case XFD_CTRLKIND_MULTILINE:b=this.xf_multiline;break;default:b=this.xf_object}b.css("background","none"),_xfx.colorinput(this,b,this.xf_prop.enable,null)}},XF_API_INPUT.prototype._keyarrowingrid=function(a,b,c){var d,e,f,g,h;return 0==factory_xf_param.GRID_ITEMEDIT_ARROWKEYACTION?!1:this.xf_prop.xf_grid?(void 0===c&&(c=!0),a.which!=XFD_KEY_LEFTARROW&&a.which!==XFD_KEY_RIGHTARROW&&a.which!=XFD_KEY_DOWNARROW&&a.which!==XFD_KEY_UPARROW?!1:0!=c||a.which==XFD_KEY_DOWNARROW&&a.which===XFD_KEY_UPARROW?a.which===XFD_KEY_UPARROW?(this.next_focus_dir=-2,this.xf_prop.on_editcomplete(this,this.is_edit_cancel),!0):a.which===XFD_KEY_DOWNARROW?(this.next_focus_dir=2,this.xf_prop.on_editcomplete(this,this.is_edit_cancel),!0):(g=b.val().length,0==g&&2==factory_xf_param.GRID_ITEMEDIT_ARROWKEYACTION?!1:(h=b.get(0),d=_xfj.selectstart(h),e=_xfj.selectend(h),f=e-d,0==d&&a.which===XFD_KEY_LEFTARROW?3==factory_xf_param.GRID_ITEMEDIT_ARROWKEYACTION&&f>0&&0==b.prop("readOnly")?!1:(this.next_focus_dir=-1,this.xf_prop.on_editcomplete(this,this.is_edit_cancel),!0):e==g&&a.which===XFD_KEY_RIGHTARROW?3==factory_xf_param.GRID_ITEMEDIT_ARROWKEYACTION&&f>0&&0==b.prop("readOnly")?!1:(this.next_focus_dir=1,this.xf_prop.on_editcomplete(this,this.is_edit_cancel),!0):!1)):!1):!1},XF_CONSOLE.RESIZE_BAR_TOP=0,XF_CONSOLE.RESIZE_BAR_RIGHT=1,XF_CONSOLE.RESIZE_BAR_BOTTOM=2,XF_CONSOLE.RESIZE_BAR_LEFT=3,XF_CONSOLE.ATTACH_DIR_TOP=0,XF_CONSOLE.ATTACH_DIR_RIGHT=1,XF_CONSOLE.ATTACH_DIR_BOTTOM=2,XF_CONSOLE.ATTACH_DIR_LEFT=3,XF_CONSOLE.ATTACH_DIR_FULL=9,XF_CONSOLE.MIN_WIDTH=460,XF_CONSOLE.MIN_HEIGHT=120,XF_CONSOLE.DEFAULT_WIDTH=460,XF_CONSOLE.DEFAULT_HEIGHT=320,XF_CONSOLE.XFD_LOG_ENGINE=0,XF_CONSOLE.XFD_LOG_DEBUG=1,XF_CONSOLE.XFD_LOG_INFO=2,XF_CONSOLE.XFD_LOG_WARN=3,XF_CONSOLE.XFD_LOG_ERROR=4,XF_CONSOLE.XFD_LOG_MAX_LINE=1e3,XF_CONSOLE.XDATASET_MAX_ROW=1e3,XF_CONSOLE.XDATASET_MIN_ROW=100,XF_CONSOLE.prototype._init=function(a){void 0===a&&(a=!1),this.is_popup_mode=a,this.resize_bar_type=XF_CONSOLE.ATTACH_DIR_TOP,null===window.opener||$.isEmptyObject(window.opener)?this.parent_window=window.parent:this.parent_window=window.opener},XF_CONSOLE.show_param=!0,XF_CONSOLE.prototype._member=function(){this.log_count=0,this.tran_count=0,this.time_count=0,this.is_show_time=!0,this.is_auto_scroll=!0,this.is_show_timer=!0,this.is_show_event=!0,this.is_show_param=!0,this.is_logging=!0,this.log_filter=XF_CONSOLE.XFD_LOG_ENGINE,this.xf_main_doc_body=null,this.width=XF_CONSOLE.DEFAULT_WIDTH,this.height=XF_CONSOLE.DEFAULT_HEIGHT,this.attach_dir=XF_CONSOLE.RESIZE_BAR_BOTTOM,this.is_show_console=!1,this.is_resize_bar_move=!1,this.mouse_page_x=-1,this.mouse_page_y=-1,this.xf_data_content_arr=[],this.xf_xdataset_arr=[]},XF_CONSOLE.prototype._box=function(){var a=[];a.push('<div class="_xf_console"'),a.push(' style="'),a.push(" display:none;"),a.push('">'),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_main_doc_body=this._getmaindocbody(),this.xf_main_doc_body.append(this.xf_object)},XF_CONSOLE.prototype._dom=function(){var a;a=[],a.push('<div class="_xf_console_content" id="_xf_console_log_content"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_tran_content" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_time_content" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_0" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_1" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_2" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_3" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_4" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_5" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_6" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_7" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_8" style="display:none;"></div>'),a.push('<div class="_xf_console_content" id="_xf_console_data_content_9" style="display:none;"></div>'),a.push('<div class="_xf_console_board">'),a.push('<div style="display:table;width:100%;position:static;">'),a.push('<div class="_xf_console_option_box">'),a.push('<input type="checkbox" class="_xf_console_check_box" id="_xf_console_auto_scroll" checked/><label class="_xf_console_check_label" for="_xf_console_auto_scroll" title="Auto Scroll">Scroll</label>'),a.push('<input type="checkbox" class="_xf_console_check_box" id="_xf_console_show_time" checked/><label  class="_xf_console_check_label" for="_xf_console_show_time" title="Show Time">Time</label>'),
a.push('<input type="checkbox" class="_xf_console_check_box" id="_xf_console_show_event" checked/><label  class="_xf_console_check_label" for="_xf_console_show_event"title="Show Event">Event</label>'),a.push('<input type="checkbox" class="_xf_console_check_box" id="_xf_console_show_timer" checked/><label  class="_xf_console_check_label" for="_xf_console_show_timer" title="Show Timer Event">Timer</label>'),a.push('<input type="checkbox" class="_xf_console_check_box" id="_xf_console_show_param" checked/><label  class="_xf_console_check_label" for="_xf_console_show_param" title="Show Event Parameter">Param</label>'),a.push("&nbsp;"),a.push('<select class="_xf_console_select" id="_xf_log_type" class="" tabindex="-1">'),a.push('<option value="log">log</option>'),a.push('<option value="tran">tran</option>'),a.push('<option value="time">time</option>'),a.push('<option value="0">xdataset0</option>'),a.push('<option value="1">xdataset1</option>'),a.push('<option value="2">xdataset2</option>'),a.push('<option value="3">xdataset3</option>'),a.push('<option value="4">xdataset4</option>'),a.push('<option value="5">xdataset5</option>'),a.push('<option value="6">xdataset6</option>'),a.push('<option value="7">xdataset7</option>'),a.push('<option value="8">xdataset8</option>'),a.push('<option value="9">xdataset9</option>'),a.push("</select>"),a.push("</div>"),a.push("</div>"),a.push('<div style="display:table;width:100%;">'),a.push('<div class="_xf_console_button_box">'),a.push('<button class="_xf_console_btn _xf_console_btn_stop" title="Stop Logging" id="_xf_control_log"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_trash" title="Delete Log" id="_xf_delete_log" type="button"></button>'),a.push('<span class="_xf_console_span">Filter </span>'),a.push('<select class="_xf_console_select" id="_xf_log_filter" class="" tabindex="-1">'),a.push('<option value="0">engine</option>'),a.push('<option value="1">debug</option>'),a.push('<option value="2">info</option>'),a.push('<option value="3">warning</option>'),a.push('<option value="4">error</option>'),a.push("</select>"),a.push('<button class="_xf_console_btn _xf_console_btn_top" title="Move Top" id="_xf_attach_console_top"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_right" title="Move Right" id="_xf_attach_console_right"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_bottom" title="Move Bottom" id="_xf_attach_console_bottom"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_left" title="Move Left" id="_xf_attach_console_left"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_orgsize" title="Default Size" id="_xf_console_default_size"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_maxsize" title="Full Mode" id="_xf_console_full_mode"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_detach" title="Popup Mode" id="_xf_console_mode_popup"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_attach" title="Attach Mode" id="_xf_console_mode_attach"></button>'),a.push('<button class="_xf_console_btn _xf_console_btn_close" title="Close" id="_xf_console_close"></button>'),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.push('<div class="_xf_console_resize _xf_console_resize_top"></div>'),a.push('<div class="_xf_console_resize _xf_console_resize_bottom"></div>'),a.push('<div class="_xf_console_resize _xf_console_resize_left"></div>'),a.push('<div class="_xf_console_resize _xf_console_resize_right"></div>'),this.xf_object.append($(a.join(""))),this.xf_log_content=this.xf_object.find("#_xf_console_log_content"),this.xf_tran_content=this.xf_object.find("#_xf_console_tran_content"),this.xf_time_content=this.xf_object.find("#_xf_console_time_content"),this.xf_data_content_0=this.xf_object.find("#_xf_console_data_content_0"),this.xf_data_content_1=this.xf_object.find("#_xf_console_data_content_1"),this.xf_data_content_2=this.xf_object.find("#_xf_console_data_content_2"),this.xf_data_content_3=this.xf_object.find("#_xf_console_data_content_3"),this.xf_data_content_4=this.xf_object.find("#_xf_console_data_content_4"),this.xf_data_content_5=this.xf_object.find("#_xf_console_data_content_5"),this.xf_data_content_6=this.xf_object.find("#_xf_console_data_content_6"),this.xf_data_content_7=this.xf_object.find("#_xf_console_data_content_7"),this.xf_data_content_8=this.xf_object.find("#_xf_console_data_content_8"),this.xf_data_content_9=this.xf_object.find("#_xf_console_data_content_9"),this.xf_data_content_arr.push(this.xf_data_content_0),this.xf_data_content_arr.push(this.xf_data_content_1),this.xf_data_content_arr.push(this.xf_data_content_2),this.xf_data_content_arr.push(this.xf_data_content_3),this.xf_data_content_arr.push(this.xf_data_content_4),this.xf_data_content_arr.push(this.xf_data_content_5),this.xf_data_content_arr.push(this.xf_data_content_6),this.xf_data_content_arr.push(this.xf_data_content_7),this.xf_data_content_arr.push(this.xf_data_content_8),this.xf_data_content_arr.push(this.xf_data_content_9),this.xf_auto_scroll=this.xf_object.find("#_xf_console_auto_scroll"),this.xf_show_time=this.xf_object.find("#_xf_console_show_time"),this.xf_show_event=this.xf_object.find("#_xf_console_show_event"),this.xf_show_timer=this.xf_object.find("#_xf_console_show_timer"),this.xf_show_param=this.xf_object.find("#_xf_console_show_param"),this.xf_log_type=this.xf_object.find("#_xf_log_type"),this.xf_control_log=this.xf_object.find("#_xf_control_log"),this.xf_control_log_icon=this.xf_object.find("#_xf_console_control_log_icon"),this.xf_control_log_title=this.xf_object.find("#_xf_console_control_log_title"),this.xf_delete_log=this.xf_object.find("#_xf_delete_log"),this.xf_log_filter=this.xf_object.find("#_xf_log_filter"),this.xf_resize_top=this.xf_object.find("._xf_console_resize_top"),this.xf_resize_right=this.xf_object.find("._xf_console_resize_right"),this.xf_resize_bottom=this.xf_object.find("._xf_console_resize_bottom"),this.xf_resize_left=this.xf_object.find("._xf_console_resize_left"),this.xf_attach_top=this.xf_object.find("#_xf_attach_console_top"),this.xf_attach_right=this.xf_object.find("#_xf_attach_console_right"),this.xf_attach_bottom=this.xf_object.find("#_xf_attach_console_bottom"),this.xf_attach_left=this.xf_object.find("#_xf_attach_console_left"),this.xf_default_size=this.xf_object.find("#_xf_console_default_size"),this.xf_full_mode=this.xf_object.find("#_xf_console_full_mode"),this.xf_popup_mode=this.xf_object.find("#_xf_console_mode_popup"),this.xf_attach_mode=this.xf_object.find("#_xf_console_mode_attach"),this.xf_close=this.xf_object.find("#_xf_console_close"),1==this.is_popup_mode?(this.xf_attach_top.hide(),this.xf_attach_right.hide(),this.xf_attach_bottom.hide(),this.xf_attach_left.hide(),this.xf_default_size.hide(),this.xf_full_mode.hide(),this.xf_popup_mode.hide()):this.xf_attach_mode.hide(),this.is_show_event?this.xf_show_event.prop("checked",!0):this.xf_show_event.prop("checked",!1),this.is_show_param?this.xf_show_param.prop("checked",!0):this.xf_show_param.prop("checked",!1)},XF_CONSOLE.prototype._offdocevent=function(){$(document).off("mouseup._xf_console"),$(document).off("mouseleave._xf_console"),$(document).off("touchend._xf_console"),$(document).off("mousemove._xf_console"),$(document).off("touchmove._xf_console")},XF_CONSOLE.prototype._docevent=function(){this._offdocevent(),$(document).on("mouseup._xf_console",$.proxy(this.on_document_mouseup,this)),$(document).on("mouseleave._xf_console",$.proxy(this.on_document_mouseup,this)),$(document).on("touchend._xf_console",$.proxy(this.on_document_mouseup,this)),$(document).on("mousemove._xf_console",$.proxy(this.on_document_mousemove,this)),$(document).on("touchmove._xf_console",$.proxy(this.on_document_mousemove,this))},XF_CONSOLE.prototype._offevent=function(){this.xf_object.off("keydown"),this.xf_control_log.off("click"),this.xf_delete_log.off("click"),this.xf_log_filter.off("change"),this.xf_auto_scroll.off("change"),this.xf_show_time.off("change"),this.xf_show_event.off("change"),this.xf_show_timer.off("change"),this.xf_show_param.off("change")},XF_CONSOLE.prototype._event=function(){this._offevent(),this.xf_control_log.on("click",$.proxy(this.on_controllog_click,this)),this.xf_delete_log.on("click",$.proxy(this.on_deletelog_click,this)),this.xf_log_type.on("change",$.proxy(this.on_logtype_change,this)),this.xf_log_filter.on("change",$.proxy(this.on_logfilter_change,this)),this.xf_auto_scroll.on("change",$.proxy(this.on_autoscroll_change,this)),this.xf_show_time.on("change",$.proxy(this.on_showtime_change,this)),this.xf_show_event.on("change",$.proxy(this.on_showevent_change,this)),this.xf_show_timer.on("change",$.proxy(this.on_showtimer_change,this)),this.xf_show_param.on("change",$.proxy(this.on_showparam_change,this)),this.xf_resize_top.on("mousedown",XF_CONSOLE.RESIZE_BAR_TOP,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_right.on("mousedown",XF_CONSOLE.RESIZE_BAR_RIGHT,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_bottom.on("mousedown",XF_CONSOLE.RESIZE_BAR_BOTTOM,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_left.on("mousedown",XF_CONSOLE.RESIZE_BAR_LEFT,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_top.on("touchstart",XF_CONSOLE.RESIZE_BAR_TOP,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_right.on("touchstart",XF_CONSOLE.RESIZE_BAR_RIGHT,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_bottom.on("touchstart",XF_CONSOLE.RESIZE_BAR_BOTTOM,$.proxy(this.on_resize_mousedown,this)),this.xf_resize_left.on("touchstart",XF_CONSOLE.RESIZE_BAR_LEFT,$.proxy(this.on_resize_mousedown,this)),this.xf_attach_top.on("click",$.proxy(this.on_attach_click,this,XF_CONSOLE.ATTACH_DIR_TOP)),this.xf_attach_right.on("click",$.proxy(this.on_attach_click,this,XF_CONSOLE.ATTACH_DIR_RIGHT)),this.xf_attach_bottom.on("click",$.proxy(this.on_attach_click,this,XF_CONSOLE.ATTACH_DIR_BOTTOM)),this.xf_attach_left.on("click",$.proxy(this.on_attach_click,this,XF_CONSOLE.ATTACH_DIR_LEFT)),this.xf_close.on("click",$.proxy(this.on_close_click,this)),this.xf_default_size.on("click",$.proxy(this.on_defaultsize_click,this)),this.xf_full_mode.on("click",$.proxy(this.on_fullmode_click,this)),this.xf_popup_mode.on("click",$.proxy(this.on_popupmode_click,this)),this.xf_attach_mode.on("click",$.proxy(this.on_attachmode_click,this)),this.xf_log_content.on("click",$.proxy(this.on_logcontent_click,this,this.xf_log_content)),this.xf_tran_content.on("click",$.proxy(this.on_logcontent_click,this,this.xf_tran_content)),this.xf_time_content.on("click",$.proxy(this.on_logcontent_click,this,this.xf_time_content)),this.xf_object.on("keydown",$.proxy(this.on_logcontent_keydown,this,this.xf_log_content)),this.xf_log_content.on("keydown",$.proxy(this.on_logcontent_keydown,this,this.xf_log_content)),this.xf_tran_content.on("keydown",$.proxy(this.on_logcontent_keydown,this,this.xf_tran_content)),this.xf_time_content.on("keydown",$.proxy(this.on_logcontent_keydown,this,this.xf_time_content))},XF_CONSOLE.prototype.on_document_mousemove=function(a){var b,c;if(c=_xfj.eventpagexy(a),0!=this.is_resize_bar_move){if(this.resize_bar_type==XF_CONSOLE.RESIZE_BAR_TOP||this.resize_bar_type==XF_CONSOLE.RESIZE_BAR_BOTTOM){if(b=c.y-this.mouse_page_y,0==b)return}else if(b=c.x-this.mouse_page_x,0==b)return;this.mouse_page_x=c.x,this.mouse_page_y=c.y,this.resize_bar_type==XF_CONSOLE.RESIZE_BAR_TOP||this.resize_bar_type==XF_CONSOLE.RESIZE_BAR_BOTTOM?(this.resize_bar_type==XF_CONSOLE.RESIZE_BAR_TOP?this.height=this.height+-1*b:this.height=this.height+b,this.height<XF_CONSOLE.MIN_HEIGHT&&(this.height=XF_CONSOLE.MIN_HEIGHT),this.xf_object.css("height",this.height+"px")):(this.resize_bar_type==XF_CONSOLE.RESIZE_BAR_RIGHT?this.width=this.width+b:this.width=this.width+-1*b,this.width<XF_CONSOLE.MIN_WIDTH&&(this.height=XF_CONSOLE.MIN_WIDTH),this.xf_object.css("width",this.width+"px"))}},XF_CONSOLE.prototype.on_document_mouseup=function(a){return 0!=this.is_resize_bar_move?(this.on_document_mousemove(a),this.is_resize_bar_move=!1,!this.is_popup_mode&&screen.setscreenprotect&&screen.setscreenprotect(!1),this.xf_resize_top.removeClass("_xf_console_resize_hover"),this.xf_resize_right.removeClass("_xf_console_resize_hover"),this.xf_resize_bottom.removeClass("_xf_console_resize_hover"),this.xf_resize_left.removeClass("_xf_console_resize_hover"),this._offdocevent(),!1):void 0},XF_CONSOLE.prototype.on_logcontent_keydown=function(a,b){var c,d;c=a.find("._xf_console_select_line"),c.length<=0||(38==b.keyCode?d=c.prev():40==b.keyCode&&(d=c.next()),void 0!==d&&d.length>0&&(c.removeClass("_xf_console_select_line"),d.addClass("_xf_console_select_line").focus()))},XF_CONSOLE.prototype.on_logcontent_click=function(a,b){var c,d;c=$(b.target),d=c.closest("._xf_console_line"),d.length<=0||1!=d.hasClass("_xf_console_select_line")&&(a.find("._xf_console_select_line").removeClass("_xf_console_select_line"),d.addClass("_xf_console_select_line"))},XF_CONSOLE.prototype.on_resize_mousedown=function(a){var b,c;switch(c=a.data){case XF_CONSOLE.RESIZE_BAR_TOP:this.xf_resize_top.addClass("_xf_console_resize_hover");break;case XF_CONSOLE.RESIZE_BAR_RIGHT:this.xf_resize_right.addClass("_xf_console_resize_hover");break;case XF_CONSOLE.RESIZE_BAR_BOTTOM:this.xf_resize_bottom.addClass("_xf_console_resize_hover");break;case XF_CONSOLE.RESIZE_BAR_LEFT:this.xf_resize_left.addClass("_xf_console_resize_hover");break;default:return}this.resize_bar_type=c,this.is_resize_bar_move=!0,b=_xfj.eventpagexy(a),this.mouse_page_x=b.x,this.mouse_page_y=b.y,!this.is_popup_mode&&screen.setscreenprotect&&screen.setscreenprotect(!0,0,!1),this._docevent()},XF_CONSOLE.prototype.on_attach_click=function(a,b){_xfu.cookie("CONSOLE_ATTACH_TYPE",a,100),a==XF_CONSOLE.ATTACH_DIR_TOP||a==XF_CONSOLE.ATTACH_DIR_BOTTOM?this.show(a,this.height):this.show(a,this.width)},XF_CONSOLE.prototype.on_close_click=function(a){1==this.is_popup_mode?window.close():this.hide()},XF_CONSOLE.prototype.on_autoscroll_change=function(a){1==this.xf_auto_scroll.prop("checked")?this.is_auto_scroll=!0:this.is_auto_scroll=!1},XF_CONSOLE.prototype.on_showtime_change=function(a){1==this.xf_show_time.prop("checked")?this.is_show_time=!0:this.is_show_time=!1},XF_CONSOLE.prototype.on_showevent_change=function(a){1==this.xf_show_event.prop("checked")?this.is_show_event=!0:this.is_show_event=!1},XF_CONSOLE.prototype.on_showtimer_change=function(a){1==this.xf_show_timer.prop("checked")?this.is_show_timer=!0:this.is_show_timer=!1},XF_CONSOLE.prototype.on_showparam_change=function(a){this.consoleprint("on_showparam_change"),1==this.xf_show_param.prop("checked")?(this.is_show_param=!0,XF_CONSOLE.show_param=!0):(this.is_show_param=!1,XF_CONSOLE.show_param=!1)},XF_CONSOLE.prototype.on_logfilter_change=function(a){this.log_filter=parseInt(this.xf_log_filter.val(),10)},XF_CONSOLE.prototype._hidedatacontent=function(a){this.xf_data_content_0.hide(),this.xf_data_content_1.hide(),this.xf_data_content_2.hide(),this.xf_data_content_3.hide(),this.xf_data_content_4.hide(),this.xf_data_content_5.hide(),this.xf_data_content_6.hide(),this.xf_data_content_7.hide(),this.xf_data_content_8.hide(),this.xf_data_content_9.hide()},XF_CONSOLE.prototype.on_logtype_change=function(a){var b=this.xf_log_type.val();"log"==b?(this.xf_log_content.show(),this.xf_tran_content.hide(),this.xf_time_content.hide(),this._hidedatacontent()):"tran"==b?(this.xf_log_content.hide(),this.xf_tran_content.show(),this.xf_time_content.hide(),this._hidedatacontent()):"time"==b?(this.xf_log_content.hide(),this.xf_tran_content.hide(),this.xf_time_content.show(),this._hidedatacontent()):(this._hidedatacontent(),this.xf_log_content.hide(),this.xf_tran_content.hide(),this.xf_time_content.hide(),this.xf_object.find("#_xf_console_data_content_"+b).show())},XF_CONSOLE.prototype.on_deletelog_click=function(a){var b=this.xf_log_type.val();"log"==b?this.xf_log_content.children().remove():"tran"==b?this.xf_tran_content.children().remove():"time"==b&&this.xf_time_content.children().remove()},XF_CONSOLE.prototype.on_defaultsize_click=function(a){this.attach_dir==XF_CONSOLE.ATTACH_DIR_TOP||this.attach_dir==XF_CONSOLE.ATTACH_DIR_BOTTOM?this.show(this.attach_dir,XF_CONSOLE.DEFAULT_HEIGHT):this.show(this.attach_dir,XF_CONSOLE.DEFAULT_WIDTH)},XF_CONSOLE.prototype.on_fullmode_click=function(a){this.show(XF_CONSOLE.ATTACH_DIR_FULL,0)},XF_CONSOLE.prototype.on_popupmode_click=function(a){factory._showconsolepopup(!0),this.hide()},XF_CONSOLE.prototype.on_attachmode_click=function(a){var b=null;b=null===window.opener||$.isEmptyObject(window.opener)?window.parent:window.opener,b.factory._setconsolepopupmode(!1),b.factory.xf_main_factory.xf_console_box.show(),window.close()},XF_CONSOLE.prototype.on_controllog_click=function(a){0==this.is_logging?(this.is_logging=!0,this.xf_control_log.removeClass("_xf_console_btn_play"),this.xf_control_log.prop("title","Stop Logging")):(this.is_logging=!1,this.xf_control_log.addClass("_xf_console_btn_play"),this.xf_control_log.prop("title","Start Logging"))},XF_CONSOLE.prototype.consoleprint=function(a){0!=this.is_show_console&&0!=this.is_logging&&this.log_filter<=XF_CONSOLE.XFD_LOG_DEBUG&&this.log(XF_CONSOLE.XFD_LOG_DEBUG,a)},XF_CONSOLE.prototype.engine=function(a){0!=this.is_show_console&&0!=this.is_logging&&this.log_filter<=XF_CONSOLE.XFD_LOG_ENGINE&&this.log(XF_CONSOLE.XFD_LOG_ENGINE,a)},XF_CONSOLE.prototype.debug=function(a){0!=this.is_show_console&&0!=this.is_logging&&this.log_filter<=XF_CONSOLE.XFD_LOG_DEBUG&&this.log(XF_CONSOLE.XFD_LOG_DEBUG,a)},XF_CONSOLE.prototype.info=function(a){0!=this.is_show_console&&0!=this.is_logging&&this.log_filter<=XF_CONSOLE.XFD_LOG_INFO&&this.log(XF_CONSOLE.XFD_LOG_INFO,a)},XF_CONSOLE.prototype.warn=function(a){0!=this.is_show_console&&0!=this.is_logging&&this.log_filter<=XF_CONSOLE.XFD_LOG_WARN&&this.log(XF_CONSOLE.XFD_LOG_WARN,a)},XF_CONSOLE.prototype.error=function(a){0!=this.is_show_console&&0!=this.is_logging&&this.log_filter<=XF_CONSOLE.XFD_LOG_ERROR&&this.log(XF_CONSOLE.XFD_LOG_ERROR,a)},XF_CONSOLE.prototype.xdataset=function(a,b){if(0!=this.is_show_console&&0!=this.is_logging){if(void 0===b)b=0;else if(b=_xfu["int"](b),isNaN(b)||0>b||b>9)return;this.xf_xdataset_arr[b]=a,this.xf_log_type.val(b),this._hidedatacontent(),this.xf_log_content.hide(),this.xf_tran_content.hide(),this.xf_time_content.hide(),this.xf_object.find("#_xf_console_data_content_"+b).show(),this._displayxdataset(b)}},XF_CONSOLE.prototype._displayxdataset=function(a){var b,c,d,e,e,f,g,h,i,j,k,l,m;if(i=this.xf_data_content_arr[a],j=this.xf_xdataset_arr[a],void 0!==j&&null!=j&&void 0!==i&&null!=i){for(l=j.getpos(),g=[],b=j.getrowcount(),c=j.getcolumncount(),m=j.getdeletedrowcount(!1),e=0,h=this.parent_window.factory_xf_param.CONSOLETRACE_SHOWXDATASETMAXROW,(void 0===h||isNaN(h)||0>h)&&(h=XF_CONSOLE.XDATASET_MIN_ROW),h>XF_CONSOLE.XDATASET_MAX_ROW&&(h=XF_CONSOLE.XDATASET_MAX_ROW),g.push('<table class="_xf_console_table" style="margin-bottom:3px;">'),g.push('<tr class="_xf_console_table_tr">'),g.push('<td class="_xf_console_table_th" style="padding:0px 6px 0px 6px;">'),g.push("ID"),g.push("</td>"),g.push('<td class="_xf_console_table_td" style="padding:0px 6px 0px 6px;">'),g.push(j.getid()),g.push("</td>"),g.push('<td class="_xf_console_table_th" style="padding:0px 6px 0px 6px;">'),g.push("COLUMN"),g.push("</td>"),g.push('<td class="_xf_console_table_td" style="padding:0px 6px 0px 6px;">'),g.push(c),g.push("</td>"),g.push('<td class="_xf_console_table_th" style="padding:0px 6px 0px 6px;">'),g.push("ROW"),g.push("</td>"),g.push('<td class="_xf_console_table_td" style="padding:0px 6px 0px 6px;">'),g.push(b),g.push("</td>"),g.push('<td class="_xf_console_table_th" title="삭제된 행 갯수(삭제 Mark만 된거 제외)" style="padding:0px 6px 0px 6px;">'),g.push("DEL ROW"),g.push("</td>"),g.push('<td class="_xf_console_table_td" style="padding:0px 6px 0px 6px;">'),g.push(m),g.push("</td>"),g.push('<td class="_xf_console_table_th" title="최대 표시 행수" style="padding:0px 6px 0px 6px;">'),g.push("DISP MAX ROW"),g.push("</td>"),g.push('<td class="_xf_console_table_td" style="padding:0px 6px 0px 6px;">'),g.push(h),g.push("</td>"),g.push('<td class="_xf_console_table_td _xf_console_table_td" style="padding:0px 6px 0px 6px;">'),g.push('<button title="reload" class="_xf_console_btn _xf_console_btn_refresh" data-target_index="'+a+'"></button>'),g.push("</td>"),g.push("</tr>"),g.push("</table>"),g.push('<table class="_xf_console_table">'),g.push('<tr class="_xf_console_table_tr">'),g.push('<th class="_xf_console_table_th" title="번호">'),g.push("NO"),g.push("</th>"),g.push('<th class="_xf_console_table_th" title="체크 상태">'),g.push("CH"),g.push("</th>"),g.push('<th class="_xf_console_table_th" title="변경 상태">'),g.push("ST"),g.push("</th>"),f=0;c>f;f++)g.push('<th class="_xf_console_table_th">'),g.push(j.getcolumnid(f)),g.push("</th>");if(this.parent_window.factory_xf_param.CONSOLETRACE_SHOWXDATASETINNERCOLUMN===!0)for(d=j._getcolumncount(5),f=0;d>f;f++)g.push('<th class="_xf_console_table_th">'),g.push(j._getcolumnid(5,f)),g.push("</th>");for(g.push("</tr>"),e=0;b>e&&!(e>=h);e++){for(g.push('<tr class="_xf_console_table_tr">'),g.push('<td class="_xf_console_table_td _xf_console_table_td_fix">'),e==l?g.push("<strong>"+(e+1)+"</strong>"):g.push(e+1),g.push("</td>"),g.push('<td class="_xf_console_table_td _xf_console_table_td_fix">'),g.push(1==j._ischeckedrow(e)?"V":""),g.push("</td>"),g.push('<td class="_xf_console_table_td _xf_console_table_td_fix">'),g.push(j.getrowoperation(e)),g.push("</td>"),f=0;c>f;f++)g.push('<td class="_xf_console_table_td">'),g.push(j.getrawdata(e,f)),g.push("</td>");if(this.parent_window.factory_xf_param.CONSOLETRACE_SHOWXDATASETINNERCOLUMN===!0)for(f=0;d>f;f++)g.push('<td class="_xf_console_table_td">'),g.push(j._getrawdata(e,5,f)),g.push("</td>");g.push("</tr>")}for(e=0;m>e&&!(e>=h);e++){for(g.push('<tr class="_xf_console_table_tr">'),g.push('<td class="_xf_console_table_td _xf_console_table_td_fix">'),g.push(e+1),g.push("</td>"),g.push('<td class="_xf_console_table_td _xf_console_table_td_fix">'),g.push(""),g.push("</td>"),g.push('<td class="_xf_console_table_td _xf_console_table_td_fix">'),g.push("D"),g.push("</td>"),f=0;c>f;f++)g.push('<td class="_xf_console_table_td">'),g.push(j.getdeldata(e,f)),g.push("</td>");g.push("</tr>")}g.push("</table>"),i[0].innerHTML=g.join(""),k=i.find("button"),k.on("click",$.proxy(this.on_reload_click,this)),i.show(),i.scrollTop(0)}},XF_CONSOLE.prototype.on_reload_click=function(a){var b,c,d;c=$(a.target),d=c.closest("button"),b=d.data("target_index"),this._displayxdataset(_xfu["int"](b))},XF_CONSOLE.prototype.log=function(a,b){var c,d,e,f,g,h,i,j,k;switch(this.log_count++,this.log_count>XF_CONSOLE.XFD_LOG_MAX_LINE&&(this.xf_log_content.children().remove(),this.log_count=0),this.xf_log_content.find("._xf_console_select_line").removeClass("_xf_console_select_line"),a){case XF_CONSOLE.XFD_LOG_ENGINE:d="_xf_log_engine";break;case XF_CONSOLE.XFD_LOG_DEBUG:d="_xf_log_debug";break;case XF_CONSOLE.XFD_LOG_INFO:d="_xf_log_info";break;case XF_CONSOLE.XFD_LOG_WARN:d="_xf_log_warn";break;case XF_CONSOLE.XFD_LOG_ERROR:d="_xf_log_error";break;default:d="_xf_log_warn"}for(e="",1==this.is_show_time&&(f=new Date,e=this._timestr(f)),i=$.isArray(b)===!0?b:[b],k=i.length,h=0;k>h;h++)j=i[h],g='<span style="white-space:pre;">'+j+"</span>",c=$('<a class="_xf_console_line '+d+' _xf_console_select_line">'+e+" "+g+"</a>"),this.xf_log_content.append(c);c.focus(),1==this.is_auto_scroll&&this.xf_log_content.scrollTop(1e6)},XF_CONSOLE.prototype.tran=function(a){var b,c,d,e;this.tran_count++,this.tran_count>XF_CONSOLE.XFD_LOG_MAX_LINE&&(this.xf_tran_content.children().remove(),this.tran_count=0),this.xf_tran_content.find("._xf_console_select_line").removeClass("_xf_console_select_line"),c=[],d="",1==this.is_show_time&&(e=new Date,d=this._timestr(e)),c.push('<a class="_xf_console_line _xf_log_debug _xf_console_select_line">'),c.push(d+" "+a),c.push("</a>"),b=$(c.join("")),this.xf_tran_content.append(b),b.focus(),1==this.is_auto_scroll&&this.xf_tran_content.scrollTop(1e6)},XF_CONSOLE.prototype.time=function(a){var b,c,d,e;this.time_count++,this.time_count>XF_CONSOLE.XFD_LOG_MAX_LINE&&(this.xf_time_content.children().remove(),this.time_count=0),this.xf_time_content.find("._xf_console_select_line").removeClass("_xf_console_select_line"),c=[],d="",1==this.is_show_time&&(e=new Date,d=this._timestr(e)),c.push('<a class="_xf_console_line _xf_log_debug _xf_console_select_line">'),c.push(d+" "+a),c.push("</a>"),b=$(c.join("")),this.xf_time_content.append(b),b.focus(),1==this.is_auto_scroll&&this.xf_time_content.scrollTop(1e6)},XF_CONSOLE.prototype._timestr=function(a){var b,c,d,e;return b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=a.getMilliseconds(),10>b&&(b="0"+b),10>c&&(c="0"+c),10>d&&(d="0"+d),10>e?e="00"+e:100>e&&(e="0"+e),b+":"+c+":"+d+"."+e},XF_CONSOLE.prototype.hide=function(){this.on_deletelog_click(),this.is_show_console=!1,this.xf_object.fadeOut("fast")},XF_CONSOLE.prototype.show=function(a,b){var c;switch(void 0==a&&(a=this.attach_dir,c=_xfu.cookie("CONSOLE_ATTACH_TYPE"),c.length>0&&(a=_xfu["int"](c))),void 0==b&&(a==XF_CONSOLE.ATTACH_DIR_TOP||a==XF_CONSOLE.ATTACH_DIR_BOTTOM?b=this.height:a!=XF_CONSOLE.ATTACH_DIR_LEFT&&a!=XF_CONSOLE.ATTACH_DIR_RIGHT||(b=this.width)),this.xf_resize_top.hide(),this.xf_resize_right.hide(),this.xf_resize_bottom.hide(),this.xf_resize_left.hide(),this.is_show_console=!0,this.xf_object.show(),a!=XF_CONSOLE.ATTACH_DIR_FULL&&(this.attach_dir=a),a){case XF_CONSOLE.ATTACH_DIR_TOP:this.xf_resize_bottom.show(),void 0===b&&(b=this.height),this.height=b,this.xf_object.css({top:"0px",bottom:"auto",left:"0px",right:"auto",width:"100%",height:this.height+"px"});break;case XF_CONSOLE.ATTACH_DIR_RIGHT:this.xf_resize_left.show(),void 0===b&&(b=this.width),this.width=b,this.xf_object.css({top:"0px",bottom:"auto",left:"auto",right:"0px",width:this.width+"px",height:"100%"});break;case XF_CONSOLE.ATTACH_DIR_BOTTOM:this.xf_resize_top.show(),void 0===b&&(b=this.height),this.height=b,this.xf_object.css({top:"auto",bottom:"0px",left:"0px",right:"auto",width:"100%",height:this.height+"px"});break;case XF_CONSOLE.ATTACH_DIR_LEFT:this.xf_resize_right.show(),void 0===b&&(b=this.width),this.width=b,this.xf_object.css({top:"0px",bottom:"auto",left:"0px",right:"auto",width:this.width+"px",height:"100%"});break;case XF_CONSOLE.ATTACH_DIR_FULL:this.xf_object.css({top:"0px",bottom:"auto",left:"0px",right:"auto",width:"100%",height:"100%"})}},XF_CONSOLE.prototype._getmaindocbody=function(){var a;return a=this._getmainwindow(),$(a.document.body)},XF_CONSOLE.prototype._getmainwindow=function(){var a,b,c;if(1==this.is_popup_mode)return window;b=window;try{for(c=0;100>c;c++){if(a=b.parent,a===b){if(null==b.opener)return b;a=b.opener}if(void 0===a.xf_screen)return b;b=a}}catch(d){}return b},XF_CONTENT.INSTANCE_ORDER_CREATE=0,XF_CONTENT.INSTANCE_ORDER_TAB=1,XF_CONTENT.INSTANCE_ORDER_POSITION=2,XF_CONTENT.INSTANCE_ORDER_POSITIONALL=3,XF_CONTENT.INSTANCE_POSITION_FIRST=0,XF_CONTENT.INSTANCE_POSITION_LAST=1,XF_CONTENT.INSTANCE_POSITION_PREV=2,XF_CONTENT.INSTANCE_POSITION_NEXT=3,XF_CONTENT._sortbyposition=function(a,b){var c,d,e,f,g,h;return c=a.xf_parent.xf_component,d=b.xf_parent.xf_component,e=a.xf_prop.x,f=a.xf_prop.y,g=b.xf_prop.x,h=b.xf_prop.y,null!=c&&(e+=c.xf_prop.x,f+=c.xf_prop.y),null!=d&&(g+=d.xf_prop.x,h+=d.xf_prop.y),f==h?e-g:f-h},XF_CONTENT.getinstancebypos=function(a,b,c){var d,e;if(e=b.length,0==e)return null;if(a==XF_CONTENT.INSTANCE_POSITION_FIRST)return b[0];if(a==XF_CONTENT.INSTANCE_POSITION_LAST)return b[e-1];for(d=0;e>d;d++)if(b[d]==c){if(a==XF_CONTENT.INSTANCE_POSITION_PREV)return 0==d?null:b[d-1];if(a==XF_CONTENT.INSTANCE_POSITION_NEXT)return d==e-1?null:b[d+1]}return null},XF_CONTENT.prototype._init=function(a,b){this.xf_component=a,this.xf_tab_panel=null,this.xf_object=b,this.xf_parent_content=null,this.xf_execution_context=window,a.xf_parent&&a.xf_parent.xf_screen&&a.xf_parent.xf_screen.xf_content&&(this.xf_execution_context=a.xf_parent.xf_screen.xf_content.xf_execution_context),this.first_shape_zindex=XFD_ZINDEX_SHAPE,this.last_shape_zindex=XFD_ZINDEX_SHAPE,this.first_control_zindex=XFD_ZINDEX_CONTROL,this.last_control_zindex=XFD_ZINDEX_CONTROL,this.focused_object=null,this.tab_order_arr=[],this.controls=[],this.shapes=[],this.register_component_info_arr=[]},XF_CONTENT.prototype.on_content_enable=function(a){var b,c;for(c=this.shapes.length,b=0;c>b;b++)this.shapes[b].setenable(a,!0);for(c=this.controls.length,b=0;c>b;b++)this.controls[b].setenable(a,!0)},XF_CONTENT.prototype.on_content_resize=function(a,b){var c,d;for(void 0===a&&(a=!1),void 0===b&&(b=!1),d=this.shapes.length,c=0;d>c;c++)this.shapes[c].on_parent_resize&&this.shapes[c].on_parent_resize(a,b);for(d=this.controls.length,c=0;d>c;c++)this.controls[c].on_parent_resize&&this.controls[c].on_parent_resize(a,b)},XF_CONTENT.prototype.on_child_focus=function(a,b){var c;return void 0===b&&(b=!0),a.xf_prop.enable?a.xf_prop.create_mode==_XFD_CREATEMODE_GRID?!1:(a.is_has_focus=!0,this.focused_object=a,this.xf_parent_content&&(this.xf_parent_content.focused_object=a),(c=a.xf_parent.xf_screen)?(c.xf_content.focused_object=a,b&&(factory.xf_main_factory.focused_xf_screen=c),window.xframe_screen_kind==XFD_SCREEN_TABLINK&&c.parent_tabpanel&&c.parent_tabpanel.xf_tab&&c.parent_tabpanel.xf_tab.on_childscreen_focus(c.parent_tabpanel.xf_item.xf_prop.item_index),window.xframe_screen_kind==XFD_SCREEN_SLIDELINK&&c.parent_slideitem&&c.parent_slideitem.xf_slide&&c.parent_slideitem.xf_slide.on_childscreen_focus(c.parent_slideitem.xf_item.xf_prop.item_index),!0):void 0):!1},XF_CONTENT.prototype.isfocusable=function(a,b){return a.getenable()&&a.getvisible()?b?a.gettabstop():void 0!==a.xf_prop.tabstop:!1},XF_CONTENT.prototype._getinstancearr=function(a,b,c){var d,e,f,g,h,i;if(void 0===b&&(b=XF_CONTENT.INSTANCE_ORDER_CREATE),void 0===c&&(c=!1),a==XFD_OBJKIND_SHAPE&&b==XF_CONTENT.INSTANCE_ORDER_TAB)return[];switch(g=a===XFD_OBJKIND_CONTROL?this.controls.slice(0):this.shapes.slice(0).concat(this.controls.slice(0)),b){case XF_CONTENT.INSTANCE_ORDER_POSITION:case XF_CONTENT.INSTANCE_ORDER_POSITIONALL:g.sort(XF_CONTENT._sortbyposition);break;case XF_CONTENT.INSTANCE_ORDER_TAB:for(f=g.length,d=f-1;d>=0;d--)0==this.isfocusable(g[d],c)&&g.splice(d,1);for(h=[],i=this.tab_order_arr.length,d=0;i>d;d++)for(f=g.length,e=f-1;e>=0;e--)if(this.tab_order_arr[d]==g[e].xf_prop.control_id){h.push(g[e]),g.splice(e,1);break}g.sort(XF_CONTENT._sortbyposition),g=h.concat(g)}return g},XF_CONTENT.prototype._log=function(a){var b,c,d;for(c=a.length,b=0;c>b;b++)d=[],d.push("control_id = "+a[b].xf_prop.control_id),d.push("name = "+a[b].xf_prop.name),d.push("x = "+a[b].xf_prop.x),d.push("y = "+a[b].xf_prop.y)},XF_CONTENT.prototype.empty=function(){var a,b;for(b=this.controls.length,a=b-1;a>=0;a--)_xfu.isfunction(this.controls[a].destroy)&&this.controls[a].destroy();for(b=this.shapes.length,a=b-1;a>=0;a--)_xfu.isfunction(this.shapes[a].destroy)&&this.shapes[a].destroy();this.focused_object=null,this.controls=[],this.shapes=[]},XF_CONTENT.prototype.destroy=function(){this.empty()},XF_CONTENT.prototype.settaborder=function(a){var b,c;if(a&&a.order_info)for(this.tab_order_arr=a.order_info.split(","),c=this.tab_order_arr.length,b=0;c>b;b++)this.tab_order_arr[b]=Number(this.tab_order_arr[b])},XF_CONTENT.prototype.register=function(a){a.xf_prop.create_mode!=_XFD_CREATEMODE_GRID&&(a.object_kind===XFD_OBJKIND_CONTROL?this.controls.push(a):a.object_kind===XFD_OBJKIND_SHAPE&&(void 0!==factory_xf_param.SHAPE_IS_COMPONENT&&1==factory_xf_param.SHAPE_IS_COMPONENT?this.controls.push(a):this.shapes.push(a)),this.xf_parent_content&&this.xf_parent_content.register(a))},XF_CONTENT.prototype.unregister=function(a){var b,c,d;if(a.xf_prop.create_mode!=_XFD_CREATEMODE_GRID){for(a.object_kind===XFD_OBJKIND_CONTROL?d=this.controls:a.object_kind===XFD_OBJKIND_SHAPE&&(d=void 0!==factory_xf_param.SHAPE_IS_COMPONENT&&1==factory_xf_param.SHAPE_IS_COMPONENT?this.controls:this.shapes),
c=d.length,b=0;c>b;b++)if(d[b]==a){d.splice(b,1);break}this.xf_parent_content&&this.xf_parent_content.unregister(a)}},XF_CONTENT.prototype.eventlock=function(a,b){var c;for(c=0;c<this.controls.length;c++)this.controls[c].eventlock(a,b);for(c=0;c<this.shapes.length;c++)this.shapes[c].eventlock(a,b)},XF_CONTENT.prototype.getcontrolcount=function(a,b){var c=this.getinstanceall(XF_CONTENT.INSTANCE_ORDER_CREATE,a,!1,b);return c.length},XF_CONTENT.prototype.getshapecount=function(a,b){var c=this.getshapeinstanceall(XF_CONTENT.INSTANCE_ORDER_CREATE,a,b);return c.length},XF_CONTENT.prototype.getinstanceall=function(a,b,c,d){var e,f,g,h;if(void 0===b&&(b=!1),void 0===c&&(c=!1),void 0===d&&(d=!1),f=this._getinstancearr(XFD_OBJKIND_CONTROL,a,c),g=f.length,0==g)return f;if(1==d)return f;for(e=g-1;e>=0;e--)if(1==_xfx.iscontainercomponent(f[e])){if(a==XF_CONTENT.INSTANCE_ORDER_TAB&&f[e].getcontrolkind()==XFD_CTRLKIND_MENUBTN&&0==f[e].isshowmenubox())continue;h=f[e]._getinstanceall(a,b,d,c),f.splice.apply(f,[e+1,0].concat(h))}return f},XF_CONTENT.prototype.getshapeinstanceall=function(a,b,c){var d,e,f,g,h;if(void 0===c&&(c=!1),f=this._getinstancearr(XFD_OBJKIND_SHAPE,a),g=f.length,0==g)return f;if(1==c)return f;for(e=[],d=g-1;d>=0;d--)f[d].object_kind==XFD_OBJKIND_SHAPE?e.unshift(f[d]):1==_xfx.iscontainercomponent(e[d])&&(h=e[d]._getshapeinstanceall(a,b),e.splice.apply(e,[0,0].concat(h)));return e},XF_CONTENT.prototype.getcontentinstance=function(a,b,c,d,e,f){var g;return void 0===e&&(e=!1),g=b==XF_CONTENT.INSTANCE_ORDER_TAB?a==XFD_OBJKIND_CONTROL?this.getinstanceall(b,e,!0,f):this.getshapeinstanceall(b,e,f):a==XFD_OBJKIND_CONTROL?this.getinstanceall(b,e,!1,f):this.getshapeinstanceall(b,e,f),XF_CONTENT.getinstancebypos(c,g,d)},XF_CONTENT.prototype.getcontrolfocus=function(a,b,c,d,e){var f,g,h;if(void 0===e&&(e=!0),h=this.xf_parent_content&&e&&this.xf_component.getcontrolkind()==XFD_CTRLKIND_TABLEVIEW?this.xf_component._getchildinstanceall(-1,-1,XF_CONTENT.INSTANCE_ORDER_TAB,c,!1,b):this.getinstanceall(XF_CONTENT.INSTANCE_ORDER_TAB,c,b),g=h.length,0==g)return null;if(a==XF_CONTENT.INSTANCE_POSITION_FIRST){for(f=0;g>f;f++)if(0!=this.isfocusable(h[f],b))return h[f];return null}if(a==XF_CONTENT.INSTANCE_POSITION_LAST){for(f=g-1;f>=0;f--)if(0!=this.isfocusable(h[f],b))return h[f];return null}for(f=0;g>f&&h[f]!=d;f++);if(f==g)return null;if(a==XF_CONTENT.INSTANCE_POSITION_PREV){for(f-=1;f>=0;f--)if(0!=this.isfocusable(h[f],b))return h[f]}else if(a==XF_CONTENT.INSTANCE_POSITION_NEXT)for(f+=1;g>f;f++)if(0!=this.isfocusable(h[f],b))return h[f];if(this.xf_component&&this.xf_component.xf_prop&&this.xf_component.xf_prop.focus_rotate===!0){if(a==XF_CONTENT.INSTANCE_POSITION_PREV)return this.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,b,c,d);if(a==XF_CONTENT.INSTANCE_POSITION_NEXT)return this.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_FIRST,b,c,d)}return null},XF_CONTENT.prototype.getinstancdbydomid=function(a){var b,c,d;for(c=this.controls.length,b=0;c>b;b++)if(d=this.controls[b],d.xf_object.attr("id")==a)return d;for(b=0;c>b;b++)if(d=this.shapes[b],d.xf_object.attr("id")==a)return d;return null},XF_CONTENT.prototype.getinstancdbydom=function(a){var b,c,d;for(c=this.controls.length,b=0;c>b;b++)if(d=this.controls[b],d.xf_object[0]==a)return d;for(b=0;c>b;b++)if(d=this.shapes[b],d.xf_object[0]==a)return d;return null},XF_CONTEXT.prototype._init=function(a){this.xf_component=a,this.is_show=!1,this.xf_object=null,this.menu_arr=[],this.sub_menu_dir="right"},XF_CONTEXT.prototype._prop=function(a){this.xf_prop={id:"context_menu",menu_width:200,callback:null},$.extend(this.xf_prop,a)},XF_CONTEXT.prototype._box=function(){var a;a=[],a.push('<div id="'+this.xf_prop.id+'"'),a.push(' class="_xf_context"'),a.push(' style="'),a.push("width:"+_xfu.px(this.xf_prop.menu_width)+";"),a.push("display:none;"),a.push('">'),a.push("</div>"),this.xf_object=$(a.join(""))},XF_CONTEXT.prototype._dom=function(){var a,b,c,d;for(this.xf_object.css("width",_xfu.px(this.xf_prop.menu_width)),d=[],b=this.menu_arr.length,a=0;b>a;a++)c=this.menu_arr[a],d.push(this._dom_menu(c));this.xf_object.empty(),this.xf_object[0].innerHTML=d.join("")},XF_CONTEXT.prototype._dom_menu=function(a){var b,c,d;if(b=[],a.is_hidden)return"";if(d=a.sub_menu_arr.length,"menu"==a.type){if(b.push("<div"),b.push(' id="'+this.xf_prop.id+"_"+a.id+'"'),b.push(' data-id="'+a.id+'"'),b.push(' data-enable="'+a.is_enable+'"'),b.push(' data-menu_width="'+this.xf_prop.menu_width+'"'),b.push(' data-callback="'+a.callback+'"'),b.push(' data-sub_menu_count="'+a.sub_menu_arr.length+'"'),b.push(' data-sub_menu_width="'+a.sub_menu_width+'"'),b.push(' class="_xf_context_menu'),a.icon.length>0&&(this.xf_component.control_kind==XFD_CTRLKIND_GRID||this.xf_component.control_kind==XFD_CTRLKIND_TREEGRID||this.xf_component.control_kind==XFD_CTRLKIND_MULTILINEGRID?b.push(" _xf_context_menu_grid _xf_context_menu_grid_"+a.icon):this.xf_component.control_kind==XFD_CTRLKIND_TREE?b.push(" _xf_context_menu_tree _xf_context_menu_tree_"+a.icon):this.xf_component.control_kind==XFD_CTRLKIND_SCHEDULE?b.push(" _xf_context_menu_tree _xf_context_menu_schedule_"+a.icon):b.push(" _xf_context_menu_grid _xf_context_menu_grid_"+a.icon)),b.push('"'),b.push(">"),b.push('<span class="_xf_context_menu_label'),0==a.is_enable&&b.push(" _xf_context_menu_label_disabled"),b.push('">'),b.push(a.label),b.push("</span>"),d>0&&1==a.is_enable&&b.push('<div class="_xf_context_menu_arrow"></div>'),b.push("</div>"),d>0){for(b.push('<div id="'+this.xf_prop.id+"_"+a.id+'_sub"'),b.push(' class="_xf_context _xf_context_sub"'),b.push(" style="),b.push("width:"+_xfu.px(a.sub_menu_width)+";"),b.push("display:none;"),b.push('">'),c=0;d>c;c++)b.push(this._dom_menu(a.sub_menu_arr[c]));b.push("</div>")}}else"separator"==a.type&&b.push('<div class="_xf_context_separator"></div>');return b.join("")},XF_CONTEXT.prototype._offevent=function(){this.xf_object.off("mousedown, click"),this.xf_object.find("._xf_context_menu").off("mouseenter")},XF_CONTEXT.prototype._event=function(){this._offevent(),this.xf_object.on("mousedown",$.proxy(this.on_menubox_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_menubox_click,this)),this.xf_object.find("._xf_context_menu").on("mouseenter",$.proxy(this.on_menu_mouseenter,this))},XF_CONTEXT.prototype._offdocevent=function(){$(document).off("contextmenu."+this.xf_prop.id),$(document).off("click."+this.xf_prop.id),$(document).off("keydown."+this.xf_prop.id),$(window).off("blur."+this.xf_prop.id)},XF_CONTEXT.prototype._docevent=function(){this._offdocevent(),$(document).on("contextmenu."+this.xf_prop.id,$.proxy(this.on_document_contextmenu,this)),$(document).on("click."+this.xf_prop.id,$.proxy(this.on_document_click,this)),$(document).on("keydown."+this.xf_prop.id,$.proxy(this.on_document_keydown,this)),$(window).on("blur."+this.xf_prop.id,$.proxy(this.on_window_blur,this))},XF_CONTEXT.prototype.on_document_keydown=function(a){a.keyCode==XFD_KEY_ESC&&this.hide()},XF_CONTEXT.prototype.on_document_click=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_context"})&&this.hide()},XF_CONTEXT.prototype.on_document_contextmenu=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_context"})&&this.hide(),a.preventDefault()},XF_CONTEXT.prototype.on_window_blur=function(a){this.hide()},XF_CONTEXT.prototype.on_menu_mouseenter=function(a){var b,c,d,e,f,g,h,i;b=$(a.target),b=b.closest("._xf_context_menu"),c=b.data("id"),d=b.data("enable"),e=b.data("menu_width"),f=b.data("sub_menu_count"),g=b.data("sub_menu_width"),"false"!=d&&0!=d&&(this.hide_submenu(a),0>=f||(h=this.xf_object.find("#"+this.xf_prop.id+"_"+c+"_sub"),h.length<=0||(h.show(),i=b.position(),"left"==this.sub_menu_dir?(h.css({left:_xfu.px(i.left-e),top:_xfu.px(i.top-4),width:_xfu.px(g)}),this._possubmenu(e,b,g,h)):(h.css({left:_xfu.px(i.left+e-4),top:_xfu.px(i.top-4),width:_xfu.px(g)}),this._possubmenu(e,b,g,h)))))},XF_CONTEXT.prototype.hide_submenu=function(a){var b,c;for(b=a.target;b;){if(c=$(b),1==c.hasClass("_xf_context_sub"))return;if(!b.parentNode)break;b=b.parentNode}this.xf_object.find("._xf_context_sub").hide()},XF_CONTEXT.prototype.on_menu_mouseleave=function(a){var b,c,d,e,f;b=$(a.target),b=b.closest("._xf_context_menu"),c=b.data("id"),d=b.data("enable"),e=b.data("count"),"false"!=d&&0!=d&&e>0&&(f=this.xf_object.find("#"+this.xf_prop.id+"_"+c+"_sub"),f.length>0&&f.hide())},XF_CONTEXT.prototype.on_menubox_mousedown=function(a){a.preventDefault()},XF_CONTEXT.prototype.on_menubox_click=function(event){var id,xf_target,menu_id,menu_enable,menu_count,menu_callback,is_callback_called;if(xf_target=$(event.target),xf_target=xf_target.closest("._xf_context_menu"),xf_target.length<1)return!1;if(menu_id=xf_target.data("id"),menu_enable=xf_target.data("enable"),menu_count=xf_target.data("count"),menu_callback=xf_target.data("callback"),!(menu_count>0)&&"false"!=menu_enable&&0!=menu_enable&&0!=menu_id.length){if(is_callback_called=!1,menu_callback.length>0)try{menu_callback=eval(menu_callback),_xfu.isfunction(menu_callback)&&(is_callback_called=!0,menu_callback(this.xf_component.xf_parent.xf_screen,this.xf_component,menu_id))}catch(e){alert(e.message)}return null!=this.xf_prop.callback&&0==is_callback_called&&this.xf_prop.callback(menu_id),this.hide(),!1}},XF_CONTEXT.prototype.hide=function(){this.hidden()},XF_CONTEXT.prototype.hidden=function(){window&&0!=this.is_show&&(this._offevent(),this._offdocevent(),this.xf_object.find("._xf_context_sub").hide(),this.xf_object.detach(),this.is_show=!1)},XF_CONTEXT.prototype.show=function(a,b,c){if(window.xf_context)try{window.xf_context.hidden()}catch(d){}1==this.is_show&&this.hidden(),_xfu.ismobile()&&factory_xf_param.MOBILE_POPUPMENU_SHOW===!1||this.menu_arr&&0!=this.menu_arr.length&&($(document.body).append(this.xf_object),this.xf_object.css({left:a+"px",top:b+"px"}),this.xf_object.show(),this.is_show=!0,window.xf_context=this,this._event(),_xfu.async({func:this._docevent,context:this}),this._pos(c))},XF_CONTEXT.prototype.remove=function(){var a,b;for(b=this.xf_item_arr.length,a=0;b>a;a++)this.xf_item_arr[a].remove();this.xf_item_arr=[]},XF_CONTEXT.prototype._pos=function(a){var b,c,d,e,f;f={},f.left=a.pageX,f.top=a.pageY,c=this.xf_object.outerWidth(),b=this.xf_object.outerHeight(),d=document.documentElement.clientWidth,e=document.documentElement.clientHeight,a.clientY+b>e&&(f.top-=b,f.top<0&&(f.top=0)),a.clientX+c>d&&(f.left-=c,f.left<0&&(f.left=0)),this.sub_menu_dir="right",2*c+a.clientX>d&&(this.sub_menu_dir="left"),this.xf_object.css(f)},XF_CONTEXT.prototype._possubmenu=function(a,b,c,d){var e,f,g,h,i,j,k,l;i=this.xf_object.offset(),j=b.offset(),k=a-4+c,l=j.top+4-i.top+d.height(),e=this.xf_object.position(),f=document.documentElement.clientWidth,g=document.documentElement.clientHeight,e.top+l>g&&(h=e.top+l-g,d.css("top",_xfu["int"](d.css("top"))-h))},XF_CONTEXT.prototype.newmenu=function(a){var b;return b={type:"menu",id:"",icon:"bars",label:"",is_enable:!0,is_hidden:!1,callback:"",sub_menu_width:this.xf_prop.menu_width,sub_menu_arr:[]},$.extend(b,a),b},XF_CONTEXT.prototype.setmenu=function(a){this.menu_arr=JSON.parse(JSON.stringify(a)),this._dom(),this._event()},XF_CONTEXT.prototype.setmenuwidth=function(a,b){this.xf_prop.menu_width=a,void 0!==b&&1!=b||this._dom()},XF_CONTEXT.prototype.refresh=function(){this._dom()},XF_CONTEXT.prototype.setmenuprop=function(a,b,c,d){var e,f,g,h,i,j;for(g=this.menu_arr,h=g.length,e=0;h>e;e++){if(g[e].id==a)return g[e][b]=c,void 0!==d&&1!=d||this._dom(),!0;for(i=g[e].sub_menu_arr,j=i.length,f=0;j>f;f++)if(i[f].id==a)return i[f][b]=c,void 0!==d&&1!=d||this._dom(),!0}return!1},XF_FACTORY.FACTORY_MESSAGE_PREFIX="_xf_factory_message",XF_FACTORY.prototype._init=function(a,b){this.xf_screen=a,this.xf_window=$(window),void 0===b?(this.is_main_factory=!0,this.xf_main_factory=this,this.xf_main_screen=a,this.main_window=window):(this.is_main_factory=!1,this.xf_main_factory=b,this.xf_main_screen=b.xf_screen,this.main_window=b.main_window)},XF_FACTORY.prototype._global=function(){0!=this.is_main_factory&&(this.focused_xf_screen=null,this.xf_context=null,this.internal_name_seqno=0,this.lib_src_map={},this.lib_load_map={},this.picklist_map={},this.dup_info={},this.time_map={},this.popup_name_arr=[],this.popup_map={},this.popup_param=[],this.menu_map={},this.meta_map={},this.meta_url_arr=[],this.key_sequence=0,this.tablink_screen_key_sequence=0,this.tablink_screen_key_map={},this.console_popup_window=null,this.is_console_popup_show=!1,this.xf_console_popup=null,this.xf_console_box=null,this.mouse_event=null,this.mouse_event_component=null,this.is_alertbox_show=!1,this.xf_drag={object_kind:XFD_OBJKIND_NONE,control_kind:XFD_CTRLKIND_NONE,shape_kind:XFD_SHAPEKIND_NONE,xf_screen:null,xf_component:null},this.is_console_popup_mode=!1,this.xf_param={DBMS_CHARSET:"UTF-8",HANGUL_BYTE_LENGTH:3,XTRAN_DATAFORMAT:"json",MULTI_REGISTER_MODE:!0,SCREEN_FORMTAG_USE:!1,CALENDAR_TODAY:"",MAINLOADSTATUS_SHOW:!1,MAINLOADSTATUS_AUTOHIDE:!0,XTRAN_JSONSENDDATAFUNC:"",XTRAN_JSONRECVDATAFUNC:"",XTRAN_XMLSENDDATAFUNC:"",XTRAN_XMLRECVDATAFUNC:"",XTRAN_SENDDATAKEY:"XDATASET5",XTRAN_URLENCODING:!0,XTRAN_TIMEOUT:36e5,XTRAN_DATALOG:0,XTRAN_AJAXCONTENTTYPE:"application/x-www-form-urlencoded; charset=UTF-8",XTRAN_AJAXDATATYPE:"text",XTRAN_WITHCREDENTIALS:!0,FOCUS_ROTATE:!1,USE_XPLUSSCREENSVR:!1,USE_CACHE:!0,CACHE_TYPE:0,USE_PICKLIST_CACHE:!0,USE_ALERTBOX:!0,USE_METADATA_CACHE:!1,TRAN_BASEURL:"",TRAN_TIMEOUT:36e5,POPUP_UNLOAD_VALUE:"",POPUP_WINCLOSE_VALUE:"",PROTECT_COPY:!1,PROTECT_COPY_DISABLE:!1,PROTECT_COPY_PROTECT:!1,PROTECT_COOKIE:!1,DATE_CALENDAR_SIZE:2,WEEKDAY_COLOR:[3,3,3],FRIDAY_COLOR:void 0,MAXLENGTH_KEYIN:1,CALENDAR_MIN_YEAR_SELECT:1900,CALENDAR_MAX_YEAR_SELECT:2050,SCREEN_RESIZE_EVENTTIME:10,KEYMAP_FOCUS_NEXT:[],KEYMAP_GRID_ENTER_EDITMODE:[13],KEYMAP_GRID_ITEM_MOVENEXT:[],KEYMAP_MULTILINE_SELECTALL:[],MOBILE_POPUPMENU_SHOW:!0,PICKLIST_KEYIN_FILTER:!0,PICKLIST_HIDDENCODE_VALIDATION:0,PICKLIST_FILTER_TYPE:2,PICKLIST_COMMENTONLY_CODECHECK:!0,PICKLIST_CODECOMMENT_COMMENTCHECK:!1,PASSWORD_POPUPMENU_SHOW:1,USE_TRANMAP_ATTR:!0,MULTILINE_NEWLINE:2,GRID_EDITBOX_MULTILINE_NEWLINE:0,GRID_EDITBOX_ESCAPE_HTML:!1,GRID_TREEHASLINES:void 0,GRID_TREELINESTYLE:1,TREE_LINESTYLE:1,GRID_COPY_KEY_ACTION:1,GRID_COPY_DATA_TYPE:1,GRID_COPYALL_HEADER_ITEM:1,GRID_COPY_HIDDEN_ITEM:1,GRID_PASTE_HIDDEN_ITEM:1,GRID_PASTE_NONEDIT_ITEM:1,GRID_EXCEL_HIDDEN_ROW:2,GRID_CHECK_HIDDEN_ROW:2,GRID_FILESAVE_MASK_APPLY:2,GRID_FILELOAD_DATA_VALIDATION:0,GRID_FILELOAD_ERROR_SHOWALERT:!1,GRID_SORTSTARTORDER_ASCENDING:!0,GRID_HEADERCLICKSORT_CHECKMERGE:!1,GRID_AUTOCOLUMNWIDTH_FIXEDCOLS:2,GRID_COLUMNMERGE_BLANKVALUE:!0,GRID_DBLCLICKEDIT:!0,GRID_ITEMEDIT_ARROWKEYACTION:3,GRID_MOUSEWHEEL_ACTIVEALWAYS:!1,GRID_MOUSEWHEEL_HORZSCROLL:!1,GRID_MOUSERCLICK_ITEMSELECT:!1,GRID_CONTEXTMENU_TARGETITEM:1,GRID_COMBOBUTTONCLICK_EDIT:!0,GRID_CALENDARBUTTONCLICK_EDIT:!0,GRID_CHECKBOXITEM_CLICKCHECK:!1,GRID_HEADERCHECKCLICK_FIRETYPE:0,GRID_SCROLLTRACKCLICK_MOVETYPE:1,GRID_TOUCHSCROLL_EVENTTIME:10,GRID_HORZSCROLL_MOVEMODE:2,GRID_HORZSCROLL_LASTCOLUMNWIDTH:1,GRID_ONITEMVALUECHANGED_ASYNC:!1,GRID_HEADERCHECK_INITENABLE:!1,GRID_EXCELDOWNLOAD_ITEMSTYLE:!1,GRID_EXCELDOWNLOAD_FORECOLOR:!1,GRID_EXCELDOWNLOAD_ITEMMERGE:!1,GRID_STATISTICS_MERGEDITEM:1,GRID_STATISTICS_HIDDENITEM:1,GRID_STATISTICS_COUNTTYPE:1,GRID_STATISTICS_COUNTDATATYPE:1,GRID_VERTSCROLL_VIEWTABLE:!0,GRID_HORZSCROLL_VIEWTABLE:!0,GRID_MOBILEMODE_APPLY:1,GRID_MOBILEMODE_SCROLLBARHIDE:1,DATE_SELECTBOX_SHOWCLOSEBUTTON:!1,DATE_TODAYBAR_SHOWCLOSEBUTTON:!1,COMBOBOX_SELECTBOX_OVERFLOWX:1,COMBOBOX_SELECTBOX_OVERFLOWY:1,COMBOBOX_MOUSEWHEEL_ITEMSELECT:1,COMBOBOX_MOBILEMODE_APPLY:1,COMBOBOX_ALLCHECK_TEXTDISPLAY:1,MODALPOPUP_MINBUTTON_SHOW:!1,MODALPOPUP_MOVE_OVERFLOWX:!1,MODALPOPUP_MOVE_OVERFLOWY:!1,RADIOBUTTON_FOCUS_SELECTGROUP:!1,MASK_FIT_PATTERN_LENGTH:!1,BLANK_PATTERN_ALLOW_MINUS:!0,GRID_PICKLIST_SETMAXLENGTH:1,DATE_ALLZERO_IS_VALID:!1,DATE_ALLNINE_IS_VALID:!1,KEYMAP_BUTTON_CLICK:[32],BLANK_MINUS_ONE_CHAR:!1,GRID_SETITEMTEXT_CHECK_MAXLENGTH:!0,INVALID_VALUE_BY_API:0,INVALID_VALUE_HINTTEXT:"Error",CALLBACK_FOCUSMOVE_KEY:"",CALLBACK_EXCEL_DOWNLOAD:"",CALLBACK_EXCEL_UPLOAD:"",CALLBACK_FILE_DOWNLOAD:"",CALLBACK_FILE_UPLOAD:"",CALLBACK_EVENT_NAME:[""],CALLBACK_EVENT_BEFORE:"",CALLBACK_VALIDATION_ALERT:"",CALLBACK_SCREEN_URL:"",CALLBACK_PICKLIST_URL:"",CALLBACK_GRID_EXCEL_LOAD:"",CALLBACK_META_DATA:"",CALLBACK_META_LOAD:"",EVENTFIRE_BEFORE_SCREENONLOAD:!0,EVENTFIRE_SYNC_SCREENONLOAD:!1,MANDATORYCOLOR:void 0,MANDATORYBORDERCOLOR:void 0,MANDATORYFORECOLOR:void 0,MANDATORYCOLORFOCUS:void 0,MANDATORYBORDERCOLORFOCUS:void 0,MANDATORYFORECOLORFOCUS:void 0,OPTIONALCOLOR:void 0,OPTIONALBORDERCOLOR:void 0,OPTIONALFORECOLOR:void 0,OPTIONALCOLORFOCUS:void 0,OPTIONALBORDERCOLORFOCUS:void 0,OPTIONALFORECOLORFOCUS:void 0,PROTECTCOLOR:void 0,PROTECTBORDERCOLOR:void 0,PROTECTFORECOLOR:void 0,PROTECTCOLORFOCUS:void 0,PROTECTBORDERCOLORFOCUS:void 0,PROTECTFORECOLORFOCUS:void 0,IMPORTANTCOLOR:void 0,IMPORTANTBORDERCOLOR:void 0,IMPORTANTFORECOLOR:void 0,IMPORTANTCOLORFOCUS:void 0,IMPORTANTBORDERCOLORFOCUS:void 0,IMPORTANTFORECOLORFOCUS:void 0,DISABLECOLOR:void 0,DISABLEBORDERCOLOR:void 0,DISABLEFORECOLOR:void 0,POPUP_CONSOLETRACE:!1,SHOW_CONSOLETRACE:!0,CHECK_SCREENURL:!1,UNMASK_ON_EDITABLE_FOCUS:!1,XFRAME5BROWSER_MODALESS_POPUP_WIDTH_GAP:16,XFRAME5BROWSER_MODALESS_POPUP_HEIGHT_GAP:39,XFRAME5BROWSER_BROWSER_WIDTH_GAP:14,XFRAME5BROWSER_BROWSER_HEIGHT_GAP:7,META_RESOURCE_URL:"",SCHEDULE_DAYNAME_OF_WEEK:["일[Sun]","월[Mon]","화[Tue]","수[Wed]","목[Thu]","금[Fri]","토[Sat]"]},$.extend(!0,this.xf_param,_xf_param),void 0===this.xf_param.FRIDAY_COLOR&&(this.xf_param.FRIDAY_COLOR=this.xf_param.WEEKDAY_COLOR),this.xf_param.DBMS_CHARSET=this.xf_param.DBMS_CHARSET.toUpperCase(),"UTF-8"!==this.xf_param.DBMS_CHARSET&&(this.xf_param.HANGUL_BYTE_LENGTH=2),this.is_console_popup_mode=this.xf_param.POPUP_CONSOLETRACE,this.xf_window.on("message._xf_main_factory",$.proxy(this.on_window_message,this)))},XF_FACTORY.prototype.on_window_message=function(a){var b,c,d,e;b=a.originalEvent.data.split("|"),3==b.length&&b[0]==XF_FACTORY.FACTORY_MESSAGE_PREFIX&&(c=b[1],d=b[2],"focuspopup"==c&&(e=d,this.xf_main_factory.popup_map[e]&&(this.xf_main_factory.popup_map[e].popup_window&&this.xf_main_factory.popup_map[e].popup_window.closed||(this.xf_main_factory.popup_map[e].popup_window.focus(),this.xf_main_factory.popup_map[e].popup_window.screen&&this.xf_main_factory.popup_map[e].popup_window.screen.activate()))))},XF_FACTORY.prototype._local=function(){var a,b;for(this.xf_iframe=null,this.is_mobile=_xfu.ismobile(),this.is_chrome=_xfu.ischrome(),this.is_ie=_xfu.isie(),this.is_apple=_xfu.isapple(),0==this.is_main_factory&&(this.xf_param=JSON.parse(JSON.stringify(this.xf_main_factory.xf_param))),this.callback_event_info={},b=this.xf_param.CALLBACK_EVENT_NAME.length,a=0;b>a;a++)this.callback_event_info[this.xf_param.CALLBACK_EVENT_NAME[a]]=!0;this._key()},XF_FACTORY.prototype._key=function(){var a;for(this.key_eng_arr=[],this.key_num_arr=[],this.key_float_arr=[],this.key_num_normal_arr=[],this.key_num_numpad_arr=[],this.key_etc_arr=[],this.key_print_arr=[],this.key_minus_arr=[],this.key_zero_arr=[],this.key_dot_arr=[],this.key_del_arr=[],this.key_stopbubble_arr=[],this.key_movecursor_arr=[],this.key_hangul_arr=[],this.key_etc_arr[XFD_KEY_GRAVE_ACCENT]=!0,this.key_etc_arr[XFD_KEY_MINUS]=!0,this.key_etc_arr[XFD_KEY_MINUS_FF]=!0,this.key_etc_arr[XFD_KEY_BACK_SLASH]=!0,this.key_etc_arr[XFD_KEY_EQUAL]=!0,this.key_etc_arr[XFD_KEY_EQUAL_FF]=!0,this.key_etc_arr[XFD_KEY_OPEN_BRACKET]=!0,this.key_etc_arr[XFD_KEY_CLOSE_BRACKET]=!0,this.key_etc_arr[XFD_KEY_SEMICOLON]=!0,this.key_etc_arr[XFD_KEY_SEMICOLON_FF]=!0,this.key_etc_arr[XFD_KEY_APOSTROPHE]=!0,this.key_etc_arr[XFD_KEY_COMMA]=!0,this.key_etc_arr[XFD_KEY_DOT]=!0,this.key_etc_arr[XFD_KEY_SLASH]=!0,this.key_etc_arr[XFD_KEY_SPACE]=!0,this.key_stopbubble_arr=[].concat(this.key_etc_arr),this.key_etc_arr[XFD_KEY_NUMPAD_SLASH]=!0,this.key_etc_arr[XFD_KEY_NUMPAD_STAR]=!0,this.key_etc_arr[XFD_KEY_NUMPAD_MINUS]=!0,this.key_etc_arr[XFD_KEY_NUMPAD_PLUS]=!0,this.key_etc_arr[XFD_KEY_NUMPAD_DOT]=!0,this.key_print_arr=[].concat(this.key_etc_arr),this.key_hangul_arr[0]=!0,this.key_hangul_arr[XFD_KEY_HANGUL]=!0,this.key_stopbubble_arr[XFD_KEY_HANGUL]=!0,a=XFD_KEY_A;a<=XFD_KEY_Z;a++)this.key_eng_arr[a]=!0,this.key_print_arr[a]=!0,this.key_stopbubble_arr[a]=!0;for(a=XFD_KEY_0;a<=XFD_KEY_9;a++)this.key_num_normal_arr[a]=!0,this.key_num_arr[a]=!0,this.key_float_arr[a]=!0,this.key_print_arr[a]=!0,this.key_stopbubble_arr[a]=!0;for(a=XFD_KEY_NUMPAD_0;a<=XFD_KEY_NUMPAD_9;a++)this.key_num_numpad_arr[a]=!0,this.key_num_arr[a]=!0,this.key_float_arr[a]=!0,this.key_print_arr[a]=!0,this.key_stopbubble_arr[a]=!0;this.key_float_arr[XFD_KEY_MINUS]=!0,this.key_float_arr[XFD_KEY_MINUS_FF]=!0,this.key_float_arr[XFD_KEY_DOT]=!0,this.key_float_arr[XFD_KEY_NUMPAD_MINUS]=!0,this.key_float_arr[XFD_KEY_NUMPAD_DOT]=!0,this.key_float_arr[XFD_KEY_COMMA]=!0,this.key_minus_arr[XFD_KEY_MINUS]=!0,this.key_minus_arr[XFD_KEY_MINUS_FF]=!0,this.key_minus_arr[XFD_KEY_NUMPAD_MINUS]=!0,this.key_zero_arr[XFD_KEY_0]=!0,this.key_zero_arr[XFD_KEY_NUMPAD_0]=!0,this.key_dot_arr[XFD_KEY_DOT]=!0,this.key_dot_arr[XFD_KEY_NUMPAD_DOT]=!0,this.key_del_arr[XFD_KEY_BACKSPACE]=!0,this.key_del_arr[XFD_KEY_DELETE]=!0,this.key_stopbubble_arr[XFD_KEY_BACKSPACE]=!0,this.key_stopbubble_arr[XFD_KEY_DELETE]=!0,this.key_stopbubble_arr[XFD_KEY_HOME]=!0,this.key_stopbubble_arr[XFD_KEY_END]=!0,this.key_stopbubble_arr[XFD_KEY_LEFTARROW]=!0,this.key_stopbubble_arr[XFD_KEY_UPARROW]=!0,this.key_stopbubble_arr[XFD_KEY_RIGHTARROW]=!0,this.key_stopbubble_arr[XFD_KEY_DOWNARROW]=!0,this.key_movecursor_arr[XFD_KEY_HOME]=!0,this.key_movecursor_arr[XFD_KEY_END]=!0,this.key_movecursor_arr[XFD_KEY_LEFTARROW]=!0,this.key_movecursor_arr[XFD_KEY_UPARROW]=!0,this.key_movecursor_arr[XFD_KEY_RIGHTARROW]=!0,this.key_movecursor_arr[XFD_KEY_DOWNARROW]=!0},XF_FACTORY.prototype._dom=function(){this._resetdraginfo(),this.is_main_factory&&(this.xf_main_factory.xf_console_box=new XF_CONSOLE,1==this.xf_param.SHOW_CONSOLETRACE&&this.showconsoletrace(!0))},XF_FACTORY.prototype._callbackexceldownload=function(a,b){var c,d;return d=!1,c=this._callbackfunc(this.xf_param.CALLBACK_EXCEL_DOWNLOAD),c&&(d=c(a.xf_parent.xf_screen.xf_content.xf_execution_context.screen,a,b)),d},XF_FACTORY.prototype._callbackfiledownload=function(a,b,c,d,e){var f,g,h;if(g=!1,f=this._callbackfunc(this.xf_param.CALLBACK_FILE_DOWNLOAD)){switch(b){case XF_GRID.FILE_TYPE_CSV:h="csv";break;case XF_GRID.FILE_TYPE_TEXT:h="txt";break;case XF_GRID.FILE_TYPE_XML:h="xml";break;case XF_GRID.FILE_TYPE_JSON:h="json";break;default:return 0}g=f(a.xf_parent.xf_screen.xf_content.xf_execution_context.screen,a,h,c,d,JSON.parse(JSON.stringify(e)))}return g},XF_FACTORY.prototype._callbackexcelupload=function(a,b){var c,d;return d=!1,c=this._callbackfunc(this.xf_param.CALLBACK_EXCEL_UPLOAD),c&&(d=c(a.xf_parent.xf_screen.xf_content.xf_execution_context.screen,a,b)),d},XF_FACTORY.prototype._callbackvalidationalert=function(a,b){var c,d,e,f;if(e=b.alert_title,f=b.alert_message,d=this._callbackfunc(this.xf_param.CALLBACK_VALIDATION_ALERT),d&&(c=d(a.xf_parent.xf_content.xf_execution_context.screen,a,b.component_value,b.valid_type,void 0!==b.event_type?b.event_type:XFD_DATA_CHANGE_BY_NONE),void 0!==c)){if(c.show_alert===!1)return!1;void 0!==c.alert_title&&c.alert_title.length>0&&(e=c.alert_title),void 0!==c.alert_message&&c.alert_message.length>0&&(f=c.alert_message)}return b.show_alert===!1?!1:1==factory_xf_param.USE_ALERTBOX&&b.use_alertbox?factory._alertbox(f,e,a,b.xf_focus_component,b.component_value):(alert(f),a.setfocus(),!1)},XF_FACTORY.prototype._callbackfocusmovekey=function(a,b,c,d,e){var f,g;return a.xf_prop.create_mode===_XFD_CREATEMODE_GRID?!0:(void 0===b&&(b=0),f=this._callbackfunc(this.xf_param.CALLBACK_FOCUSMOVE_KEY),!f||(g=f(a.xf_parent.xf_content.xf_execution_context.screen,a,b,c,d,e),g!==!1))},XF_FACTORY.prototype._callbackeventbefore=function(a,b,c){var d,e,f;if(this.callback_event_info[b]===!0)return d=this._callbackfunc(this.xf_param.CALLBACK_EVENT_BEFORE),d&&(e=c.slice(0),e.unshift(a.xf_parent.xf_screen.xf_window.screen,a,b),f=d.apply(null,e)),f},XF_FACTORY.prototype._callbackscreenurl=function(a,b,c,d){var e,f,g;return 0==a.length?a:(e=this._callbackfunc(this.xf_param.CALLBACK_SCREEN_URL),e&&(g="",void 0!==c&&null!==c&&(g=c.getscreenurl()),f=e(a,b,g,c,d),void 0!==f&&f.length>0)?f:a)},XF_FACTORY.prototype._callbackpicklisturl=function(a){var b,c;return 0==a.length?a:(b=this._callbackfunc(this.xf_param.CALLBACK_PICKLIST_URL),b&&(c=b(a),void 0!==c&&c.length>0)?c:a)},XF_FACTORY.prototype._callbackgridexcelload=function(a){var b;b=this._callbackfunc(this.xf_param.CALLBACK_GRID_EXCEL_LOAD),b&&b(a.xf_parent.xf_screen.xf_window.screen,a)},XF_FACTORY.prototype._callbackmetaload=function(a,b,c){var d;return d=this._callbackfunc(this.xf_param.CALLBACK_META_LOAD),d?d(a,b,c,this.xf_param.USER_LANGUAGE,this.xf_param.USER_COUNTRY):c},XF_FACTORY.prototype._callbackmetadata=function(a,b,c,d,e,f,g){var h,i,j;if(0!=this.xf_param.META_RESOURCE_URL.length&&this.xf_param.SCREEN_LANGUAGE!=this.xf_param.USER_LANGUAGE&&void 0!==a&&0!=a.length&&(h=this.metadataget(a,b),h!=b&&(h.replace&&(h=h.replace(_xfp.expr_newlinechar,"\n")),j=0,i=this._callbackfunc(this.xf_param.CALLBACK_META_DATA),!i||(j=i(a,h,c,d,e,f,g,this.xf_param.USER_LANGUAGE,this.xf_param.USER_COUNTRY),1!==j))))if(e==XFD_OBJKIND_CONTROL)switch(f){case XFD_CTRLKIND_HYPERTEXT:case XFD_CTRLKIND_PUSHBUTTON:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_RADIOBUTTON:case XFD_CTRLKIND_TABLE:g.text=h;break;case XFD_CTRLKIND_TABITEM:g.title=h;break;case XFD_CTRLKIND_GRIDCOLUMNHEAD:g.title=h;break;case XFD_CTRLKIND_GRIDCOLUMNDATA:}else if(e==XFD_OBJKIND_SHAPE)switch(f){case XFD_SHAPEKIND_CAPTION:g.text=h}},XF_FACTORY.prototype._callbackfunc=function(a){var b,c,d;return _xfu.isfunction(this.xf_param[a])?this.xf_param[a]:void 0===a||0==a.length?null:(d=a.split("."),2!=d.length?null:(b=d[0],c=d[1],window[b]&&window[b][c]&&_xfu.isfunction(window[b][c])?(this.xf_param[a]=window[b][c],this.xf_param[a]):null))},XF_FACTORY.prototype._alertbox=function(a,b,c,d,e){var f;return void 0===d&&(d=c),void 0!==c.xf_parent&&null!==c.xf_parent&&void 0!==c.xf_parent.xf_screen&&null!==c.xf_parent.xf_screen&&(f=c.xf_parent.xf_screen.getscreenkind(),f!=XFD_SCREEN_MODELESSPOPUP&&f!=XFD_SCREEN_MODALPOPUP)?c.xf_parent.xf_screen.alertbox(a,b,d,e):(c.xf_parent&&void 0!==c.xf_parent.xf_screen&&null!==c.xf_parent.xf_screen?c.xf_parent.xf_screen.alert(a):alert(a),!1)},XF_FACTORY.prototype._setconsolepopupmode=function(a){this.xf_main_factory.is_console_popup_mode=a},XF_FACTORY.prototype._register=function(a){void 0===a?(window.factory=this,window.factory_xf_param=this.xf_param):(a.factory=this,a.factory_xf_param=this.xf_param)},XF_FACTORY.prototype._checkconsolepopup=function(){return 0==this.xf_main_factory.is_console_popup_show?!1:null==this.xf_main_factory.console_popup_window?(this.xf_main_factory.is_console_popup_show=!1,!1):1==this.xf_main_factory.console_popup_window.closed?(this.xf_main_factory.is_console_popup_show=!1,this.xf_main_factory.console_popup_window=null,!1):(this.xf_main_factory.xf_console_popup=this.xf_main_factory.console_popup_window.xf_console,!0)},XF_FACTORY.prototype._showconsolebox=function(a){1==a?this.xf_main_factory.xf_console_box.show():this.xf_main_factory.xf_console_box.hide()},XF_FACTORY.prototype._showconsolepopup=function(a){var b;a?(b="width=500,height=403,resizable=yes,location=no,status=no,scrollbars=yes,menubar=no,titlebar=no,toolbar=no",this.xf_main_factory.console_popup_window=this.main_window.open("","_xf_console",b),null==this.xf_main_factory.console_popup_window?this.xf_main_factory.console_popup_window=this.main_window.open(this.xf_param.ENGINEURL+"/html/console.html","_xf_console",b):"about:blank"==this.xf_main_factory.console_popup_window.location.href&&(this.xf_main_factory.console_popup_window.location.href=this.xf_param.ENGINEURL+"/html/console.html"),this.xf_main_factory.is_console_popup_show=!0,this.xf_main_factory.is_console_popup_mode=!0):(null!=this.xf_main_factory.console_popup_window&&(this.xf_main_factory.console_popup_window.close(),this.xf_main_factory.console_popup_window=null),this.xf_main_factory.is_console_popup_show=!1)},XF_FACTORY.prototype._logevent=function(a,b,c,d){var e,f,g,h,i;if(f=this.xf_main_factory.xf_console_box,1==this.xf_main_factory.is_console_popup_mode){if(0==this._checkconsolepopup())return;if(f=this.xf_main_factory.xf_console_popup,!f)return}if(0!=f.is_show_console&&0!=f.is_logging&&0!=f.is_show_event&&("on_time"!=a.event_name||0!=f.is_show_timer)){if(1==f.is_show_param)for(g=[],h=0,a.xf_component.object_kind!=XFD_OBJKIND_CONTROL&&a.xf_component.object_kind!=XFD_OBJKIND_SHAPE&&a.xf_component.object_kind!=XFD_OBJKIND_XDATASET||(g.push("objInst"),h=1),e=h;c>e;e++)"string"==typeof d[e]?d[e].length>100?g.push('"..."'):g.push('"'+d[e]+'"'):null===d[e]?g.push("null"):g.push(d[e]);i=[],i.push("---------------------------------------------------------"),i.push("Call Event - ["+_xfp.now(1,"-",":")+"]"),null!=a.xf_component.xf_parent.xf_screen&&i.push("⊙ Screen URL    : "+a.xf_component.xf_parent.xf_screen.getscreenurl()),a.xf_component.control_kind!=XFD_CTRLKIND_NONE&&i.push("⊙ Control ID    : "+a.xf_component.xf_prop.control_id),1==f.is_show_param?i.push("⊙ Event Handler : "+b[a.event_name]+"("+g.join(",")+")"):i.push("⊙ Event Handler : "+b[a.event_name]+"()"),i.push("---------------------------------------------------------"),this.consoleprint(i)}},XF_FACTORY.prototype._firekeyevent=function(a,b,c,d,e){var f,g,h,i,j,k;if(void 0===e&&(e=!1),b.ctrlKey||b.shiftKey||b.altKey||factory.key_stopbubble_arr[b.which]&&b.stopPropagation(),b.which>=XFD_KEY_F1&&b.which<=XFD_KEY_F12&&b.preventDefault(),void 0===d&&(d="on_keydown"),void 0===c&&(c=!1),c&&(f=a),"on_keydown"==d&&0==c){if(void 0!==a.count_keydown&&0==a.count_keydown)return;if(void 0!==a.event_keydown){if(null==a.event_keydown)return;void 0===a.count_keydown&&(a.event_keydown=null)}}if(_xf_prototype_mode)return 0;if(!c){if(a.xf_prop.create_mode===_XFD_CREATEMODE_GRID&&a.xf_prop.xf_grid&&(a=a.xf_prop.xf_grid),!a.xf_prop.enable)return 0;if(a.is_event_locked===!0)return 0;if(null===a.xf_parent)return 0;if(null===a.xf_parent.xf_screen)return 0;if((void 0===a.xf_prop[d]||null==a.xf_prop[d])&&this.callback_event_info[d]!==!0)return 0;if(j=a.xf_parent.xf_screen.xf_window,void 0===j&&(j=window),a.xf_parent.xf_content&&a.xf_parent.xf_content.xf_execution_context&&(j=a.xf_parent.xf_content.xf_execution_context),k=this._geteventfunc(j,a.xf_prop[d]),null==k&&this.callback_event_info[d]!==!0)return 0}if(g=_xfj.isnumpad(b),h=b.which,1==g)if(_xfj.isnumpadnumber(b))h=b.which-48;else switch(b.which){case XFD_KEY_NUMPAD_STAR:h=42;break;case XFD_KEY_NUMPAD_PLUS:h=43;break;case XFD_KEY_NUMPAD_MINUS:h=45;break;case XFD_KEY_NUMPAD_DOT:h=46;break;case XFD_KEY_NUMPAD_SLASH:h=47}return i=c?"on_keydown"==d?f._fireonkeydown(h,b.ctrlKey,b.shiftKey,b.altKey,g):"on_keyup"==d?f._fireonkeyup(h,b.ctrlKey,b.shiftKey,b.altKey,g):f._fireonprekeydown(h,b.ctrlKey,b.shiftKey,b.altKey,g):this._fireevent({xf_component:a,event_name:d,default_value:0,is_fire_async:e},a,h,b.ctrlKey,b.shiftKey,b.altKey,g),1==i?(b.stopPropagation(),i):i},XF_FACTORY.prototype._firedragstartevent=function(a,b){var c,d,e;return 0==a.xf_prop.dragable?!1:(d=_xfj.eventpagexy(b),e=_xfj.eventscreenxy(b),a.drag_start_page_x=d.x,a.drag_start_page_y=d.y,a.drag_end_page_x=a.drag_start_page_x,a.drag_end_page_y=a.drag_start_page_y,c=factory._fireevent({xf_component:a,event_name:"on_begindrag",default_value:1},a,b.originalEvent.offsetX,b.originalEvent.offsetY,d.x,d.y,e.x,e.y),1!==c?!1:void factory._setdraginfo(a,null))},XF_FACTORY.prototype._firedraggingevent=function(a,b){var c,d;return 0==a.xf_prop.dragable?!1:(c=_xfj.eventpagexy(b),d=_xfj.eventscreenxy(b),a.drag_ing_page_x=c.x,a.drag_ing_page_y=c.y,void factory._fireevent({xf_component:a,
event_name:"on_dragging"},a,b.originalEvent.offsetX,b.originalEvent.offsetY,c.x,c.y,d.x,d.y))},XF_FACTORY.prototype._firedragendevent=function(a,b,c,d){var e,f;return 0==a.xf_prop.dragable?!1:(e=_xfj.eventpagexy(b),f=_xfj.eventscreenxy(b),a.drag_end_page_x=e.x,a.drag_end_page_y=e.y,void 0!==c&&(a.drag_end_page_x=c),void 0!==d&&(a.drag_end_page_y=d),void factory._fireevent({xf_component:a,event_name:"on_enddrag"},a,b.originalEvent.offsetX,b.originalEvent.offsetY,e.x,e.y,f.x,f.y))},XF_FACTORY.prototype._fireevent=function(){var a,b,c,d,e,f,g,h,i,j;if(d=arguments.length,!(1>d)){if(a=arguments[0],_xf_prototype_mode)return a.default_value;if(a.xf_component.is_event_locked===!0&&"on_submitcomplete"!=a.event_name)return a.default_value;if(h=a.xf_component.xf_prop,void 0!==a.xf_prop&&(h=a.xf_prop),"on_change"==a.event_name||"on_changed"==a.event_name||"on_itemchange"==a.event_name||void 0===h.enable||0!=h.enable){if(null===a.xf_component.xf_parent)return a.default_value;if(null===a.xf_component.xf_parent.xf_screen)return a.default_value;if(0==this.xf_param.EVENTFIRE_BEFORE_SCREENONLOAD&&a.xf_component.xf_parent.xf_screen.is_onloadevent_fired===!1)return a.default_value;if(g=a.xf_component.xf_parent.xf_screen.xf_window,void 0===g&&(g=window),a.xf_component.xf_parent.xf_content&&a.xf_component.xf_parent.xf_content.xf_execution_context&&(g=a.xf_component.xf_parent.xf_content.xf_execution_context),a.is_func_called=!1,void 0===h[a.event_name]||null==h[a.event_name]){if(this.callback_event_info[a.event_name]===!0){for(e=[],c=1;d>c;c++)e.push(arguments[c]);void 0!==h.arrayindex&&h.arrayindex>=0&&e.splice(1,0,h.arrayindex),j=factory._callbackeventbefore(a.xf_component,a.event_name,e),void 0!==j&&(a.default_value=j)}return a.default_value}if(i=this._geteventfunc(g,h[a.event_name]),null==i){if(this.callback_event_info[a.event_name]===!0){for(e=[],c=1;d>c;c++)e.push(arguments[c]);void 0!==h.arrayindex&&h.arrayindex>=0&&e.splice(1,0,h.arrayindex),j=factory._callbackeventbefore(a.xf_component,a.event_name,e),void 0!==j&&(a.default_value=j)}return a.default_value}for(e=[],c=1;d>c;c++)e.push(arguments[c]);void 0!==h.arrayindex&&h.arrayindex>=0&&e.splice(1,0,h.arrayindex);try{if(a.is_fire_async!==!0)return this._logevent(a,h,e.length,e),a.is_func_called=!0,j=factory._callbackeventbefore(a.xf_component,a.event_name,e),void 0!==j?j:(b=i.apply(g,e),void 0===b?a.default_value:b);setTimeout(function(){return factory._logevent(a,h,e.length,e),a.is_func_called=!0,j=factory._callbackeventbefore(a.xf_component,a.event_name,e),void 0!==j?j:(b=i.apply(g,e),void 0===b?a.default_value:b)},0)}catch(k){f=[],f.push("[script error]"),f.push("screen url: "+a.xf_component.xf_parent.xf_screen.getscreenurl()),f.push("event name: "+a.event_name),f.push("event function: "+h[a.event_name]),f.push("error name: "+k.name),f.push("error message: "+k.message),alert(f.join("\n"))}}}},XF_FACTORY.prototype._geteventfunc=function(a,b){var c;return void 0===b||null==b||0==b.length?null:(c=b.split("."),1==c.length?_xfu.isfunction(a[b])?a[b]:null:2==c.length&&_xfu.isfunction(a[c[0]][c[1]])?a[c[0]][c[1]]:null)},XF_FACTORY.prototype._getdupdata=function(a,b){var c,d;return c=this.xf_main_factory.dup_info[b],void 0===c?"":(d=c[0],void 0===d?"":d)},XF_FACTORY.prototype._getdupdataarr=function(a,b){var c;return c=this.xf_main_factory.dup_info[b],void 0===c&&(this.xf_main_factory.dup_info[b]=[]),this.xf_main_factory.dup_info[b]},XF_FACTORY.prototype._setdupdata=function(a,b){var c,d,e,f;if(!(b.length<1)&&0!=a.xf_prop.allow_dup&&0!=a.xf_prop.dup_name.length){if(d=a.xf_prop.dup_name,c=this.xf_main_factory.dup_info[d],void 0===c)c=[],this.xf_main_factory.dup_info[d]=c;else for(e=c.length,f=0;e>f;f++)if(c[f]==b){c.splice(f,1);break}c.unshift(b)}},XF_FACTORY.prototype.loadmeta=function(a){var b;return void 0!==a&&0!=a.length||(a=this.xf_param.META_RESOURCE_URL),this.xf_main_factory.xf_param.USE_METADATA_CACHE&&$.inArray(a,this.xf_main_factory.meta_url_arr)>=0?!0:(b=this,$.ajax({url:a,method:"GET",async:!1,dataType:"text",success:function(c,d,e){b.metadataload(c,a)},error:function(b,c,d){_xfu.ajaxerror({message:"Fail to load resource file",url:a,jqxhr:b,status:c,error:d,alert:!0})}}),!0)},XF_FACTORY.prototype._register_popup=function(a,b){var c,d;for(this.xf_main_factory.popup_map[a]||(this.xf_main_factory.popup_map[a]={}),this.xf_main_factory.popup_map[a].popup_window=b,d=-1,c=0;c<this.xf_main_factory.popup_name_arr.length;c++)if(this.xf_main_factory.popup_name_arr[c]==a){d=c;break}-1==d&&this.xf_main_factory.popup_name_arr.push(a)},XF_FACTORY.prototype._unregister_popup=function(a){var b,c;for(delete this.xf_main_factory.popup_map[a],c=this.xf_main_factory.popup_name_arr.length,b=0;c>b;b++)if(this.xf_main_factory.popup_name_arr[b]==a){this.xf_main_factory.popup_name_arr.splice(b,1);break}},XF_FACTORY.prototype._on_popup_unload=function(a,b,c){var d,e;try{if(void 0===c&&!a.closed&&a.screen.xf_screen&&a.screen.xf_screen.xf_object&&a.screen.xf_screen.xf_object.triggerHandler&&(d=a.screen.xf_screen.xf_object.triggerHandler("on_destroy"),0===d))return!1;b&&this._unregister_popup(b.name),e=a.xframe_popup_key,e&&factory.xf_main_factory.popup_param[e]&&delete factory.xf_main_factory.popup_param[e],!a.closed&&a.screen.xf_screen&&(a.screen.xf_screen.sync_modalstate_info&&a.screen.xf_screen.sync_modalstate_info.promise_resolve?(a.screen.xf_screen.sync_modalstate_info.promise_resolve(a.screen.xf_screen.popup_result),a.screen.xf_screen.sync_modalstate_info=null):0==a.screen.xf_screen.is_popupdestroy_fired&&(a.screen.xf_screen.is_popupdestroy_fired=!0,b&&b.parent_screen&&b.parent_screen.xf_screen&&(void 0!==c&&void 0!==this.xf_param.POPUP_WINCLOSE_VALUE&&(a.screen.xf_screen.popup_result=this.xf_param.POPUP_WINCLOSE_VALUE),this._fireevent({xf_component:b.parent_screen.xf_screen,event_name:"on_popupdestroy"},a.screen,b.name,a.screen.xf_screen.popup_result)),void 0!==c&&a.screen.xf_screen.xf_object.trigger("on_destroy")))}catch(f){}},XF_FACTORY.prototype._closeallmenu=function(){var a;for(a in this.xf_main_factory.menu_map)this.xf_main_factory.menu_map[a]&&(this.xf_main_factory.menu_map[a].destroy(),delete this.xf_main_factory.menu_map[a])},XF_FACTORY.prototype._setdraginfo=function(a,b){void 0===b&&(b=null),this.xf_main_factory.xf_drag={object_kind:a.object_kind,control_kind:a.control_kind,shape_kind:a.shape_kind,xf_screen:a.xf_parent.xf_screen,xf_component:a},null!==b&&$.isPlainObject(b)&&$.extend(this.xf_main_factory.xf_drag,b)},XF_FACTORY.prototype._getdraginfo=function(){return this.xf_main_factory.xf_drag},XF_FACTORY.prototype._resetdraginfo=function(){this.xf_main_factory.xf_drag={object_kind:XFD_OBJKIND_NONE,control_kind:XFD_CTRLKIND_NONE,shape_kind:XFD_SHAPEKIND_NONE,xf_screen:null,xf_component:null}},XF_FACTORY.prototype._create_popup_key=function(){return this.xf_main_factory.key_sequence=(this.xf_main_factory.key_sequence+1)%10,(new Date).getTime()+String(this.xf_main_factory.key_sequence,10)},XF_FACTORY.prototype._createtablinkscreenkey=function(a){var b;return this.xf_main_factory.tablink_screen_key_sequence=(this.xf_main_factory.tablink_screen_key_sequence+1)%1e4,b="_xframe_screen_key_"+(new Date).getTime()+this.xf_main_factory.tablink_screen_key_sequence.toString(10),this.xf_main_factory.tablink_screen_key_map[b]=a,b},XF_FACTORY.prototype._gettablinkpanel=function(a){var b;return void 0===a||0==a.length?null:(b=this.xf_main_factory.tablink_screen_key_map[a],b?(delete this.xf_main_factory.tablink_screen_key_map[a],b):null)},XF_FACTORY.prototype._internalname=function(a){return this.xf_main_factory.internal_name_seqno++,XFD_INTERNAL_NAME_PREFIX+this.xf_main_factory.internal_name_seqno},XF_FACTORY.prototype._userlang=function(a,b){return"ko"==this.xf_param.USER_LANGUAGE?a:b},XF_FACTORY.prototype.on_component_blur=function(a,b){a&&a._hideinputcontext()},XF_FACTORY.prototype.metadataload=function(a,b){var c,d,e,f;for(void 0===b&&(b=factory.xf_param.META_RESOURCE_URL),1==this.xf_main_factory.xf_param.USE_METADATA_CACHE&&this.xf_main_factory.meta_url_arr.push(b),d=a.split("\r\n"),c=0;c<d.length;c++)0!=d[c].length&&"#"!=d[c].charAt(0)&&(e=d[c].split("="),e.length<2||(2==e.length?this.xf_main_factory.meta_map[e[0]]=this._callbackmetaload(b,e[0],e[1]):(f=e[0],e.splice(0,1),this.xf_main_factory.meta_map[f]=this._callbackmetaload(b,e[0],e.join("=")))));return!0},XF_FACTORY.prototype.metadataget=function(a,b){var c;return void 0===b&&(b=""),void 0===a||0==a.length?b:void 0===this.xf_main_factory.meta_map[a]?b:(c=this.xf_main_factory.meta_map[a],void 0===c?b:c)},XF_FACTORY.prototype.metadataset=function(a,b){return this.xf_main_factory.meta_map[a]=b,!0},XF_FACTORY.prototype.metadatadelete=function(a){return void 0===this.xf_main_factory.meta_map[a]?!1:(delete this.xf_main_factory.meta_map[a],!0)},XF_FACTORY.prototype.metadatainit=function(){return this.xf_main_factory.meta_map={},this.xf_main_factory.meta_url_arr=[],!0},XF_FACTORY.prototype.briefsize=function(a){return a=_xfu.intval(a),a===!1?"":_xfu.briefsize(a)},XF_FACTORY.prototype._getdate=function(a){return void 0===a||0==a.length?_xfu.today():this.isdate(a)?_xfu.date(a):null},XF_FACTORY.prototype.datedayofweek=function(a){var b,c;return(b=this._getdate(a))?(c=new Date(b.year,b.month-1,b.day),c.getDay()):-1},XF_FACTORY.prototype.datetoday=function(){var a;return a=this._getdate(),_xfp.date(a,"")},XF_FACTORY.prototype.datefirstdayofmonth=function(a){var b;return(b=this._getdate(a))?(b.day=1,_xfp.date(b,"")):""},XF_FACTORY.prototype.datelastdayofmonth=function(a){var b;return(b=this._getdate(a))?(b.day=_xfu.lastday(b.year,b.month),_xfp.date(b,"")):""},XF_FACTORY.prototype.datefirstdayofweek=function(a){var b,c;return(b=this._getdate(a))?(a=_xfp.date(b,""),c=this.datedayofweek(a),0==factory_xf_param.FIRSTDAY_OF_WEEK?this.datefrom("day",-1*c,a):1==factory_xf_param.FIRSTDAY_OF_WEEK?0==c?this.datefrom("day",-6,a):this.datefrom("day",-1*(c-1),a):void 0):""},XF_FACTORY.prototype.datelastdayofweek=function(a){var b,c;return(b=this._getdate(a))?(a=_xfp.date(b,""),c=this.datedayofweek(a),0==factory_xf_param.FIRSTDAY_OF_WEEK?this.datefrom("day",6-c,a):1==factory_xf_param.FIRSTDAY_OF_WEEK?0==c?a:this.datefrom("day",7-c,a):void 0):""},XF_FACTORY.prototype.datemondayofweek=function(a){var b;return b=this.datefirstdayofweek(a),0==factory_xf_param.FIRSTDAY_OF_WEEK?this.datefrom("day",1,b):1==factory_xf_param.FIRSTDAY_OF_WEEK?b:void 0},XF_FACTORY.prototype.datefridayofweek=function(a){var b;return b=this.datefirstdayofweek(a),0==factory_xf_param.FIRSTDAY_OF_WEEK?this.datefrom("day",5,b):1==factory_xf_param.FIRSTDAY_OF_WEEK?this.datefrom("day",4,b):void 0},XF_FACTORY.prototype.datediff=function(a,b,c){var d,e,f,g,h;if(d=this._getdate(b),e=this._getdate(c),!d)return 0;if(!e)return 0;switch(f=new Date(d.year,d.month-1,d.day),g=new Date(e.year,e.month-1,e.day),h=g.getTime()-f.getTime(),a){case"day":return parseInt(h/864e5,10);case"month":return parseInt(h/2592e6,10);case"year":return parseInt(h/31104e6,10)}},XF_FACTORY.prototype.datefrom=function(a,b,c){var d,e;return(d=this._getdate(c))?(e=_xfu.gapdate(a,b,d.year,d.month,d.day),_xfp.date(e,"")):""},XF_FACTORY.prototype.registermouseevent=function(a,b){this.xf_main_factory.mouse_event_component=a,this.xf_main_factory.mouse_event=b},XF_FACTORY.prototype.getmouseeventpos=function(){var a;return this.xf_main_factory.mouse_event?(a=_xfj.eventoffset(this.xf_main_factory.mouse_event,{type:"id",value:this.xf_main_factory.mouse_event_component.xf_prop.internal_name}),{offsetX:a.offset_x,offsetY:a.offset_y,clientX:this.xf_main_factory.mouse_event.clientX?this.xf_main_factory.mouse_event.clientX:this.xf_main_factory.mouse_event.originalEvent.clientX,clientY:this.xf_main_factory.mouse_event.clientY?this.xf_main_factory.mouse_event.clientY:this.xf_main_factory.mouse_event.originalEvent.clientY,pageX:this.xf_main_factory.mouse_event.pageX?this.xf_main_factory.mouse_event.pageX:this.xf_main_factory.mouse_event.originalEvent.pageX,pageY:this.xf_main_factory.mouse_event.pageY?this.xf_main_factory.mouse_event.pageY:this.xf_main_factory.mouse_event.originalEvent.pageY,screenX:this.xf_main_factory.mouse_event.screenX?this.xf_main_factory.mouse_event.screenX:this.xf_main_factory.mouse_event.originalEvent.screenX,screenY:this.xf_main_factory.mouse_event.screenY?this.xf_main_factory.mouse_event.screenY:this.xf_main_factory.mouse_event.originalEvent.screenY}):null},XF_FACTORY.prototype.unique=function(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=a.length-1),b=_xfu.intval(b),b===!1?[]:(c=_xfu.intval(c),c===!1?[]:_xfu.unique(a,b,c))},XF_FACTORY.prototype.statistics=function(a,b,c,d){return a=_xfu.intval(a,0,4),a===!1?0:(void 0===c&&(c=0),void 0===d&&(d=b.length-1),c=_xfu.intval(c),c===!1?[]:(d=_xfu.intval(d),d===!1?[]:_xfu.stats(a,b,c,d)))},XF_FACTORY.prototype.isapple=function(){return this.is_apple},XF_FACTORY.prototype.ismobile=function(){return this.is_mobile},XF_FACTORY.prototype.isie=function(){return this.is_ie},XF_FACTORY.prototype.isemail=function(a,b){var c;return 0==a.length?!(void 0!==b&&!b):(c=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,c.test(a))},XF_FACTORY.prototype.isphoneno=function(a,b){var c;return 0==a.length?!(void 0!==b&&!b):(c=/^((01[1|6|7|8|9])[1-9]+[0-9]{6,7})|(010[1-9][0-9]{7})$/,c.test(a))},XF_FACTORY.prototype.isdate=function(a){return _xfu.isdate(a)},XF_FACTORY.prototype.isalpha=function(a,b){var c;return 0==a.length?!(void 0!==b&&!b):(c=/^[A-Za-z]+$/,c.test(a))},XF_FACTORY.prototype.uuid=function(){return _xfu.uuid()},XF_FACTORY.prototype.objectextend=function(a,b,c){_xfu.extend(a,b,c)},XF_FACTORY.prototype.objectproparray=function(a){return _xfu.proparr(a)},XF_FACTORY.prototype.isequalarray=function(a,b){return _xfu.isequalarray(a,b)},XF_FACTORY.prototype.isdigit=function(a,b){var c;return 0==a.length?!(void 0!==b&&!b):(c=/^[0-9]*$/,c.test(a))},XF_FACTORY.prototype.checkhangul=function(a){var b;return 0==a.length?!1:(b=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/,b.test(a))},XF_FACTORY.prototype.checkspecialchar=function(a){var b;return 0==a.length?!1:(b=/[~!@\#$%<>^&*\()\-=+_\’]/gi,b.test(a))},XF_FACTORY.prototype.browserexit=function(){window._xf5_browserexit&&window._xf5_browserexit(),this.main_window.open("","_self",""),this.main_window.close()},XF_FACTORY.prototype.browserresize=function(a){},XF_FACTORY.prototype.closeallmenu=function(){var a;for(a in this.xf_main_factory.menu_map)this.closemenu(a)},XF_FACTORY.prototype.closemenu=function(a){return this.xf_main_factory.menu_map[a]?(this.xf_main_factory.menu_map[a].destroy(),delete this.xf_main_factory.menu_map[a],!0):!1},XF_FACTORY.prototype.findmenu=function(a){return this.isobject(this.xf_main_factory.menu_map[a])&&this.isobject(this.xf_main_factory.menu_map[a].xf_iframe[0].contentWindow.xf_screen)?this.xf_main_factory.menu_map[a].xf_iframe[0].contentWindow.screen:null},XF_FACTORY.prototype.getcookie=function(a){return _xfu.cookie(a)},XF_FACTORY.prototype.setcookie=function(a,b,c){return void 0!==factory.xf_param.PROTECT_COOKIE&&1==factory.xf_param.PROTECT_COOKIE?(this.error(this._userlang("쿠키 저장은 금지되었습니다.","Saving cookies is prohibited.")),alert(this._userlang("쿠키 저장은 금지되었습니다.","Saving cookies is prohibited.")),!1):_xfu.cookie(a,b,c)},XF_FACTORY.prototype.getsysdisplaysetting=function(a){return a=_xfu["int"](a),{strdevicename:"",clsdisplaysetting:{nwidth:screen.width,nheight:screen.height,ncolorbit:screen.colorDepth},arrdispalysetting:[]}},XF_FACTORY.prototype.getsyswinresolution=function(a){switch(a=_xfu["int"](a)){case XFD_SYS_CXRESOLUTION:case XFD_SYS_CXVIRTUALRESOLUTION:return screen.width;case XFD_SYS_CYRESOLUTION:case XFD_SYS_CYVIRTUALRESOLUTION:return screen.height;case XFD_SYS_CXWORKAREA:return screen.availWidth;case XFD_SYS_CYWORKAREA:return screen.availHeight;case XFD_SYS_MONITOR_LEFT:case XFD_SYS_MONITOR_TOP:case XFD_SYS_MONITOR_RIGHT:case XFD_SYS_MONITOR_BOTTOM:return 0}return 0},XF_FACTORY.prototype.getsysmonitorinfo=function(a,b){return this.getsyswinresolution(b)},XF_FACTORY.prototype.getsysmonitors=function(){return 1},XF_FACTORY.prototype.getxdatasetcolumncount=function(a){var b=this.getglobalxdataset(a);return null!=b?b.getcolumncount():0},XF_FACTORY.prototype.getxdatasetdata=function(a,b,c){var d,e;return e=this.getglobalxdataset(a),null!=e?(d=e.getcolumn(b),e.getdata(c,d)):""},XF_FACTORY.prototype.getxdatasetrowcount=function(a){var b=this.getglobalxdataset(a);return null!=b?b.getrowcount():0},XF_FACTORY.prototype.setxdatasetdata=function(a,b,c,d,e){var f,g;return void 0===e&&(e=!0),f=this.getglobalxdataset(a),null==f?!1:(g=f.getcolumn(b),void f.setdata(c,g,d,e))},XF_FACTORY.prototype.loadmenu=function(a,b,c,d,e,f,g,h){var i;b=this._callbackscreenurl(b,2,g,null),this.closemenu(a),i=new XF_MENUBOX(this,g,{name:a,x:c,y:d,width:e,height:f,link_screen:b,extra_data:h}),this.xf_main_factory.menu_map[a]=i},XF_FACTORY.prototype.fillstring=function(a,b,c,d,e){return _xfu.pad(a,c,b,d,!0,e)},XF_FACTORY.prototype.stringltrim=function(a,b){return _xfu.trimstart(a,b)},XF_FACTORY.prototype.stringrtrim=function(a,b){return _xfu.trimend(a,b)},XF_FACTORY.prototype.stringtrim=function(a,b,c){return _xfu.trim(a,b,c)},XF_FACTORY.prototype.stringtrimlength=function(a,b,c,d){return _xfu.trimlength(a,b,c,d)},XF_FACTORY.prototype.flashwindow=function(a){},XF_FACTORY.prototype.consoleprint=function(a){this.debug(a)},XF_FACTORY.prototype.consoletime=function(a){return this.consoletimestart(a)},XF_FACTORY.prototype.consoletimestart=function(a){this.xf_main_factory.time_map["_xf_console_time_"+a]=new Date},XF_FACTORY.prototype.consoletimeend=function(a){var b,c,d,e;return d=[],b=this.xf_main_factory.time_map["_xf_console_time_"+a],void 0===b?(c=new Date,d.push(a+": 0ms"),d.push(", START: ?"),d.push(", END: "+this._timestr(c))):(c=new Date,d.push(a+": "+(c.getTime()-b.getTime())+"ms"),d.push(", START: "+this._timestr(b)),d.push(", END: "+this._timestr(c)),delete this.xf_main_factory.time_map["_xf_console_time_"+a]),e=d.join(""),0==this.xf_main_factory.is_console_popup_mode?this.xf_main_factory.xf_console_box.time(e):1==this._checkconsolepopup()&&this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.time(e),e},XF_FACTORY.prototype.showconsoletrace=function(a){this.xf_main_factory.is_console_popup_mode?this._showconsolepopup(a):this._showconsolebox(a)},XF_FACTORY.prototype.closepopup=function(a,b){var c;c=this.findpopup(a),c&&c.unloadpopup(b)},XF_FACTORY.prototype.findpopup=function(a){var b,c;return c=this.getmainscrinstance(),b=c._findpopup(a),b&&b.popup_window&&b.popup_window.screen.xf_screen&&b.popup_window.screen.xf_screen.is_load_complete&&0==b.popup_window.screen.xf_screen._iscontainerscreen()?b.popup_window.screen:null},XF_FACTORY.prototype.findpopupbyindex=function(a){var b;return b=this.getpopupcount(),a=_xfu["int"](a,0,b-1),a===!1?null:this.findpopup(factory.xf_main_factory.popup_name_arr[a])},XF_FACTORY.prototype.getpopupnamebyindex=function(a){var b;return b=this.getpopupcount(),a=_xfu["int"](a,0,b-1),a===!1?"":factory.xf_main_factory.popup_name_arr[a]},XF_FACTORY.prototype.getpopupcount=function(){return factory.xf_main_factory.popup_name_arr.length},XF_FACTORY.prototype.getpopupinfo=function(a){var b;return this.xf_main_factory.popup_map[a]?(b={strpopupname:a,bismodal:!0},null==this.xf_main_factory.popup_map[a].parent_popupbox&&(b.bismodal=!1),b):null},XF_FACTORY.prototype.getpopupinfobyindx=function(a){var b;return b=this.getpopupnamebyindex(a),0==b.length?null:this.getpopupinfo(b)},XF_FACTORY.prototype.loadpopup=function(a,b,c,d,e,f,g,h,i,j,k){return this._loadpopup(a,b,c,d,e,f,g,200,200,h,!0,!1,i,j,k)},XF_FACTORY.prototype.loadpopupex=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return this._loadpopup(a,b,c,d,e,f,g,h,i,j,k,!1,l,m,n)},XF_FACTORY.prototype.loadmaximizepopup=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return this._loadpopup(a,b,c,d,e,f,g,h,i,j,!1,!0,k,l,m)},XF_FACTORY.prototype.loadpopupsync=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return this.sync_popup_info={popup_name:a,screen_url:b,title:c,is_no_title:d,border_style:e,window_x:f,window_y:g,width:h,height:i,is_center:j,is_auto_popup_size:k,is_modal:l,is_maximize:!1,parent_screen:m,extra_data:n,promise_resolve:null,promise_reject:null},new Promise(this.loadpopupsync_executor.bind(this))},XF_FACTORY.prototype.loadpopupsync_executor=function(a,b){this.sync_popup_info.promise_resolve=a,this.sync_popup_info.promise_reject=b,this._loadpopup(this.sync_popup_info.popup_name,this.sync_popup_info.screen_url,this.sync_popup_info.title,this.sync_popup_info.is_no_title,this.sync_popup_info.border_style,this.sync_popup_info.window_x,this.sync_popup_info.window_y,this.sync_popup_info.width,this.sync_popup_info.height,this.sync_popup_info.is_center,this.sync_popup_info.is_auto_popup_size,this.sync_popup_info.is_maximize,this.sync_popup_info.is_modal,this.sync_popup_info.parent_screen,this.sync_popup_info.extra_data,this.sync_popup_info.promise_resolve,this.sync_popup_info.promise_reject)},XF_FACTORY.prototype.focuspopup=function(a){return this.xf_main_factory.popup_map[a]?(this.xf_main_factory.xf_window[0].postMessage(XF_FACTORY.FACTORY_MESSAGE_PREFIX+"|focuspopup|"+a,"*"),!0):!1},XF_FACTORY.prototype._loadpopup=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s,t,u,v,w,x,y,z,A,B,C;for(b=this._callbackscreenurl(b,1,n,null),C=this.xf_main_factory.popup_name_arr.length-1;C>=0;C--)this.xf_main_factory.popup_map[this.xf_main_factory.popup_name_arr[C]].popup_window&&this.xf_main_factory.popup_map[this.xf_main_factory.popup_name_arr[C]].popup_window.closed&&this._unregister_popup(this.xf_main_factory.popup_name_arr[C]);if(this.xf_main_factory.popup_map[a]&&(!this.xf_main_factory.popup_map[a].popup_window||!this.xf_main_factory.popup_map[a].popup_window.closed))return this.error("============================================================"),this.error("loadpopup  : 동일한 팝업이 이미 존재 합니다"),this.error("popup name : "+a),this.error("popup url(기존) : "+b),this.error("============================================================"),m||(this.error("call popup_window.focus()"),this.xf_main_factory.popup_map[a].popup_window.focus(),this.xf_main_factory.popup_map[a].popup_window.screen&&this.xf_main_factory.popup_map[a].popup_window.screen.activate()),!1;if(this._register_popup(a,null),this.xf_main_factory.focused_xf_screen=null,m)A=new XF_POPUPBOX({name:a,title:c,url:b,border:e,left:f,top:g,width:h,height:i,is_no_title:d,is_show_close_button:!0,is_center:j,is_maximize:l,auto_sizing:k,parent_screen:n,extra_data:o,promise_resolve:p,promise_reject:q});else{if(s=[],1==d?s.push("titlebar=no"):s.push("titlebar=yes"),2==e?s.push("resizable=no"):s.push("resizable=yes"),s.push("scrollbars=yes"),s.push("location=no"),s.push("menubar=no"),s.push("status=no"),s.push("toolbar=no"),1==l&&s.push("fullscreen=yes"),1==j?(v=parseInt((screen.availWidth-h)/2,10),w=parseInt((screen.availHeight-i)/2,10),s.push("left="+v),s.push("top="+w)):(s.push("left="+f),s.push("top="+g)),s.push("width="+h),s.push("height="+i),t=s.join(","),x=this._create_popup_key(),u=_xfx.iframeurl("")+"?"+x,y="xframe_screen_url="+b,y+="&xframe_screen_title="+c,y+="&xframe_screen_kind="+XFD_SCREEN_MODELESSPOPUP,y+="&xframe_popup_name="+a,_xf_param.USER_LANGUAGE!=_xf_param.SCREEN_LANGUAGE&&(y+="&xframe_language="+_xf_param.USER_LANGUAGE),_xf_param.USER_COUNTRY!=_xf_param.SCREEN_COUNTRY&&(y+="&xframe_country="+_xf_param.USER_COUNTRY),B={name:a,title:c,url:b,padding:0,left:f,top:g,width:h,height:i,is_show_close_button:!0,is_center:j,is_maximize:l,auto_sizing:k,parent_screen:n,extra_data:o,promise_resolve:p,promise_reject:q},factory.xf_main_factory.popup_param[x]=y,z=null,null!=n&&(z=n._getwindow()),r=null==z?this.main_window.open(u,a,t):z.open(u,a,t),null==r)return this._unregister_popup(a),factory.xf_main_factory.popup_param[x]&&delete factory.xf_main_factory.popup_param[x],!1;r.factory=this.xf_main_factory,this.xf_main_factory.popup_map[B.name]={parent_popupbox:null,is_popup_screen:!0,popup_info:B,popup_window:r},this._register_popup(B.name,r)}return!0},XF_FACTORY.prototype.getapppath=function(){return _xf_param.APPPATH?_xf_param.APPPATH:""},XF_FACTORY.prototype.getglobalxdataset=function(a){return window[a]?window[a]:null},XF_FACTORY.prototype.getglobalxdatasetids=function(){for(var a=this.getmainscrinstance(),b=[],c=0;c<a.global_xdataset_arr.length;c++)b.push(a.global_xdataset_arr[c].xdataset_name);return b},XF_FACTORY.prototype.gethtmlparam=function(a){return void 0===factory.xf_param[a]?"":factory.xf_param[a]},XF_FACTORY.prototype.sethtmlparam=function(a,b,c){return factory.xf_param[a]=b,(void 0===c||c)&&(factory.xf_main_factory.xf_param[a]=b),!0},XF_FACTORY.prototype.getlocalipaddress=function(){var a;return a="127.0.0.1",void 0===factory_xf_param.XUTIL_BASEURL?a:($.ajax({url:factory_xf_param.XUTIL_BASEURL,method:"POST",async:!1,crossDomain:!0,data:"COMMAND=IP",dataType:"json",cache:!1,error:function(a,b,c){_xfu.ajaxerror({message:"Fail to call xframe5util service",url:_xf_param.XUTIL_BASEURL,jqxhr:a,status:b,error:c,alert:!0})},success:function(b,c,d){void 0!==b.IP&&(a=b.IP)}}),a)},XF_FACTORY.prototype.getmainscrinstance=function(){return this.xf_main_factory.xf_screen.xf_window.screen},XF_FACTORY.prototype.getsubmitbaseurl=function(){return this.xf_main_factory.xf_param.XDATASET_BASEURL},XF_FACTORY.prototype.setsubmitbaseurl=function(a){this.xf_main_factory.xf_param.XDATASET_BASEURL=a},XF_FACTORY.prototype.gettextdrawsize=function(a,b){var c,d;return d=[a.szfontname,a.nfontsize,a.bfontbold,a.bfontitalic,a.bfontunderline,a.bfontstrikeout],c=_xfj.textsize(b,d),{ncx:c.width,ncy:c.height}},XF_FACTORY.prototype.gettranbaseurl=function(){return this.xf_main_factory.xf_param.TRAN_BASEURL},XF_FACTORY.prototype.settranbaseurl=function(a){this.xf_main_factory.xf_param.TRAN_BASEURL=a},XF_FACTORY.prototype.getexceluploadurl=function(){return this.xf_param.XEXCEL_UPLOAD_URL},XF_FACTORY.prototype.setexceluploadurl=function(a){this.xf_main_factory.xf_param.XEXCEL_UPLOAD_URL=a,this.xf_param.XEXCEL_UPLOAD_URL=a},XF_FACTORY.prototype.getexceldownloadurl=function(){return this.xf_param.XEXCEL_DOWNLOAD_URL},XF_FACTORY.prototype.setexceldownloadurl=function(a){this.xf_main_factory.xf_param.XEXCEL_DOWNLOAD_URL=a,this.xf_param.XEXCEL_DOWNLOAD_URL=a},XF_FACTORY.prototype.getbriefsize=function(a){return _xfu.briefsize(a)},XF_FACTORY.prototype.getfileinfo=function(a){var b;return b=a.lastModifiedDate?a.lastModifiedDate:a.lastModified?new Date(a.lastModified):new Date,{name:a.name,size:a.size,date:_xfp.date(b,""),time:_xfp.time(b,"")}},XF_FACTORY.prototype.getfocusscreen=function(){return this.xf_main_factory.focused_xf_screen?this.xf_main_factory.focused_xf_screen.xf_content.xf_execution_context.screen:null},XF_FACTORY.prototype.getstringsplit=function(a,b){return"string"==typeof b?a.split(b):void 0},XF_FACTORY.prototype.substringbyte=function(a,b,c,d){var e;return void 0===d&&this.xf_param.HANGUL_BYTE_LENGTH,e=_xfu.bytesplit(a.length,a,b,c,d),e.data},XF_FACTORY.prototype.substringbyteex=function(a,b,c,d,e){return void 0===e&&this.xf_param.HANGUL_BYTE_LENGTH,_xfu.bytesplit(a,b,c,d,e)},XF_FACTORY.prototype.getsystemtime=function(a){var b=a,c=new Date,d=c.getFullYear(),e=c.getMonth()+1>9?c.getMonth()+1:"0"+(c.getMonth()+1),f=c.getDate()>9?c.getDate():"0"+c.getDate(),g=c.getHours()>9?c.getHours():"0"+c.getHours(),h=c.getMinutes()>9?c.getMinutes():"0"+c.getMinutes(),i=c.getSeconds()>9?c.getSeconds():"0"+c.getSeconds(),j=c.getMilliseconds()>99?c.getMilliseconds():c.getMilliseconds()>9?"0"+c.getMilliseconds():"00"+c.getMilliseconds();return b=b.replace("%ms","%i"),b=b.replace(/(%Y|%M|%D|%h|%m|%s|%i)/gi,function(a){switch(a){case"%Y":return d.toString(10);case"%M":return e.toString(10);case"%D":return f.toString(10);case"%h":return g.toString(10);case"%m":return h.toString(10);case"%s":return i.toString(10);case"%i":return j.toString(10);default:return a}})},XF_FACTORY.prototype.isobject=function(a){return!("undefined"==typeof a||null==a)},XF_FACTORY.prototype.isfunction=function(a){return _xfu.isfunction(a)},XF_FACTORY.prototype.rgb=function(a,b,c){var d,e,f;return d=parseInt(a,10),e=parseInt(b,10),f=parseInt(c,10),65536*f+256*e+d},XF_FACTORY.prototype.tocolor=function(a,b,c){return this.rgb(a,b,c)},XF_FACTORY.prototype.torgb=function(a){return _xfu.rgb(a)},XF_FACTORY.prototype.torgbhex=function(a,b,c){return _xfx.rgbhex(_xfu["int"](a),_xfu["int"](b),_xfu["int"](c))},XF_FACTORY.prototype.toexcelcolumnno=function(a){var b,c,d,e;for(b=0,c=1,d=a.length-1;d>=0;d--)e=a[d].charCodeAt(0)-"A".charCodeAt(0)+1,b+=e*c,c=26*c;return b},XF_FACTORY.prototype.toexcelcolumnname=function(a){var b,c,d;if(a=_xfu.intval(a,1,XFD_MAX_VALUE),a===!1)return"";for(b="",c=1,d=26;(a-=c)>=0;c=d,d*=26)b=String.fromCharCode(parseInt(a%d/c)+65)+b;return b},XF_FACTORY.prototype.stringbytelen=function(a){return _xfu.bytelen(a,0,this.xf_param.HANGUL_BYTE_LENGTH)},XF_FACTORY.prototype.stringbytelenex=function(a,b,c){return b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1?-1:_xfu.bytelen(a,b,c)},XF_FACTORY.prototype.setxtrandatalog=function(a){return a=_xfu.intval(a,0,3),a===!1?!1:(this.xf_main_factory.xf_param.XTRAN_DATALOG=a,this.xf_param.XTRAN_DATALOG=a,!0)},XF_FACTORY.prototype.initallxdataset=function(){var a,b;for(b=this.getglobalxdatasetids(),a=0;a<b.length;a++)this.initxdataset(b[a])},XF_FACTORY.prototype.initxdataset=function(a){var b;return b=this.getglobalxdataset(a),null!=b?(b.init(),!0):!1},XF_FACTORY.prototype.engine=function(a){if(0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.engine(a);else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.engine(a)}},XF_FACTORY.prototype.debug=function(a){if(0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.debug(a);else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.debug(a)}},XF_FACTORY.prototype.info=function(a){if(0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.info(a);else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.info(a)}},XF_FACTORY.prototype.warn=function(a){if(0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.warn(a);else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.warn(a)}},XF_FACTORY.prototype.error=function(a){if(0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.error(a);else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.error(a)}},XF_FACTORY.prototype._timestr=function(a){var b,c,d,e;return b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=a.getMilliseconds(),10>b&&(b="0"+b),10>c&&(c="0"+c),10>d&&(d="0"+d),10>e?e="00"+e:100>e&&(e="0"+e),b+":"+c+":"+d+"."+e},XF_FACTORY.prototype.consoleprinttran=function(a,b,c){var d,e;if(e=this._timestr(c.time_before_data_send),d=[],d.push("SCREEN: "+a.getscreenurl()),d.push(", MAPID: "+b),d.push(", URL: "+c.xf_prop.url),d.push(", TOTAL: "+(c.time_after_callback_return.getTime()-c.time_before_data_send.getTime())+"ms"),d.push(", START: "+e),d.push(", SERVER: "+(c.time_after_data_recv.getTime()-c.time_before_data_send.getTime())+"ms"),d.push(", UI: "+(c.time_after_data_process.getTime()-c.time_after_data_recv.getTime())+"ms"),d.push(", CALLBACK: "+(c.time_after_callback_return.getTime()-c.time_after_data_process.getTime())+"ms"),0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.tran(d.join(""));else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.tran(d.join(""))}},XF_FACTORY.prototype.consoleprintxdataset=function(a,b){if(0==this.xf_main_factory.is_console_popup_mode)this.xf_main_factory.xf_console_box.xdataset(a,b);else{if(0==this._checkconsolepopup())return;this.xf_main_factory.xf_console_popup&&this.xf_main_factory.xf_console_popup.xdataset(a,b);
}},XF_FACTORY.prototype.httpdownloadfile=function(a,b,c){var d,e,f;return d=void 0===b||0==b.length?a:a.indexOf("?")>0?a+"&SavingFileName="+encodeURIComponent(b):a+"?SavingFileName="+encodeURIComponent(b),e=[],e.push('<a style="display:none;"'),void 0===c||c?e.push(' target="_blank"'):e.push(' target="_self"'),void 0!==b&&b.length>0&&e.push(' download="'+b+'"'),e.push(' href="'+encodeURI(d)+'"'),e.push("</a>"),f=$(e.join("")),f[0].click(),!0},XF_FACTORY.prototype.httpdownloadfilepost=function(a,b,c,d){return this._httpdownloadfile("post",a,b,c,d)},XF_FACTORY.prototype._httpdownloadfile=function(a,b,c,d,e){var f,g,h;for(g=[],g.push("<form"),g.push(' method="'+a+'"'),g.push(' action="'+encodeURI(b)+'"'),void 0===e||e?g.push(' target="_blank"'):g.push(' target="_self"'),g.push(' style="display:none;"'),g.push(">"),void 0!==c&&null!=c||(c=[]),void 0!==d&&null!==d&&c.push({name:"SavingFileName",value:d}),f=0;f<c.length;f++)g.push("<input"),g.push(' name="'+encodeURI(c[f].name)+'"'),g.push(' value="'+encodeURI(c[f].value)+'"'),g.push(">");g.push("</form>"),h=$(g.join("")),$(document.body).append(h),h[0].submit(),h.remove()},XF_FACTORY.prototype.httpdownloadfileex=function(a,b,c){var d={};if($.ajax({url:c,method:"GET",crossDomain:!0,async:!1,cache:!1,xhrFields:{withCredentials:!0},error:function(a,b,c){d={nresult:!1,strerror:'"'+a.statusText+'"',nerrorcode:a.status}},success:function(a,b,c){d={nresult:!0,strerror:'"'+c.statusText+'"',nerrorcode:c.status}}}),1==d.nresult){var e=c+"?SavingFileName="+encodeURI(b)+"&FileURI="+encodeURI(a);this.xf_iframe&&this.xf_iframe.remove(),this.xf_iframe=$("<iframe>").appendTo("body"),this.xf_iframe.hide(),this.xf_iframe.prop("src",e)}return d},XF_FACTORY.prototype.setinputrtl=function(a){return this.xf_main_factory.xf_param.IS_INPUT_RTL=a,this.xf_param.IS_INPUT_RTL=a,!0},XF_FACTORY.prototype.getlocalelanguage=function(){return this.xf_param.USER_LANGUAGE},XF_FACTORY.prototype.getlocalecountry=function(){return this.xf_param.USER_COUNTRY},XF_FACTORY.prototype.setlocale=function(a,b){return a.length>0&&(this.xf_main_factory.xf_param.USER_LANGUAGE=a,this.xf_param.USER_LANGUAGE=a),b.length>0&&(this.xf_main_factory.xf_param.USER_COUNTRY=b,this.xf_param.USER_COUNTRY=b),!0},XF_FACTORY.prototype.getlocaleseparator=function(){return[this.xf_param.USER_DECIMAL_SEPARATOR,this.xf_param.USER_THOUSANDS_SEPARATOR]},XF_FACTORY.prototype.setlocaleseparator=function(a,b){return a.length>0&&(this.xf_main_factory.xf_param.USER_DECIMAL_SEPARATOR=a,this.xf_param.USER_DECIMAL_SEPARATOR=a),b.length>0&&(this.xf_main_factory.xf_param.USER_THOUSANDS_SEPARATOR=b,this.xf_param.USER_THOUSANDS_SEPARATOR=b),!0},XF_FACTORY.prototype.setlocalecalendar=function(a,b,c,d){return null!=a&&a.length>0&&(this.xf_main_factory.xf_param.DAYNAME_OF_WEEK=a,this.xf_param.DAYNAME_OF_WEEK=a),null!=b&&b.length>0&&(this.xf_main_factory.xf_param.FULL_DAYNAME_OF_WEEK=b,this.xf_param.FULL_DAYNAME_OF_WEEK=b),null!=c&&c.length>0&&(this.xf_main_factory.xf_param.MONTHNAME_OF_YEAR=c,this.xf_param.MONTHNAME_OF_YEAR=c),null!=d&&d.length>0&&(this.xf_main_factory.xf_param.FULL_MONTHNAME_OF_YEAR=d,this.xf_param.FULL_MONTHNAME_OF_YEAR=d),!0},XF_FACTORY.prototype.setfirstdayofweek=function(a){return a=_xfu.intval(a,0,1),a!==!1?(this.xf_main_factory.xf_param.FIRSTDAY_OF_WEEK=a,this.xf_param.FIRSTDAY_OF_WEEK=a,!0):void 0},XF_FACTORY.prototype.setpicklistbaseurl=function(a){return 0==a.length?!1:(this.xf_main_factory.xf_param.PICKLISTBASEURL=a,this.xf_param.PICKLISTBASEURL=a,this.xf_main_factory.picklist_map={},!0)},XF_FACTORY.prototype.getholidaylist=function(){return this.xf_param.HOLIDAY_LIST},XF_FACTORY.prototype.setholidaylist=function(a){this.xf_main_factory.xf_param.HOLIDAY_LIST=a,this.xf_param.HOLIDAY_LIST=a},XF_FACTORY.prototype.deleteholiday=function(a){var b,c;for(b=this.getholidaycount(),c=0;b>c;c++)if(this.xf_param.HOLIDAY_LIST[c].date==a)return 0==this.is_main_factory&&this.xf_main_factory.xf_param.HOLIDAY_LIST.splice(c,1),this.xf_param.HOLIDAY_LIST.splice(c,1),!0;return!1},XF_FACTORY.prototype.getholidaycount=function(){return this.xf_param.HOLIDAY_LIST.length},XF_FACTORY.prototype.getholidayindex=function(a){var b,c;for(b=this.getholidaycount(),c=0;b>c;c++)if(this.xf_param.HOLIDAY_LIST[c].date==a)return c;return-1},XF_FACTORY.prototype.getholidayinfo=function(a){return a=_xfu["int"](a),isNaN(a)||0>a||a>this.getholidaycount()?["","",!1]:[this.xf_param.HOLIDAY_LIST[a].date,this.xf_param.HOLIDAY_LIST[a].title,this.xf_param.HOLIDAY_LIST[a].is_holiday]},XF_FACTORY.prototype.getmatchholidayinfo=function(a){var b;return b=this._getmatchholidayinfo(a),[b.date,b.title,b.is_holiday]},XF_FACTORY.prototype.getmatchholidayinfoex=function(a,b,c){var d;return d=this._getmatchholidayinfo(a,b,c),[d.date,d.title,d.is_holiday]},XF_FACTORY.prototype.setholiday=function(a,b,c,d){var e;return void 0==d&&(d=!0),e=this.getholidayindex(a),-1==e?0==d?!1:(this.xf_main_factory.xf_param.HOLIDAY_LIST.push({date:a,title:b,is_holiday:c}),this.xf_param.HOLIDAY_LIST.push({date:a,title:b,is_holiday:c}),!0):(this.xf_main_factory.xf_param.HOLIDAY_LIST[e].title=b,this.xf_main_factory.xf_param.HOLIDAY_LIST[e].is_holiday=c,this.xf_param.HOLIDAY_LIST[e].title=b,this.xf_param.HOLIDAY_LIST[e].is_holiday=c,!0)},XF_FACTORY.prototype._getmatchholidayinfo=function(){var a,b,c,d,e,f,g,h,i,j,k;if(k={date:"",title:"",is_holiday:!1},1==arguments.length)$.isPlainObject(arguments[0])?(g=arguments[0].year,h=arguments[0].month,i=arguments[0].day):(j=_xfu.date(arguments[0]),g=j.year,h=j.month,i=j.day);else{if(3!=arguments.length)return k;g=_xfu["int"](arguments[0]),h=_xfu["int"](arguments[1]),i=_xfu["int"](arguments[2])}for(a=this.xf_param.HOLIDAY_LIST.length,e=0;a>e;e++)if(b=this.xf_param.HOLIDAY_LIST[e],c=b.date.substr(0,4),("****"==c||c==g)&&(d=b.date.substr(4),f=_xfp.date(h,i,""),d==f))return b;return k},XF_FACTORY.prototype.jsonparse=function(a){return window.JSON.parse(a)},XF_FACTORY.prototype.jsonstringify=function(a){return window.JSON.stringify(a)},XF_FACTORY.prototype.xmlattr=function(a,b,c){var d,e;return 1==arguments.length?(d={},$.each(a.attributes,function(a,b){d[b.name]=b.value}),d):arguments.length>1?(e=$(a).attr(b),void 0!==e?e:c):void 0},XF_FACTORY.prototype.xmlchildren=function(a,b){return $(a).children(b)},XF_FACTORY.prototype.xmlchildrenjson=function(a,b,c){var d,e,f,g;if(void 0===c&&(c={}),$.isArray(b))for(g=b,e=g.length,d=0;e>d;d++)f=this.xmlchildren(a,g[d]),this.xmljson(f,c);else f=this.xmlchildren(a,b),this.xmljson(f,c);return c},XF_FACTORY.prototype.xmlclosest=function(a,b){return $(a).parent(b)},XF_FACTORY.prototype.xmlfind=function(a,b){return $(a).find(b)},XF_FACTORY.prototype.xmljson=function(a,b){var c,d,e;if(void 0===b&&(b={}),$.isArray(a))for(e=a,d=e.length,c=0;d>c;c++)b[this.xmlname(e[c])]=this.xmltext(e[c]);else b[this.xmlname(a)]=this.xmltext(a);return b},XF_FACTORY.prototype.xmlname=function(a){return $(a)[0].tagName},XF_FACTORY.prototype.xmlparse=function(a){return $.parseXML(a)},XF_FACTORY.prototype.xmlparent=function(a,b){return $(a).parent(b)},XF_FACTORY.prototype.xmlparents=function(a,b){return $(a).parents(b)},XF_FACTORY.prototype.xmltext=function(a,b){var c;return c=$(a).text(),void 0!==c?c:b},XF_FACTORY.prototype.xmlstringify=function(a){var b=new XMLSerializer;return b.serializeToString(a)},XF_FACTORY.prototype.httpexistfile=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return c={nresult:0,nerrorcode:0,strerror:"",nfilesize:0,strlastmodifytime:""},d=encodeURI(a),$.ajax({url:d,method:"HEAD",async:!1,dataType:"text",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},error:function(b,d,e){c.nresult=0,c.nerrorcode=b.status,c.strerror="("+b.readyState+") "+e,_xfu.ajaxerror({message:"Fail to check file",url:a,jqxhr:b,status:d,error:e,alert:!1})},success:function(a,b,d){c.nresult=1,f=d.getResponseHeader("content-length"),null!=f&&f.length>0&&(c.nfilesize=_xfu["int"](f),isNaN(c.nfilesize)&&(c.nfilesize=0)),e=d.getResponseHeader("last-modified"),null!=e&&e.length>0&&(g=e.split(" "),h=g[3],i="Jan"==g[2]?"01":"Feb"==g[2]?"02":"Mar"==g[2]?"03":"Apr"==g[2]?"04":"May"==g[2]?"05":"Jun"==g[2]?"06":"Jul"==g[2]?"07":"Aug"==g[2]?"08":"Sep"==g[2]?"09":"Oct"==g[2]?"10":"Nov"==g[2]?"11":"Dec"==g[2]?"12":"00",j=g[1],k=g[4].substr(0,2),l=g[4].substr(3,2),m=g[4].substr(6,2),n=new Date(_xfu["int"](h),_xfu["int"](i)-1,_xfu["int"](j),_xfu["int"](k),_xfu["int"](l),_xfu["int"](m)),o=n.getTimezoneOffset(),n.setMinutes(_xfu["int"](l)+-1*o),c.strlastmodifytime=_xfp.date(n,"yyyymmdd")+_xfp.time(n,"HHmmss"))}}),c},XF_FACTORY.prototype.dupdatacount=function(a){var b=this._getdupdataarr(null,a);return b.length},XF_FACTORY.prototype.dupdataindex=function(a,b){var c,d,e;for(c=this._getdupdataarr(null,a),d=c.length,e=d-1;e>=0;e--)if(c[e]==b)return e;return-1},XF_FACTORY.prototype.dupdataget=function(a,b){var c,d;return void 0===b&&(b=0),d=this._getdupdataarr(null,a),c=d[b],void 0===c&&(c=""),c},XF_FACTORY.prototype.dupdatagetall=function(a){var b;return b=this._getdupdataarr(null,a),b.arr.slice(0)},XF_FACTORY.prototype.dupdatadeletedata=function(a,b){var c,d,e,f;for(f=0,c=this._getdupdataarr(null,a),d=c.length,e=d-1;e>=0;e--)c[e]==b&&(c.splice(e,1),f++);return f},XF_FACTORY.prototype.dupdatadeleteindex=function(a,b){var c,d;return c=this._getdupdataarr(null,a),d=c.length,b=_xfu.intval(b,0,d-1),b===!1?!1:(c.splice(i,b),!0)},XF_FACTORY.prototype.dupdatadeleteall=function(a){this.xf_main_factory.dup_info[a]=[]},XF_FACTORY.prototype.dupdatainsert=function(a,b,c){var d,e;return d=this._getdupdataarr(null,a),e=d.length,b=_xfu.intval(b,0,e),b===!1?!1:-1==this.dupdataindex(a,c)?!1:(d.splice(b,0,c),!0)},XF_FACTORY.prototype.dupdatainsertall=function(a,b,c){var d,e,f,g,h,i;if(d=this._getdupdataarr(null,a),e=d.length,b=_xfu.intval(b,0,e),b===!1)return-1;for(g=b,h=0,i=c.length,f=0;i>f;f++)-1==this.dupdataindex(a,c[f])&&(d.splice(g,0,c[f]),g++,h++);return h},XF_FACTORY.prototype.dupdataappend=function(a,b){var c;return this.dupdataindex(a,b)>=0?-1:(c=this._getdupdataarr(null,a),c.push(b),c.length-1)},XF_FACTORY.prototype.dupdataappendall=function(a,b){var c,d,e,f;for(c=this._getdupdataarr(null,a),e=0,f=b.length,d=0;f>d;d++)-1==this.dupdataindex(a,b[d])&&(c.push(b[d]),e++);return e},XF_FACTORY.prototype.getbrowsercontentrect=function(){var a,b;return a=this.main_window.screenLeft?this.main_window.screenLeft:this.main_window.screenX,b=this.main_window.screenTop?this.main_window.screenTop:this.main_window.screenY,b+=this.main_window.outerHeight-this.main_window.innerHeight,a+=this.main_window.outerWidth-this.main_window.innerWidth,[_xfu["int"](a),_xfu["int"](b),_xfu["int"](a+this.main_window.innerWidth),_xfu["int"](b+this.main_window.innerHeight)]},XF_FACTORY.prototype.setcalendarholidaycolor=function(a,b,c){return this._setcalendarcolor("HOLIDAY_COLOR",a,b,c)},XF_FACTORY.prototype.setcalendarsundaycolor=function(a,b,c){return this._setcalendarcolor("SUNDAY_COLOR",a,b,c)},XF_FACTORY.prototype.setcalendarsaturdaycolor=function(a,b,c){return this._setcalendarcolor("SATURDAY_COLOR",a,b,c)},XF_FACTORY.prototype.setcalendarfridaycolor=function(a,b,c){return this._setcalendarcolor("FRIDAY_COLOR",a,b,c)},XF_FACTORY.prototype.setcalendarweekdaycolor=function(a,b,c){return this._setcalendarcolor("WEEKDAY_COLOR",a,b,c)},XF_FACTORY.prototype._setcalendarcolorex=function(a,b){var c=_xfu.rgb(b);return this._setcalendarcolor(c[0],c[1],c[2])},XF_FACTORY.prototype._setcalendarcolor=function(a,b,c,d){return b=_xfu.intval(b,0,255),c=_xfu.intval(c,0,255),d=_xfu.intval(d,0,255),b===!1||c===!1||d===!1?!1:(this.xf_param[a]=[b,c,d],!0)},XF_FACTORY.prototype.showdevtools=function(a){return window._xf5_showdevtools?window._xf5_showdevtools(a):!1},XF_FACTORY.prototype.issyskeypressed=function(a){var b;if(a=_xfu["int"](a),isNaN(a))return!1;if(6==a)b=20;else if(7==a)b=144;else{if(8!=a)return!1;b=45}return window._xf5_issyskeypressed?window._xf5_issyskeypressed(b):!1},XF_FACTORY.prototype.syskeypress=function(a,b){var c,d;if(a=_xfu["int"](a),isNaN(a))return!1;if(6==a)c=20;else if(7==a)c=144;else{if(8!=a)return!1;c=45}return window._xf5_syskeypress?(d=window._xf5_syskeypress(c,b),!0):!1},XF_FACTORY.prototype._setimemode=function(a){var b,c;return b=void 0===a.xf_prop.imemode?0:a.xf_prop.imemode,a.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&(a=a.xf_prop.xf_grid),a.xf_parent&&a.xf_parent.xf_screen&&(c=a.xf_parent.xf_screen.xf_window),c||(c=window),c._xf5_setimemode?c._xf5_setimemode(b):!1},XF_FACTORY.prototype.browsermaximize=function(){return this.main_window._xf5_showwindow?this.main_window._xf5_showwindow(3):!1},XF_FACTORY.prototype.browserminimize=function(){return this.main_window._xf5_showwindow?this.main_window._xf5_showwindow(6):!1},XF_FACTORY.prototype.browserrestore=function(a){if(void 0===a)option=0;else if(a=_xfu.intval(a,0,2),a===!1)return!1;return this.main_window._xf5_showwindow?this.main_window._xf5_showwindow(9,a):!1},XF_FACTORY.prototype.browsersetforeground=function(){return this.main_window._xf5_browsersetforeground?this.main_window._xf5_browsersetforeground():!1},XF_FACTORY.prototype.browserwidth=function(a){var b;return b=a,a>=0&&(b=a+factory_xf_param.XFRAME5BROWSER_BROWSER_WIDTH_GAP),this.main_window._xf5_browserresizeto?this.main_window._xf5_browserresizeto(b,-1):!1},XF_FACTORY.prototype.browserheight=function(a){var b;return b=a,a>=0&&(b=a+factory_xf_param.XFRAME5BROWSER_BROWSER_HEIGHT_GAP),this.main_window._xf5_browserresizeto?this.main_window._xf5_browserresizeto(-1,b):!1},XF_FACTORY.prototype.browsersize=function(a,b){var c,d;return c=a,a>=0&&(c=a+factory_xf_param.XFRAME5BROWSER_BROWSER_WIDTH_GAP),d=b,b>=0&&(d=b+factory_xf_param.XFRAME5BROWSER_BROWSER_HEIGHT_GAP),this.main_window._xf5_browserresizeto?this.main_window._xf5_browserresizeto(c,d):!1},XF_FACTORY.prototype.getkeymapfocusnext=function(){var a;return a=this.xf_param.KEYMAP_FOCUS_NEXT.slice(0)},XF_FACTORY.prototype.setkeymapfocusnext=function(a){var b,c;if(0==$.isArray(a))return!1;if(c=a.length,0==this.is_main_factory)for(this.xf_main_factory.xf_param.KEYMAP_FOCUS_NEXT=[],b=0;c>b;b++)this.xf_main_factory.xf_param.KEYMAP_FOCUS_NEXT.push(a[b]);for(this.xf_param.KEYMAP_FOCUS_NEXT=[],b=0;c>b;b++)this.xf_param.KEYMAP_FOCUS_NEXT.push(a[b]);return!0},XF_FACTORY.prototype.decrypttext=function(a){return window.atob(a)},XF_FACTORY.prototype.encrypttext=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(this.BASE64_KEY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[],d=this.utf8encode(a),e=d.length,b=0;e>b;)f=d.charCodeAt(b++),g=d.charCodeAt(b++),h=d.charCodeAt(b++),i=f>>2,j=(3&f)<<4|g>>4,k=(15&g)<<2|h>>6,l=63&h,isNaN(g)?(k=64,l=64):isNaN(h)&&(l=64),c.push(this.BASE64_KEY.charAt(i)+this.BASE64_KEY.charAt(j)+this.BASE64_KEY.charAt(k)+this.BASE64_KEY.charAt(l));return c.join("")},XF_FACTORY.prototype.utf8encode=function(a){var b,c,d,e;for(a=a.replace(/\r\n/g,"\n"),c=a.length,d=[],b=0;c>b;b++)e=a.charCodeAt(b),128>e?d.push(String.fromCharCode(e)):e>127&&2048>e?(d.push(String.fromCharCode(e>>6|192)),d.push(String.fromCharCode(63&e|128))):(d.push(String.fromCharCode(e>>12|224)),d.push(String.fromCharCode(e>>6&63|128)),d.push(String.fromCharCode(63&e|128)));return d.join("")},XF_FACTORY.prototype.utf8decode=function(a){var b,c,d,e,f,g;for(f=a.length,g=[],b=0;f>b;)c=a.charCodeAt(b),128>c?(g.push(String.fromCharCode(c)),b++):c>191&&224>c?(d=a.charCodeAt(b+1),g.push(String.fromCharCode((31&c)<<6|63&d)),b+=2):(d=a.charCodeAt(b+1),e=a.charCodeAt(b+2),g.push(String.fromCharCode((15&c)<<12|(63&d)<<6|63&e)),b+=3);return g.join("")},XF_FACTORY.prototype.fireonchangedevent=function(a,b){var c;return a.value_on_focus===a.value?!1:(c=a.value_on_focus,a.value_on_focus=a.value,this.calleventhandler(a,b,"on_changed",[c,a.value]))},XF_FACTORY.prototype.calleventhandler=function(a,b,c,d){var e,f,g,h;for(f={xf_component:a,is_fire_async:b,event_name:c,is_func_called:!1},h=[],h.push(f),h.push(f.xf_component),e=0;e<d.length;e++)h.push(d[e]);return g=this._fireevent.apply(this,h),1==f.is_fire_async?0:0==f.is_func_called?-2:g},XF_FACTORY.prototype.getglobalstyleinfo=function(){return JSON.parse(JSON.stringify(this.xf_main_screen.global_style))},XF_FACTORY.prototype.setglobalstyleinfo=function(a){return this.xf_main_screen.global_style=JSON.parse(JSON.stringify(a))},XF_FACTORY.prototype.base64decodeex=function(a,b){return window._xf5_base64decodeex?window._xf5_base64decodeex(a,b):!1},XF_FACTORY.prototype.filecopy=function(a,b,c){return this.xplusfilecopy(a,b,c)},XF_FACTORY.prototype.xplusfilecopy=function(a,b,c){return window._xf5_xplus?window._xf5_xplus("filecopy",a,b,c):window._xf5_filecopy?window._xf5_filecopy(a,b,c):!1},XF_FACTORY.prototype.filedelete=function(a){return this.xplusfiledelete(a)},XF_FACTORY.prototype.xplusfiledelete=function(a){return window._xf5_xplus?window._xf5_xplus("filedelete",a):window._xf5_filedelete?window._xf5_filedelete(a):!1},XF_FACTORY.prototype.filefind=function(a){return this.xplusfilefind(a)},XF_FACTORY.prototype.xplusfilefind=function(a){return void 0===a||0==a.length?!1:window._xf5_xplus?window._xf5_xplus("filefind",a):window._xf5_filefind?window._xf5_filefind(a):!1},XF_FACTORY.prototype.fileread=function(a,b){return this.xplusfileread(a,b)},XF_FACTORY.prototype.xplusfileread=function(a,b){return window._xf5_xplus?window._xf5_xplus("fileread",a,b):window._xf5_fileread?window._xf5_fileread(a,b):null},XF_FACTORY.prototype.filesave=function(a,b){var c,d,e,f,g;return c=new Blob([b],{type:"text/plain;charset=utf-8"}),g=a.lastIndexOf("\\"),g>0&&(a=a.substr(g+1)),g=a.lastIndexOf("/"),g>0&&(a=a.substr(g+1)),d="./xf5/ext/lib/FileSaver.min.js",void 0!==_xf_param.FILESAVER_JS_URL&&(d=_xf_param.FILESAVER_JS_URL),this.xf_screen.isjsloaded(d)?void saveAs(c,a):(f=this,e=_xfj.element("script",d),$(e).on("load",function(b){f.xf_screen._addloadedjsurl(d),saveAs(c,a)}),!0)},XF_FACTORY.prototype.filewrite=function(a,b,c,d,e){return this.xplusfilewrite(a,b,c,d,e)},XF_FACTORY.prototype.xplusfilewrite=function(a,b,c,d,e){return c=_xfu.intval(c,0,2),c===!1?!1:(void 0===d&&(d=""),void 0===e&&(e=!0),window._xf5_xplus?window._xf5_xplus("filewrite",a,b,c,d,e):window._xf5_filewrite?window._xf5_filewrite(a,b,c,d,e):null)},XF_FACTORY.prototype.readprofilestring=function(a,b,c,d){return this.xplusreadprofilestring(a,b,c,d)},XF_FACTORY.prototype.xplusreadprofilestring=function(a,b,c,d){return window._xf5_xplus?window._xf5_xplus("readprofilestring",a,b,c,d):window._xf5_readprofilestring?window._xf5_readprofilestring(a,b,c,d):null},XF_FACTORY.prototype.writeprofilestring=function(a,b,c,d){return this.xpluswriteprofilestring(a,b,c,d)},XF_FACTORY.prototype.xpluswriteprofilestring=function(a,b,c,d){return window._xf5_xplus?window._xf5_xplus("writeprofilestring",a,b,c,d):window._xf5_writeprofilestring?window._xf5_writeprofilestring(a,b,c,d):!1},XF_FACTORY.prototype.deleteprofilesection=function(a,b){return this.xplusdeleteprofilesection(a,b)},XF_FACTORY.prototype.xplusdeleteprofilesection=function(a,b){return window._xf5_xplus?window._xf5_xplus("deleteprofilesection",a,b):window._xf5_deleteprofilesection?window._xf5_deleteprofilesection(a,b):!1},XF_FACTORY.prototype.deleteprofilekey=function(a,b,c){return this.xplusdeleteprofilekey(a,b,c)},XF_FACTORY.prototype.xplusdeleteprofilekey=function(a,b,c){return window._xf5_xplus?window._xf5_xplus("deleteprofilekey",a,b,c):window._xf5_deleteprofilekey?window._xf5_deleteprofilekey(a,b,c):!1},XF_FACTORY.prototype.gotourl=function(a,b,c){return this.xplusgotourl(a,b,c)},XF_FACTORY.prototype.xplusgotourl=function(a,b,c){return void 0===b&&(b=!1),void 0===c&&(c=0),window._xf5_xplus?window._xf5_xplus("gotourl",a,b,c):!1},XF_FACTORY.prototype.gotourlex=function(a,b,c,d){return this.xplusgotourlex(a,b,c,d)},XF_FACTORY.prototype.xplusgotourlex=function(a,b,c,d){return void 0===d&&(d=!1),window._xf5_xplus?window._xf5_xplus("gotourlex",a,b,c,d):!1},XF_FACTORY.prototype.gotourlpost=function(a,b,c,d,e,f){return this.xplusgotourlpost(a,b,c,d,e,f)},XF_FACTORY.prototype.xplusgotourlpost=function(a,b,c,d,e,f){return window._xf5_xplus?window._xf5_xplus("gotourlpost",a,b,c,d,e,f):!1},XF_FACTORY.prototype.winexec=function(a,b){return this.xpluswinexec(a,b)},XF_FACTORY.prototype.xpluswinexec=function(a,b){return window._xf5_xplus?window._xf5_xplus("winexec",a,b):!1},XF_FACTORY.prototype.winexecex=function(a,b,c){return this.xpluswinexecex(a,b,c)},XF_FACTORY.prototype.xpluswinexecex=function(a,b,c){return window._xf5_xplus?window._xf5_xplus("winexecex",a,b,c):!1},XF_FACTORY.prototype.isaliveprocessor=function(a){return this.xplusisaliveprocessor(a)},XF_FACTORY.prototype.xplusisaliveprocessor=function(a){return a=_xfu.intval(a),a===!1?!1:window._xf5_xplus?window._xf5_xplus("isaliveprocessor",a):!1},XF_FACTORY.prototype.killprocessor=function(a){return this.xpluskillprocessor(a)},XF_FACTORY.prototype.xpluskillprocessor=function(a){return a=_xfu.intval(a),a===!1?!1:window._xf5_xplus?window._xf5_xplus("killprocessor",a):!1},XF_FACTORY.prototype.xplushttpdownloadfile=function(a,b,c){return a.length<=0?!1:(void 0===b&&(b=""),void 0===c&&(c=!1),window._xf5_xplus?window._xf5_xplus("httpdownloadfile",a,b,c):!1)},XF_FACTORY.prototype.getprotectcopy=function(){return this.xf_main_factory.xf_param.PROTECT_COPY},XF_FACTORY.prototype.setprotectcopy=function(a){return this.xf_main_factory.xf_param.PROTECT_COPY=a,this.xf_param.PROTECT_COPY=a,!0},XF_FACTORY.prototype.getcalendartoday=function(){return this.xf_main_factory.xf_param.CALENDAR_TODAY},XF_FACTORY.prototype.setcalendartoday=function(a){return 0==a.length?(this.xf_main_factory.xf_param.CALENDAR_TODAY="",this.xf_param.CALENDAR_TODAY="",!0):0==_xfu.isdate(a)?!1:(this.xf_main_factory.xf_param.CALENDAR_TODAY=a,this.xf_param.CALENDAR_TODAY=a,!0)},XF_MENUBOX.prototype._init=function(a,b){this.xf_screen=a,this.xf_menu_parent_screen=b,this.xf_menu_parent_document=b.xf_screen.xf_window.document,this.xf_object=null,this.xf_iframe=null,this.mouse_offset_x=0,this.mouse_offset_y=0},XF_MENUBOX.prototype._prop=function(a){this.xf_prop={name:"",x:"0",y:"0",width:"0",height:"0",link_screen:"",extra_data:null},void 0==a.name&&(a.name="_menubox_"),$.extend(this.xf_prop,a),this.xf_prop.x=_xfu["int"](this.xf_prop.x),this.xf_prop.y=_xfu["int"](this.xf_prop.y),this.xf_prop.width=_xfu["int"](this.xf_prop.width),this.xf_prop.height=_xfu["int"](this.xf_prop.height)},XF_MENUBOX.prototype._box=function(){this.xf_object=$('<div class="_xf_menubox"></div>'),this.xf_object.css({position:"absolute",left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y),width:_xfu.px(this.xf_prop.width),height:_xfu.px(this.xf_prop.height)}),$(this.xf_menu_parent_document.body).append(this.xf_object)},XF_MENUBOX.prototype._dom=function(){this.xf_iframe=$('<iframe class="_xf_menubox_iframe"></iframe>'),this.xf_object.append(this.xf_iframe)},XF_MENUBOX.prototype._offevent=function(){this.xf_object.off("click"),this.xf_iframe.off("click")},XF_MENUBOX.prototype._event=function(){this.xf_object.on("click",$.proxy(this.on_object_click,this)),this.xf_iframe.on("click",$.proxy(this.on_iframe_click,this)),this.xf_iframe.on("load",$.proxy(this.on_iframe_load,this,this.xf_prop.extra_data))},XF_MENUBOX.prototype._offdocevent=function(){$(this.xf_menu_parent_document).off("click."+this.xf_prop.name),$(this.xf_menu_parent_document).off("contextmenu."+this.xf_prop.name)},XF_MENUBOX.prototype._docevent=function(){this._offdocevent(),$(this.xf_menu_parent_document).on("click."+this.xf_prop.name,$.proxy(this.on_document_click,this)),$(this.xf_menu_parent_document).on("contextmenu."+this.xf_prop.name,$.proxy(this.on_document_contextmenu,this))},XF_MENUBOX.prototype._create=function(){var a,b,c;_xfu.async({func:this._docevent,context:this}),a=this.xf_iframe[0].contentDocument,b=this.xf_iframe[0].contentWindow,b.xf_menubox=this,c="xframe_screen_kind="+XFD_SCREEN_MENU,c+="&xframe_popup_name="+encodeURIComponent(this.xf_prop.name),_xf_param.USER_LANGUAGE!=_xf_param.SCREEN_LANGUAGE&&(c+="&xframe_language="+_xf_param.USER_LANGUAGE),_xf_param.USER_COUNTRY!=_xf_param.SCREEN_COUNTRY&&(c+="&xframe_country="+_xf_param.USER_COUNTRY),this.xf_iframe.attr("src",_xfx.iframeurl(this.xf_prop.link_screen)+"&"+c)},XF_MENUBOX.prototype.on_document_click=function(a){this.hide()},XF_MENUBOX.prototype.on_document_contextmenu=function(a){this.hide()},XF_MENUBOX.prototype.on_window_blur=function(a){this.hide()},XF_MENUBOX.prototype.on_object_click=function(a){this.hide()},XF_MENUBOX.prototype.on_iframe_click=function(a){this.hide()},XF_MENUBOX.prototype.on_iframe_load=function(a,b){this.xf_iframe.get(0).contentWindow.factory=factory,$(this.xf_iframe.get(0).contentWindow).on("blur."+this.xf_prop.name,$.proxy(this.on_window_blur,this))},XF_MENUBOX.prototype.on_screen_load=function(a){factory._fireevent({xf_component:this.xf_menu_parent_screen.xf_screen,event_name:"on_menuload"},this.xf_iframe.get(0).contentWindow.screen,this.xf_prop.name)},XF_MENUBOX.prototype.show=function(){this.xf_object.show()},XF_MENUBOX.prototype.hide=function(){factory.closemenu(this.xf_prop.name)},XF_MENUBOX.prototype.destroy=function(){var a,b,c;if(this.xf_iframe&&(a=this.xf_iframe.get(0))){try{b=a.contentWindow}catch(d){c=[],c.push("error name: "+d.name),c.push("error message: "+d.message),b=null}try{b&&a.contentWindow.screen&&a.contentWindow.screen.xf_screen&&a.contentWindow.screen.xf_screen.xf_object&&a.contentWindow.screen.xf_screen.xf_object.triggerHandler&&a.contentWindow.screen.xf_screen.xf_object.triggerHandler("on_destroy")}catch(d){}}try{if(!b)return;this._offdocevent(),this.xf_iframe&&(_xfj.cleariframe(this.xf_iframe),this.xf_iframe.remove()),this.xf_object&&this.xf_object.remove()}catch(d){}},XF_MENUBOX.prototype.setmenupos=function(a,b,c,d,e,f,g){var h,i;this.xf_prop.x=_xfu["int"](a),this.xf_prop.y=_xfu["int"](b),this.xf_prop.width=_xfu["int"](c),this.xf_prop.height=_xfu["int"](d),f&&this.xf_object.css({width:_xfu.px(this.xf_prop.width),height:_xfu.px(this.xf_prop.height)}),g?(h=this.xf_menu_parent_screen.getclientwidth(),i=this.xf_menu_parent_screen.getclientheight(),this.xf_object.css({left:_xfu.px((h-this.xf_object.width())/2),top:_xfu.px((i-this.xf_object.height()-30)/2)})):e&&this.xf_object.css({left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y)})},XF_MODALBOX.TITLE_BAR_HEIGHT=30,XF_MODALBOX.DEFAULT_TOP_POS=100,XF_MODALBOX.prototype._init=function(){this.xf_object=null,this.xf_titlebar=null,this.xf_close_button=null,this.xf_background=null,this.is_bar_move=!1,this.mouse_page_x=0,this.mouse_page_y=0,this.popup_offset=0,this.main_screen=factory.getmainscrinstance(),this.xf_main_screen=this.main_screen.xf_screen,this.document=this.xf_main_screen.xf_window.document},XF_MODALBOX.prototype._prop=function(a){var b;this.xf_prop={xf_screen:null,name:"_modal_box",title:"title_text",url:"",xf_content:null,padding:0,width:470,height:270,top:-1,left:-1,is_show_close_button:!0,is_center:!1},$.extend(this.xf_prop,a),null!=this.xf_prop.xf_screen&&(b=this.xf_prop.xf_screen._getmodalboxtargetscreen(),b&&(this.main_screen=b,this.xf_main_screen=this.main_screen.xf_screen,this.document=this.xf_main_screen.xf_window.document))},XF_MODALBOX.prototype._box=function(){var a;a=[],a.push('<div class="_xf_modalbox">'),a.push('<div class="_xf_modalbox_titlebar">'),a.push('<span class="_xf_modalbox_titlebar_text">'+this.xf_prop.title+"</span>"),this.xf_prop.is_show_close_button&&a.push('<button class="_xf_modalbox_close_button"></button>'),a.push("</div>"),a.push('<div class="_xf_modalbox_content">'),this.xf_prop.url.length>0&&a.push('<iframe class="_xf_modalbox_content_iframe" src="'+this.xf_prop.url+'"></iframe>'),a.push("</div>"),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_background=$('<div class="_xf_modalbox_background"></div>'),$(this.document.body).append(this.xf_object),$(this.document.body).append(this.xf_background)},XF_MODALBOX.prototype._dom=function(){this.xf_titlebar=this.xf_object.children("._xf_modalbox_titlebar"),this.xf_content=this.xf_object.children("._xf_modalbox_content"),this.xf_prop.is_show_close_button&&(this.xf_close_button=this.xf_titlebar.children("._xf_modalbox_close_button"))},XF_MODALBOX.prototype._offdocevent=function(a){$(this.document).off("mousemove."+this.xf_prop.name),$(this.document).off("mouseup."+this.xf_prop.name),$(this.document).off("mouseleave."+this.xf_prop.name)},XF_MODALBOX.prototype._docevent=function(a){$(this.document).on("mouseup."+this.xf_prop.name,$.proxy(this.on_document_mouseup,this)),$(this.document).on("mouseleave."+this.xf_prop.name,$.proxy(this.on_document_mouseup,this)),$(this.document).on("mousemove."+this.xf_prop.name,$.proxy(this.on_document_mousemove,this))},XF_MODALBOX.prototype._offevent=function(){this.xf_close_button&&this.xf_close_button.off("click"),this.xf_titlebar.off("mousedown")},XF_MODALBOX.prototype._event=function(){this.xf_close_button&&this.xf_close_button.on("click",$.proxy(this.on_closebutton_click,this)),this.xf_titlebar.on("mousedown",$.proxy(this.on_titlebar_mousedown,this))},XF_MODALBOX.prototype.on_document_mouseup=function(a){0!=this.is_bar_move&&(this.is_bar_move=!1,this._offdocevent(),this.xf_titlebar.css({cursor:"default"}))},XF_MODALBOX.prototype.on_document_mousemove=function(a){var b,c,d,e;0!=this.is_bar_move&&(d=this.document.documentElement.clientWidth-this.xf_object.outerWidth(!0),e=this.document.documentElement.clientHeight-this.xf_object.outerHeight(!0),b=this.popup_offset.left+(a.pageX-this.mouse_page_x),b>d&&(b=d),0>b&&(b=0),c=this.popup_offset.top+(a.pageY-this.mouse_page_y),c>e&&(c=e),0>c&&(c=0),this.xf_object.css({left:_xfu.px(b),top:_xfu.px(c)}))},XF_MODALBOX.prototype.on_titlebar_mousedown=function(a){return this.is_bar_move=!0,this.mouse_page_x=a.pageX,this.mouse_page_y=a.pageY,this.popup_offset=this.xf_object.position(),this._docevent(),this.xf_titlebar.css({cursor:"move"}),!1},XF_MODALBOX.prototype.on_closebutton_click=function(a){this.xf_prop.xf_content.trigger("close"),this.hide(),this.remove()},XF_MODALBOX.prototype.show=function(){null!=this.xf_prop.xf_content&&(this.xf_content.append(this.xf_prop.xf_content),this.xf_prop.xf_content.show(),this._size(this.xf_prop.width,this.xf_prop.height)),this._move(),this.xf_object.show()},XF_MODALBOX.prototype._size=function(a,b){var c;c=-1==b?"auto":_xfu.px(b+2*this.xf_prop.padding),this.xf_content.css({padding:_xfu.px(this.xf_prop.padding),width:_xfu.px(a+2*this.xf_prop.padding),height:c}),-1==b?this.xf_object.css({width:_xfu.px(this.xf_content.outerWidth())}):this.xf_object.css({width:_xfu.px(this.xf_content.outerWidth()),height:_xfu.px(this.xf_content.outerHeight()+XF_MODALBOX.TITLE_BAR_HEIGHT)})},XF_MODALBOX.prototype._move=function(){var a,b,c,d;c=this.xf_object.outerWidth(),d=this.xf_object.outerHeight(),a=Math.min(XF_MODALBOX.DEFAULT_TOP_POS,this.document.documentElement.clientHeight-d),b=(this.document.documentElement.clientWidth-c)/2,0==this.xf_prop.is_center&&(-1!=this.xf_prop.top&&(a=this.xf_prop.top,a+d>this.document.documentElement.clientHeight&&(a-=d)),-1!=this.xf_prop.left&&(b=this.xf_prop.left,b+c>this.document.documentElement.clientWidth&&(b-=c))),0>a&&(a=0),0>b&&(b=0),this.xf_object.css({left:_xfu.px(b),top:"-100px"}),this.xf_object.animate({top:_xfu.px(a)},300)},XF_MODALBOX.prototype.hide=function(){this.remove()},XF_MODALBOX.prototype.remove=function(){this.xf_object.fadeOut("fast",$.proxy(this.destroy,this))},XF_MODALBOX.prototype.destroy=function(){this._offevent(),this.xf_background.remove(),this.xf_object.remove()},XF_MODALBOX.prototype.getdocument=function(){return this.document},XF_PICKLIST.PICKLIST_TYPE_NORMAL=1,XF_PICKLIST.PICKLIST_TYPE_GRIDCOLUMN=2,XF_PICKLIST.PICKLIST_TYPE_GRIDITEM=3,XF_PICKLIST.PICKLIST_FILTERTYPE_OLD=1,XF_PICKLIST.PICKLIST_FILTERTYPE_NEW=2,XF_PICKLIST.prototype._init=function(a){this.xf_component=a,this.code_style="liststyle",this.code_delimiter=":",this.xf_xdataset=null,this.xdataset_id="_picklist_xdataset",this.xdataset_type=XFD_XDATASET_NORMAL,this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,this.xdataset_hidden_column_type=XFD_XDATASET_COLUMN_DATA,this.code_column_id="code",this.comment_column_id="comment",
this.hidden_column_id="hidden",this.combobox_data_info={del:":",pos:0,style:""},this.combobox_data_arr=null,this.combobox_data_count=0,this.treestyle_item_info_arr=[],this.picklist_filter_arr=[]},XF_PICKLIST.prototype._prop=function(a){var b;this.xf_prop={make_case:0,grid_row_index:-1,grid_sub_row_index:0,grid_column_index:-1,picklist_type:XF_PICKLIST.PICKLIST_TYPE_NORMAL,picklist_async:!1,picklist_linkdata:"",picklist:"",combobox_data:"",picklist_filter:"",picklist_filter_type:0,picklist_selstyle:XFD_COMBOBOX_CODEONLY,on_picklist_load:null},void 0!==a&&null!==a&&$.extend(this.xf_prop,a),this.xf_prop.picklist_selstyle=_xfu["int"](this.xf_prop.picklist_selstyle),0==this.xf_prop.picklist_filter_type&&(this.xf_prop.picklist_filter_type=factory_xf_param.PICKLIST_FILTER_TYPE),0==this.xf_prop.picklist_linkdata.length?this._innerxdataset():(b=this.xf_prop.picklist_linkdata.split(":"),0==this.setxdataset(b[0],b[1],b[2],b[3])&&this._innerxdataset()),this.keyinfilter_column_id=_xfx.xdatasetcolumnid(this),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.keyinfilter_column_id,"",0,!1),null!==this.xf_xdataset&&this.xf_xdataset._addlinkobject(this),this.xf_prop.picklist_filter.length>0&&this.setpicklistfilter(this.xf_prop.picklist_filter,!1,!1)},XF_PICKLIST.prototype._comboboxdata=function(){var a,b,c,d,e,f,g,h,i,j;if(this.combobox_data_arr=[],!(this.xf_prop.combobox_data.length<=0)){for(a=this.xf_prop.combobox_data.split(" "),this.combobox_data_info.del=a[0].split("=")[1].replace(/'/g,""),this.combobox_data_info.pos=a[1].split("=")[1].replace(/'/g,""),this.combobox_data_info.style=_xfu["int"](a[2].split("=")[1].replace(/'/g,"")),2==this.combobox_data_info.style&&(this.code_style="treestyle"),this.combobox_data_info.pos=_xfu["int"](this.combobox_data_info.pos),g=this.xf_prop.combobox_data.indexOf("content="),b=this.xf_prop.combobox_data.substr("content=".length+g),b=b.substr(1,b.length-2),b=b.replace(/&#20/g," "),c=b.split("\r\n"),d=c.length,e=0;d>e;e++)0!=c[e].length&&(f=c[e].split(this.combobox_data_info.del),j=0,1==f.length?(h="",i=f[0].replace("\r",""),2==this.combobox_data_info.style&&(j=this.calctreestyleitemdepth(i),i=_xfu.trim(i))):(h=f[0],f.length>2?(f.splice(0,1),i=f.join(this.code_delimiter).replace("\r","")):i=f[1].replace("\r",""),2==this.combobox_data_info.style&&(j=this.calctreestyleitemdepth(h),h=_xfu.trim(h))),i=i.replace(/&apos/g,"'"),0!=this.xf_prop.make_case&&(h=_xfx.makecase(this.xf_prop.make_case,h),i=_xfx.makecase(this.xf_prop.make_case,i)),this.combobox_data_arr.push({code:h,comment:i,hidden:"0",is_duplicate:!1,depth:j}));this.combobox_data_count=this.combobox_data_arr.length}},XF_PICKLIST.prototype._innerxdataset=function(){this.xdataset_type=XFD_XDATASET_INNER,this.xdataset_column_type=XFD_XDATASET_COLUMN_INNER,this.xdataset_hidden_column_type=XFD_XDATASET_COLUMN_INNER,this.xf_xdataset=new XF_XDATASET(null,{id:this.xdataset_id}),this.xf_xdataset.xdataset_type=XFD_XDATASET_INNER,this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.code_column_id,"",0,!1),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.comment_column_id,"",0,!1),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.hidden_column_id,"",0,!1)},XF_PICKLIST.prototype._setcomboboxdataduplicate=function(a,b){var c,d;for(c=0;c<this.combobox_data_count;c++)for(this.combobox_data_arr[c].is_duplicate=!1,d=0;a>d;d++)if(this.combobox_data_arr[c].code==b[d].code){this.combobox_data_arr[c].code.is_duplicate=!0;break}},XF_PICKLIST.prototype._isvalidrow=function(a){return!(isNaN(a)||0>a||a>=this.getcount())},XF_PICKLIST.prototype.loaddata=function(){return this.xdataset_type==XFD_XDATASET_NORMAL?void(this.xf_prop.picklist_filter_type==XF_PICKLIST.PICKLIST_FILTERTYPE_OLD?this._applypicklistfilteroldtype():this._applypicklistfilter()):void(0==this.xf_prop.picklist.length?(this._loadcomboboxdatatoxdataset(),this.xf_prop.picklist_filter_type==XF_PICKLIST.PICKLIST_FILTERTYPE_OLD?this._applypicklistfilteroldtype():this._applypicklistfilter()):this.setpicklist(this.xf_prop.picklist,this.xf_prop.picklist_async))},XF_PICKLIST.prototype.setxdataset=function(a,b,c,d){var e;return e=this.xf_component.xf_parent.xf_content.xf_execution_context[a],void 0!==e&&null!==e||(e=factory.getglobalxdataset(a)),void 0===e||null===e?!1:-1==e.getcolumn(b)?!1:-1==e.getcolumn(c)?!1:(this.xf_xdataset=e,this.xdataset_type=XFD_XDATASET_NORMAL,this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,this.xdataset_id=a,this.code_column_id=b,this.comment_column_id=c,this.hidden_column_id=d,0==this.hidden_column_id.length&&(this.hidden_column_id="hidden",this.xdataset_hidden_column_type=XFD_XDATASET_COLUMN_INNER,this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.hidden_column_id,"",0,!1)),!0)},XF_PICKLIST.prototype.setselstyle=function(a){this.xf_prop.picklist_selstyle=a},XF_PICKLIST.prototype.getdisplaytext=function(a,b,c,d){var e="";switch(void 0===c&&(c=this.xf_prop.picklist_selstyle),d===!0&&(b=_xfu.trimstart(b)),c){case XFD_COMBOBOX_CODEONLY:return a;case XFD_COMBOBOX_COMMENTONLY:return b;case XFD_COMBOBOX_CODENCOMMENT:return e=0==a.length?b:0==b.length?a:a+this.code_delimiter+b,e==this.code_delimiter?"":e;default:return""}},XF_PICKLIST.prototype.getcode=function(a){return this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.code_column_id)},XF_PICKLIST.prototype.setcode=function(a,b,c){this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.code_column_id,b,c,this,this,-1,-1,-1)},XF_PICKLIST.prototype.getcomment=function(a){return this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.comment_column_id)},XF_PICKLIST.prototype.setcomment=function(a,b,c){this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.comment_column_id,b,c,this,this,-1,-1,-1)},XF_PICKLIST.prototype.gethidden=function(a){return this.xf_xdataset._getdatabyname(a,this.xdataset_hidden_column_type,this.hidden_column_id)},XF_PICKLIST.prototype.sethidden=function(a,b,c){this.xf_xdataset._setdatabyname(a,this.xdataset_hidden_column_type,this.hidden_column_id,b,c,this,this,-1,-1,-1)},XF_PICKLIST.prototype.getkeyinfilterhidden=function(a){return this.xf_xdataset._getdatabyname(a,XFD_XDATASET_COLUMN_INNER,this.keyinfilter_column_id)},XF_PICKLIST.prototype.setkeyinfilterhidden=function(a,b,c){this.xf_xdataset._setdatabyname(a,XFD_XDATASET_COLUMN_INNER,this.keyinfilter_column_id,b,c,this,this,-1,-1,-1)},XF_PICKLIST.prototype.getcodeinfo=function(a,b,c){var d,e,f,g,h;if(h={index:-1,code:"",comment:"",hidden:"0"},d=this.getcount(),"index"==a)b=_xfu["int"](b),d>b&&(h.index=b,h.code=this.getcode(b),h.comment=this.getcomment(b),h.hidden=this.gethidden(b));else if("code"==a){for(h.code=b,e=0;d>e;e++)if(g=this.getcode(e),b==g){h.index=e,h.comment=this.getcomment(e),h.hidden=this.gethidden(e);break}}else if("comment"==a)for(h.comment=b,0==d&&(h.code=b),e=0;d>e;e++)if(f=this.getcomment(e),f=f.trim(),b==f){if(void 0===c){h.index=e,h.code=this.getcode(e),h.hidden=this.gethidden(e);break}if(c==this.getcode(e)){h.index=e,h.code=this.getcode(e),h.hidden=this.gethidden(e);break}}return h},XF_PICKLIST.prototype.parsecodecomment=function(a,b,c,d){var e,f;return void 0===c&&(c=!1),void 0===b&&(b=this.xf_prop.picklist_selstyle),f={index:-1,code:"",comment:"",hidden:"0"},b==XFD_COMBOBOX_CODEONLY?(e=a.split(this.code_delimiter),f=this.getcodeinfo("code",e[0])):b==XFD_COMBOBOX_CODENCOMMENT?(e=a.split(this.code_delimiter),f=this.getcodeinfo("code",e[0]),-1!=f.index||1!=factory_xf_param.PICKLIST_CODECOMMENT_COMMENTCHECK&&0!=c||(e.length<2&&e[0].length>0?f=this.getcodeinfo("comment",e[0]):a.length>0&&(f=this.getcodeinfo("comment",a)))):b==XFD_COMBOBOX_COMMENTONLY&&(f=this.getcodeinfo("comment",a,d),-1==f.index&&1==factory_xf_param.PICKLIST_COMMENTONLY_CODECHECK&&(f=this.getcodeinfo("code",a))),f},XF_PICKLIST.prototype.addstring=function(a){var b;return b=this.getcount(),0==this.insertstring(b,a)?-1:b},XF_PICKLIST.prototype.insertstring=function(a,b){var c,d,e;return c=this.getcount(),0>a||a>c?!1:(this.xf_xdataset.insertrow(a),0!=this.xf_prop.make_case&&(b=_xfx.makecase(this.xf_prop.make_case,b)),d=b.split(this.code_delimiter),1==d.length?(this.setcode(a,d[0],!0),this.setcomment(a,"",!0),this.sethidden(a,"0",!0)):2==d.length?(this.setcode(a,d[0],!0),this.setcomment(a,d[1],!0),this.sethidden(a,"0",!0)):d.length>2&&(this.setcode(a,d[0],!0),d.splice(0,1),e=d.join(this.code_delimiter),this.setcomment(a,e,!0),this.sethidden(a,"0",!0)),!0)},XF_PICKLIST.prototype.deletestring=function(a){return a=_xfu["int"](a),0==this._isvalidrow(a)?!1:this.xf_xdataset._deleterow(a,!1,!0,this)},XF_PICKLIST.prototype.checkinputvalid=function(a){var b,c,d,e,f,g;if(0==a.length)return!0;for(b=this.parsecodecomment(a),g=!1,c=this.getcount(),d=0;c>d;d++)if(this.xf_prop.picklist_selstyle==XFD_COMBOBOX_CODEONLY){if(e=this.getcode(d),a==e)return 1!=factory_xf_param.PICKLIST_HIDDENCODE_VALIDATION||"1"!==b.hidden}else if(this.xf_prop.picklist_selstyle==XFD_COMBOBOX_CODENCOMMENT){if(e=this.getcode(d),b.code==e)return 1==factory_xf_param.PICKLIST_HIDDENCODE_VALIDATION&&"1"===b.hidden?!1:b.code.length>0?!0:0==b.comment.length?!0:(f=this.getcomment(d),f=f.trim(),b.comment==f)}else if(this.xf_prop.picklist_selstyle==XFD_COMBOBOX_COMMENTONLY&&(f=this.getcomment(d),f=f.trim(),a==f))return 1!=factory_xf_param.PICKLIST_HIDDENCODE_VALIDATION||"1"!==b.hidden;return g},XF_PICKLIST.prototype.destroy=function(){this.xf_xdataset._deletelinkobject(this)},XF_PICKLIST.prototype.finditem=function(a,b,c){var d,e,f,g,h;for(b=_xfu["int"](b),h=a,d=this.getcount(),0==c&&(h=h.toUpperCase()),e=0;d>e;e++)if(f=this.getcode(e),g=this.getcomment(e),b==XFD_COMBOBOX_CODEONLY){if(1==c){if(h==f)return e}else if(h==f.toUpperCase())return e}else if(b==XFD_COMBOBOX_CODENCOMMENT){if(1==c){if(h==f+this.code_delimiter+g)return e}else if(h==f.toUpperCase()+this.code_delimiter+g.toUpperCase())return e}else if(b==XFD_COMBOBOX_COMMENTONLY)if(1==c){if(h==g)return e}else if(h==g.toUpperCase())return e;return-1},XF_PICKLIST.prototype.getitemhidden=function(a){return a=_xfu["int"](a),0==this._isvalidrow(a)?!1:"1"==this.gethidden(a)},XF_PICKLIST.prototype.setitemhidden=function(a,b){var c="0";return a=_xfu["int"](a),0==this._isvalidrow(a)?!1:(1==b&&(c="1"),this.sethidden(a,c,!0),!0)},XF_PICKLIST.prototype.getitemhiddenbycode=function(a){var b,c;for(c=this.getcount(),b=0;c>b;b++)if(a==this.getcode(b))return this.gethidden(b);return!1},XF_PICKLIST.prototype.setitemhiddenbycode=function(a,b){var c,d,e;for(e="0",1==b&&(e="1"),d=this.getcount(),c=0;d>c;c++)if(a==this.getcode(c))return this.sethidden(c,e,!0),!0;return!1},XF_PICKLIST.prototype.getitemtext=function(a){return a=_xfu["int"](a),0==this._isvalidrow(a)?"":this.getcode(a)+this.code_delimiter+this.getcomment(a)},XF_PICKLIST.prototype.getcount=function(a){return void 0===a&&(a=!0),a?this.xf_xdataset.getrowcount():this.xf_xdataset.getrowcount()-this.gethiddencount(!1)},XF_PICKLIST.prototype.gethiddencount=function(a){var b,c,d;if(d=0,void 0===a&&(a=!1),c=this.getcount(),"liststyle"==this.code_style)for(b=0;c>b;b++)1==this.getitemhidden(b)?d++:1==a&&"1"==this.getkeyinfilterhidden(b)&&d++;else for(b=0;c>b;b++)1==this.gettreestyleitemhidden(b)&&d++;return d},XF_PICKLIST.prototype.setpicklist=function(a,b){var c,d;return this.xf_prop.picklist=a,this.picklist_map_key=this.xf_prop.picklist.replace(/\//g,"__"),factory_xf_param.USE_PICKLIST_CACHE&&factory.xf_main_factory.picklist_map[this.picklist_map_key]?(this.code_style=factory.xf_main_factory.picklist_map[this.picklist_map_key].code_style,this.code_delimiter=factory.xf_main_factory.picklist_map[this.picklist_map_key].code_delimiter,this._processpicklistdata(factory.xf_main_factory.picklist_map[this.picklist_map_key].picklist_data_arr),!0):(void 0===b&&(b=!1),c=_xfx.picklisturl(a),d=_xfl_httpcacheurl(c),$.ajax({url:d,method:"GET",async:b,dataType:"text",cache:void 0===factory_xf_param.USE_PICKLIST_CACHE?!1:factory_xf_param.USE_PICKLIST_CACHE,success:$.proxy(this.on_picklist_loadex,this),error:function(a,b,d){_xfu.ajaxerror({message:"Fail to load picklist file",url:c,jqxhr:a,status:b,error:d,alert:!0})}}),!0)},XF_PICKLIST.prototype.removeall=function(){this.combobox_data_arr=[],this.combobox_data_count=0,this.xf_xdataset.init()},XF_PICKLIST.prototype.setpicklistkeydownfilter=function(a,b){var c,d,e,f,g;if(d=this.getcount(),0==a.length){for(c=0;d>c;c++)this.setkeyinfilterhidden(c,"0",!1);return!0}for(c=0;d>c;c++)"1"!=this.gethidden(c)&&(b==XFD_COMBOBOX_CODEONLY||b==XFD_COMBOBOX_COMMENTONLY?(b==XFD_COMBOBOX_CODEONLY?e=this.getcode(c):b==XFD_COMBOBOX_COMMENTONLY&&(e=this.getcomment(c)),e=e.toLowerCase(),a=a.toLowerCase(),e.indexOf(a)>=0?this.setkeyinfilterhidden(c,"0",!1):this.setkeyinfilterhidden(c,"1",!1)):b==XFD_COMBOBOX_CODENCOMMENT&&(a=a.toLowerCase(),f=this.getcode(c)+this.getcomment(c),g=this.getcode(c)+":"+this.getcomment(c),f=f.toLowerCase(),f.indexOf(a)>=0?this.setkeyinfilterhidden(c,"0",!1):(g=g.toLowerCase(),g.indexOf(a)>=0?this.setkeyinfilterhidden(c,"0",!1):this.setkeyinfilterhidden(c,"1",!1))));return!0},XF_PICKLIST.prototype.setpicklistfilter=function(a,b,c){var d,e,f,g,h,i,j,k;if(0!=a.length&&1!=b||this.clearpicklistfilter(!0,!0),void 0===c&&(c=!0),0==a.length)return!0;for(e=a.split(";"),f=e.length,i=this.picklist_filter_arr.length,d=0;f>d;d++)if(g=e[d].split(","),3==g.length)h=_xfu.trimquot(g[2]),this.picklist_filter_arr.push({filter_type:g[0],compare_type:g[1],compare_value:h,compare_and:!0,filter_regexp:_xfx.regexp(h)});else{if(4!=g.length)continue;h=_xfu.trimquot(g[2]),this.picklist_filter_arr.push({filter_type:g[0],compare_type:g[1],compare_value:h,compare_and:"|"!=g[3],filter_regexp:_xfx.regexp(h)})}if(1==c)if(this.xf_prop.picklist_filter_type==XF_PICKLIST.PICKLIST_FILTERTYPE_OLD)this._applypicklistfilterrangeoldtype(i,this.picklist_filter_arr.length-1);else{for(k=!0,j=i;j<this.picklist_filter_arr.length;j++)if(0==this.picklist_filter_arr[j].compare_and){k=!1;break}if(1==k)for(j=i;j<this.picklist_filter_arr.length;j++)this._applyoneandpicklistfilter(this.picklist_filter_arr[j]);else this._applypicklistfilter(!0)}return!0},XF_PICKLIST.prototype._loadcomboboxdatatoxdataset=function(){var a,b,c;for(b=this.combobox_data_arr.length,a=0;b>a;a++)1!=this.combobox_data_arr[a].is_duplicate&&(c=this.xf_xdataset._addrow(XFD_XDATASET_COLUMN_DATA,-1,"",!0,this),this.setcode(c,this.combobox_data_arr[a].code,!1),this.setcomment(c,this.combobox_data_arr[a].comment,!1),this.sethidden(c,this.combobox_data_arr[a].hidden,!1),this.treestyle_item_info_arr[c]={depth:this.combobox_data_arr[a].depth,is_expanded:!1,is_hidden:0!=this.combobox_data_arr[a].depth})},XF_PICKLIST.prototype._loadcodedatatoxdataset=function(a,b){var c,d;for(this.xf_xdataset._initxdataset(!0,!0,this),0==this.combobox_data_info.pos&&this._loadcomboboxdatatoxdataset(),c=0;a>c;c++)d=this.xf_xdataset._addrow(XFD_XDATASET_COLUMN_DATA,-1,"",!0,this),this.setcode(d,b[c].code,!0),this.setcomment(d,b[c].comment,!0),this.sethidden(d,b[c].hidden,!0),this.treestyle_item_info_arr[d]={depth:b[c].depth,is_expanded:!1,is_hidden:0!=b[c].depth};1==this.combobox_data_info.pos&&this._loadcomboboxdatatoxdataset()},XF_PICKLIST.prototype.clearpicklistfilter=function(a,b){var c,d;if(void 0!==a&&1!=a||(this.xf_prop.picklist_filter="",this.picklist_filter_arr=[]),void 0===b||1==b)for(d=this.getcount(),c=0;d>c;c++)this.sethidden(c,"0",!1)},XF_PICKLIST.prototype._applypicklistfilterrangeoldtype=function(a,b){var c;if(!(a>b)){for(c=a;b>=c;c++)1==this.picklist_filter_arr[c].compare_and&&this._applyonepicklistfilteroldtype(this.picklist_filter_arr[c]);for(c=a;b>c;c++)0==this.picklist_filter_arr[c].compare_and&&this._applyonepicklistfilteroldtype(this.picklist_filter_arr[c])}},XF_PICKLIST.prototype._applyonepicklistfilteroldtype=function(a){var b,c,d,e,f;for(d=XFD_DATA_ALPHANUM,"code"==a.filter_type&&(d=XFD_DATA_NUMBER),c=this.getcount(),b=0;c>b;b++)"code"==a.filter_type?e=this.getcode(b):"comment"==a.filter_type?e=this.getcomment(b):"all text"==a.filter_type&&(e=this.getcode(b)+this.getcomment(b)),f=_xfx.ismatchtofilter(XFD_FILTER_TEXT,a.compare_type,a.filter_regexp,a.compare_value,d,e),1==a.compare_and?0==f&&this.sethidden(b,"1",!1):1==f&&this.sethidden(b,"0",!1)},XF_PICKLIST.prototype._applypicklistfilteroldtype=function(a){void 0===a?this._applypicklistfilterrangeoldtype(0,this.picklist_filter_arr.length-1):this._applyonepicklistfilteroldtype(a)},XF_PICKLIST.prototype._applypicklistfilter=function(a){a===!0&&this.clearpicklistfilter(!1,!0),this._applyandpicklistfilterlist(),this._applyorpicklistfilterlist()},XF_PICKLIST.prototype._applyandpicklistfilterlist=function(){var a,b,c,d,e;for(c=[],a=this.picklist_filter_arr.length,b=0;a>b;b++)1==this.picklist_filter_arr[b].compare_and&&c.push(this.picklist_filter_arr[b]);if(d=c.length,0!=d)for(e=0;d>e;e++)this._applyoneandpicklistfilter(c[e])},XF_PICKLIST.prototype._applyoneandpicklistfilter=function(a){var b,c,d,e,f;for(d=XFD_DATA_ALPHANUM,"code"==a.filter_type&&(d=XFD_DATA_NUMBER),c=this.getcount(),b=0;c>b;b++)"code"==a.filter_type?e=this.getcode(b):"comment"==a.filter_type?e=this.getcomment(b):"all text"==a.filter_type&&(e=this.getcode(b)+this.getcomment(b)),f=_xfx.ismatchtofilter(XFD_FILTER_TEXT,a.compare_type,a.filter_regexp,a.compare_value,d,e),0==f&&this.sethidden(b,"1",!1)},XF_PICKLIST.prototype._applyorpicklistfilterlist=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(i=[],f=this.picklist_filter_arr.length,g=0;f>g;g++)0==this.picklist_filter_arr[g].compare_and&&i.push(this.picklist_filter_arr[g]);if(j=i.length,0!=j)for(b=this.getcount(),a=0;b>a;a++)if(1!=this.gethidden(a)){for(h=0,k=0;j>k;k++)if(l=i[k],c=XFD_DATA_ALPHANUM,"code"==l.filter_type&&(c=XFD_DATA_NUMBER),"code"==l.filter_type?d=this.getcode(a):"comment"==l.filter_type?d=this.getcomment(a):"all text"==l.filter_type&&(d=this.getcode(a)+this.getcomment(a)),e=_xfx.ismatchtofilter(XFD_FILTER_TEXT,l.compare_type,l.filter_regexp,l.compare_value,c,d),1==e){h++;break}0==h?this.sethidden(a,"1",!1):this.sethidden(a,"0",!1)}},XF_PICKLIST.prototype.on_picklist_loadex=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(o="#code_content",p="#code_style",q="#code_delimiter",e=a.indexOf(p),!(0>e||(r=a.substr(e+p.length+1),r=r.split("\n")[0],this.code_style=r.replace("\r",""),e=a.indexOf(q),0>e||(s=a.substr(e+q.length+1),s=s.split("\n")[0],s=s.replace("\r",""),this.code_delimiter=_xfu.trimquot(s),l=[],e=a.indexOf(o),0>e)))){for(i=a.substr(e+o.length+1),j=i.split("\n"),k=j.length,d=0;k>d;d++)0!=j[d].length&&(m="0",h=j[d].split(this.code_delimiter),1==h.length?(f="",g=h[0].replace("\r",""),t=0,"treestyle"==this.code_style&&(t=this.calctreestyleitemdepth(g),g=_xfu.trim(g))):(f=h[0],h.length>2?(h.splice(0,1),g=h.join(this.code_delimiter).replace("\r","")):g=h[1].replace("\r",""),n=g.split(""),2==n.length&&(g=n[0],m=n[1]),t=0,"treestyle"==this.code_style&&(t=this.calctreestyleitemdepth(f),f=_xfu.trim(f))),0!=this.xf_prop.make_case&&(f=_xfx.makecase(this.xf_prop.make_case,f),g=_xfx.makecase(this.xf_prop.make_case,g)),l.push({code:f,comment:g,hidden:m,depth:t}));factory_xf_param.USE_PICKLIST_CACHE&&!factory.xf_main_factory.picklist_map[this.picklist_map_key]&&(factory.xf_main_factory.picklist_map[this.picklist_map_key]={code_style:this.code_style,code_delimiter:this.code_delimiter,picklist_data_arr:l}),this._processpicklistdata(l)}},XF_PICKLIST.prototype._processpicklistdata=function(a){var b;b=a.length,this._setcomboboxdataduplicate(b,a),this._loadcodedatatoxdataset(b,a),this.xf_prop.picklist_filter_type==XF_PICKLIST.PICKLIST_FILTERTYPE_OLD?this._applypicklistfilteroldtype():this._applypicklistfilter(),null!=this.xf_prop.on_picklist_load&&this.xf_prop.on_picklist_load(this)},XF_PICKLIST.prototype.on_picklist_load=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(n="#code_content",l=[],e=a.indexOf('#code_delimiter="'),e>0&&(o=e+'#code_delimiter="'.length,p=a.indexOf('"',o+1),q=a.substring(o,p)),e=a.indexOf(n),!(0>e)){for(i=a.substr(e+n.length+1),j=i.split("\n"),k=j.length,d=0;k>d;d++)0!=j[d].length&&(h=j[d].split(":"),1==h.length?(f="",g=h[0].replace("\r","")):(f=h[0],g=h[1].replace("\r","")),l.push({code:f,comment:g,hidden:"0"}));m=l.length,this._setcomboboxdataduplicate(m,l),this._loadcodedatatoxdataset(m,l),this.xf_prop.picklist_filter_type==XF_PICKLIST.PICKLIST_FILTERTYPE_OLD?this._applypicklistfilteroldtype():this._applypicklistfilter(),null!=this.xf_prop.on_picklist_load&&this.xf_prop.on_picklist_load(this)}},XF_PICKLIST.prototype.on_xdataset_event=function(a){this.xf_prop.picklist_filter_type==XF_PICKLIST.PICKLIST_FILTERTYPE_OLD?this._applypicklistfilteroldtype():this._applypicklistfilter(),null!=this.xf_prop.on_picklist_load&&this.xf_prop.on_picklist_load(this)},XF_PICKLIST.prototype.isliststyle=function(){return"liststyle"==this.code_style},XF_PICKLIST.prototype.calctreestyleitemdepth=function(a){var b,c,d;for(d=0,c=a.length,b=0;c>b&&" "==a.charAt(b);b++)d++;return d},XF_PICKLIST.prototype.gettreestyleitemdepth=function(a){return this.treestyle_item_info_arr[a].depth},XF_PICKLIST.prototype.settreestyleitemdepth=function(a,b){this.treestyle_item_info_arr[a].depth=b},XF_PICKLIST.prototype.gettreestyleitemexpanded=function(a){return this.treestyle_item_info_arr[a].is_expanded},XF_PICKLIST.prototype.settreestyleitemexpanded=function(a,b){this.treestyle_item_info_arr[a].is_expanded=b},XF_PICKLIST.prototype.gettreestyleitemhidden=function(a){return this.treestyle_item_info_arr[a].is_hidden},XF_PICKLIST.prototype.settreestyleitemhidden=function(a,b){this.treestyle_item_info_arr[a].is_hidden=b},XF_PICKLIST.prototype.istreestyleitemhaschild=function(a,b,c){var d;return b==a-1?!1:(d=_xfu["int"](this.gettreestyleitemdepth(b+1)),c+1==d)},XF_PICKLIST.prototype.settreestylechilditemhidden=function(a,b){var c,d,e,f;for(e=this.getcount(),f=this.gettreestyleitemdepth(a),c=a+1;e>c&&(d=this.gettreestyleitemdepth(c),!(f>=d));c++)this.settreestyleitemhidden(c,b)},XF_PICKLIST.prototype.gettreestylehiddenitemcount=function(){var a,b,c;for(c=0,b=this.getcount(),a=0;b>a;a++)1==this.gettreestyleitemhidden(a)&&c++;return c},XF_PICKLIST.prototype.sort=function(a){var b,c,d;for(b=this.getsortediteminfoarr(a),d=this.getcount(),c=0;d>c;c++)b[c].code=this.getcode(b[c].item_index),b[c].comment=this.getcomment(b[c].item_index),b[c].hidden=this.gethidden(b[c].item_index),b[c].keyinfilter_hidden=this.getkeyinfilterhidden(b[c].item_index);for(c=0;d>c;c++)this.setcode(c,b[c].code,!0),this.setcomment(c,b[c].comment,!0),this.sethidden(c,b[c].hidden,!0),this.setkeyinfilterhidden(c,b[c].keyinfilter_hidden,!1)},XF_PICKLIST.prototype.getsortediteminfoarr=function(a){var b,c,d,e;for(c=[],e=this.getcount(),b=a.picklist_sortfix_startcount;b<e-a.picklist_sortfix_endcount;b++)c.push({item_display_text:this.getdisplaytext(this.getcode(b),this.getcomment(b),a.picklist_viewstyle),item_index:b});for(d=a.picklist_viewsort,c.sort(function(a,b){return a.item_display_text==b.item_display_text?0:1==d?a.item_display_text>b.item_display_text?1:-1:a.item_display_text>b.item_display_text?-1:1}),b=a.picklist_sortfix_startcount-1;b>=0;b--)c.unshift({item_display_text:this.getdisplaytext(this.getcode(b),this.getcomment(b),a.picklist_viewstyle),item_index:b});for(b=e-a.picklist_sortfix_endcount;e>b;b++)c.push({item_display_text:this.getdisplaytext(this.getcode(b),this.getcomment(b),a.picklist_viewstyle),item_index:b});return c},XF_PICKLIST.prototype.getcommentmaxlength=function(){var a,b,c,d;for(d=0,b=this.getcount(),a=0;b>a;a++)c=this.getcomment(a),d=Math.max(c.length,d);return d},XF_PICKLIST.prototype.getcodemaxlength=function(){var a,b,c,d;for(d=0,b=this.getcount(),a=0;b>a;a++)c=this.getcode(a),d=Math.max(c.length,d);return d},XF_POPUPBOX.TITLE_BAR_HEIGHT=30,XF_POPUPBOX.WS_NORMAL=0,XF_POPUPBOX.WS_MINIMIZED=1,XF_POPUPBOX.WS_MAXIMIZED=2,XF_POPUPBOX.prototype._init=function(){this.xf_object=null,this.xf_titlebar=null,this.xf_close_button=null,this.xf_background=null,this.is_bar_move=!1,this.mouse_page_x=0,this.mouse_page_y=0,this.popup_offset=0,this.minimized_left=-1,this.minimized_top=-1,this.main_screen=factory.getmainscrinstance(),this.xf_main_screen=this.main_screen.xf_screen,this.document=this.xf_main_screen.xf_window.document,this.window=this.xf_main_screen.xf_window,this.window_style=XF_POPUPBOX.WS_NORMAL,this.xf_screen=null,this.is_load_complete=!1},XF_POPUPBOX.prototype._prop=function(a){var b;this.xf_prop={name:"",title:"",url:"",border:0,left:0,top:0,width:470,height:270,is_no_title:!1,is_show_close_button:!0,is_show_max_button:!0,is_show_min_button:factory_xf_param.MODALPOPUP_MINBUTTON_SHOW,is_maximize:!1,auto_sizing:!1,is_center:!1,parent_screen:null,extra_data:null,is_portlet_popup:!1},$.extend(this.xf_prop,a),null!=this.xf_prop.parent_screen&&(b=this.xf_prop.parent_screen.xf_screen._getmodalboxtargetscreen(),b&&(this.main_screen=b,this.xf_main_screen=this.main_screen.xf_screen,this.document=this.xf_main_screen.xf_window.document,this.window=this.xf_main_screen.xf_window))},XF_POPUPBOX.prototype._box=function(){var a,b;a=[],a.push('<div class="_xf_popupbox"'),a.push(' style="'),0==this.xf_prop.border&&a.push("border-width:0px;"),this.xf_prop.is_no_title&&a.push("padding-top:0px;"),a.push('">'),a.push('<div class="_xf_popupbox_titlebar"'),a.push(' style="'),this.xf_prop.is_no_title&&a.push("display:none;"),a.push('">'),a.push('<span class="_xf_popupbox_titlebar_text">'),a.push(this.xf_prop.title),a.push("</span>"),a.push('<button class="_xf_popupbox_button _xf_popupbox_button_min" style="right:50px;'),0==this.xf_prop.is_show_min_button&&a.push("display:none;"),a.push('"></button>'),a.push('<button class="_xf_popupbox_button _xf_popupbox_button_max"></button>'),a.push('<button class="_xf_popupbox_button _xf_popupbox_button_close"'),a.push(' style="display:'+(this.xf_prop.is_show_close_button?"block":"none")+";"),a.push('"></button>'),a.push("</div>"),1==this.xf_prop.is_portlet_popup?(a.push('<div class="_xf_popupbox_content_iframe"'),0==this.xf_prop.url.length&&a.push(' style="display:none;"'),a.push("></div>")):(a.push('<iframe class="_xf_popupbox_content_iframe"'),0==this.xf_prop.url.length?a.push(' style="display:none;">'):(factory.xf_main_factory.popup_map[this.xf_prop.name]={parent_popupbox:this,is_popup_screen:!0,popup_info:this.xf_prop,popup_window:null},b="xframe_screen_kind="+XFD_SCREEN_MODALPOPUP,b+="&xframe_popup_name="+encodeURIComponent(this.xf_prop.name),_xf_param.USER_LANGUAGE!=_xf_param.SCREEN_LANGUAGE&&(b+="&xframe_language="+_xf_param.USER_LANGUAGE),_xf_param.USER_COUNTRY!=_xf_param.SCREEN_COUNTRY&&(b+="&xframe_country="+_xf_param.USER_COUNTRY),this.xf_prop.url.indexOf("http://")>=0?a.push('src="'+this.xf_prop.url+"?"+b+'"'):a.push('src="'+_xfx.screenurl(this.xf_prop.url)+"&"+b+'"'),a.push(">")),a.push("</iframe>")),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_background=$('<div class="_xf_popupbox_background" style="z-index:'+(XFD_ZINDEX_POPUPBOX+3*factory.xf_main_factory.popup_name_arr.length)+';"></div>'),$(this.document.body).append(this.xf_object),$(this.document.body).append(this.xf_background)},XF_POPUPBOX.prototype._dom=function(){this.xf_titlebar=this.xf_object.children("._xf_popupbox_titlebar"),this.xf_title=this.xf_titlebar.children("._xf_popupbox_titlebar_text"),this.xf_min_button=this.xf_titlebar.children("._xf_popupbox_button_min"),this.xf_max_button=this.xf_titlebar.children("._xf_popupbox_button_max"),this.xf_close_button=this.xf_titlebar.children("._xf_popupbox_button_close"),1==this.xf_prop.is_portlet_popup?(this.xf_item={xf_prop:{extra_data:null},xf_tab:{xf_parent:{xf_screen:this.xf_prop.parent_screen}}},this.xf_item.xf_prop.extra_data=this.xf_prop.extra_data,this.xf_portletbox=this.xf_object.children("._xf_popupbox_content_iframe"),this.xf_content=new XF_CONTENT(this,this.xf_portletbox),this.window._xfl_loadscreenbytype(this.xf_prop.url,null,this,this.xf_content,_XFD_SCREENTYPE_PORTLETMENU,this.xf_prop.name)):(this.xf_iframe=this.xf_object.children("._xf_popupbox_content_iframe"),this.xf_iframe.on("load",$.proxy(this.on_iframe_load,this,this.xf_prop.extra_data))),this.xf_resizebox=new XF_RESIZE_BOX(this,this.xf_object,{enable:4==this.xf_prop.border,min_x:0,min_y:0,min_height:XF_POPUPBOX.TITLE_BAR_HEIGHT,min_width:100,on_resize_start:$.proxy(this.on_resize_start,this)}),this.xf_protect=new XF_PROTECT(this,this.xf_object,{opacity:0,is_use_icon:!1})},XF_POPUPBOX.prototype._offdocevent=function(a){$(this.document).off("mousemove."+this.xf_prop.name),$(this.document).off("mouseup."+this.xf_prop.name),$(this.document).off("mouseleave."+this.xf_prop.name),$(this.document).off("touchmove."+this.xf_prop.name),$(this.document).off("touchend."+this.xf_prop.name)},XF_POPUPBOX.prototype._docevent=function(a){this._offdocevent(),$(this.document).on("mouseup."+this.xf_prop.name,$.proxy(this.on_document_mouseup,this)),$(this.document).on("mouseleave."+this.xf_prop.name,$.proxy(this.on_document_mouseup,this)),$(this.document).on("mousemove."+this.xf_prop.name,$.proxy(this.on_document_mousemove,this)),$(this.document).on("touchend."+this.xf_prop.name,$.proxy(this.on_document_mouseup,this)),$(this.document).on("touchmove."+this.xf_prop.name,$.proxy(this.on_document_mousemove,this))},XF_POPUPBOX.prototype._offevent=function(){_xfj.offevent(this.xf_close_button,["click","mousedown","touchstart"]),_xfj.offevent(this.xf_min_button,["click","mousedown","touchstart"]),_xfj.offevent(this.xf_max_button,["click","mousedown","touchstart"]),_xfj.offevent(this.xf_titlebar,["mousedown","touchstart"]),0==this.xf_prop.is_portlet_popup&&this.xf_iframe.off("load")},XF_POPUPBOX.prototype._event=function(){this._offevent(),this.xf_close_button.on("touchstart",$.proxy(this.on_closebutton_click,this)),this.xf_close_button.on("click",$.proxy(this.on_closebutton_click,this)),this.xf_close_button.on("mousedown",$.proxy(this.on_closebutton_mousedown,this)),this.xf_min_button.on("touchstart",$.proxy(this.on_minbutton_click,this)),this.xf_min_button.on("click",$.proxy(this.on_minbutton_click,this)),this.xf_min_button.on("mousedown",$.proxy(this.on_minbutton_mousedown,this)),this.xf_max_button.on("touchstart",$.proxy(this.on_maxbutton_click,this)),this.xf_max_button.on("click",$.proxy(this.on_maxbutton_click,this)),this.xf_max_button.on("mousedown",$.proxy(this.on_maxbutton_mousedown,this)),this.xf_titlebar.on("mousedown",$.proxy(this.on_titlebar_mousedown,this)),this.xf_titlebar.on("touchstart",$.proxy(this.on_titlebar_mousedown,this))},XF_POPUPBOX.prototype.on_resize_start=function(a){var b,c,d;b=this.main_screen,c=b.getwindowrect(),d=this.xf_object.position(),this.xf_resizebox.xf_prop.max_width=c[2]-c[0]-d.left,this.xf_resizebox.xf_prop.max_height=c[3]-c[1]-d.top},XF_POPUPBOX.prototype.on_object_mousedown=function(a){var b,c;return this.is_load_complete&&(1==this.xf_prop.is_portlet_popup?(b=a.clientX-this.xf_object.offset().left,c=a.clientY-this.xf_object.offset().top):(b=a.clientX,c=a.clientY),this.xf_screen.dragarea_left<b&&b<this.xf_screen.dragarea_right&&this.xf_screen.dragarea_top<c&&c<this.xf_screen.dragarea_bottom)?(a.preventDefault(),this.on_titlebar_mousedown(a)):void 0},XF_POPUPBOX.prototype.on_document_mouseup=function(a){this.is_bar_move&&(this.on_document_mousemove(a),this.is_bar_move=!1,this._offdocevent(),factory.is_mobile||this.xf_protect.hideprotect(),this.xf_titlebar.css("cursor","default"),a.stopPropagation())},XF_POPUPBOX.prototype.on_document_mousemove=function(a){var b,c,d;this.is_bar_move&&(d=_xfj.eventscreenxy(a),void 0!==d.x&&(0==factory.xf_param.MODALPOPUP_MOVE_OVERFLOWX?(b=Math.min(this.popup_offset.left+d.x-this.mouse_page_x,this.window.xf_screen.xf_object.innerWidth()-this.xf_object.outerWidth(!0)),b=Math.max(0,b)):(b=this.popup_offset.left+d.x-this.mouse_page_x,b>this.window.xf_screen.xf_object.innerWidth()-XF_POPUPBOX.TITLE_BAR_HEIGHT&&(b=this.window.xf_screen.xf_object.innerWidth()-XF_POPUPBOX.TITLE_BAR_HEIGHT),b<-1*(this.xf_object.innerWidth()-XF_POPUPBOX.TITLE_BAR_HEIGHT)&&(b=-1*(this.xf_object.innerWidth()-XF_POPUPBOX.TITLE_BAR_HEIGHT))),c=0==factory.xf_param.MODALPOPUP_MOVE_OVERFLOWY?Math.min(this.popup_offset.top+d.y-this.mouse_page_y,this.window.xf_screen.xf_object.innerHeight()-this.xf_object.outerHeight(!0)):Math.min(this.popup_offset.top+d.y-this.mouse_page_y,this.window.xf_screen.xf_object.innerHeight()-XF_POPUPBOX.TITLE_BAR_HEIGHT),
c=Math.max(0,c),this.xf_object.css({left:_xfu.px(b),top:_xfu.px(c)})),a.stopPropagation())},XF_POPUPBOX.prototype.on_titlebar_mousedown=function(a){var b;this.is_bar_move=!0,b=_xfj.eventscreenxy(a),this.mouse_page_x=b.x,this.mouse_page_y=b.y,this.popup_offset=this.xf_object.offset(),this._docevent(),this.xf_titlebar.css({cursor:"move"}),factory.is_mobile||this.xf_protect.showprotect(!0),a.stopPropagation()},XF_POPUPBOX.prototype.on_closebutton_mousedown=function(a){a.stopPropagation()},XF_POPUPBOX.prototype.on_maxbutton_mousedown=function(a){a.stopPropagation()},XF_POPUPBOX.prototype.on_minbutton_mousedown=function(a){a.stopPropagation()},XF_POPUPBOX.prototype.on_closebutton_click=function(a){var b,c;c="",void 0!==factory_xf_param.POPUP_WINCLOSE_VALUE&&(c=factory_xf_param.POPUP_WINCLOSE_VALUE),b=this,setTimeout(function(){b.remove(c)},0)},XF_POPUPBOX.prototype.setmodalpopupshowmode=function(a){if(a==XFD_WND_SHOWMINIMIZE){if(this.window_style==XF_POPUPBOX.WS_MINIMIZED)return!0;this.on_minbutton_click()}else if(a==XFD_WND_SHOWMAXIMIZE){if(this.window_style==XF_POPUPBOX.WS_MAXIMIZED)return!0;this.on_maxbutton_click()}else if(a==XFD_WND_SHOWNORMAL){if(this.window_style==XF_POPUPBOX.WS_NORMAL)return!0;this.on_maxbutton_click()}return!0},XF_POPUPBOX.prototype.on_minbutton_click=function(a){1==this.xf_min_button.hasClass("_xf_popupbox_button_restore")?(this.xf_min_button.removeClass("_xf_popupbox_button_restore"),this.xf_object.css({left:_xfu.px(this.box_normal_left),top:_xfu.px(this.box_normal_top),width:_xfu.px(this.box_normal_width),height:_xfu.px(this.box_normal_height)}),this.window_style=XF_POPUPBOX.WS_NORMAL):(this.xf_min_button.addClass("_xf_popupbox_button_restore"),this.xf_max_button.removeClass("_xf_popupbox_button_restore"),this.box_normal_left=this.xf_object.position().left,this.box_normal_top=this.xf_object.position().top,this.box_normal_width=this.xf_object.outerWidth(),this.box_normal_height=this.xf_object.outerHeight(),this.minimized_left>=0?this.xf_object.css({left:this.minimized_left+"px",top:this.minimized_top+"px",width:"400px",height:this.xf_titlebar.outerHeight()+"px"}):(this.minimized_top=this.get_minimized_top(),this.xf_object.css({left:0,top:this.minimized_top+"px",width:"400px",height:this.xf_titlebar.outerHeight()+"px"}),this.minimized_left=0),this.window_style=XF_POPUPBOX.WS_MINIMIZED)},XF_POPUPBOX.prototype.get_minimized_top=function(){var a=this.main_screen;return a.getclientheight()-this.xf_titlebar.outerHeight()-2},XF_POPUPBOX.prototype.on_maxbutton_click=function(a){1==this.xf_max_button.hasClass("_xf_popupbox_button_restore")?(this.xf_max_button.removeClass("_xf_popupbox_button_restore"),this.xf_object.css({left:_xfu.px(this.box_normal_left),top:_xfu.px(this.box_normal_top),width:_xfu.px(this.box_normal_width),height:_xfu.px(this.box_normal_height)}),this.window_style=XF_POPUPBOX.WS_NORMAL):(this.xf_min_button.removeClass("_xf_popupbox_button_restore"),this.xf_max_button.addClass("_xf_popupbox_button_restore"),this.box_normal_left=this.xf_object.position().left,this.box_normal_top=this.xf_object.position().top,this.box_normal_width=this.xf_object.outerWidth(),this.box_normal_height=this.xf_object.outerHeight(),this.xf_object.css({left:"0px",top:"0px",width:"100%",height:"100%"}),this.window_style=XF_POPUPBOX.WS_MAXIMIZED),this.xf_max_button.blur()},XF_POPUPBOX.prototype.on_iframe_load=function(a,b){this.xf_iframe.get(0).contentWindow.factory=factory},XF_POPUPBOX.prototype.on_screen_load=function(a){var b,c;this.is_load_complete=!0,this.xf_screen=a,1==this.xf_prop.is_portlet_popup&&(this.xf_screen.parent_popupbox=this),this.xf_prop.auto_sizing?(b=a.xf_prop.width,c=a.xf_prop.height):(b=this.xf_prop.width,c=this.xf_prop.height),this._repos(b,c,this.xf_prop.is_center,!0),a.showscreen(!a.xf_prop.hidden),1==this.xf_prop.is_maximize&&this.on_maxbutton_click(),0==this.xf_prop.is_portlet_popup&&factory._register_popup(this.xf_prop.name,a.xf_window),this.xf_object.css("z-index",XFD_ZINDEX_POPUPBOX+3*factory.xf_main_factory.popup_name_arr.length),this.xf_background.css("z-index",XFD_ZINDEX_POPUPBOX+3*factory.xf_main_factory.popup_name_arr.length-1),this.xf_prop.promise_resolve?(this.xf_prop.promise_resolve(!0),this.xf_prop.promise_resolve=null):1==this.xf_prop.is_portlet_popup?this.xf_prop.parent_screen.xf_screen._fireonpopupload(this.xf_screen,this.xf_prop.name):this.xf_prop.parent_screen.xf_screen._fireonpopupload(a.xf_window.screen,this.xf_prop.name)},XF_POPUPBOX.prototype.hide=function(){this.xf_background.hide(),this.xf_object.hide()},XF_POPUPBOX.prototype.show=function(){this.xf_iframe.css("border-width",0),this.xf_object.show()},XF_POPUPBOX.prototype.destroy=function(){this._remove_element()},XF_POPUPBOX.prototype._repos=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;this.xf_titlebar.css("display",this.xf_prop.is_no_title?"none":"flex"),this.xf_prop.is_show_close_button?this.xf_close_button.show():this.xf_close_button.hide(),this.xf_prop.is_show_min_button?(this.xf_min_button.show(),l=50,l=0==this.xf_prop.is_show_close_button?0==this.xf_prop.is_show_max_button?10:30:0==this.xf_prop.is_show_max_button?30:50,this.xf_min_button.css("right",_xfu.px(l))):this.xf_min_button.hide(),this.xf_prop.is_show_max_button?(this.xf_max_button.show(),m=30,m=0==this.xf_prop.is_show_close_button?10:30,this.xf_max_button.css("right",_xfu.px(m))):this.xf_max_button.hide(),this.xf_prop.width=a,this.xf_prop.height=b,e=a,f=b,0!=this.xf_prop.border&&(e+=2,f+=2),this.xf_prop.is_no_title||(f+=XF_POPUPBOX.TITLE_BAR_HEIGHT),c?(i=this.main_screen,j=i.getwindowwidth(),k=i.getwindowheight(),g=parseInt((j-e)/2,10),h=parseInt((k-f)/2,10),0>g&&(g=0),0>h&&(h=0)):d&&(g=this.xf_prop.left,h=this.xf_prop.top),this.xf_prop.left=g,this.xf_prop.top=h,this.xf_object.css({paddingTop:this.xf_prop.is_no_title?"0px":XF_POPUPBOX.TITLE_BAR_HEIGHT+"px",left:_xfu.px(g),top:_xfu.px(h),width:_xfu.px(e),height:_xfu.px(f)})},XF_POPUPBOX.prototype.remove=function(a){var b,c;this.popup_result_value=a;try{if(1==this.xf_prop.is_portlet_popup)if(this.xf_screen){if(this.xf_screen.xf_object&&this.xf_screen.xf_object.triggerHandler){if(b=this.xf_screen.xf_object.triggerHandler("on_destroy"),0===b)return!1;this.hide(),this.xf_prop.parent_screen.xf_screen._unregister_portlet(this.xf_prop.name),c=this,setTimeout(function(){c._remove_callback()},0)}}else this._remove_element();else if(this.xf_screen=this.xf_iframe.get(0).contentWindow.screen.xf_screen,this.xf_screen){if(this.xf_screen.xf_object&&this.xf_screen.xf_object.triggerHandler){if(b=this.xf_screen.xf_object.triggerHandler("on_destroy"),0===b)return!1;this.hide(),this.xf_screen.xf_factory._unregister_popup(this.xf_prop.name),c=this,setTimeout(function(){c._remove_callback()},0)}}else this._remove_element()}catch(d){}return!0},XF_POPUPBOX.prototype._remove_callback=function(){try{this.xf_screen.sync_modalstate_info&&this.xf_screen.sync_modalstate_info.promise_resolve?(this.xf_screen.sync_modalstate_info.promise_resolve(this.popup_result_value),this.xf_screen.sync_modalstate_info=null):0==this.xf_screen.is_popupdestroy_fired&&(this.xf_screen.is_popupdestroy_fired=!0,factory._fireevent({xf_component:this.xf_prop.parent_screen.xf_screen,event_name:"on_popupdestroy",is_fire_async:!1},this.xf_screen,this.xf_prop.name,this.popup_result_value)),this._remove_element()}catch(a){}},XF_POPUPBOX.prototype._remove_element=function(){this._offevent(),this.xf_resizebox.destroy(),this.xf_background.remove(),this.xf_close_button.remove(),this.xf_titlebar.remove(),1==this.xf_prop.is_portlet_popup?(this.xf_screen&&this.xf_screen.destroy(),this.xf_prop.parent_screen&&this.xf_prop.parent_screen.xf_screen&&(this.xf_prop.parent_screen.xf_screen.xf_content.xf_execution_context[this.xf_prop.name]=null)):this.xf_iframe.attr("src","about:blank"),this.xf_object.remove()},XF_POPUPBOX.prototype.bubble_iframe_mouseevent=function(){var a=this.xf_iframe.get(0),b=a.contentWindow.onmousemove,c=a.contentWindow.onmousedown,d=a.contentWindow.onmouseup;a.contentWindow.onmousemove=function(c){b&&b(c);var d=a.getBoundingClientRect(),e=this.document.createEvent("MouseEvents");e.initMouseEvent?e.initMouseEvent("mousemove",!0,!1,window,c.detail,c.screenX,c.screenY,c.clientX+d.left,c.clientY+d.top,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget):e=new MouseEvent("mousemove",{screenX:c.screenX,screenY:c.screenY,clientX:c.clientX+d.left,clientY:c.clientY+d.top,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,altKey:c.altKey,metaKey:c.metaKey,button:c.button,bubbles:!0,cancelable:!0}),a.dispatchEvent(e)},a.contentWindow.onmousedown=function(b){c&&c(b);var d=a.getBoundingClientRect(),e=this.document.createEvent("MouseEvents");e.initMouseEvent?e.initMouseEvent("mousedown",!0,!1,window,b.detail,b.screenX,b.screenY,b.clientX+d.left,b.clientY+d.top,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,null):e=new MouseEvent("mousedown",{screenX:b.screenX,screenY:b.screenY,clientX:b.clientX+d.left,clientY:b.clientY+d.top,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,altKey:b.altKey,metaKey:b.metaKey,button:b.button,bubbles:!0,cancelable:!0}),a.dispatchEvent(e)},a.contentWindow.onmouseup=function(b){d&&d(b);var c=a.getBoundingClientRect(),e=this.document.createEvent("MouseEvents");e.initMouseEvent?e.initMouseEvent("mouseup",!0,!1,window,b.detail,b.screenX,b.screenY,b.clientX+c.left,b.clientY+c.top,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget):e=new MouseEvent("mouseup",{screenX:b.screenX,screenY:b.screenY,clientX:b.clientX+c.left,clientY:b.clientY+c.top,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,altKey:b.altKey,metaKey:b.metaKey,button:b.button,bubbles:!0,cancelable:!0}),a.dispatchEvent(e)}},XF_POPUPBOX.prototype.on_document_resize_mousemove=function(a,b){var c=Math.max(0,b.clientX),d=Math.max(0,b.clientY),e=factory.getmainscrinstance(),f=e.getwindowrect();c=Math.min(c,f[2]),d=Math.min(d,f[3]);var g=Math.min(f[2]-this.original_popup_left,this.original_popup_width+b.clientX-this.clickedX),h=Math.min(f[3]-this.original_popup_top,this.original_popup_height+b.clientY-this.clickedY);switch(g=Math.max(g,100),h=Math.max(h,this.xf_titlebar.outerHeight()),a){case"n":this.xf_object.css("top",this.original_popup_top+d-this.clickedY+"px"),this.xf_object.css("height",this.original_popup_height+this.clickedY-d+"px");break;case"e":this.xf_object.css("width",g+"px");break;case"s":this.xf_object.css("height",h+"px");break;case"w":this.xf_object.css("left",this.original_popup_left+c-this.clickedX+"px"),this.xf_object.css("width",this.original_popup_width+this.clickedX-c+"px");break;case"ne":this.xf_object.css("top",this.original_popup_top+d-this.clickedY+"px"),this.xf_object.css("height",this.original_popup_height+this.clickedY-d+"px"),this.xf_object.css("width",g+"px");break;case"nw":this.xf_object.css("top",this.original_popup_top+d-this.clickedY+"px"),this.xf_object.css("height",this.original_popup_height+this.clickedY-d+"px"),this.xf_object.css("left",this.original_popup_left+c-this.clickedX+"px"),this.xf_object.css("width",this.original_popup_width+this.clickedX-c+"px");break;case"se":this.xf_object.css("width",g+"px"),this.xf_object.css("height",h+"px");break;case"sw":this.xf_object.css("height",h+"px"),this.xf_object.css("left",this.original_popup_left+c-this.clickedX+"px"),this.xf_object.css("width",this.original_popup_width+this.clickedX-c+"px")}},XF_PORTLETBOX.prototype._init=function(a,b){this.xf_screen=a,this.xf_portlet_parent_screen=b,this.xf_portlet_parent_document=b.xf_screen.xf_window.document,this.xf_object=null,this.is_load_complete=!1,this.xf_portlet_screen=null,this.xf_portlet=null},XF_PORTLETBOX.prototype._prop=function(a){this.xf_prop={portlet_name:"",x:"0",y:"0",is_horz_center:!1,is_vert_center:!1,is_modal_style:!1,width:"0",height:"0",link_screen:"",extra_data:null},void 0==a.name&&(a.name="_portletbox_"),$.extend(this.xf_prop,a),this.xf_prop.x=_xfu["int"](this.xf_prop.x),this.xf_prop.y=_xfu["int"](this.xf_prop.y),this.xf_prop.width=_xfu["int"](this.xf_prop.width),this.xf_prop.height=_xfu["int"](this.xf_prop.height),this.xf_item={xf_prop:{extra_data:null},xf_tab:{xf_parent:{xf_screen:this.xf_portlet_parent_screen}}},this.xf_item.xf_prop.extra_data=this.xf_prop.extra_data},XF_PORTLETBOX.prototype._box=function(){var a,b,c;a=[],b=this.xf_prop.x,c=this.xf_prop.y,0>b&&(b=0),0>c&&(c=0),a.push('<div class="_xf_portletbox'),this.xf_prop.is_horz_center?this.xf_prop.is_vert_center?a.push(" _xfd_pos_middlecenter"):a.push(" _xfd_pos_horzcenter"):this.xf_prop.is_vert_center&&a.push(" _xfd_pos_vertcenter"),a.push('"'),a.push(' style="'),this.xf_prop.is_horz_center||a.push("left:"+_xfu.px(b)+";"),this.xf_prop.is_vert_center||a.push("top:"+_xfu.px(c)+";"),a.push("width:"+_xfu.px(this.xf_prop.width)+";"),a.push("height:"+_xfu.px(this.xf_prop.height)+";"),a.push("z-index:"+(XFD_ZINDEX_POPUPBOX+3)+";"),a.push('">'),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_prop.is_modal_style&&(this.xf_background=$('<div class="_xf_popupbox_background" style="z-index:'+(XFD_ZINDEX_POPUPBOX+3-1)+';"></div>')),$(this.xf_portlet_parent_document.body).append(this.xf_object),this.xf_prop.is_modal_style&&$(this.xf_portlet_parent_document.body).append(this.xf_background)},XF_PORTLETBOX.prototype._dom=function(){this.xf_content=new XF_CONTENT(this,this.xf_object)},XF_PORTLETBOX.prototype._offevent=function(){this.xf_object.off("click")},XF_PORTLETBOX.prototype._event=function(){this.xf_object.on("click",$.proxy(this.on_object_click,this))},XF_PORTLETBOX.prototype._offdocevent=function(){$(this.xf_portlet_parent_document).off("click."+this.xf_prop.portlet_name)},XF_PORTLETBOX.prototype._docevent=function(){this._offdocevent(),$(this.xf_portlet_parent_document).on("click."+this.xf_prop.portlet_name,$.proxy(this.on_document_click,this))},XF_PORTLETBOX.prototype._create=function(){_xfu.async({func:this._docevent,context:this}),_xfl_loadscreenbytype(this.xf_prop.link_screen,null,this,this.xf_content,_XFD_SCREENTYPE_PORTLETMENU,this.xf_prop.portlet_name)},XF_PORTLETBOX.prototype.on_document_click=function(a){this._isportletboxclick(a)||this.hide()},XF_PORTLETBOX.prototype.on_object_click=function(a){this._isportletboxclick(a)||this.hide()},XF_PORTLETBOX.prototype._isportletboxclick=function(a){var b;return b=_xfj.eventtarget(a,{type:"class",value:"_xf_portletbox"}),null!==b},XF_PORTLETBOX.prototype.on_screen_load=function(a){this.is_load_complete=!0,this.xf_portlet_screen=a,this.xf_portlet=window[this.xf_prop.portlet_name],factory._fireevent({xf_component:this.xf_portlet_parent_screen.xf_screen,event_name:"on_portletload"},window[this.xf_prop.portlet_name],this.xf_prop.portlet_name)},XF_PORTLETBOX.prototype.show=function(){this.xf_object.show()},XF_PORTLETBOX.prototype.hide=function(){this.xf_portlet_parent_screen.closeportlet(this.xf_prop.portlet_name)},XF_PORTLETBOX.prototype.destroy=function(){this._offdocevent(),this.xf_portlet_screen&&this.xf_portlet_screen.destroy(),this.xf_object.remove(),this.xf_prop.is_modal_style&&this.xf_background.remove()},XF_PORTLETBOX.prototype.setportletpos=function(a,b,c,d,e,f,g){var h,i;this.xf_prop.x=_xfu["int"](a),this.xf_prop.y=_xfu["int"](b),this.xf_prop.width=_xfu["int"](c),this.xf_prop.height=_xfu["int"](d),f&&this.xf_object.css({width:_xfu.px(this.xf_prop.width),height:_xfu.px(this.xf_prop.height)}),g?(h=this.xf_portlet_parent_screen.getclientwidth(),i=this.xf_portlet_parent_screen.getclientheight(),this.xf_object.css({left:_xfu.px((h-this.xf_object.width())/2),top:_xfu.px((i-this.xf_object.height()-30)/2)})):e&&this.xf_object.css({left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y)})},XF_PROTECT.ING_ICON_SIZE=120,XF_PROTECT.prototype._init=function(a,b){this.xf_component=a,this.xf_target_object=b,this.is_protected=!1,this.xf_object=null,this.xf_keyboard=null,this.protect_count=0},XF_PROTECT.prototype._prop=function(a){this.xf_prop={opacity:80,image:"",is_use_icon:!0,is_use_text:!0,is_screen_protect:!1,internal_name:this.xf_component.xf_prop.internal_name+"_protect"},$.extend(this.xf_prop,a)},XF_PROTECT.prototype._box=function(){var a;a=[],a.push('<div class="_xf_protect"'),a.push(' style="'),a.push("display:none;"),a.push("background-color:rgba(255,255,255,"+this.xf_prop.opacity/100+");"),this.xf_prop.image.length>0&&a.push("background-image:"+_xfx.imageurlfunc(this.xf_prop.image)+";"),a.push('">'),a.push("<div"),a.push(' class="_xfd_hidden_keyboard_box"'),a.push(">"),a.push('<input class="_xfd_hidden_keyboard_input"'),1==_xfu.ismobile()&&a.push(" readonly"),a.push(' tabindex="-1"/>'),a.push("</div>"),this.xf_prop.is_use_icon&&(a.push('<div class="_xf_protect_ing"'),this.xf_prop.image.length>0&&a.push(' style="display:none;"'),a.push(">"),a.push("</div>")),this.xf_prop.is_use_text&&(a.push('<span class="_xf_protect_text _xfd_pos_middlecenter">'),a.push("</span>")),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_target_object.append(this.xf_object)},XF_PROTECT.prototype._dom=function(){this.xf_prop.is_use_icon&&(this.xf_ing=this.xf_object.children("._xf_protect_ing")),this.xf_prop.is_use_text&&(this.xf_text=this.xf_object.children("._xf_protect_text")),this.xf_keyboard=this.xf_object.find("._xfd_hidden_keyboard_input")},XF_PROTECT.prototype._event=function(){this.xf_keyboard.on("keydown",$.proxy(this.on_keyboard_keydown,this))},XF_PROTECT.prototype._create=function(){this._box(),this._dom(),this._event()},XF_PROTECT.prototype.on_keyboard_keydown=function(a){return!1},XF_PROTECT.prototype.destroy=function(){this.xf_object&&this.xf_object.remove()},XF_PROTECT.prototype.hideprotectbysplitter=function(){this.hideprotect()},XF_PROTECT.prototype.showprotectbysplitter=function(){this.showprotect(0,!1)},XF_PROTECT.prototype.hideprotect=function(a){return void 0===a&&(a=!1),this.is_protected?(this.protect_count--,this.protect_count>0&&!a?!1:(this.is_protected=!1,this.protect_count=0,this.xf_prop.is_use_icon&&0==this.xf_prop.image.length&&this.xf_ing.removeClass("_xfe_spin"),this.xf_object.hide(),!0)):!0},XF_PROTECT.prototype.showprotect=function(a,b,c){var d;return this.protect_count++,this.is_protected?(c===!0&&this.setfocus(),!0):(null==this.xf_object&&this._create(),void 0===b&&(b=this.xf_prop.is_use_icon),void 0===a&&-1==a||this.xf_object.css("background-color","rgba(255,255,255,"+a/100+")"),this.xf_prop.is_use_icon&&(b?(d=Math.min(this.xf_object.outerWidth(),this.xf_object.outerHeight()),d=parseInt(d/2,10),d=Math.min(d,XF_PROTECT.ING_ICON_SIZE),this.xf_ing.css({display:"block",width:_xfu.px(d),height:_xfu.px(d)})):this.xf_ing.css("display","none")),this.is_protected=!0,this.xf_object.show(),c===!0&&this.setfocus(),this.xf_prop.is_use_icon&&b&&0==this.xf_prop.image.length&&this.xf_ing.addClass("_xfe_spin"),!0)},XF_PROTECT.prototype.setfocus=function(){this.xf_keyboard&&this.xf_keyboard.focus()},XF_PROTECT.prototype.getprotect=function(){return this.is_protected},XF_PROTECT.prototype.getprotectimage=function(){return this.xf_prop.image},XF_PROTECT.prototype.setprotectimage=function(a){return this.xf_prop.image=a,null!=this.xf_object&&(a.length>0?(this.xf_object.css("backgroundImage",_xfx.imageurlfunc(this.xf_prop.protect_image)),this.xf_prop.is_use_icon&&this.xf_ing.hide()):(this.xf_object.css("backgroundImage","none"),this.xf_prop.is_use_icon&&this.xf_ing.show())),!0},XF_RESIZE.RESIZE_HANDLE_NONE=0,XF_RESIZE.RESIZE_HANDLE_BOTH=1,XF_RESIZE.RESIZE_HANDLE_HORZ=2,XF_RESIZE.RESIZE_HANDLE_VERT=3,XF_RESIZE.prototype._init=function(a){this.xf_component=a,this.is_show=!1,this.xf_object=null,this.is_bar_move=!1,this.event_page_x=0,this.event_page_y=0},XF_RESIZE.prototype._prop=function(a){this.xf_prop={width:6,height:6,right:1,bottom:1,resize_handle:1},$.extend(this.xf_prop,a),this.xf_prop.internal_name=this.xf_component.xf_prop.internal_name+"_resize",this.min_width=this.xf_prop.width+2*this.xf_prop.right,this.min_height=this.xf_prop.height+2*this.xf_prop.bottom},XF_RESIZE.prototype._box=function(){var a=[];0==_xf_htmlready_mode&&(a=[],a.push("<div "),a.push(' class="_xf_resize"'),a.push(' style="'),a.push("width:"+_xfu.px(this.xf_prop.width)+";"),a.push("height:"+_xfu.px(this.xf_prop.height)+";"),a.push("right:"+_xfu.px(this.xf_prop.right)+";"),a.push("bottom:"+_xfu.px(this.xf_prop.bottom)+";"),this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_NONE&&a.push("display:none;"),this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_HORZ?a.push("cursor:e-resize;"):this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_VERT?a.push("cursor:n-resize;"):this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_BOTH&&a.push("cursor:nw-resize;"),a.push('">'),a.push("</div>")),0==_xf_htmlready_mode?(this.xf_object=$(a.join("")),this.xf_component.xf_object.append(this.xf_object)):this.xf_object=$("#"+this.xf_prop.internal_name)},XF_RESIZE.prototype._dom=function(){},XF_RESIZE.prototype._offevent=function(){this.xf_object.off("mousedown"),this.xf_object.off("touchstart")},XF_RESIZE.prototype._event=function(){this._offevent(),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("touchstart",$.proxy(this.on_object_mousedown,this))},XF_RESIZE.prototype._offdocevent=function(){$(document).off("mousemove."+this.xf_prop.internal_name),$(document).off("mouseup."+this.xf_prop.internal_name),$(document).off("touchmove."+this.xf_prop.internal_name),$(document).off("touchend."+this.xf_prop.internal_name)},XF_RESIZE.prototype._docevent=function(){this._offdocevent(),$(document).on("mousemove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this)),$(document).on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("touchmove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this)),$(document).on("touchend."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this))},XF_RESIZE.prototype._create=function(){this._dom(),this._event()},XF_RESIZE.prototype.on_document_mousemove=function(a){var b,c,d,e,f;if(this.is_bar_move!==!1&&(d=_xfj.eventpagexy(a),void 0!==d.x)){if(b=d.x-this.event_page_x,c=d.y-this.event_page_y,this.xf_prop.resize_handle===XF_RESIZE.RESIZE_HANDLE_HORZ){if(Math.abs(b)<1)return}else if(this.xf_prop.resize_handle===XF_RESIZE.RESIZE_HANDLE_VERT){if(Math.abs(c)<1)return}else if(Math.abs(b)<1&&Math.abs(c)<1)return;this.xf_prop.move_dir!==XF_RESIZE.RESIZE_HANDLE_HORZ&&this.xf_prop.move_dir!==XF_RESIZE.RESIZE_HANDLE_BOTH||d.x<this.mouse_range_left&&(b=d.x-this.mouse_range_left),this.xf_prop.move_dir!==XF_RESIZE.RESIZE_HANDLE_VERT&&this.xf_prop.move_dir!==XF_RESIZE.RESIZE_HANDLE_BOTH||d.y<this.mouse_range_top&&(c=d.y-this.mouse_range_top),e=this.xf_component.xf_prop.width+b,f=this.xf_component.xf_prop.height+c,e<=this.min_width&&(e=this.min_width),f<=this.min_height&&(f=this.min_height),this.event_page_x=d.x,this.event_page_y=d.y,this.xf_prop.resize_handle===XF_RESIZE.RESIZE_HANDLE_HORZ?this.xf_component.setrect(this.xf_component.xf_prop.x,this.xf_component.xf_prop.y,this.xf_component.xf_prop.x+e,this.xf_component.xf_prop.y+this.xf_component.xf_prop.height):this.xf_prop.resize_handle===XF_RESIZE.RESIZE_HANDLE_VERT?this.xf_component.setrect(this.xf_component.xf_prop.x,this.xf_component.xf_prop.y,this.xf_component.xf_prop.x+this.xf_component.xf_prop.width,this.xf_component.xf_prop.y+f):this.xf_component.setrect(this.xf_component.xf_prop.x,this.xf_component.xf_prop.y,this.xf_component.xf_prop.x+e,this.xf_component.xf_prop.y+f)}},XF_RESIZE.prototype.on_document_mouseup=function(a){return 0!=this.is_bar_move?(this.on_document_mousemove(a),this.is_bar_move=!1,this._offdocevent(),this._applydoccursor(),!1):void 0},XF_RESIZE.prototype.on_object_mousedown=function(a){var b;return this.is_bar_move=!0,this._applydoccursor(),b=_xfj.eventpagexy(a),this.event_page_x=b.x,this.event_page_y=b.y,this.mouse_range_left=this.xf_component.xf_prop.x+this.min_width,this.mouse_range_top=this.xf_component.xf_prop.y+this.min_height,this._docevent(),!1},XF_RESIZE.prototype.setresizehandle=function(a){this.xf_prop.resize_handle=a,this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_NONE?this.xf_object.hide():this.xf_object.show()},XF_RESIZE.prototype._applydoccursor=function(){var a;1==this.is_bar_move?this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_BOTH?a="nw-resize":this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_HORZ?a="e-resize":this.xf_prop.resize_handle==XF_RESIZE.RESIZE_HANDLE_VERT&&(a="n-resize"):a="default",$(document.body).css("cursor",a)},XF_RESIZE.prototype.destroy=function(){this._offevent(),this.xf_object.remove()},XF_RESIZE_BOX.prototype._init=function(a,b){this.xf_component=a,this.xf_target_object=b,this.is_resize_move=!1,this.is_dom_created=!1},XF_RESIZE_BOX.prototype._prop=function(a){this.xf_prop={enable:!1,min_x:XFD_MIN_VALUE,min_y:XFD_MIN_VALUE,max_x:XFD_MAX_VALUE,max_y:XFD_MAX_VALUE,min_height:10,min_width:10,max_height:XFD_MAX_VALUE,max_width:XFD_MAX_VALUE,on_resize_start:null,on_resize_ing:null,on_resize_end:null,internal_name:this.xf_component.xf_prop.internal_name+"_resizebox"},$.extend(this.xf_prop,a)},XF_RESIZE_BOX.prototype._box=function(){this.setenable(this.xf_prop.enable)},XF_RESIZE_BOX.prototype._offdocevent=function(){$(document).off("mousemove."+this.xf_prop.internal_name),$(document).off("mouseup."+this.xf_prop.internal_name),$(document).off("mouseleave."+this.xf_prop.internal_name)},XF_RESIZE_BOX.prototype._docevent=function(a){this._offdocevent(),$(document).on("mousemove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this,a)),$(document).on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this,a)),$(document).on("mouseleave."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseleave,this,a))},XF_RESIZE_BOX.prototype._offevent=function(){this.xf_resizebox_n.off("mousedown"),this.xf_resizebox_e.off("mousedown"),this.xf_resizebox_s.off("mousedown"),this.xf_resizebox_w.off("mousedown"),this.xf_resizebox_ne.off("mousedown"),this.xf_resizebox_nw.off("mousedown"),this.xf_resizebox_se.off("mousedown"),this.xf_resizebox_sw.off("mousedown")},XF_RESIZE_BOX.prototype._event=function(){this._offevent(),this.xf_resizebox_n.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"n")),this.xf_resizebox_e.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"e")),this.xf_resizebox_s.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"s")),this.xf_resizebox_w.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"w")),this.xf_resizebox_ne.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"ne")),this.xf_resizebox_nw.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"nw")),this.xf_resizebox_se.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"se")),this.xf_resizebox_sw.on("mousedown",$.proxy(this.on_resizebox_mousedown,this,"sw"))},XF_RESIZE_BOX.prototype.makedom=function(){this.is_dom_created||(this.is_dom_created=!0,this.xf_resizebox_n=$('<div class="_xf_resizebox _xf_resizebox_n"/>'),this.xf_resizebox_e=$('<div class="_xf_resizebox _xf_resizebox_e"/>'),this.xf_resizebox_w=$('<div class="_xf_resizebox _xf_resizebox_w"/>'),this.xf_resizebox_s=$('<div class="_xf_resizebox _xf_resizebox_s"/>'),this.xf_resizebox_ne=$('<div class="_xf_resizebox _xf_resizebox_ne"/>'),this.xf_resizebox_nw=$('<div class="_xf_resizebox _xf_resizebox_nw"/>'),this.xf_resizebox_se=$('<div class="_xf_resizebox _xf_resizebox_se"/>'),this.xf_resizebox_sw=$('<div class="_xf_resizebox _xf_resizebox_sw"/>'),this.xf_target_object.append(this.xf_resizebox_n),this.xf_target_object.append(this.xf_resizebox_e),this.xf_target_object.append(this.xf_resizebox_w),this.xf_target_object.append(this.xf_resizebox_s),this.xf_target_object.append(this.xf_resizebox_ne),this.xf_target_object.append(this.xf_resizebox_nw),this.xf_target_object.append(this.xf_resizebox_se),this.xf_target_object.append(this.xf_resizebox_sw),this.xf_protect=new XF_PROTECT(this,this.xf_target_object,{opacity:0,is_use_icon:!1}),this._event())},XF_RESIZE_BOX.prototype.setenable=function(a){var b;this.xf_prop.enable=a,b=a?"block":"none",this.xf_prop.enable&&this.makedom(),this.is_dom_created&&(this.xf_resizebox_n.css("display",b),this.xf_resizebox_e.css("display",b),this.xf_resizebox_w.css("display",b),this.xf_resizebox_s.css("display",b),this.xf_resizebox_ne.css("display",b),this.xf_resizebox_nw.css("display",b),this.xf_resizebox_se.css("display",b),this.xf_resizebox_sw.css("display",b))},XF_RESIZE_BOX.prototype.destroy=function(){this.is_dom_created&&(this._offevent(),this.xf_resizebox_n.remove(),this.xf_resizebox_e.remove(),this.xf_resizebox_w.remove(),this.xf_resizebox_s.remove(),this.xf_resizebox_ne.remove(),this.xf_resizebox_nw.remove(),this.xf_resizebox_se.remove(),this.xf_resizebox_sw.remove())},XF_RESIZE_BOX.prototype.on_resizebox_mousedown=function(a,b){b.preventDefault(),this.xf_prop.enable&&(this.is_resize_move=!0,this._docevent(a),this.xf_prop.on_resize_start&&this.xf_prop.on_resize_start(),this.mousedown_client_x=b.clientX,this.mousedown_client_y=b.clientY,this.mousedown_width=this.xf_target_object.outerWidth(),this.mousedown_height=this.xf_target_object.outerHeight(),this.mousedown_left=this.xf_target_object.position().left,this.mousedown_top=this.xf_target_object.position().top,this.mousedown_right=this.mousedown_left+this.mousedown_width,this.mousedown_bottom=this.mousedown_top+this.mousedown_height,this.xf_protect.showprotect(!0))},XF_RESIZE_BOX.prototype.on_document_mouseleave=function(a,b){this.on_document_mouseup(a,b)},XF_RESIZE_BOX.prototype.on_document_mouseup=function(a,b){this.is_resize_move&&(this._offdocevent(),this.on_document_mousemove(a,b),this.xf_protect.hideprotect(),this.is_resize_move=!1,this.xf_prop.on_resize_end&&this.xf_prop.on_resize_end())},XF_RESIZE_BOX.prototype.on_document_mousemove=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(this.is_resize_move){for(o=b.clientX,p=b.clientY,m=!1,d={},e=a.length,c=0;e>c;c++)switch(f=a.substr(c,1)){case"n":n=this.mousedown_client_y-p,Math.abs(n)>=1&&(l=this.mousedown_top-n,l=Math.max(this.xf_prop.min_y,l),l=Math.min(this.xf_prop.max_y,l),j=this.mousedown_top-l,h=this.mousedown_height+j,h=Math.max(h,this.xf_prop.min_height),j=this.mousedown_height-h,l=this.mousedown_top+j,l==this.mousedown_top&&h==this.mousedown_height||(m=!0,d.top=_xfu.px(l),d.height=_xfu.px(h)));break;case"w":n=this.mousedown_client_x-o,Math.abs(n)>=1&&(k=this.mousedown_left-n,k=Math.max(this.xf_prop.min_x,k),k=Math.min(this.xf_prop.max_x,k),i=this.mousedown_left-k,g=this.mousedown_width+i,g=Math.max(g,this.xf_prop.min_width),i=this.mousedown_width-g,k=this.mousedown_left+i,k==this.mousedown_left&&g==this.mousedown_width||(m=!0,d.left=_xfu.px(k),d.width=_xfu.px(g)));break;case"s":n=this.mousedown_client_y-p,Math.abs(n)>=1&&(h=this.mousedown_height-n,h=Math.max(h,this.xf_prop.min_height),h=Math.min(h,this.xf_prop.max_height),h!=this.mousedown_height&&(m=!0,d.height=_xfu.px(h)));break;case"e":n=this.mousedown_client_x-o,Math.abs(n)>=1&&(g=this.mousedown_width-n,g=Math.max(g,this.xf_prop.min_width),g=Math.min(g,this.xf_prop.max_width),g!=this.mousedown_width&&(m=!0,d.width=_xfu.px(g)))}m&&this.xf_target_object.css(d),this.xf_prop.on_resize_ing&&this.xf_prop.on_resize_ing()}},XF_SCREEN.prototype._init=function(a,b){this.control_kind=XFD_CTRLKIND_NONE,this.object_kind=XFD_OBJKIND_SCREEN,this.xf_create_prop=b,this.is_valid_access=!0,this.browser_height_gap=window.outerHeight-window.innerHeight,this.browser_width_gap=window.outerWidth-window.innerWidth,window.xf_screen=this,this.xf_map=a,$.extend(window.screen,new XF_SCREEN_EXT(this)),this.xf_execution_context=window,this.xf_parent={xf_screen:this,xf_component:null,xf_content:null},this.xf_factory=null,this.xf_window=window,this.xf_protect=null,this.xf_field_selectbox=null,this.xf_combo_selectbox=null,this.xf_date_selectbox=null,this.xf_mainloadstatus=null,this.xf_input_context=null,this.xf_content=null,this.last_control_id=-1,this.is_load_complete=!1,this.is_onload_register_complete=!1,this.is_onloadevent_fired=!1,this.xf_childscreencontainercomponent_arr=[],this.is_popupdestroy_fired=!1,this.is_main_screen=!1,this.is_popup_screen=!1,this.global_module_arr=[],
this.global_xdataset_arr=[],this.id_map={},this.name_map={},this.index_map={},this.portlet_map={},this.link_arr=[],this.attrmap_arr=[],this.curr_attrmap_id="",this.tranmap_arr=[],this.curr_tranmap_id="",this.xtranmap_arr=[],this.traniomap_arr=[],this.xdataset_map={},this.hotkey_map=[],this.js_url_arr=[],this.userheader="",this.xf_main_screen=null,this.is_expired=!1,this.is_event_locked=!1,this.is_event_locked_subscreen=!1,this.parent_tabpanel=null,this.parent_popupbox=null,this.parent_menubox=null,this.container_tabpanel=null,this.portlet_tabpanel=null,this.popup_info=null,this.popup_result="",this.extra_data=null,this.dragarea_left=0,this.dragarea_right=0,this.dragarea_top=0,this.dragarea_bottom=0,this.original_screen_width=0,this.original_screen_height=0,this.is_hidden_area_visible=!1,this.sync_submit_result_info={mapid:"",result:0,recvuserheader:"",recvcode:"",recvmsg:""},this.sync_tran_result_info={mapid:"",result:0,recvuserheader:"",recvcode:"",recvmsg:"",recvdata:""},this.css_arr=[],this.xf_virtual_docbody=null,this.virtual_docbody=null,this.sync_messagebox_info=null,this.sync_modalstate_info=null},XF_SCREEN.prototype._globalready=function(){this._prop(this.xf_create_prop),this._box(),this._dom(),this._global(!1),1==this.is_valid_access&&this._event()},XF_SCREEN.prototype._prop=function(a){this.xf_prop={title:"",description:"",trancode:"",tranheader:"",hidden:!1,screen_help:"",screen_version:"",screen_type:0,screen_rule:"",screen_form:"",accept_drop:!0,screen_watermark:!1,screen_capture:!0,click_setfocus:!1,canvas_width:812,canvas_height:500,width:812,width_type:0,height:500,height_type:0,screencontent_width:0,screencontent_width_type:0,screencontent_height:0,screencontent_height_type:0,back_color:[255,255,255],back_color_opacity:10,back_image:"",back_imagesize:0,back_imagehorzalign:0,back_imagevertalign:0,back_imagefillstyle:0,vertscrollbar_style:1,horzscrollbar_style:1,directory:"/",screenid:"",portlet_name:"",gradient_effect:0,gradient_startcolor:[255,255,255],gradient_endcolor:[225,225,225],docbody_backcolor:[255,255,255],printmediatype:"",topmargin:0,leftmargin:0,LPI:0,CPI:0,print_out_msg:"",print_complete_msg:"",lattice_x:0,lattice_y:0,printscreen:!1,protect_image:"",enable:!0,transparent:!1,name:"",internal_name:"",language:"ko",position:"relative"},_xfu.isfunction(window._xf_beforecreatescreen)&&window._xf_beforecreatescreen(a),void 0===a.protect_image&&void 0!==_xf_param.SCREEN_PROTECT_IMAGE&&(a.protect_image=_xf_param.SCREEN_PROTECT_IMAGE),this.xf_prop.internal_name="_xf_screen_"+a.screenid,this.xf_prop.name=this.xf_prop.internal_name,this.window_id=this.xf_prop.screenid+"_"+_xfu.uuid(),this.event_name_arr=["on_create","on_load","on_activate","on_deactivate","on_destroy","on_size","on_beforetran","on_trancomplete","on_beforesubmit","on_submitcomplete","on_prekeydown","on_keydown","on_keyup","on_click","on_rclick","on_recvcopydata","on_popupload","on_popupdestroy","on_messagebox","on_menuload","on_protecttimeout","on_protectxbutton","on_metaload","on_resourceload","on_scroll","on_beforeprint","on_afterprint","on_beforebrowserprint","on_dropcomplete","on_postmessage","on_portletload"],_xfx.style(this,a),_xfx.propconv(this,this.xf_prop,a),_xfx.propevent(this,this.xf_prop,a,this.event_name_arr),$.extend(this.xf_prop,a),this.original_screen_width=this.xf_prop.width,this.original_screen_height=this.xf_prop.height,this.docbody_width=-1,this._css(a)},XF_SCREEN.prototype._css=function(a){_xfx.propcss(this,a,this.css_arr,["position","back_imagefillstyle","back_imagesize"]),_xfx.propbackcolor(this,a,this.css_arr),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),void 0!==a.docbody_backcolor&&_xfc.basic("docbody_backcolor",this.xf_prop.docbody_backcolor,!0,$(document.body)),1==_xfu.ismobile()?(this.css_arr.push("width:100%;"),this.css_arr.push("height:100%;"),this.css_arr.push("overflow:auto;")):(0==this.xf_prop.width_type?(this.css_arr.push("width:100%;"),this.css_arr.push("min-width:"+_xfu.px(this.xf_prop.width)+";")):1==this.xf_prop.width_type?this.css_arr.push("width:",_xfu.px(this.xf_prop.width)+";"):2==this.xf_prop.width_type&&this.css_arr.push("width:100%;"),0==this.xf_prop.height_type?(this.css_arr.push("height:100%;"),this.css_arr.push("min-height:"+_xfu.px(this.xf_prop.height)+";")):1==this.xf_prop.height_type?this.css_arr.push("height:",_xfu.px(this.xf_prop.height)+";"):2==this.xf_prop.height_type&&this.css_arr.push("height:100%;"))},XF_SCREEN.prototype._box=function(){var a=[];this.xf_screen_wrapper=$(document.body),0==_xfu.ismobile()&&(_xfc.basic("horzscrollbar_style",this.xf_prop.horzscrollbar_style,!0,this.xf_screen_wrapper),_xfc.basic("vertscrollbar_style",this.xf_prop.vertscrollbar_style,!0,this.xf_screen_wrapper)),this.xf_factory.xf_param.SCREEN_FORMTAG_USE===!0?(a.push('<form action="" method="post">'),a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'" '),a.push(' class="_xf_screen _xfd_text_multiline"'),a.push(' style="'),a.push(this.css_arr.join("")),a.push('"></div>'),a.push("</form>"),this.xf_form_object=$(a.join("")),this.xf_screen_wrapper.append(this.xf_form_object),this.xf_object=this.xf_form_object.children("._xf_screen")):(a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'" '),a.push(' class="_xf_screen _xfd_text_multiline"'),a.push(' style="'),a.push(this.css_arr.join("")),a.push('"></div>'),this.xf_object=$(a.join("")),this.xf_screen_wrapper.append(this.xf_object)),this.xf_content=new XF_CONTENT(this,this.xf_object)},XF_SCREEN.prototype._dom=function(){this.xf_tooltip=$('<span class="_xf_tooltip"></span>'),$("body").append(this.xf_tooltip),this.xf_protect=new XF_PROTECT(this,$(document.body),{image:this.xf_prop.protect_image})},XF_SCREEN.prototype.on_context_click=function(a){var b,c;if("copy"==a)document.execCommand("copy");else if("cut"==a)document.execCommand("cut");else if("paste"==a){if(window._xf5_paste)return window._xf5_paste();window.navigator.clipboard?(b=this,window.navigator.clipboard.readText().then(function(a){c=b.xf_input_context.xf_component,c&&c._on_input_paste&&c._on_input_paste(a)})):document.execCommand("paste")}},XF_SCREEN.prototype._global=function(a){var b,c,d,e,f,g,h,i,j,k;if(a&&(this.xf_main_screen=this._getmainxfscreen()),this.xf_main_screen===this?(a&&(this.is_main_screen=!0),a&&(this.xf_factory=new XF_FACTORY(this),this.xf_factory._register(this.xf_window),this.xf_factory.xf_param.MAINLOADSTATUS_SHOW&&(k=[],k.push("<div"),k.push(' class="_xfe_boxshadow_md _xfd_pos_horzcenter _xfd_mainloadstatus"'),k.push(' style="'),k.push("z-index:99999999;"),k.push('"></div>'),this.xf_mainloadstatus=$(k.join("")),$(document.body).append(this.xf_mainloadstatus)),this.addmainloadstatus(factory._userlang("엔진 오브젝트 생성 완료","Create Engine Object Complete.")),this.addmainloadstatus(factory._userlang("글로벌 자원 로딩 시작","Start Global Resource Loading.")),this._loadlibsource())):a&&(this.is_main_screen=!1,this.xf_factory=new XF_FACTORY(this,this.xf_main_screen.xf_factory),this.xf_factory._register(this.xf_window),this.global_style=this.xf_main_screen.global_style,this.global_xdataset_arr=this.xf_main_screen.global_xdataset_arr,this._registerglobalxdataset(this.xf_window),this.global_module_arr=this.xf_main_screen.global_module_arr,this._registerglobalmodule()),!a){if(_xfu.isfunction(window._xf_beforeloadmainscreen)&&(b=window._xf_beforeloadmainscreen(this.getscreenurl()),b===!1))return void(this.is_valid_access=!1);for(this.xf_field_selectbox=new XF_SCREEN_FIELD_SELECTBOX(this),this.xf_combo_selectbox=new XF_SCREEN_COMBO_SELECTBOX(this),this.xf_date_selectbox=new XF_SCREEN_DATE_SELECTBOX(this),this.xf_color_selectbox=new XF_SCREEN_COLOR_SELECTBOX(this),c={id:this.xf_prop.internal_name+"_context_menu",menu_width:90,callback:$.proxy(this.on_context_click,this)},this.xf_input_context=new XF_CONTEXT(this,c),d=[{id:"copy",icon:"copy",label:factory._userlang("복사","Copy")},{id:"cut",icon:"cut",label:factory._userlang("잘라내기","Cut")},{id:"paste",icon:"paste",label:factory._userlang("붙여넣기","Paste")},{type:"separator"},{id:"close",icon:"close",label:factory._userlang("닫기","Close")}],e=d.length,f=0;e>f;f++)for(g=this.xf_input_context.newmenu(d[f]),d[f]=g,h=g.sub_menu_arr.length,i=0;h>i;i++)j=xf_context.newmenu(g.sub_menu_arr[i]),g.sub_menu_arr[i]=j;this.xf_input_context.setmenu(d),this.parent_tabpanel=factory._gettablinkpanel(window.xframe_screen_key),this.parent_tabpanel||(this.parent_tabpanel=window.xframe_parent_tabpanel),this.parent_tabpanel&&this.parent_tabpanel.is_event_locked_subscreen&&(this.is_event_locked=this.parent_tabpanel.is_event_locked_subscreen,this.is_event_locked_subscreen=this.parent_tabpanel.is_event_locked_subscreen)}},XF_SCREEN.prototype._offdocevent=function(){var a;a=$(window.document),a.off("mousemove."+this.xf_prop.internal_name),a.off("mouseup."+this.xf_prop.internal_name),a.off("mouseleave."+this.xf_prop.internal_name),a.off("touchmove."+this.xf_prop.internal_name),a.off("touchend."+this.xf_prop.internal_name)},XF_SCREEN.prototype._docevent=function(){var a;this._offdocevent(),a=$(window.document),a.on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),a.on("mouseleave."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),a.on("mousemove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this)),a.on("touchend."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),a.on("touchmove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this))},XF_SCREEN.prototype._offevent=function(){var a,b;$(document).off("keydown."+this.xf_prop.internal_name),_xfj.offevent(this.xf_object,["keydown","keyup","mousedown","drop","dragover","on_destroy"]),b=$(document.body),b.off("click."+this.xf_prop.internal_name),b.off("contextmenu."+this.xf_prop.internal_name),b.off("help."+this.xf_prop.internal_name),a=$(window),a.off("focus."+this.xf_prop.internal_name),a.off("blur."+this.xf_prop.internal_name),a.off("message."+this.xf_prop.internal_name),0==_xfu.ismobile()?a.off("scroll."+this.xf_prop.internal_name):this.xf_object.off("scroll."+this.xf_prop.internal_name),a.off("beforeprint."+this.xf_prop.internal_name),a.off("resize."+this.xf_prop.internal_name),a.off("beforeunload."+this.xf_prop.internal_name)},XF_SCREEN.prototype._event=function(){var a,b;b=$(window),a=$(document.body),this._offevent(),$(document).on("keydown."+this.xf_prop.internal_name,$.proxy(this.on_document_keydown,this)),this.xf_object.on("keydown",$.proxy(this.on_object_keydown,this)),this.xf_object.on("keyup",$.proxy(this.on_object_keyup,this)),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("drop",$.proxy(this.on_object_drop,this)),this.xf_object.on("dragover",$.proxy(this.on_object_dragover,this)),this.xf_object.on("on_destroy",$.proxy(this.on_object_destroy,this)),a.on("click."+this.xf_prop.internal_name,$.proxy(this.on_body_click,this)),a.on("contextmenu."+this.xf_prop.internal_name,$.proxy(this.on_body_contextmenu,this)),a.on("help."+this.xf_prop.internal_name,$.proxy(this.on_body_help,this)),b.on("focus."+this.xf_prop.internal_name,$.proxy(this.on_window_focus,this)),b.on("blur."+this.xf_prop.internal_name,$.proxy(this.on_window_blur,this)),0==_xfu.ismobile()?b.on("scroll."+this.xf_prop.internal_name,$.proxy(this.on_window_scroll,this)):this.xf_object.on("scroll."+this.xf_prop.internal_name,$.proxy(this.on_window_scroll,this)),this.xf_virtual_docbody&&this.xf_virtual_docbody.on("scroll."+this.xf_prop.internal_name,$.proxy(this.on_content_scroll,this)),b.on("message."+this.xf_prop.internal_name,$.proxy(this.on_window_message,this)),b.on("beforeprint."+this.xf_prop.internal_name,$.proxy(this.on_window_beforeprint,this)),b.on("resize."+this.xf_prop.internal_name,$.proxy(this.on_window_resize,this))},XF_SCREEN.prototype._create=function(){switch(factory_xf_param.IS_INPUT_RTL&&this.xf_object.css("direction","rtl"),this.showscreen(!this.xf_prop.hidden),window.xframe_screen_kind){case XFD_SCREEN_MODALPOPUP:this.parent_popupbox=factory.xf_main_factory.popup_map[window.xframe_popup_name].parent_popupbox,this.is_popup_screen=factory.xf_main_factory.popup_map[window.xframe_popup_name].is_popup_screen,this.extra_data=factory.xf_main_factory.popup_map[window.xframe_popup_name].popup_info.extra_data,this.popup_info=factory.xf_main_factory.popup_map[window.xframe_popup_name].popup_info;break;case XFD_SCREEN_MODELESSPOPUP:this.is_popup_screen=factory.xf_main_factory.popup_map[window.xframe_popup_name].is_popup_screen,this.extra_data=factory.xf_main_factory.popup_map[window.xframe_popup_name].popup_info.extra_data,this.popup_info=factory.xf_main_factory.popup_map[window.xframe_popup_name].popup_info,$(window).on("unload",$.proxy(factory._on_popup_unload,factory,window,this.popup_info));break;case XFD_SCREEN_TABLINK:this.parent_tabpanel||(this.parent_tabpanel=factory._gettablinkpanel(window.xframe_screen_key),this.parent_tabpanel||(this.parent_tabpanel=window.xframe_parent_tabpanel)),this.parent_tabpanel?this.extra_data=this.parent_tabpanel.xf_item.xf_prop.extra_data:alert("XF_SCREEN:_create> this.parent_tabpanel is undefined");break;case XFD_SCREEN_MENU:this.parent_menubox=factory.xf_main_factory.menu_map[window.xframe_popup_name],this.extra_data=this.parent_menubox.xf_prop.extra_data;break;case XFD_SCREEN_SLIDELINK:this.parent_slideitem=window.xframe_parent_slideitem,this.extra_data=this.parent_slideitem.xf_prop.extra_data}this.container_tabpanel&&(this.extra_data=this.container_tabpanel.xf_item.xf_prop.extra_data),this._callcomponentcreate(),this.is_load_complete=!0,this.applyattributemap(this.curr_attrmap_id,!1,!1,!1),this.applytranmap(this.curr_tranmap_id,!1,!1,!1),this._iscontainerscreen()?this.on_screen_create():_xfu.async({func:this.on_screen_create,context:this})},XF_SCREEN.prototype._callcomponentcreate=function(){var a,b;for(a=[],_xfx.register_component_arr(this.xf_content),this.is_onload_register_complete=!0,$.each(this.id_map,function(b,c){c.control_kind==XFD_CTRLKIND_LISTVIEW&&a.push(c);var d,e,f;if(c instanceof Array)for(e=c.length,d=0;e>d;d++)f=c[d],f._create(),f.xf_prop.hidden&&f.setvisible(!1);else c._create(),c.xf_prop.hidden&&c.setvisible(!1)}),b=0;b<a.length;b++)a[b]._refresh()},XF_SCREEN.prototype._styledata=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(l="",d=a.split("\r\n"),e=d.length,b=0;e>b;b++)if(f=_xfu.trim(d[b]),0!=f.length)if(f.indexOf("#id=")>=0)l=f.substr("#id=".length),this.global_style[l]={},this.global_style[l].id=l;else if(f.indexOf("#comment=")>=0)m=f.substr("#comment=".length),this.global_style[l].comment=m;else if(f.indexOf("#component=")>=0)n=f.substr("#component=".length),this.global_style[l].component=parseInt(n,10);else for(this.global_style[l].xf_prop={},g=f.split(""),h=g.length,c=0;h>c;c++)i=g[c],j=i.split(""),k=j.length,2>k||(this.global_style[l].xf_prop[j[0]]=j[1])},XF_SCREEN.prototype._fireoncreate=function(){var a;return this._iscontainerscreen()?(a=this._getcontainereventfunc("on_create"),void(a&&a())):factory._fireevent({xf_component:this,event_name:"on_create"})},XF_SCREEN.prototype._fireonload=function(){var a;if(this._iscontainerscreen())return this.is_onloadevent_fired=!0,a=this._getcontainereventfunc("on_load",!1),void(a&&a());switch(window.xframe_screen_kind){case XFD_SCREEN_MODALPOPUP:this.parent_popupbox&&this.parent_popupbox.on_screen_load(this);break;case XFD_SCREEN_MODELESSPOPUP:this.popup_info&&this.popup_info.promise_resolve?(this.popup_info.promise_resolve(!0),this.popup_info.promise_resolve=null):this.popup_info&&void 0!==this.popup_info.parent_screen&&null!==this.popup_info.parent_screen&&this.popup_info.parent_screen.xf_screen._fireonpopupload(this,this.popup_info.name);break;case XFD_SCREEN_TABLINK:this.parent_tabpanel&&this.parent_tabpanel.on_screen_load(this);break;case XFD_SCREEN_MENU:this.parent_menubox&&this.parent_menubox.on_screen_load();break;case XFD_SCREEN_SLIDELINK:this.parent_slideitem&&this.parent_slideitem.on_screen_load(this)}void 0!==this.is_onloadevent_fired&&0!=this.is_onloadevent_fired||(this.is_onloadevent_fired=!0,0==this.is_event_locked&&factory._fireevent({xf_component:this,event_name:"on_load"}),this._firetabitemcreateevent(),this._fireonloadafter())},XF_SCREEN.prototype._fireonloadafter=function(){switch(window.xframe_screen_kind){case XFD_SCREEN_TABLINK:this.parent_tabpanel&&this.parent_tabpanel.on_screen_loadafter?this.parent_tabpanel.on_screen_loadafter(this):this.portlet_tabpanel&&this.portlet_tabpanel.on_screen_loadafter&&this.portlet_tabpanel.on_screen_loadafter(this)}},XF_SCREEN.prototype._firetabitemcreateevent=function(){var a,b,c;if(0==factory_xf_param.EVENTFIRE_BEFORE_SCREENONLOAD)for(c=this.xf_childscreencontainercomponent_arr.length,b=0;c>b;b++)a=this.xf_childscreencontainercomponent_arr[b],a._fireallitemcreateevent()},XF_SCREEN.prototype._fireonactivate=function(){var a;return a=this._getcontainereventfunc("on_activate"),a&&a(),factory._fireevent({xf_component:this,event_name:"on_activate",is_fire_async:!0})},XF_SCREEN.prototype._fireondeactivate=function(){var a;return a=this._getcontainereventfunc("on_deactivate"),a&&a(),factory._fireevent({xf_component:this,event_name:"on_deactivate",is_fire_async:!0})},XF_SCREEN.prototype._fireondestroy=function(){var a,b;return a=factory._fireevent({xf_component:this,event_name:"on_destroy",default_value:1}),0==a?a:(b=this._getcontainereventfunc("on_destroy"),b&&(a=b()),a)},XF_SCREEN.prototype._fireonsize=function(a,b){var c;return c=this._getcontainereventfunc("on_size"),c&&c(a,b),factory._fireevent({xf_component:this,event_name:"on_size",is_fire_async:!0},a,b)},XF_SCREEN.prototype._fireonscroll=function(a,b,c,d,e){var f;return this._iscontentscreen()&&e?(f=this._getcontainereventfunc("on_scroll"))?f(a,b,c,d):void 0:factory._fireevent({xf_component:this,event_name:"on_scroll",is_fire_async:!0},a,b,c,d)},XF_SCREEN.prototype._fireoncontainerscroll=function(a,b,c,d){var e;e=this._getcontainereventfunc("on_scroll"),e&&e(a,b,c,d)},XF_SCREEN.prototype._fireonprekeydown=function(a,b,c,d,e){var f,g;return f=factory._fireevent({xf_component:this,event_name:"on_prekeydown",default_value:0},a,b,c,d,e),1==f?f:(g=this._getcontainereventfunc("on_prekeydown"),g&&(f=g(a,b,c,d,e)),f)},XF_SCREEN.prototype._fireonkeydown=function(a,b,c,d,e){var f,g;return f=factory._fireevent({xf_component:this,event_name:"on_keydown",default_value:0},a,b,c,d,e),1==f?f:(g=this._getcontainereventfunc("on_keydown"),g&&(f=g(a,b,c,d,e)),f)},XF_SCREEN.prototype._fireonkeyup=function(a,b,c,d,e){var f,g;return f=factory._fireevent({xf_component:this,event_name:"on_keyup",default_value:0},a,b,c,d,e),1==f?f:(g=this._getcontainereventfunc("on_keyup"),g&&(f=g(a,b,c,d,e)),f)},XF_SCREEN.prototype._fireonbeforesubmit=function(a){var b,c;return c=this._getcontainereventfunc("on_beforesubmit"),c&&(b=c(a,!0,1),1!=b)?b:(b=factory._fireevent({xf_component:this,event_name:"on_beforesubmit",default_value:1},a),1==b?c&&(b=c(a,!1,b)):c&&c(a,!1,b),b)},XF_SCREEN.prototype._fireonsubmitcomplete=function(a,b,c,d,e){var f,g;f=this._getcontainereventfunc("on_submitcomplete"),g=this,setTimeout(function(){f&&f(a,b,c,d,e,!0),factory._fireevent({xf_component:g,event_name:"on_submitcomplete",default_value:0},a,b,c,d,e),f&&f(a,b,c,d,e,!1)},0)},XF_SCREEN.prototype._fireonbeforetran=function(a){var b,c;return c=this._getcontainereventfunc("on_beforetran"),c&&(b=c(a,!0,1),1!=b)?b:(b=factory._fireevent({xf_component:this,event_name:"on_beforetran",default_value:1},a),1==b?c&&(b=c(a,!1,b)):c&&c(a,!1,b),b)},XF_SCREEN.prototype._fireontrancomplete=function(a,b,c,d,e,f){var g,h;g=this._getcontainereventfunc("on_trancomplete"),h=this,setTimeout(function(){g&&g(a,b,c,d,e,f,!0),factory._fireevent({xf_component:h,event_name:"on_trancomplete",default_value:0},a,b,c,d,e,f),g&&g(a,b,c,d,e,f,!1)},0)},XF_SCREEN.prototype._fireonmessagebox=function(a,b){var c,d;return this.sync_messagebox_info&&this.sync_messagebox_info.promise_resolve?(d=this,void setTimeout(function(){d.sync_messagebox_info.promise_resolve(b),d.sync_messagebox_info=null},0)):(c=this._getcontainereventfunc("on_messagebox"),c&&c(a,b),void factory._fireevent({xf_component:this,event_name:"on_messagebox",is_fire_async:!0},a,b))},XF_SCREEN.prototype._fireonclick=function(a,b){var c;return factory.registermouseevent(this,event),c=this._getcontainereventfunc("on_click"),c&&c(a,b,a,b),factory._fireevent({xf_component:this,event_name:"on_click",is_fire_async:!0})},XF_SCREEN.prototype._fireonrclick=function(a,b){var c;return factory.registermouseevent(this,event),c=this._getcontainereventfunc("on_rclick"),c&&c(a,b,a,b),factory._fireevent({xf_component:this,event_name:"on_rclick",is_fire_async:!0},a,b,a,b)},XF_SCREEN.prototype._fireonbeforebrowserprint=function(){var a;a=this._getcontainereventfunc("on_beforebrowserprint"),a&&a(),factory._fireevent({xf_component:this,event_name:"on_beforebrowserprint"})},XF_SCREEN.prototype._fireonbeforeprint=function(){var a,b;return a=factory._fireevent({xf_component:this,event_name:"on_beforeprint",default_value:1}),0===a?a:(b=this._getcontainereventfunc("on_beforeprint"),b&&(a=b()),a)},XF_SCREEN.prototype._fireonafterprint=function(){var a;return a=this._getcontainereventfunc("on_afterprint"),a&&a(),factory._fireevent({xf_component:this,event_name:"on_afterprint",is_fire_async:!0})},XF_SCREEN.prototype._fireonpopupload=function(a,b){var c;return c=this._getcontainereventfunc("on_popupload"),c&&c(),factory._fireevent({xf_component:this,event_name:"on_popupload",is_fire_async:!0},a,b)},XF_SCREEN.prototype._fireondropcomplete=function(a,b){var c;return c=this._getcontainereventfunc("on_dropcomplete"),c&&c(a,b),factory._fireevent({xf_component:this,event_name:"on_dropcomplete",is_fire_async:!0},a,b)},XF_SCREEN.prototype._fireonpostmessage=function(a,b,c){var d;return d=this._getcontainereventfunc("on_postmessage"),d&&d(a,b,c),factory._fireevent({xf_component:this,event_name:"on_postmessage",is_fire_async:!0},a,b,c)},XF_SCREEN.prototype._getcontainereventfunc=function(a,b){var c;return void 0===b&&(b=!0),b&&!this._iscontentscreen()?null:(c="screencontainer_"+a,_xfu.isfunction(window[c])?window[c]:null)},XF_SCREEN.prototype._iscontainerscreen=function(){return this.xf_prop.screen_type==_XFD_SCREENTYPE_CONTAINER},XF_SCREEN.prototype._iscontentscreen=function(){return this.xf_prop.screen_type==_XFD_SCREENTYPE_CONTENT},XF_SCREEN.prototype._addloadedjsurl=function(a){this.js_url_arr.push(a)},XF_SCREEN.prototype._setdatacontrolvalue=function(a,b,c){var d;switch(void 0===c&&(c=!1),void 0!==b&&null!=b||(b=a.getdefaultvalue()),d=a.getcontrolkind()){case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_SPINDATE:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_RADIOBUTTON:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_SELECTBOX:case XFD_CTRLKIND_DATE:a.settextex(b,c,!0);break;case XFD_CTRLKIND_COMBOBOX:a.setselectedcodeex(b,c,!0);break;case XFD_CTRLKIND_PAGINGBAR:a.setcurpageex(b,c)}},XF_SCREEN.prototype._getattrmap=function(a){var b,c;if(0==a.length)return null;for(c=this.getattrmapcount(),b=0;c>b;b++)if(this.attrmap_arr[b].xf_prop.id==a)return this.attrmap_arr[b];return null},XF_SCREEN.prototype._gettranmap=function(a){var b,c;for(c=this.gettranmapcount(),b=0;c>b;b++)if(this.tranmap_arr[b].xf_prop.fcode==a)return this.tranmap_arr[b];return null},XF_SCREEN.prototype._getmainxfscreen=function(){var a,b,c;b=window;try{for(c=0;100>c;c++){if(a=b.parent,a===b){if(null==b.opener)return b.xf_screen;a=b.opener}if(void 0===a.xf_screen)return b.xf_screen;b=a}}catch(d){}return b.xf_screen},XF_SCREEN.prototype.getname=function(){return this.xf_prop.screenid},XF_SCREEN.prototype._showtooltip=function(a,b){this.xf_tooltip.html(a+'<span class="_xf_tooltip_arrow"></span>'),this.xf_tooltip.stop(!0,!0).fadeIn(150)},XF_SCREEN.prototype._movetooltip=function(a,b){this.xf_tooltip.css({"z-index":"999",left:b.clientX-8,top:b.clientY+30})},XF_SCREEN.prototype._hidetooltip=function(a,b){this.xf_tooltip.stop(!0,!0).fadeOut(150)},XF_SCREEN.prototype._addlink=function(a){this.link_arr.push(a)},XF_SCREEN.prototype._addattrmap=function(a){a.xf_prop.id=_xfu.trim(a.xf_prop.id),0!=a.xf_prop.id.length&&(this.attrmap_arr.push(a),1==a.xf_prop.defaultmap&&(this.curr_attrmap_id=a.xf_prop.id))},XF_SCREEN.prototype._addtranmap=function(a){this.tranmap_arr.push(a),a.xf_prop.defaultmap&&(this.curr_tranmap_id=a.xf_prop.fcode)},XF_SCREEN.prototype._addtraniomap=function(a){this.traniomap_arr.push(a)},XF_SCREEN.prototype._getxtranmap=function(a){var b,c;for(c=this.xtranmap_arr.length,b=0;c>b;b++)if(this.xtranmap_arr[b].xf_prop.id==a)return this.xtranmap_arr[b];return null},XF_SCREEN.prototype._gettraniomap=function(a){var b,c;for(c=this.traniomap_arr.length,b=0;c>b;b++)if(this.traniomap_arr[b].xf_prop.id==a)return this.traniomap_arr[b];return null},XF_SCREEN.prototype._getxtds=function(a,b){var c;return c=this._getxtranmap(a),null===c?null:c.getxtds(b)},XF_SCREEN.prototype.on_submit_complete=function(a,b){return function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(l=this._getxtranmap(a)){if(l.is_processing=!1,l.time_after_data_recv=new Date,e=1,f="",g="",h="",factory_xf_param.XTRAN_DATALOG>=1&&(factory.consoleprint("-------------------------------------------"),factory.consoleprint("RECV DATA"),factory.consoleprint("XTRANMAP_ID = "+a),factory.consoleprint(c.responseText),factory.consoleprint("-------------------------------------------")),200!=c.status)e=-1,h=c.status+":"+c.statusText;else{try{"json"==factory_xf_param.XTRAN_DATAFORMAT.toLowerCase()?(m=window.JSON.parse(c.responseText),factory_xf_param.XTRAN_JSONRECVDATAFUNC.length>0&&(k=factory_xf_param.XTRAN_JSONRECVDATAFUNC.split("."),1==k.length&&_xfu.isfunction(window[k[0]])?m=window[k[0]](this,a,m,c.responseText):2==k.length&&_xfu.isfunction(window[k[0]][k[1]])&&(m=window[k[0]][k[1]](this,a,m,c.responseText)))):"xml"==factory_xf_param.XTRAN_DATAFORMAT.toLowerCase()&&(factory_xf_param.XTRAN_XMLRECVDATAFUNC.length>0?(k=factory_xf_param.XTRAN_XMLRECVDATAFUNC.split("."),1==k.length&&_xfu.isfunction(window[k[0]])?(m=this._xtranrecvjsondata(a),window[k[0]](this,a,m,c.responseText)):2==k.length&&_xfu.isfunction(window[k[0]][k[1]])?(m=this._xtranrecvjsondata(a),window[k[0]][k[1]](this,a,m,c.responseText)):m=this._xtran_xml2json(c.responseText)):m=this._xtran_xml2json(c.responseText)),f=m.header.userheader,g=m.header.msg_code,h=m.header.msg_content,e=_xfu["int"](m.header.result)}catch(A){g=A.message,h=c.responseText,e=0}if(1==e)for(n=m.datasets.length,o=0;n>o;o++)if(s=m.datasets[o],t=s.column_count,i=this.getxdataset(s.id),null!=i||(i=factory.getglobalxdataset(s.id),null!=i)){for(r=XFD_XDATASET_TRAN_NONE,p=0;p<l.xf_xtds_arr.length;p++)if(l.xf_xtds_arr[p].id==s.id){r=l.xf_xtds_arr[p].out_op;break}if(r!=XFD_XDATASET_TRAN_NONE){if(0==i.getrowcount()&&(r=XFD_XDATASET_TRAN_DELETE),r==XFD_XDATASET_TRAN_DELETE&&i._initxdataset(!1,!1),r==XFD_XDATASET_TRAN_UPDATE){for(x=0,s.xf_xdataset_column_arr=[],u=0;t>u;u++)v=s.column_data_arr[u],j=s.column_name_arr[u],void 0!==v&&void 0!==j&&(s.xf_xdataset_column_arr[u]=i._getxdatasetcolumnbyname(XFD_XDATASET_COLUMN_DATA,j),null===s.xf_xdataset_column_arr[u]&&(i._addcolumn(XFD_XDATASET_COLUMN_DATA,j,"",0,!1,null),s.xf_xdataset_column_arr[u]=i._getxdatasetcolumnbyname(XFD_XDATASET_COLUMN_DATA,j),null===s.xf_xdataset_column_arr[u]&&(s.xf_xdataset_column_arr[u]=void 0)));for(q=0;q<s.row_count;q++)if(w=s.row_info_arr[q],y=!1,void 0!==w&&void 0!==w.row_key&&(w.row_key=parseInt(w.row_key,10),0==isNaN(w.row_key)&&-1!=w.row_key&&w.row_key<i.getrowcount()&&(y=!0)),1==y)for(u=0;t>u;u++)void 0!==s.xf_xdataset_column_arr[u]&&(v=s.column_data_arr[u],s.xf_xdataset_column_arr[u].updatecolumnvalue(w.row_key,v[q]));else for(x++,u=0;t>u;u++)void 0!==s.xf_xdataset_column_arr[u]&&(v=s.column_data_arr[u],s.xf_xdataset_column_arr[u].addcolumnvalue(v[q]));i._adddatarowcount(x,XFD_ROWOP_NONE)}else{for(u=0;t>u;u++)v=s.column_data_arr[u],j=s.column_name_arr[u],void 0!==v&&void 0!==j&&(z=i._getcolumn(XFD_XDATASET_COLUMN_DATA,j),-1==z&&i._addcolumn(XFD_XDATASET_COLUMN_DATA,j,"",0,!1,null),r==XFD_XDATASET_TRAN_DELETE?i._setcolumnvaluearr(XFD_XDATASET_COLUMN_DATA,j,v):r==XFD_XDATASET_TRAN_APPEND&&i._addcolumnvaluearr(XFD_XDATASET_COLUMN_DATA,j,v));r==XFD_XDATASET_TRAN_DELETE?i._setdatarowcount(s.row_count,XFD_ROWOP_NONE):r==XFD_XDATASET_TRAN_APPEND&&i._adddatarowcount(s.row_count,XFD_ROWOP_NONE)}r==XFD_XDATASET_TRAN_DELETE||r==XFD_XDATASET_TRAN_UPDATE?i._fireevent(XFD_XDATASET_EVENT_DATA_LOAD):r==XFD_XDATASET_TRAN_APPEND&&i._fireevent(XFD_XDATASET_EVENT_DATA_APPEND,{xdataset_append_row_count:s.row_count})}}}l.time_after_data_process=new Date,0==b?(this.sync_submit_result_info.result=e,this.sync_submit_result_info.recvuserheader=f,this.sync_submit_result_info.recvcode=g,this.sync_submit_result_info.recvmsg=h):this._fireonsubmitcomplete(a,e,f,g,h),l.time_after_callback_return=new Date,_xf_param.CONSOLETRACE_SHOWTRAN===!0&&factory.consoleprinttran(this,a,l)}}},XF_SCREEN.prototype.on_tran_complete=function(a,b){return function(c,d){var e,f,g,h,i,j;j=this._gettranmap(a),j&&(j.is_processing=!1,j.time_after_data_recv=new Date,e=1,f="",g=_xfu.str(c.status),h="",i="",200!=c.status?(e=-1,h=c.status+":"+c.statusText):(e=1,i=c.responseText),j.time_after_data_process=new Date,b?this._fireontrancomplete(a,e,f,g,h,i):(this.sync_tran_result_info.result=e,this.sync_tran_result_info.recvuserheader=f,this.sync_tran_result_info.recvcode=g,this.sync_tran_result_info.recvmsg=h,this.sync_tran_result_info.recvdata=i),j.time_after_callback_return=new Date,_xf_param.CONSOLETRACE_SHOWTRAN===!0&&factory.consoleprinttran(this,a,j))}},XF_SCREEN.prototype._findpopup=function(a){return factory.xf_main_factory.popup_map[a]},XF_SCREEN.prototype._getwindow=function(){return this.xf_window},XF_SCREEN.prototype._getfieldselectbox=function(){return this.xf_field_selectbox},XF_SCREEN.prototype._getcomboselectbox=function(){return this.xf_combo_selectbox},XF_SCREEN.prototype._getcolorselectbox=function(){return this.xf_color_selectbox},XF_SCREEN.prototype._getdateselectbox=function(){return this.xf_date_selectbox},XF_SCREEN.prototype._getinputcontext=function(){return this.xf_input_context},XF_SCREEN.prototype._hideinputcontext=function(){this.xf_input_context&&this.xf_input_context.hide()},XF_SCREEN.prototype._getinstancearraybyname=function(a){var b;return b=this.xf_content.xf_execution_context[a],void 0===b?null:b instanceof Array==0?null:b},XF_SCREEN.prototype._get_popup_index=function(a){var b,c=-1;for(b=0;b<this.xf_factory.xf_main_factory.popup_name_arr.length;b++)if(this.xf_factory.xf_main_factory.popup_name_arr[b]==a){c=b;break}return c},XF_SCREEN.prototype._register_hotkey=function(a){a.xf_prop.hot_key>0&&(this.hotkey_map[a.xf_prop.hot_key]=a)},XF_SCREEN.prototype._newcontrolid=function(){return this.last_control_id++,this.last_control_id},XF_SCREEN.prototype.on_msgbox_click=function(a,b){this._fireonmessagebox(a,b)},XF_SCREEN.prototype._xtran_xml2json=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(i={},j=factory.xmlparse(a),i.header={},k=factory.xmlfind(j,"xdataset5 > header"),l=factory.xmlchildren(k,"*"),factory.xmljson($.makeArray(l),i.header),i.datasets=[],m=factory.xmlfind(j,"xdataset5 > dataset_arr > dataset"),f=m.length,b=0;f>b;b++){for(n=m[b],h={},factory.xmlchildrenjson(n,["id","desc","io","row_count","column_count"],h),h.column_name_arr=[],o=factory.xmlfind(n,"column_name_arr > column_name"),e=o.length,c=0;e>c;c++)h.column_name_arr.push(factory.xmltext(o[c]));for(h.row_info_arr=[],p=factory.xmlfind(n,"row_info_arr > row_info"),e=p.length,c=0;e>c;c++)h.row_info_arr.push(factory.xmlchildrenjson(p[c],["row_index","row_key","row_op"]));for(h.column_info_arr=[],q=factory.xmlfind(n,"column_info_arr > column_info"),e=q.length,c=0;e>c;c++)h.column_info_arr.push(factory.xmlchildrenjson(q[c],["id","desc","length"]));for(h.column_data_arr=[],r=factory.xmlfind(n,"column_data_arr > column_data"),e=r.length,c=0;e>c;c++)for(h.column_data_arr[c]=[],s=factory.xmlchildren(r[c],"column_value"),g=s.length,
d=0;g>d;d++)h.column_data_arr[c].push(factory.xmltext(s[d]));i.datasets.push(h)}return i},XF_SCREEN.prototype._xtran_json2xml=function(a){var b,c,d,e,f,g;for(b=[],b.push('<?xml version="1.0" encoding="UTF-8"?>'),b.push("<xdataset5>"),b.push("<header>"),b.push(_xfu.xml(a.header)),b.push("</header>"),b.push("<dataset_arr>"),c=a.datasets.length,e=0;c>e;e++){for(b.push("<dataset>"),g=a.datasets[e],b.push(_xfu.xml("id",g.id)),b.push(_xfu.xml("desc",g.desc)),b.push(_xfu.xml("io",g.io)),b.push(_xfu.xml("row_count",g.row_count)),b.push("<row_info_arr>"),d=g.row_info_arr.length,f=0;d>f;f++)b.push("<row_info>"),b.push(_xfu.xml(g.row_info_arr[f])),b.push("</row_info>");for(b.push("</row_info_arr>"),b.push(_xfu.xml("column_count",g.column_count)),b.push("<column_name_arr>"),b.push(_xfu.xml("column_name",g.column_name_arr)),b.push("</column_name_arr>"),b.push("<column_info_arr>"),d=g.column_info_arr.length,f=0;d>f;f++)b.push("<column_info>"),b.push(_xfu.xml(g.column_info_arr[f])),b.push("</column_info>");for(b.push("</column_info_arr>"),b.push("<column_data_arr>"),d=g.column_data_arr.length,f=0;d>f;f++)b.push("<column_data>"),b.push(_xfu.xml("column_value",g.column_data_arr)),b.push("</column_data>");b.push("</column_data_arr>"),b.push("</dataset>")}return b.push("</dataset_arr>"),b.push("</xdataset5>"),b.join("")},XF_SCREEN.prototype.on_window_beforeprint=function(){this._fireonbeforebrowserprint()},XF_SCREEN.prototype.on_window_afterprint=function(){this.on_screen_print(!1),$(window).off("afterprint")},XF_SCREEN.prototype.on_screen_print=function(a){var b;if(1==a){if(b=this._fireonbeforeprint(),0===b)return!1}else this._fireonafterprint();return!0},XF_SCREEN.prototype._getscreenhtml=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(r=["_xf_number","_xf_field","_xf_hangul","_xf_password","_xf_multiline","_xf_combobox_edit","_xf_date_edit","_xf_spin_edit"],s=r.length,d=0;s>d;d++)for(p=this.xf_object.find("."+r[d]),f=p.length,e=0;f>e;e++)q=$(p[e]),q.attr("value",q.val());for(b=this.xf_object.find("canvas"),f=b.length,d=0;f>d;d++)g=b[d],i=g.toDataURL(),h=$(g),k=h.width(),l=h.height(),m=h.offset(),n=h.position(),o=[],o.push("<img"),o.push(' class="_xf_img_for_canvas_print"'),o.push(' style="'),o.push("position:absolute;"),o.push("left:"+m.left+"px;"),o.push("top:"+m.top+"px;"),o.push("width:"+k+"px;"),o.push("height:"+l+"px;"),o.push('"'),o.push(' src="'+i+'"'),o.push(">"),j=$(o.join("")),$(document.body).append(j);return void 0===a||"all"==a?t="<!doctype html>"+document.documentElement.outerHTML:"html"==a?t=document.documentElement.outerHTML:"head"==a?t=document.head.outerHTML:"body"==a&&(t=document.body.outerHTML),t="<!doctype html>"+document.documentElement.outerHTML,c=$(document.body).find("._xf_img_for_canvas_print"),c.remove(),t=t.replace(/<script/g,"<!--script"),t=t.replace(/script>/g,"script-->")},XF_SCREEN.prototype._getscreenprinthtml=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(q=["_xf_number","_xf_field","_xf_hangul","_xf_multiline","_xf_combobox_edit","_xf_date_edit","_xf_spin_edit"],r=q.length,b=0;r>b;b++)for(o=this.xf_object.find("."+q[b]),d=o.length,c=0;d>c;c++)p=$(o[c]),p.attr("value",p.val());for(a=this.xf_object.find("canvas"),d=a.length,b=0;d>b;b++)e=a[b],g=e.toDataURL(),f=$(e),i=f.width(),j=f.height(),k=f.offset(),l=f.position(),m=[],m.push("<img"),m.push(' class="_xf_img_for_canvas_print"'),m.push(' style="'),m.push("position:absolute;"),m.push("left:"+k.left+"px;"),m.push("top:"+k.top+"px;"),m.push("width:"+i+"px;"),m.push("height:"+j+"px;"),m.push('"'),m.push(' src="'+g+'"'),m.push(">"),h=$(m.join("")),$(document.body).append(h);var n=document.body.innerHTML;return n.replace(/ id/g," data-id")},XF_SCREEN.prototype._clearscreenprinthtml=function(){var a;a=$(document.body).find("._xf_img_for_canvas_print"),a.remove()},XF_SCREEN.prototype.print=function(){var a;return a=this.on_screen_print(!0),0==a?!1:(_xfu.async({func:this._print,context:this,timeout:1e3}),!0)},XF_SCREEN.prototype._print=function(){void 0!==window.onafterprint&&$(window).on("afterprint",$.proxy(this.on_window_afterprint,this)),this.xf_window.focus(),this.xf_window.print(),void 0===window.onafterprint&&this.on_screen_print(!1)},XF_SCREEN.prototype.printpreview=function(){var a,b;return 0==_xfu.isie()?this.print():(this.xf_window.focus(),b='<OBJECT ID="_xf_print_preview" WIDTH=0 HEIGHT=0 CLASSID="CLSID:8856F961-340A-11D0-A96B-00C04FD705A2"></OBJECT>',document.body.insertAdjacentHTML("beforeEnd",b),a=7,_xf_print_preview.ExecWB(a,1),void(_xf_print_preview.outerHTML=""))},XF_SCREEN_ALERTBOX.prototype._init=function(a){this.xf_screen=a,this.xf_modalbox=null,this.xf_object=null,this.xf_ok=null,this.is_keydown=!1},XF_SCREEN_ALERTBOX.prototype._prop=function(a){this.xf_prop={message:"",xf_focus_component:null,component_value:void 0},$.extend(this.xf_prop,a)},XF_SCREEN_ALERTBOX.prototype._box=function(){var a;a=[],a.push('<div class="_xf_popup_msgbox" style="display:none;">'),a.push('<div class="_xf_popup_msgbox_content">'),a.push('<div class="_xf_popup_msgbox_icon _xf_popup_msgbox_icon_info"></div>'),a.push('<div class="_xf_popup_msgbox_msg_scrollbox">'),a.push('<div class="_xf_popup_msgbox_msg_tablebox">'),a.push('<div class="_xf_popup_msgbox_msg_tablecell">'),a.push(this.xf_prop.message.replace(/\n/g,"<br>")),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.push('<div class="_xf_popup_msgbox_btnbox">'),a.push('<button class="_xf_popup_msgbox_btn">OK</button>'),a.push("</div>"),a.push("</div>"),this.xf_object=$(a.join(""))},XF_SCREEN_ALERTBOX.prototype._dom=function(){this.xf_ok=this.xf_object.find("._xf_popup_msgbox_btn"),this.xf_ok.focus()},XF_SCREEN_ALERTBOX.prototype._offevent=function(){this.xf_ok.off("click"),_xfj.offevent(this.xf_object,["keydown","keypress","keyup"])},XF_SCREEN_ALERTBOX.prototype._event=function(){this._offevent(),this.xf_ok.on("click",$.proxy(this.on_button_click,this)),this.xf_object.on("keydown",$.proxy(this.on_object_keydown,this)),this.xf_object.on("keypress",$.proxy(this.on_object_keypress,this)),this.xf_object.on("keyup",$.proxy(this.on_object_keyup,this))},XF_SCREEN_ALERTBOX.prototype.setfocusbutton=function(){this.is_keydown=!1,this.xf_ok.focus()},XF_SCREEN_ALERTBOX.prototype.close=function(a){this.xf_modalbox.hide(),this.xf_screen==factory.xf_main_factory.focused_xf_screen&&this.xf_prop.xf_focus_component&&this.xf_prop.xf_focus_component.setfocus(),factory.xf_main_factory.is_alertbox_show=!1},XF_SCREEN_ALERTBOX.prototype.on_object_keydown=function(a){return this.is_keydown=!0,!1},XF_SCREEN_ALERTBOX.prototype.on_object_keypress=function(a){return!1},XF_SCREEN_ALERTBOX.prototype.on_object_keyup=function(a){if(this.is_keydown)switch(this.is_keydown=!1,a.which){case XFD_KEY_ESC:case XFD_KEY_ENTER:case XFD_KEY_SPACE:this.close(a)}return!1},XF_SCREEN_ALERTBOX.prototype.on_button_click=function(a){this.close(a)},XF_SCREEN.prototype.activate=function(){window.focus(),window._xf5_activate&&window._xf5_activate()},XF_SCREEN.prototype.addxtranmap=function(a,b,c){var d;return void 0===a||null==a||0==a.length?!1:(void 0!==b&&null!=b||(b=""),void 0!==c&&null!=c||(c=""),d=this._getxtranmap(a),null!==d?!1:(new XF_SCREEN_XTRANMAP({xf_screen:this,xf_component:null,xf_object:null},{id:a,url:b,comment:c}),!0))},XF_SCREEN.prototype.addxdataset=function(a,b){var c;return void 0!=window[a]?-1:(c=this.getxdataset(a))?-1:(new XF_XDATASET({xf_screen:this,xf_component:null,xf_object:null},{id:a,desc:b,columns:""}),1)},XF_SCREEN.prototype.removexdataset=function(a){var b;return(b=this.getxdataset(a))?(b.destroy(),!0):!1},XF_SCREEN.prototype.addxdatasetinxtranmap=function(a){var b,c,d,e,f,g,h;if(null==a||a.length<1)return!1;if(c=this.getxdataset(a),!c)return!1;for(e=this.xtranmap_arr.length,g=0;e>g;g++){for(b=this.xtranmap_arr[g],f=b.xf_xtds_arr.length,h=0;f>h&&(d=b.xf_xtds_arr[h],d.id!=a);h++);h==f&&b.xf_xtds_arr.push({id:a,in_op:XFD_XDATASET_TRAN_NONE,out_op:XFD_XDATASET_TRAN_NONE,info:"",column_info_arr:[],column_info_count:0})}return!0},XF_SCREEN.prototype.removexdatasetinxtranmap=function(a){var b,c,d,e,f,g;if(null==a||a.length<1)return!1;for(d=this.xtranmap_arr.length,f=0;d>f;f++)for(b=this.xtranmap_arr[f],e=b.xf_xtds_arr.length,g=0;e>g;g++)if(c=b.xf_xtds_arr[g],c.id==a){b.xf_xtds_arr.splice(g,1);break}return!0},XF_SCREEN.prototype.setxtranmapiocolumn=function(a,b,c,d,e){var f,g,h,i,j,k,l;if(f=this._getxtranmap(a),null==f)return!1;for(h=f.xf_xtds_arr.length,j=0;h>j;j++)if(g=f.xf_xtds_arr[j],g.id==b){for(k=0;k<g.column_info_count;k++)if(i=g.column_info_arr[k],i.column_id==c){i.is_input=d,i.is_output=e;break}for(k==g.column_info_count&&(g.column_info_arr.push({column_id:c,is_input:d,is_output:e}),g.column_info_count++),l=[],k=0;k<g.column_info_count;k++)l.push(g.column_info_arr[k].column_id+":"+(g.column_info_arr[k].is_input?"1":"0")+":"+(g.column_info_arr[k].is_output?"1":"0"));g.info=l.join(";")}return j!=h},XF_SCREEN.prototype.setxtranmapiotype=function(a,b,c,d){var e,f,g,h,i,j,k;if(e=this._getxtranmap(a),null==e)return!1;for(g=e.xf_xtds_arr.length,h=0;g>h;h++)if(f=e.xf_xtds_arr[h],f.id==b){f.in_op=c,f.out_op=d;break}if(h==g){if(this.xdataset_map[b]){switch(k=[],c){case XFD_XDATASET_TRAN_ALL:i="ALL";break;case XFD_XDATASET_TRAN_CHECK:i="CHECK";break;case XFD_XDATASET_TRAN_UPDATE:i="UPDATE";break;default:i=""}switch(d){case XFD_XDATASET_TRAN_DELETE:j="DELETE";break;case XFD_XDATASET_TRAN_UPDATE:j="UPDATE";break;case XFD_XDATASET_TRAN_APPEND:j="APPEND";break;default:j=""}for(h=0;h<this.xdataset_map[b].data_column_name_arr.length;h++)k.push(this.xdataset_map[b].data_column_name_arr[h]+":0:0");return e._addxtds({id:b,in_op:i,out_op:j,info:k.join(";"),column_info_arr:[],column_info_count:0}),!0}return!1}return!0},XF_SCREEN.prototype.addgxdatasetinxtranmap=function(a){var b,c,d,e,f,g;if(null==a||a.length<1)return!1;if(void 0===window[a])return!1;for(d=this.xtranmap_arr.length,f=0;d>f;f++){for(b=this.xtranmap_arr[f],e=b.xf_xtds_arr.length,g=0;e>g&&(c=b.xf_xtds_arr[g],c.id!=a);g++);g==e&&b.xf_xtds_arr.push({id:a,in_op:XFD_XDATASET_TRAN_NONE,out_op:XFD_XDATASET_TRAN_NONE,info:"",column_info_arr:[],column_info_count:0})}return!0},XF_SCREEN.prototype.removegxdatasetinxtranmap=function(a){var b,c,d,e,f,g;if(null==a||a.length<1)return!1;for(d=this.xtranmap_arr.length,f=0;d>f;f++)for(b=this.xtranmap_arr[f],e=b.xf_xtds_arr.length,g=0;e>g;g++)if(c=b.xf_xtds_arr[g],c.id==a){b.xf_xtds_arr.splice(g,1);break}return!0},XF_SCREEN.prototype.alert=function(a,b){window._xf5_xplus?(b=_xfu.intval(b),b===!1?window.alert(a):window.alert(String.fromCharCode(31)+b.toString()+String.fromCharCode(31)+a)):window.alert(a)},XF_SCREEN.prototype.applyattributemap=function(a){var b;return b=this._getattrmap(a),null==b?!1:(this._applyattributemap(b,!0,!1,!1),!0)},XF_SCREEN.prototype.applytraniomap=function(a,b,c){var d;return d=this._gettranmap(a),null==d?!1:0==a.length?!1:(this.curr_tranmap_id=a,void this._applyattributemap(d,!1,b,c))},XF_SCREEN.prototype.applytranmap=function(a,b,c,d){var e;return e=this._gettranmap(a),null==e?!1:0==a.length?!1:(this.curr_tranmap_id=a,void(1==factory_xf_param.USE_TRANMAP_ATTR?this._applyattributemap(e,!0,b,c):this._applyattributemap(e,!1,b,c)))},XF_SCREEN.prototype._applyattributemap=function(a,b,c,d){var e,f,g,h,i,j,k,l;for(e=a.map_info_arr.length,f=0;e>f;f++)if(k=a.map_info_arr[f],i=this.getinstance(k.control_id),null!=i)if(j=i.getcontrolkind(),j==XFD_CTRLKIND_GRID||j==XFD_CTRLKIND_TREEGRID||j==XFD_CTRLKIND_MULTILINEGRID){if(1==c&&i.deleteall(),0==b)continue;switch(k.attr){case"O":void 0!==i.setinputtype&&i.setinputtype(0);break;case"M":void 0!==i.setinputtype&&i.setinputtype(1);break;case"X":void 0!==i.setinputtype&&i.setinputtype(2);break;case"H":i.setvisible(!1);break;case"S":i.setvisible(!0);break;case"E":i.setenable(!0);break;case"D":i.setenable(!1)}for(g=k.column_map_info_arr.length,h=0;g>h;h++)if(l=k.column_map_info_arr[h],0!=b&&0!=l.attr.length)if(j==XFD_CTRLKIND_MULTILINEGRID){if(0==l.attr.length)continue;switch(i.setcolumneditable(l.sub_row_index,l.column_index,!0,!1),i.setcolumnhidden(l.column_index,!1,!1),l.attr){case"O":i.setcolumneditable(l.sub_row_index,l.column_index,!0,!1);break;case"M":i.setcolumneditable(l.sub_row_index,l.column_index,!0,!1);break;case"X":i.setcolumneditable(l.sub_row_index,l.column_index,!1,!1);break;case"H":i.setcolumnhidden(l.column_index,!0,!1);break;case"S":i.setcolumnhidden(l.column_index,!1,!1);break;case"E":i.setcolumneditable(l.sub_row_index,l.column_index,!0,!1);break;case"D":i.setcolumneditable(l.sub_row_index,l.column_index,!1,!1)}}else{if(0==l.attr.length)continue;switch(i.setcolumneditable(l.column_index,!0,!1),i.setcolumnhidden(l.column_index,!1,!1),l.attr){case"O":i.setcolumneditable(l.column_index,!0,!1);break;case"M":i.setcolumneditable(l.column_index,!0,!1);break;case"X":i.setcolumneditable(l.column_index,!1,!1);break;case"H":i.setcolumnhidden(l.column_index,!0,!1);break;case"S":i.setcolumnhidden(l.column_index,!1,!1);break;case"E":i.setcolumneditable(l.column_index,!0,!1);break;case"D":i.setcolumneditable(l.column_index,!1,!1)}}i.refreshcolumn()}else{if(1==c&&this._setdatacontrolvalue(i,""),0==b)continue;if(0==k.attr.length)continue;switch(k.attr){case"O":void 0!==i.setinputtype&&i.setinputtype(0);break;case"M":void 0!==i.setinputtype&&i.setinputtype(1);break;case"X":void 0!==i.setinputtype&&i.setinputtype(2);break;case"H":i.setvisible(!1);break;case"S":i.setvisible(!0);break;case"E":i.setenable(!0);break;case"D":i.setenable(!1)}}},XF_SCREEN.prototype.confirm=function(a){return window.confirm(a)},XF_SCREEN.prototype.beginmodalstate=function(){},XF_SCREEN.prototype.endmodalstate=function(){},XF_SCREEN.prototype.callscriptmethod=function(a,b){return this.callscriptmethodex(a,b)},XF_SCREEN.prototype.callscriptmethodex=function(func_and_param_str,script_kind,is_async){return _xfu["int"](script_kind)!=XFD_JAVASCRIPT?!1:eval(func_and_param_str)},XF_SCREEN.prototype.findscriptmethod=function(a,b){return _xfu["int"](a)!=XFD_JAVASCRIPT?!1:factory.isobject(this.xf_content.xf_execution_context[b])},XF_SCREEN.prototype.createobject=function(a,b,c,d,e,f){return a=_xfu["int"](a),1==isNaN(a)||0>a?null:this._iscontentscreen()?_xfx.createobject(this,null,this.container_tabpanel.xf_content,a,b,c,d,e,f):_xfx.createobject(this,null,this.xf_content,a,b,c,d,e,f)},XF_SCREEN.prototype.createobjectex=function(a,b){return a=_xfu["int"](a),1==isNaN(a)||0>a?null:this._iscontentscreen()?_xfx.createobjectex(this,null,this.container_tabpanel.xf_content,a,b):_xfx.createobjectex(this,null,this.xf_content,a,b)},XF_SCREEN.prototype.createshape=function(a,b,c,d,e,f){return a=_xfu["int"](a),1==isNaN(a)||0>a?null:this._iscontentscreen()?_xfx.createshape(this,null,this.container_tabpanel.xf_content,a,b,c,d,e,f):_xfx.createshape(this,null,this.xf_content,a,b,c,d,e,f)},XF_SCREEN.prototype.createshapeex=function(a,b){return a=_xfu["int"](a),1==isNaN(a)||0>a?null:this._iscontentscreen()?_xfx.createshapeex(this,null,this.container_tabpanel.xf_content,a,b):_xfx.createshapeex(this,null,this.xf_content,a,b)},XF_SCREEN.prototype.destroy=function(){var a,b,c;for(a=this.getinstanceall(0),b=a.length,c=b-1;c>=0;c--)try{switch(a[c].control_kind){case XFD_CTRLKIND_TAB:a[c].destroy();break;default:a[c].xf_xdataset&&a[c].xf_xdataset.xdataset_type==XFD_XDATASET_GLOBAL&&a[c].destroy()}}catch(d){}this._offevent(),this.xf_object.remove()},XF_SCREEN.prototype.destroyarrayctrlbyname=function(a,b){var c,d;return b=_xfu["int"](b),c=this.getarrayinstbyname(a,b),null==c?!1:(d=window[a],d[b]=null,c.destroy(),!0)},XF_SCREEN.prototype.destroycontrol=function(a){var b;b=this.getinstance(a),factory.isobject(b)&&b.destroy()},XF_SCREEN.prototype.destroycontrolbyindex=function(a){var b;b=this.getinstancebyindex(a),factory.isobject(b)&&b.destroy()},XF_SCREEN.prototype.destroycontrolbyname=function(a){var b;b=this.getinstancebyname(a),factory.isobject(b)&&b.destroy()},XF_SCREEN.prototype.domodal=function(){return this.sync_modalstate_info={promise_resolve:null,promise_reject:null},new Promise(this.domodal_executor.bind(this))},XF_SCREEN.prototype.domodal_executor=function(a,b){this.sync_modalstate_info.promise_resolve=a,this.sync_modalstate_info.promise_reject=b},XF_SCREEN.prototype.domodalstate=function(){},XF_SCREEN.prototype.eventlock=function(a,b){return this.is_event_locked=a,b===!0&&(this.is_event_locked_subscreen=a),this.xf_content.eventlock(a,b)},XF_SCREEN.prototype.forcepaint=function(){},XF_SCREEN.prototype.forcestopsubmit=function(a){var b;return b=this._getxtranmap(a),null==b?!1:0==b.is_processing?!1:null==b.jq_xhr?!1:(b.jq_xhr.abort(),!0)},XF_SCREEN.prototype.getarrayinstbyname=function(a,b){var c,d;return b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1?null:(c=this._getinstancearraybyname(a),null==c?null:(d=c.length,b>=d?null:null==c[b]?null:c[b]))},XF_SCREEN.prototype.getbackcolor=function(){return _xfu.color(this.xf_prop.back_color)},XF_SCREEN.prototype.setbackcolor=function(a){this.xf_prop.back_color=_xfu.rgb(a),this.xf_object.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color))},XF_SCREEN.prototype.getclientheight=function(){return this.xf_screen_wrapper.height()},XF_SCREEN.prototype.getclientwidth=function(){return this.xf_screen_wrapper.width()},XF_SCREEN.prototype.getcontrolcount=function(){return this.getinstanceall(0).length},XF_SCREEN.prototype.getcustomprop=function(a){return void 0===this.xf_prop[a]?"":this.xf_prop[a]},XF_SCREEN.prototype.setcustomprop=function(a,b){this.xf_prop[a]=b},XF_SCREEN.prototype.getdescription=function(){return this.xf_prop.description},XF_SCREEN.prototype.setdescription=function(a){this.xf_prop.description=a},XF_SCREEN.prototype.getdefaulttranmapid=function(){var a,b;for(a=this.gettranmapcount(),b=0;a>b;b++)if(1==this.tranmap_arr[b].xf_prop.defaultmap)return this.tranmap_arr[b].xf_prop.fcode;return""},XF_SCREEN.prototype.getenable=function(){return this.xf_prop.enable},XF_SCREEN.prototype.setenable=function(a){this.xf_prop.enable=a,a?this.xf_protect.hideprotect(!0):this.xf_protect.showprotect(0,!1,!0),a&&this.setfocus()},XF_SCREEN.prototype.geteventhandler=function(a){return this.xf_prop[a]?this.xf_prop[a]:""},XF_SCREEN.prototype.getfocuscontrol=function(){return this.xf_content.focused_object?this.xf_content.focused_object:null},XF_SCREEN.prototype.getfocuscontrolctrlid=function(){return this.xf_content.focused_object?this.xf_content.focused_object.xf_prop.control_id:-1},XF_SCREEN.prototype.getfocuscontrolindex=function(){return this.xf_content.focused_object?this.xf_content.focused_object.xf_prop.in_index:-1},XF_SCREEN.prototype.getgridiomapcolumn=function(a,b,c,d){var e;return e=this._gettranmap(b),null==e?0:e.getgridiomapcolumn(a,c,d)},XF_SCREEN.prototype.getgridiomapcount=function(a,b,c){var d;return d=this._gettranmap(b),null==d?0:d.getgridiomapcount(a,c)},XF_SCREEN.prototype.getgridiomapsubrow=function(a,b,c,d){var e;return e=this._gettranmap(b),null==e?0:e.getgridiomapsubrow(a,c,d)},XF_SCREEN.prototype.getgridiomaptext=function(a,b,c,d){var e;return e=this._gettranmap(b),null==e?0:e.getgridiomaptext(a,c,d)},XF_SCREEN.prototype.getinstance=function(a){return void 0==this.id_map[a]?null:this.id_map[a]},XF_SCREEN.prototype.getinstancebyindex=function(a){return a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1?null:void 0==this.index_map[a]?null:this.index_map[a]},XF_SCREEN.prototype.getinstancebyname=function(a){return void 0==this.name_map[a]?null:this.name_map[a]},XF_SCREEN.prototype.getiomapcount=function(a,b){var c;return c=this._gettranmap(b),null==c?0:c.getiomapcount(a)},XF_SCREEN.prototype.getiomapobjcontrolid=function(a,b,c){var d;return d=this._gettranmap(b),null==d?-1:d.getiomapobjcontrolid(a,c)},XF_SCREEN.prototype.getiomapobjattribute=function(a,b){var c;return c=this._gettranmap(a),null==c?"":c.getiomapobjattribute(b)},XF_SCREEN.prototype.getiomaptext=function(a,b,c){var d;return null===b||0==b.length?"":(d=this._gettranmap(b),null==d?"":d.getiomaptext(a,c))},XF_SCREEN.prototype.getlinkautorun=function(a){return a=_xfu["int"](a),1==isNaN(a)||0>a||a>=this.link_arr.length?!1:this.link_arr[a].xf_prop.autorun},XF_SCREEN.prototype.getlinkcopyinfo=function(a){return a=_xfu["int"](a),1==isNaN(a)||0>a||a>=this.link_arr.length?"":this.link_arr[a].xf_prop.copy_info},XF_SCREEN.prototype.getlinkinfocount=function(){return this.link_arr.length},XF_SCREEN.prototype.getlinkscreenurl=function(a){return a=_xfu["int"](a),1==isNaN(a)||0>a||a>=this.link_arr.length?"":this.link_arr[a].xf_prop.screenid},XF_SCREEN.prototype.getlinktitle=function(a){return a=_xfu["int"](a),1==isNaN(a)||0>a||a>=this.link_arr.length?"":this.link_arr[a].xf_prop.title},XF_SCREEN.prototype.getmappingprinttext=function(a,b,c){},XF_SCREEN.prototype.getmappingprinttextex=function(a,b,c,d,e,f,g,h){},XF_SCREEN.prototype.getmembers=function(a){return this.xf_content.xf_execution_context},XF_SCREEN.prototype.getmenuheight=function(){return this.parent_menubox?this.parent_menubox.xf_prop.height:0},XF_SCREEN.prototype.getmenuwidth=function(){return this.parent_menubox?this.parent_menubox.xf_prop.width:0},XF_SCREEN.prototype.getmenuxpos=function(){return this.parent_menubox?this.parent_menubox.xf_prop.x:0},XF_SCREEN.prototype.getmenuypos=function(){return this.parent_menubox?this.parent_menubox.xf_prop.y:0},XF_SCREEN.prototype.setmenupos=function(a,b,c,d,e,f,g){this.parent_menubox&&this.parent_menubox.setmenupos(a,b,c,d,e,f,g)},XF_SCREEN.prototype.getobjectkind=function(){return this.object_kind},XF_SCREEN.prototype._getmodalboxtargetscreen=function(){var a;for(a=this.xf_window.screen;a;){if(!a.xf_screen){a=null;break}if(!a.xf_screen.xf_window){a=null;break}if(a.xf_screen.xf_window.xframe_screen_kind===XFD_SCREEN_MODELESSPOPUP)break;if(!a.getparent){a=null;break}a=a.getparent(!1)}return a},XF_SCREEN.prototype.getparent=function(a){if(void 0!==a&&null!=a||(a=!1),this.is_popup_screen&&this.popup_info)return this.popup_info.parent_screen;if(this.parent_menubox)return this.parent_menubox.xf_menu_parent_screen;if(a)return XFD_SCREEN_TABLINK==window.xframe_screen_kind?this.parent_tabpanel.xf_tab:null;if(this.portlet_tabpanel)return this.portlet_tabpanel.xf_item.xf_tab.xf_parent.xf_screen;var b=window.opener||window.parent;return void 0===b.xf_screen?null:b.xf_screen===this?null:b.screen},XF_SCREEN.prototype.getpopupheight=function(){return this.xf_screen_wrapper.height()},XF_SCREEN.prototype.getpopupname=function(){return this.popup_info?this.popup_info.name:""},XF_SCREEN.prototype.getpopuptitle=function(){return this.popup_info?this.popup_info.title:""},XF_SCREEN.prototype.getpopupwidth=function(){return this.xf_screen_wrapper.width()},XF_SCREEN.prototype.getpopupxpos=function(){return this.popup_info?this.parent_popupbox?this.parent_popupbox.xf_object.position().left:window.screenX:void 0},XF_SCREEN.prototype.getpopupypos=function(){return this.popup_info?this.parent_popupbox?this.parent_popupbox.xf_object.position().top:window.screenY:void 0},XF_SCREEN.prototype.getprintcpi=function(){return this.xf_prop.CPI},XF_SCREEN.prototype.setprintcpi=function(a){this.xf_prop.CPI=_xfu["int"](a)},XF_SCREEN.prototype.getprintlatticex=function(){return this.xf_prop.lattice_x},XF_SCREEN.prototype.setprintlatticex=function(a){this.xf_prop.lattice_x=_xfu["int"](a)},XF_SCREEN.prototype.getprintlatticey=function(){return this.xf_prop.lattice_y},XF_SCREEN.prototype.setprintlatticey=function(a){this.xf_prop.lattice_y=_xfu["int"](a)},XF_SCREEN.prototype.getprintleftmargin=function(){return this.xf_prop.leftmargin},XF_SCREEN.prototype.setprintleftmargin=function(a){this.xf_prop.leftmargin=_xfu["int"](a)},XF_SCREEN.prototype.getprintlpi=function(){return this.xf_prop.LPI},XF_SCREEN.prototype.setprintlpi=function(a){this.xf_prop.LPI=_xfu["int"](a)},XF_SCREEN.prototype.getprintmediatype=function(){return this.xf_prop.printmediatype},XF_SCREEN.prototype.setprintmediatype=function(a){this.xf_prop.printmediatype=a},XF_SCREEN.prototype.getprinttopmargin=function(){return this.xf_prop.topmargin},XF_SCREEN.prototype.setprinttopmargin=function(a){this.xf_prop.topmargin=_xfu["int"](a)},XF_SCREEN.prototype.getprintcompletemsg=function(){return this.xf_prop.print_complete_msg},XF_SCREEN.prototype.setprintcompletemsg=function(a){this.xf_prop.print_complete_msg=a},XF_SCREEN.prototype.getprintoutputmsg=function(){return this.xf_prop.print_out_msg},XF_SCREEN.prototype.setprintoutputmsg=function(a){return this.xf_prop.print_out_msg=a,!0},XF_SCREEN.prototype.getreportmapcount=function(a){},XF_SCREEN.prototype.getreportmapobjctrlid=function(a,b){},XF_SCREEN.prototype.getscreendata=function(a,b,c){return void 0===a&&(a=!0),void 0===b&&(b=0),void 0===c&&(c=0),this.getiomapdata(!0,"",!1,a,b,c)},XF_SCREEN.prototype.getiomapdata=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(void 0===e&&(e=0),void 0===f&&(f=0),z=[],y=[],0==b.length)for(s=this.getinstanceall(0),g=s.length,h=0;g>h;h++)if(1!=this.isdatacontrol(s[h])){if(0!=f)switch(s[h].getcontrolkind()){case XFD_CTRLKIND_TAB:case XFD_CTRLKIND_PANEL:z.push(s[h].getcontrolid())}}else z.push(s[h].getcontrolid());else for(g=this.getiomapcount(a,b),h=0;g>h;h++)z.push(this.getiomapobjcontrolid(a,b,h));for(g=z.length,h=0;g>h;h++)if(u=z[h],t=this.getinstance(u),null!=t){if(x={xf_prop:null,control_id:u,control_name:t.getname(),control_value:"",control_kind:t.getcontrolkind(),io_map_text:b.length>0?this.getiomaptext(a,b,h):"",max_length:void 0===t.getmaxlength?0:t.getmaxlength(),data_type:void 0===t.getdatatype?0:t.getdatatype(),sub_data_info_arr:[],row_meta_info_arr:[]},0!=f&&(this.setscreencomponentprop(f,x,t.xf_init_prop,t.xf_prop,["x","y","width","height","hidden","pattern","pattern_mask"]),x.control_kind==XFD_CTRLKIND_TAB&&(x.focused_item_index=t.gettabitemfocus())),x.control_kind==XFD_CTRLKIND_GRID||x.control_kind==XFD_CTRLKIND_TREEGRID||x.control_kind==XFD_CTRLKIND_MULTILINEGRID){if(0==b.length)if(r=t.getcolumncount(),x.control_kind==XFD_CTRLKIND_MULTILINEGRID)for(q=t.getsubrowcount(),n=0;q>n;n++)for(o=0;r>o;o++)A={xf_prop:null,sub_row_index:n,column_index:o,io_map_text:"",column_name:t.getcolumnname(n,o),max_length:t.getcolumnmaxlength(n,o),data_type:t.getcolumndatatype(n,o)},0!=f&&(w=t._getcolumndata(XF_GRID.COLUMN_KIND_DATA,o,n),this.setscreencomponentprop(f,A,w.xf_init_prop,w.xf_column_data_prop,["width","hidden","pattern","pattern_mask"])),x.sub_data_info_arr.push(A);else for(o=0;r>o;o++)A={xf_prop:null,sub_row_index:0,column_index:o,column_name:t.getcolumnname(o),io_map_text:"",max_length:t.getcolumnmaxlength(o),data_type:t.getcolumndatatype(o)},0!=f&&(w=t._getcolumndata(XF_GRID.COLUMN_KIND_DATA,o,0),this.setscreencomponentprop(f,A,w.xf_init_prop,w.xf_column_data_prop,["width","hidden","pattern","pattern_mask"])),x.sub_data_info_arr.push(A);else for(i=this.getgridiomapcount(a,b,u),j=0;i>j;j++)o=this.getgridiomapcolumn(a,b,u,j),x.control_kind==XFD_CTRLKIND_MULTILINEGRID?(n=this.getgridiomapsubrow(a,b,u,j),A={xf_prop:null,sub_row_index:n,column_index:o,column_name:t.getcolumnname(n,o),io_map_text:this.getgridiomaptext(a,b,u,j),max_length:t.getcolumnmaxlength(n,o),data_type:t.getcolumndatatype(n,o)}):A={xf_prop:null,sub_row_index:0,column_index:o,column_name:t.getcolumnname(o),io_map_text:this.getgridiomaptext(a,b,u,j),max_length:t.getcolumnmaxlength(o),data_type:t.getcolumndatatype(o)},x.sub_data_info_arr.push(A);if(b.length>0&&c===!0&&x.sub_data_info_arr.sort(function(a,b){return parseFloat(a.io_map_text)-parseFloat(b.io_map_text)}),x.control_value=[],1==a&&1==d)for(p=t.getrowcount(),k=x.sub_data_info_arr.length,m=0;p>m;m++){for(v=[],l=0;k>l;l++)x.control_kind==XFD_CTRLKIND_MULTILINEGRID?v.push(t.getitemtext(m,x.sub_data_info_arr[l].sub_row_index,x.sub_data_info_arr[l].column_index)):v.push(t.getitemtext(m,x.sub_data_info_arr[l].column_index));x.control_value.push(v),e>0&&(1==e?x.row_meta_info_arr.push({is_checked_row:t.xf_xdataset._ischeckedrow(t._getxdatasetrowindex(m)),is_hidden_row:t._ishiddenrow(XF_GRID.ROW_KIND_DATA,m)}):2==e?x.row_meta_info_arr.push({is_checked_row:t.xf_xdataset._ischeckedrow(t._getxdatasetrowindex(m)),is_hidden_row:!1}):3==e&&x.row_meta_info_arr.push({is_checked_row:!1,is_hidden_row:t._ishiddenrow(XF_GRID.ROW_KIND_DATA,m)}))}}else if(x.control_value="",1==a&&1==d)switch(x.control_kind){case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_SPINDATE:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_RADIOBUTTON:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_SELECTBOX:case XFD_CTRLKIND_DATE:x.control_value=t.gettext();break;case XFD_CTRLKIND_COMBOBOX:x.control_value=t.getselectedcode();break;case XFD_CTRLKIND_PAGINGBAR:x.control_value=t.getcurpage()}y.push(x)}return b.length>0&&c===!0&&y.sort(function(a,b){return parseFloat(a.io_map_text)-parseFloat(b.io_map_text)}),y},XF_SCREEN.prototype.setscreencomponentprop=function(a,b,c,d,e){1==a&&(b.xf_prop=_xfx.propdiff(c,d,e)),2==a?b.xf_prop=_xfx.propdiff(c,d,null):3==a&&(b.xf_prop=$.extend({},d))},XF_SCREEN.prototype.setscreendata=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;for(void 0===b&&(b=!1),void 0===c&&(c=0),void 0===d&&(d=!1),e=a.length,f=0;e>f;f++)if(i=a[f],m=null,m=i.control_name?this.getinstancebyname(i.control_name):this.getinstance(i.control_id),void 0!==m&&null!=m)if(d===!0&&null!=i.xf_prop&&(void 0!==m.xf_prop.anchor&&0==m.xf_prop.anchor&&(void 0!==i.xf_prop.x&&m.setleft(i.xf_prop.x),void 0!==i.xf_prop.y&&m.settop(i.xf_prop.y)),void 0!==i.xf_prop.width&&(0!=m.xf_prop.width_unit||0!=m.xf_prop.resize_dir&&2!=m.xf_prop.resize_dir||m.setwidth(i.xf_prop.width)),void 0!==i.xf_prop.height&&(0!=m.xf_prop.height_unit||0!=m.xf_prop.resize_dir&&1!=m.xf_prop.resize_dir||m.setheight(i.xf_prop.height)),void 0!==i.xf_prop.hidden&&m.setvisible(!i.xf_prop.hidden),void 0!==i.xf_prop.pattern&&m.setpattern&&m.setpattern(i.xf_prop.pattern,!1),void 0!==i.xf_prop.pattern_mask&&m.setpatternmask&&m.setpatternmask(i.xf_prop.pattern_mask,!1)),i.control_kind==XFD_CTRLKIND_TAB&&d===!0&&void 0!==i.focused_item_index&&m.settabitemfocus(i.focused_item_index,!1,!1,!1),i.control_kind==XFD_CTRLKIND_GRID||i.control_kind==XFD_CTRLKIND_TREEGRID||i.control_kind==XFD_CTRLKIND_MULTILINEGRID){if(g=i.sub_data_info_arr.length,b||m.deleteall(),d===!0)for(h=0;g>h;h++)null!=i.sub_data_info_arr[h].xf_prop&&(void 0!==i.sub_data_info_arr[h].xf_prop.width&&0==m.xf_prop.autocolumnwidth&&m.setcolumnwidth(i.sub_data_info_arr[h].column_index,i.sub_data_info_arr[h].xf_prop.width,!1),void 0!==i.sub_data_info_arr[h].xf_prop.hidden&&m.setcolumnhidden(i.sub_data_info_arr[h].column_index,!i.sub_data_info_arr[h].xf_prop.hidden),void 0!==i.sub_data_info_arr[h].xf_prop.pattern&&m.setpattern&&(i.control_kind==XFD_CTRLKIND_MULTILINEGRID?m.setcolumnpattern(i.sub_data_info_arr[h].sub_row_index,i.sub_data_info_arr[h].column_index,i.sub_data_info_arr[h].xf_prop.pattern,!1):m.setcolumnpattern(i.sub_data_info_arr[h].column_index,i.sub_data_info_arr[h].xf_prop.pattern,!1)),void 0!==i.sub_data_info_arr[h].xf_prop.pattern_mask&&m.setpatternmask&&(i.control_kind==XFD_CTRLKIND_MULTILINEGRID?m.setcolumnpatternmask(i.sub_data_info_arr[h].sub_row_index,i.sub_data_info_arr[h].column_index,i.sub_data_info_arr[h].xf_prop.pattern,!1):m.setcolumnpatternmask(i.sub_data_info_arr[h].column_index,i.sub_data_info_arr[h].xf_prop.pattern,!1)));for(k=i.control_value.length,j=0;k>j;j++){for(l=m.additemex(0,"",!1,!1,!1),n=i.control_value[j],h=0;g>h;h++)i.control_kind==XFD_CTRLKIND_MULTILINEGRID?m.setitemtextex(l,i.sub_data_info_arr[h].sub_row_index,i.sub_data_info_arr[h].column_index,n[h],!1,!1):m.setitemtextex(l,i.sub_data_info_arr[h].column_index,n[h],!1,!1);void 0!==i.row_meta_info_arr&&i.row_meta_info_arr.length>0&&(1!=c&&3!=c||i.row_meta_info_arr[l].is_hidden_row&&m._setrowhidden(l,!0,!1),1!=c&&2!=c||i.row_meta_info_arr[l].is_checked_row&&m.xf_xdataset._setcheckedrow(m._getxdatasetrowindex(l),!0,!1,null)),l++}d===!0?m.refreshcolumn():m.refresh()}else this._setdatacontrolvalue(m,i.control_value);return!0},XF_SCREEN.prototype.getscreenheight=function(){return this.xf_object.height()},XF_SCREEN.prototype.getscreencontentheight=function(){return this.xf_prop.screencontent_height;
},XF_SCREEN.prototype.getscreenhelp=function(){return this.xf_prop.screen_help},XF_SCREEN.prototype.getscreentype=function(){return this.xf_prop.screen_type},XF_SCREEN.prototype.getscreenversion=function(){return this.xf_prop.screen_version},XF_SCREEN.prototype.getscreenform=function(){return this.xf_prop.screen_form},XF_SCREEN.prototype.getscreenrule=function(){return this.xf_prop.screen_rule},XF_SCREEN.prototype.getscreenhtml=function(a){return this._getscreenhtml(a)},XF_SCREEN.prototype.getscreenid=function(){return this.xf_prop.screenid},XF_SCREEN.prototype.getscreenkind=function(){return this.is_popup_screen?this.parent_popupbox?XFD_SCREEN_MODALPOPUP:XFD_SCREEN_MODELESSPOPUP:this.parent_menubox?XFD_SCREEN_MENU:null!=this.getparent()&&this.getparent().xf_screen!=this?XFD_SCREEN_TABLINK:XFD_SCREEN_MAIN},XF_SCREEN.prototype.getscreentab=function(){return this.parent_tabpanel?this.parent_tabpanel.xf_item.xf_tab:this.portlet_tabpanel?this.portlet_tabpanel.xf_item.xf_tab:null},XF_SCREEN.prototype.getscreentabindex=function(){return this.parent_tabpanel?this.parent_tabpanel.xf_item.xf_prop.item_index:this.portlet_tabpanel?this.portlet_tabpanel.xf_item.xf_prop.item_index:-1},XF_SCREEN.prototype.getscreentitle=function(){return this.xf_prop.title},XF_SCREEN.prototype.getscreentrancode=function(){return this.gettrancode()},XF_SCREEN.prototype.getscreenurl=function(){return this.xf_prop.directory+this.xf_prop.screenid},XF_SCREEN.prototype.getscreenwidth=function(){return this.xf_object.width()},XF_SCREEN.prototype.getscreencontentwidth=function(){return this.xf_prop.screencontent_width},XF_SCREEN.prototype.getscrollbarstyle=function(a){return a=_xfu.intval(a,0,1),a===!1?0:a==XFD_SB_HORZ?this.xf_prop.horzscrollbar_style:a==XFD_SB_VERT?this.xf_prop.vertscrollbar_style:0},XF_SCREEN.prototype.setscrollbarstyle=function(a,b){var c;return a=_xfu.intval(a,-1,2),b=_xfu.intval(b,-1,2),a===!1||b===!1?!1:(c=$(this.xf_screen_wrapper),1==_xfu.ismobile()&&(c=this.xf_object),a>=0&&(this.xf_prop.horzscrollbar_style=a,_xfc.basic("horzscrollbar_style",this.xf_prop.horzscrollbar_style,!0,c)),b>=0&&(this.xf_prop.vertscrollbar_style=b,_xfc.basic("vertscrollbar_style",this.xf_prop.vertscrollbar_style,!0,c)),!0)},XF_SCREEN.prototype.getscrollpos=function(a){var b;return b=document.documentElement,1==_xfu.ismobile()&&(b=this.xf_object[0]),0==a?b.scrollLeft:1==a?b.scrollTop:0},XF_SCREEN.prototype.getsubmitresult=function(){return this.sync_submit_result_info},XF_SCREEN.prototype.gettranresult=function(){return this.sync_tran_result_info},XF_SCREEN.prototype.gettrancode=function(){return this.xf_prop.trancode},XF_SCREEN.prototype.settrancode=function(a){this.xf_prop.trancode=a},XF_SCREEN.prototype.gettranheader=function(){return this.xf_prop.tranheader},XF_SCREEN.prototype.settranheader=function(a){this.xf_prop.tranheader=a},XF_SCREEN.prototype.getattrmapcount=function(){return this.attrmap_arr.length},XF_SCREEN.prototype.gettranmapcount=function(){return this.tranmap_arr.length},XF_SCREEN.prototype.gettraniomapcount=function(){return this.traniomap_arr.length},XF_SCREEN.prototype.gettraniomapinfobyid=function(a){var b;return b=this._gettraniomap(a),null==b?null:this._gettraniomapinfo(b)},XF_SCREEN.prototype.gettraniomapinfobyindex=function(a){return a=_xfu["int"](a),0>a||a>=this.traniomap_arr.length?null:this._gettraniomapinfo(this.traniomap_arr[a])},XF_SCREEN.prototype._gettraniomapinfo=function(a){var b,c,d;for(b={id:a.xf_prop.id,timeout:a.xf_prop.timeout,input_item_arr:[],output_device_arr:[]},d=a.input_item_arr.length,c=0;d>c;c++)b.input_item_arr.push($.extend(!0,{},a.input_item_arr[c]));for(d=a.output_device_arr.length,c=0;d>c;c++)b.output_device_arr.push($.extend(!0,{},a.output_device_arr[c]));return b},XF_SCREEN.prototype.gettranmapetcinfo=function(a){var b;return b=this._gettranmap(a),null==a?"":b.xf_prop.etc},XF_SCREEN.prototype.getattrmapid=function(){return this.curr_tranmap_id},XF_SCREEN.prototype.gettranmapid=function(){return this.curr_tranmap_id},XF_SCREEN.prototype.gettranmapidex=function(a){var b;return a=_xfu["int"](a),b=this.tranmap_arr[a],void 0===b?"":b.xf_prop.fcode},XF_SCREEN.prototype.getuserheader=function(){return this.userheader},XF_SCREEN.prototype.setuserheader=function(a){this.userheader=a},XF_SCREEN.prototype.getvisible=function(){return!this.xf_prop.hidden},XF_SCREEN.prototype.setvisible=function(a){this.xf_prop.hidden=!a,a?this.xf_protect.hideprotect(!0):this.xf_protect.showprotect(100,!1)},XF_SCREEN.prototype.showscreen=function(a){return this.setvisible(a)},XF_SCREEN.prototype.getwindowid=function(){return this.window_id},XF_SCREEN.prototype.getwindowleft=function(){return window.screenLeft?window.screenLeft:window.screenX},XF_SCREEN.prototype.getwindowtop=function(){return window.screenTop?window.screenTop:window.screenY},XF_SCREEN.prototype.getwindowheight=function(){return this.xf_screen_wrapper.innerHeight()},XF_SCREEN.prototype.getwindowwidth=function(){return this.xf_screen_wrapper.innerWidth()},XF_SCREEN.prototype.getwindowrect=function(){var a,b;switch(a=[],this.getscreenkind()){case XFD_SCREEN_MAIN:case XFD_SCREEN_MODELESSPOPUP:b=this.xf_screen_wrapper.offset(),a.push(b.left),a.push(b.top),a.push(b.left+this.xf_screen_wrapper.innerWidth()),a.push(b.top+this.xf_screen_wrapper.innerHeight());break;case XFD_SCREEN_TABLINK:case XFD_SCREEN_MODALPOPUP:b=this._getwindowpos(),a.push(b.left),a.push(b.top),a.push(b.left+this.xf_screen_wrapper.innerWidth()),a.push(b.top+this.xf_screen_wrapper.innerHeight());break;case XFD_SCREEN_MENU:b=this._getwindowpos(),a.push(b.left),a.push(b.top),a.push(b.left+this.xf_screen_wrapper.innerWidth()),a.push(b.top+this.xf_screen_wrapper.innerHeight())}return a},XF_SCREEN.prototype._getwindowpos=function(){var a,b,c;if(c=this.getparent(),c&&c.xf_screen&&c.xf_screen!=this){switch(b={left:0,top:0},this.getscreenkind()){case XFD_SCREEN_TABLINK:b=this.parent_tabpanel.xf_content.xf_object.offset();break;case XFD_SCREEN_MODALPOPUP:b=this.parent_popupbox.xf_object.offset();break;case XFD_SCREEN_MENU:b=this.parent_menubox.xf_object.offset()}return a=c.xf_screen._getwindowpos(),b.left+=a.left,b.top+=a.top,b}return this.xf_screen_wrapper.offset()},XF_SCREEN.prototype.getxdataset=function(a){return this.xdataset_map[a]?this.xdataset_map[a]:null},XF_SCREEN.prototype.getxdatasetcolumncount=function(a){var b;return b=this.xdataset_map[a],b?b.getcolumncount():0},XF_SCREEN.prototype.getxdatasetrowcount=function(a){var b;return b=this.xdataset_map[a],b?b.getrowcount():0},XF_SCREEN.prototype.getxdatasetcount=function(){var a,b;b=0;for(a in this.xdataset_map)b++;return b},XF_SCREEN.prototype.getxdatasetdata=function(a,b,c){var d;return d=this.xdataset_map[a],d?d.getdatabyname(_xfu["int"](c),b):""},XF_SCREEN.prototype.setxdatasetdata=function(a,b,c,d,e){var f;return void 0===e&&(e=!0),f=this.xdataset_map[a],f?f.setdatabyname(_xfu["int"](c),b,d,e):!1},XF_SCREEN.prototype.getxdatasetids=function(){var a,b;b=[];for(a in this.xdataset_map)b.push(a);return b},XF_SCREEN.prototype.getxtranmapcomment=function(a){var b,c;return c="",b=this._getxtranmap(a),b&&(c=b.xf_prop.comment),c},XF_SCREEN.prototype.getxtranmapids=function(){var a,b;for(b=[],a=0;a<this.xtranmap_arr.length;a++)b.push(this.xtranmap_arr[a].xf_prop.id);return b},XF_SCREEN.prototype.getxtrancompress=function(){return void 0===factory_xf_param.XTRAN_COMPRESS?!1:factory_xf_param.XTRAN_COMPRESS},XF_SCREEN.prototype.setxtrancompress=function(a){return factory_xf_param.XTRAN_COMPRESS=a,factory.xf_main_factory.xf_param.XTRAN_COMPRESS=a,!0},XF_SCREEN.prototype.getxtranmapinputcols=function(a,b){return this._getxtranmapinputcols(a,b,!0)},XF_SCREEN.prototype.getxtranmapoutputcols=function(a,b){return this._getxtranmapinputcols(a,b,!1)},XF_SCREEN.prototype._getxtranmapinputcols=function(a,b,c){var d,e;return d=this._getxtranmap(a),null==d?[]:(e=d.getxtds(b),null==e?[]:d.getcolumnnamearr(e,c))},XF_SCREEN.prototype.getxtranmapinputkind=function(a,b){var c;return c=this._getxtds(a,b),null==c?XFD_XDATASET_TRAN_NONE:c.in_op},XF_SCREEN.prototype.getxtranmapinputxdataset=function(a,b){var c,d,e;if(d=[],e=this._getxtranmap(a))for(c=0;c<e.xf_xtds_arr.length;c++)b?XFD_XDATASET_TRAN_NONE!=e.xf_xtds_arr[c].in_op&&d.push(e.xf_xtds_arr[c].id):XFD_XDATASET_TRAN_NONE!=e.xf_xtds_arr[c].out_op&&d.push(e.xf_xtds_arr[c].id);return d},XF_SCREEN.prototype.getxtranmapoutputkind=function(a,b){var c;return c=this._getxtds(a,b),null===c?XFD_XDATASET_TRAN_NONE:c.out_op},XF_SCREEN.prototype.getxtranmapurl=function(a){var b;return b=this._getxtranmap(a),null===b?"":b.xf_prop.url},XF_SCREEN.prototype.httprequestpost=function(a,b,c,d){return{strkey:"",nresult:0,strerror:"not supported",nerrorcode:0,strrecvdata:""}},XF_SCREEN.prototype.httprequestpostasync=function(a,b,c,d,e,f){var g=b;c&&(g=encodeURI(b)),$.ajax({url:g,method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,headers:d,dataType:"text",data:e,cache:!1,error:function(b,c,d){window[f]({strkey:'"'+a+'"',nresult:0,strerror:'"'+b.statusText+'"',nerrorcode:b.status,strrecvdata:""})},success:function(b,c,d){window[f]({strkey:'"'+a+'"',nresult:1,strerror:'"'+d.statusText+'"',nerrorcode:d.status,strrecvdata:b})}})},XF_SCREEN.prototype.isdatacontrol=function(a){var b;switch(b=a.getcontrolkind()){case XFD_CTRLKIND_FIELD:case XFD_CTRLKIND_SPINDATE:case XFD_CTRLKIND_MULTILINE:case XFD_CTRLKIND_CHECKBOX:case XFD_CTRLKIND_RADIOBUTTON:case XFD_CTRLKIND_COMBOBOX:case XFD_CTRLKIND_GRID:case XFD_CTRLKIND_TREEGRID:case XFD_CTRLKIND_MULTILINEGRID:case XFD_CTRLKIND_PAGINGBAR:case XFD_CTRLKIND_SPINNUMBER:case XFD_CTRLKIND_DATE:case XFD_CTRLKIND_SELECTBOX:return!0;default:return!1}},XF_SCREEN.prototype.ispopupscreen=function(){return this.is_popup_screen},XF_SCREEN.prototype.isprintscreen=function(){return this.xf_prop.printscreen},XF_SCREEN.prototype.isshowscreen=function(){return!this.xf_prop.hidden},XF_SCREEN.prototype.isshowscrollbar=function(a){var b;return b=this.xf_content.xf_object.parent(),a==XFD_SB_HORZ?_xfj.ishscrollshow(b):a==XFD_SB_VERT?_xfj.isvscrollshow(b):_xfj.isscrollshow(b)},XF_SCREEN.prototype.alertbox=function(a,b,c,d){return factory.xf_main_factory.is_alertbox_show?!1:(factory.xf_main_factory.is_alertbox_show=!0,this.alertbox_message=a,this.alertbox_title=b,this.alertbox_xf_focus_component=c,this.alertbox_component_value=d,_xfu.async({timeout:0,context:this,func:this._alertbox}),!0)},XF_SCREEN.prototype._alertbox=function(){var a,b,c;return this!=factory.xf_main_factory.focused_xf_screen&&this.alertbox_xf_focus_component?void(factory.xf_main_factory.is_alertbox_show=!1):(b=new XF_SCREEN_ALERTBOX(this,{message:this.alertbox_message,xf_focus_component:this.alertbox_xf_focus_component,component_value:this.alertbox_component_value}),c=this.alertbox_title,void 0!==c&&""!==c||(c=factory._userlang("확인","Confirm")),a=new XF_MODALBOX({xf_screen:this,name:this.xf_prop.internal_name+"_alert",title:c,url:"",xf_content:b.xf_object,padding:10,width:470,height:-1,is_center:!0,is_show_close_button:!1}),b.xf_modalbox=a,a.show(),void b.setfocusbutton())},XF_SCREEN.prototype.messagebox=function(a,b,c,d,e,f){var g,h,i;g=new XF_SCREEN_MSGBOX(this,{id:f,title:b,message:a,box_style:_xfu["int"](c),button_type:_xfu["int"](d),focus_button:_xfu["int"](e),on_button_click:$.proxy(this.on_msgbox_click,this)}),i=470,factory.ismobile()&&(i=310),h=new XF_MODALBOX({xf_screen:this,name:this.xf_prop.internal_name+"_msgbox",title:b,url:"",xf_content:g.xf_object,padding:10,width:i,height:-1,is_center:!0,is_show_close_button:!1}),g.xf_modalbox=h,h.show(),g.setfocusbutton()},XF_SCREEN.prototype.messageboxsync=function(a,b,c,d,e,f){return this.sync_messagebox_info={message:a,title:b,box_style:c,button_type:d,focus_button:e,messagebox_id:f,promise_resolve:null,promise_reject:null},new Promise(this.messageboxsync_executor.bind(this))},XF_SCREEN.prototype.messageboxsync_executor=function(a,b){this.sync_messagebox_info.promise_resolve=a,this.sync_messagebox_info.promise_reject=b,this.messagebox(this.sync_messagebox_info.message,this.sync_messagebox_info.title,this.sync_messagebox_info.box_style,this.sync_messagebox_info.button_type,this.sync_messagebox_info.focus_button,this.sync_messagebox_info.messagebox_id)},XF_SCREEN.prototype.mkcontrolarray=function(a,b,c){var d,e,f,g,h;return b=_xfu.intval(b,0,XFD_MAX_VALUE),c=_xfu.intval(c,0,XFD_MAX_VALUE),b===!1||c===!1?!1:(d=this.getarrayinstbyname(a,b),null==d?!1:d.getcontrolkind()!=XFD_CTRLKIND_PUSHBUTTON?!1:(f=this._getinstancearraybyname(a),null!=f[c]&&void 0!=f[c]?!1:(g=$.extend({},d.xf_parent),h=$.extend({},d.xf_create_prop),h.arrayindex=c,h.control_id=this._newcontrolid(),h.control_id<0?!1:(e=new XF_BUTTON(g,h),e._create(),!0))))},XF_SCREEN.prototype.modifypopupstyle=function(a,b,c,d){this.parent_popupbox?(this.parent_popupbox.xf_prop.is_no_title=!a,this.parent_popupbox.xf_prop.is_show_close_button=b,this.parent_popupbox.xf_prop.is_show_min_button=c,this.parent_popupbox.xf_prop.is_show_max_button=d,this.parent_popupbox._repos(this.parent_popupbox.xf_prop.width,this.parent_popupbox.xf_prop.height,!1,!1)):this.getscreenkind()==XFD_SCREEN_MODELESSPOPUP&&window._xf5_xplus&&window._xf5_xplus("modifypopupstyle",a,b,c,d)},XF_SCREEN.prototype.getportletname=function(){return void 0===this.xf_prop.portlet_name?null:this.xf_prop.portlet_name},XF_SCREEN.prototype.printscreenshot=function(a,b){window.print()},XF_SCREEN.prototype.rebuildtaborder=function(){},XF_SCREEN.prototype.registerevent=function(a,b){return-1==$.inArray(a,this.event_name_arr)?!1:(this.xf_prop[a]=_xfx.funcname(b),!0)},XF_SCREEN.prototype.reloadkeymap=function(){return!0},XF_SCREEN.prototype.requestsubmit=function(a,b){return this.requestsubmitex(a,b,"",!1,"",-1)},XF_SCREEN.prototype.requestsubmitex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;if(l={},s={},t=[],g=this._getxtranmap(a),!g)return!1;if(g.is_processing)return!1;if(u=this._fireonbeforesubmit(a),1!=u)return!1;for(g.is_processing=!0,s.version="VERSION_20150608",s.compress=this.getxtrancompress(),s.screenid=this.xf_prop.screenid,s.screenno=this.xf_prop.directory+this.xf_prop.screenid,s.trancode=this.xf_prop.trancode,s.tranheader=this.xf_prop.tranheader,s.userheader=this.userheader,s.tranmapid=a,h=g.xf_xtds_arr,n=h.length,o=0;n>o;o++)i=g.xf_xtds_arr[o],p=this.xdataset_map[i.id],p||(p=window[i.id]),i.in_op!=XFD_XDATASET_TRAN_NONE&&t.push(p._getxdatasetfortran(g,i,!0)),i.out_op!=XFD_XDATASET_TRAN_NONE&&t.push(p._getxdatasetfortran(g,i,!1));if(l.header=s,l.datasets=t,"json"==factory_xf_param.XTRAN_DATAFORMAT.toLowerCase()?(factory_xf_param.XTRAN_JSONSENDDATAFUNC.length>0&&(m=factory_xf_param.XTRAN_JSONSENDDATAFUNC.split("."),1==m.length&&_xfu.isfunction(window[m[0]])?l=window[m[0]](this,a,l):2==m.length&&_xfu.isfunction(window[m[0]][m[1]])&&(l=window[m[0]][m[1]](this,a,l))),k=JSON.stringify(l)):"xml"==factory_xf_param.XTRAN_DATAFORMAT.toLowerCase()&&(factory_xf_param.XTRAN_XMLSENDDATAFUNC.length>0?(m=factory_xf_param.XTRAN_JSONSENDDATAFUNC.split("."),k=1==m.length&&_xfu.isfunction(window[m[0]])?window[m[0]](this,a,l):2==m.length&&_xfu.isfunction(window[m[0]][m[1]])?window[m[0]][m[1]](this,a,l):this._xtran_json2xml(l)):k=this._xtran_json2xml(l)),factory_xf_param.XTRAN_DATALOG>=1&&(factory.consoleprint("-------------------------------------------"),factory.consoleprint("SEND DATA"),factory.consoleprint("XTRANMAP_ID = "+a),factory.consoleprint(k),factory.consoleprint("-------------------------------------------")),j=factory_xf_param.XTRAN_SENDDATAKEY,j.length>0&&(j+="="),factory_xf_param.XTRAN_URLENCODING&&(k=encodeURIComponent(k)),q=null==c||0==c.length?0==g.xf_prop.url.indexOf("http")?g.xf_prop.url:factory.xf_main_factory.xf_param.XDATASET_BASEURL+g.xf_prop.url:0==c.indexOf("http")?c:factory.xf_main_factory.xf_param.XDATASET_BASEURL+c,q=encodeURI(q),r=void 0===f||0>=f?factory_xf_param.XTRAN_TIMEOUT:_xfu["int"](f),v={},null!==e&&e.length>0)for(x=e.split("\n"),y=x.length,w=0;y>w;w++)z=x[w].split(":"),z.length<2||(A=_xfu.trim(z[0]),z.splice(0,1),B=_xfu.trim(z.join(":")),0!=A.length&&0!=B.length&&(v[A]=B));return b||(this.sync_submit_result_info.mapid=a,this.sync_submit_result_info.result=0,this.sync_submit_result_info.recvuserheader="",this.sync_submit_result_info.recvcode="",this.sync_submit_result_info.recvmsg=""),g.time_before_data_send=new Date,g.jq_xhr=$.ajax({type:"POST",url:q,async:b,crossDomain:!0,xhrFields:{withCredentials:factory_xf_param.XTRAN_WITHCREDENTIALS},contentType:factory_xf_param.XTRAN_AJAXCONTENTTYPE,headers:v,dataType:factory_xf_param.XTRAN_AJAXDATATYPE,data:j+k,timeout:r,complete:$.proxy(this.on_submit_complete(a,b),this)}),!0},XF_SCREEN.prototype.requesttran=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(h=this._gettranmap(a),h||(h=new XF_SCREEN_TRANMAP({xf_screen:this},{fcode:a})),h.is_processing)return!1;if(s=this._fireonbeforesubmit(a),1!=s)return!1;if(h.is_processing=!0,r=d?encodeURIComponent(f):f,i=null==c||0==c.length?factory.xf_main_factory.xf_param.TRAN_BASEURL:0==c.indexOf("http")?c:factory.xf_main_factory.xf_param.TRAN_BASEURL+c,d&&(i=encodeURI(i)),j=void 0===g||0>=g?factory_xf_param.TRAN_TIMEOUT:_xfu["int"](g),k={},null!==e&&e.length>0)for(m=e.split("\n"),n=m.length,l=0;n>l;l++)o=m[l].split(":"),o.length<2||(p=_xfu.trim(o[0]),o.splice(0,1),q=_xfu.trim(o.join(":")),0!=p.length&&0!=q.length&&(k[p]=q));return b||(this.sync_tran_result_info.mapid=a,this.sync_tran_result_info.result=0,this.sync_tran_result_info.recvuserheader="",this.sync_tran_result_info.recvcode="",this.sync_tran_result_info.recvmsg="",this.sync_tran_result_info.recvdata=""),h.time_before_data_send=new Date,h.jq_xhr=$.ajax({type:"POST",url:i,async:b,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:k,dataType:"text",data:r,timeout:j,complete:$.proxy(this.on_tran_complete(a,b),this)}),!0},XF_SCREEN.prototype.savescreenshot=function(a){return!1},XF_SCREEN.prototype.scroll=function(a,b){var c;c=document.documentElement,1==_xfu.ismobile()&&(c=this.xf_object[0]),a=_xfu["int"](a),b=_xfu["int"](b),isNaN(a)||isNaN(b)||(c.scrollLeft=c.scrollLeft+a,c.scrollTop=c.scrollTop+b)},XF_SCREEN.prototype.scrollvert=function(a,b,c,d){return this._scrollto(!0,a,b,c,d)},XF_SCREEN.prototype.scrollhorz=function(a,b,c,d){return this._scrollto(!1,a,b,c,d)},XF_SCREEN.prototype._scrollto=function(a,b,c,d,e){var f,g,h;if(b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1)return!1;if(f=document.documentElement,g=$(document.documentElement),1==_xfu.ismobile()&&(f=this.xf_object[0],g=this.xf_object),g.finish(),void 0===c)a?f.scrollTop=b:f.scrollLeft=b;else{if(c=_xfu.intval(c,0,XFD_MAX_VALUE),c===!1)return!1;if(void 0!==d&&""!=d||(d="swing"),"linear"!==d&&"swing"!==d)return!1;h=a?{scrollTop:b}:{scrollLeft:b},g.animate(h,c,d,function(){void 0!==e&&(1==_xfu.isfunction(window[e])?window[e](c,d):1==_xfu.isfunction(e)&&e(c,d))})}return!0},XF_SCREEN.prototype.scrollpospagenext=function(){var a;a=document.documentElement,1==_xfu.ismobile()&&(a=this.xf_object[0]),a.scrollTop=a.scrollTop+20},XF_SCREEN.prototype.scrollpospageprev=function(){var a;a=document.documentElement,1==_xfu.ismobile()&&(a=this.xf_object[0]),a.scrollTop=a.scrollTop-20},XF_SCREEN.prototype.scrollpostofirst=function(){var a;a=document.documentElement,1==_xfu.ismobile()&&(a=this.xf_object[0]),a.scrollTop=0},XF_SCREEN.prototype.scrollpostolast=function(){var a;a=document.documentElement,1==_xfu.ismobile()&&(a=this.xf_object[0]),a.scrollTop=this.xf_object.height()},XF_SCREEN.prototype.sendcopydata=function(a,b,c,d){},XF_SCREEN.prototype.setcontrolfocusbyctrlid=function(a){var b;b=this.getinstance(a),factory.isobject(b)&&b.setfocus()},XF_SCREEN.prototype.setcontrolfocusbyindex=function(a){var b;b=this.getinstancebyindex(a),factory.isobject(b)&&b.setfocus()},XF_SCREEN.prototype.setcontrolinputtype=function(a,b){var c;return c=this.getinstance(a),factory.isobject(c)?c.setinputtype(b):void 0},XF_SCREEN.prototype.setfocus=function(){return this._setfocus(_XFD_FOCUSTYPE_API,!0)},XF_SCREEN.prototype._setfocus=function(a,b){var c,d,e,f;if(void 0===a&&(a=_XFD_FOCUSTYPE_API),a==_XFD_FOCUSTYPE_API&&this.activate(),a==_XFD_FOCUSTYPE_API||a==_XFD_FOCUSTYPE_CLICK)return null==this.xf_content.focused_object?this.setcontrolfocusfirst(!0):(this.xf_content.focused_object.is_has_focus===!1&&this.xf_content.focused_object._setfocus(a),!0);if(a==_XFD_FOCUSTYPE_NEXT){if(c=this.getscreentab(),1==this.ispopupscreen()||null==c||void 0===c.gettabstop||0==c.gettabstop()){if(factory_xf_param.FOCUS_ROTATE){if(f=this.xf_content.getinstanceall(XF_CONTENT.INSTANCE_ORDER_TAB,!0,!0),f.length<=1)return!1;if(0==this._ishasfocusibleobject(f))return!1;if(e=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_FIRST,!0,b,null),null!=e)return e._setfocus(_XFD_FOCUSTYPE_FIRST),!0}return!1}return d=this.getparent(),null==d?!1:d.setcontrolfocusnext(c,!0,!1,b)}if(a==_XFD_FOCUSTYPE_PREV){if(c=this.getscreentab(),1==this.ispopupscreen()||null==c||void 0===c.gettabstop||0==c.gettabstop()){if(factory_xf_param.FOCUS_ROTATE){if(f=this.xf_content.getinstanceall(XF_CONTENT.INSTANCE_ORDER_TAB,!0,!0),f.length<=1)return!1;if(0==this._ishasfocusibleobject(f))return!1;if(e=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_LAST,!0,b,null),null!=e)return e._setfocus(_XFD_FOCUSTYPE_LAST),!0}return!1}return d=this.getparent(),null==d?!1:d.setcontrolfocusprev(c,!0)}return!1},XF_SCREEN.prototype._ishasfocusibleobject=function(a){var b,c;if(void 0===a&&(a=this.getinstanceall(2)),c=a.length,0==c)return!1;for(b=0;c>b;b++)if(0==_xfx.iscontainercomponent(a[b])){if(!a[b].getenable())continue;if(!a[b].getvisible())continue;if(2!==a[b].xf_prop.input_type&&3!==a[b].xf_prop.input_type)return!0}return!1},XF_SCREEN.prototype.setmodalpopupshowmode=function(a){return a=_xfu.intval(a,1,3),a===!1?!1:null==this.parent_popupbox?!1:this.parent_popupbox.setmodalpopupshowmode(a)},XF_SCREEN.prototype.setpopupdragarea=function(a,b,c,d){this.dragarea_left=a,this.dragarea_top=b,this.dragarea_right=c,this.dragarea_bottom=d},XF_SCREEN.prototype.getzoom=function(){var a;return a=document.body.style.zoom,void 0===a||"auto"==a?100:(a=parseInt(a),isNaN(a)?100:a)},XF_SCREEN.prototype.setzoom=function(a,b){var c,d,e,f,g,h,i;if(a=_xfu.intval(a,10,200),a===!1)return!1;if(document.body.style.zoom=a+"%",void 0!==b&&0==b)return!0;for(c=this._getchildscreencontainercomponent(),f=c.length,e=0;f>e;e++)for(d=c[e],h=d.gettabitemcount(),g=0;h>g;g++)i=d.getchildscreeninstance(g),null!=i&&i.setzoom(a);return!0},XF_SCREEN.prototype.setpopuppos=function(a,b,c,d,e,f,g){var h,i,j,k,l;this.popup_info&&(k=0,l=0,this.parent_popupbox?(this.parent_popupbox.xf_prop.is_center=g,0!=f?(1==f&&(l=0,k=0,0!=this.parent_popupbox.xf_prop.border&&(l=-2,k=-2),0==this.parent_popupbox.xf_prop.is_no_title&&(k-=XF_POPUPBOX.TITLE_BAR_HEIGHT)),this.parent_popupbox.xf_prop.left=a,this.parent_popupbox.xf_prop.top=b,this.parent_popupbox._repos(c+l,d+k,g,e)):g&&this.parent_popupbox._repos(this.parent_popupbox.xf_prop.width,this.parent_popupbox.xf_prop.height,!0,!1)):(0!=f&&(2==f&&(k=this.browser_height_gap,l=this.browser_width_gap),window.resizeTo(c+l,d+k),window._xf5_windowresizeto&&window._xf5_windowresizeto(c+factory_xf_param.XFRAME5BROWSER_MODALESS_POPUP_WIDTH_GAP,d+factory_xf_param.XFRAME5BROWSER_MODALESS_POPUP_HEIGHT_GAP)),1==g?void 0!==this.popup_info.parent_screen&&null!==this.popup_info.parent_screen&&(h=this.popup_info.parent_screen.xf_screen.xf_window,i=parseInt(h.screenX+(h.outerWidth-(c+l))/2,10),j=parseInt(h.screenY+(h.outerHeight-(d+k))/2,10),window.moveTo(i,j),window._xf5_windowmoveto&&window._xf5_windowmoveto(i,j)):e&&(window.moveTo(a,b),window._xf5_windowmoveto&&window._xf5_windowmoveto(a,b))))},XF_SCREEN.prototype.setpopuptitle=function(a){this.popup_info.title=a,null==this.parent_popupbox?document.title=a:(this.parent_popupbox.xf_prop.title=a,this.parent_popupbox.xf_title.text(a))},XF_SCREEN.prototype.setpopuptransparent=function(a){this.parent_popupbox&&this.parent_popupbox.xf_object.css("opacity",a/100)},XF_SCREEN.prototype.setscreenheight=function(a){if(a=_xfu["int"](a,0,XFD_SAFE_MAX_INT),a===!1)return!1;switch(this.xf_prop.height=a,this.original_screen_height=a,this.xf_prop.height_type){case 0:this.xf_object.css("min-height",_xfu.px(a));break;case 1:this.xf_object.css("height",_xfu.px(a))}return!0},XF_SCREEN.prototype.setscreenwidth=function(a){if(a=_xfu["int"](a,0,XFD_SAFE_MAX_INT),a===!1)return!1;switch(this.xf_prop.width=a,this.original_screen_width=a,this.xf_prop.width_type){case 0:this.xf_object.css("min-width",_xfu.px(a));break;case 1:this.xf_object.css("width",_xfu.px(a))}return!0},XF_SCREEN.prototype.getscreenprotect=function(){return this.xf_protect.getprotect()},XF_SCREEN.prototype.setscreenprotect=function(a,b,c){var d;return d=a?this.xf_protect.showprotect(b,c,!0):this.xf_protect.hideprotect(),d&&!a&&this.setfocus(),d},XF_SCREEN.prototype.getscreenprotectimage=function(){return this.xf_protect.getprotectimage()},XF_SCREEN.prototype.setscreenprotectimage=function(a){return this.xf_protect.setprotectimage(a)},XF_SCREEN.prototype.settopmost=function(){},XF_SCREEN.prototype.showpopup=function(a,b){return!1},XF_SCREEN.prototype.gethiddenareavisible=function(){return this.is_hidden_area_visible},XF_SCREEN.prototype.sethiddenareavisible=function(a){var b,c,d;if(this.is_hidden_area_visible!=a)for(this.is_hidden_area_visible=a,c=this.getinstanceall(0),d=c.length,b=0;d>b;b++)1==c[b].xf_prop.in_hidden_area&&c[b].setvisible(a)},XF_SCREEN.prototype.startcopydatawnd=function(a,b){return!1},XF_SCREEN.prototype.submit=function(a,b){return!0},XF_SCREEN.prototype.unload=function(){_xfu.async({func:this._unload,context:this,timeout:0})},XF_SCREEN.prototype._unload=function(){var a;if(void 0!==factory_xf_param.POPUP_UNLOAD_VALUE&&(this.popup_result=factory_xf_param.POPUP_UNLOAD_VALUE),null!=this.parent_menubox)return void factory.closemenu(this.parent_menubox.xf_prop.name);if(null!=this.parent_popupbox)this.parent_popupbox.remove(this.popup_result);else{if(a=factory._on_popup_unload(window,this.popup_info),a===!1)return;this.popup_result="",void 0!==xframe_popup_key&&factory.xf_main_factory.popup_param[window[xframe_popup_key]]&&delete factory.xf_main_factory.popup_param[window[xframe_popup_key]],window.close()}},XF_SCREEN.prototype.unloadportlet=function(){_xfu.async({func:this._unloadportlet,context:this,timeout:0})},XF_SCREEN.prototype._unloadportlet=function(){this.xf_prop.screen_type==_XFD_SCREENTYPE_PORTLET?(this.destroy(),this.xf_content.xf_execution_context[this.xf_prop.portlet_name]=null):this.xf_prop.screen_type==_XFD_SCREENTYPE_PORTLETMENU&&screen.closeportlet(this.xf_prop.portlet_name)},XF_SCREEN.prototype.unloadpopup=function(a,b){return this.popup_result=a,void 0===b&&(b=!0),0==b?this._unloadpopup():void _xfu.async({func:this._unloadpopup,context:this,timeout:0})},XF_SCREEN.prototype._unloadpopup=function(){var a,b;if(null!=this.parent_popupbox)this.parent_popupbox.remove(this.popup_result);else if(this.xf_prop.screen_type==_XFD_SCREENTYPE_PORTLET||this.xf_prop.screen_type==_XFD_SCREENTYPE_PORTLETMENU)this.destroy(),b=this.getparent(),b&&b.closeportlet(this.xf_prop.portlet_name);else{if(a=factory._on_popup_unload(window,this.popup_info),a===!1)return;factory.xf_main_factory.popup_param[window[xframe_popup_key]]&&delete factory.xf_main_factory.popup_param[window[xframe_popup_key]],window.close()}},XF_SCREEN.prototype.setinputrtl=function(a){a?this.xf_object.css("direction","rtl"):this.xf_object.css("direction","ltr")},XF_SCREEN.prototype.getextradata=function(){return this.extra_data},XF_SCREEN.prototype.savefileobject=function(a,b,c){var d,e;if("undefined"==typeof FileReader)return alert("This browser does not support HTML5."),!1;for(e=b.length,d=0;e>d;d++)this._savefileobject(a,b[d],c);return!0},XF_SCREEN.prototype._savefileobject=function(a,b,c){var d,e,f,g,h;d=b.name,e=b.path,f=new FileReader,g=$(f),g.on("load",function(b){h=b.target.result.indexOf(","),factory.base64decodeex(b.target.result.substring(h+1),a+"\\"+d)}),g.on("loadend",function(a){_xfu.isfunction(window[c])&&(f.error?window[c](d,0,f.error.message):window[c](d,1,""))}),f.readAsDataURL(b)},XF_SCREEN.prototype.loadmeta=function(a,b){var c,d,e,f,g;return void 0===a||0==a.length?!1:factory.xf_main_factory.xf_param.USE_METADATA_CACHE&&$.inArray(a,factory.xf_main_factory.meta_url_arr)>=0?!0:(void 0!==b&&null!=b&&""!=b||(f=!1),c=_xfl_httpcacheurl(a),g=!0,$.ajax({url:c,method:"GET",async:f,dataType:"text",success:function(b,c,f){g=!0,d=1,e="",factory.xf_main_factory.xf_param.META_RESOURCE_URL=a,factory.xf_param.META_RESOURCE_URL=a,factory.metadataload(b,a)},error:function(a,b,c){g=!1,d=0,e="("+a.readyState+":"+a.status+") "+a.statusText},complete:function(a,c){_xfu.isfunction(window[b])&&window[b](d,e)}}),g)},XF_SCREEN.prototype.isjsloaded=function(a){var b,c;for(c=this.js_url_arr.length,b=0;c>b;b++)if(this.js_url_arr[b]==a)return!0;return!1},XF_SCREEN.prototype.loadjs=function(a,b){var c,d,e,f;return e=this,1==this.isjsloaded(a)?_xfu.isfunction(window[b])?void window[b](a,!1):(_xfu.isfunction(b)&&b(a,!1),!1):(c=!0,void 0!==b&&null!=b&&""!=b||(c=!1),d=!0,f=_xfl_httpcacheurl(a),$.ajax({url:f,method:"GET",async:c,dataType:"text",cache:void 0===factory_xf_param.USE_CACHE?!1:factory_xf_param.USE_CACHE,error:function(c,e,f){return d=!1,_xfu.ajaxerror({message:"Fail to load javascript file",url:a,jqxhr:c,status:e,error:f,alert:!1}),_xfu.isfunction(window[b])?void window[b](a,!1):void(_xfu.isfunction(b)&&b(a,!1))},success:function(c,d,f){return $.globalEval(c),e._addloadedjsurl(a),_xfu.isfunction(window[b])?void window[b](a,!0):void(_xfu.isfunction(b)&&b(a,!0))}}),d)},XF_SCREEN.prototype.loadstyle=function(a,b){var c,d,e,f;return e=this,c=!0,void 0!==b&&null!=b&&""!=b||(c=!1),d=!0,f=_xfl_httpcacheurl(a),$.ajax({url:f,method:"GET",async:c,dataType:"text",cache:void 0===factory_xf_param.USE_CACHE?!1:factory_xf_param.USE_CACHE,error:function(c,e,f){return d=!1,_xfu.ajaxerror({message:"Fail to load style file",url:a,jqxhr:c,status:e,error:f,alert:!1}),_xfu.isfunction(window[b])?void window[b](a,!1):void(_xfu.isfunction(b)&&b(a,!1))},success:function(c,d,f){return e._styledata(c),_xfu.isfunction(window[b])?void window[b](a,!0):void(_xfu.isfunction(b)&&b(a,!0))}}),d},XF_SCREEN.prototype.loadcss=function(a){_xfj.element("link",a)},XF_SCREEN.prototype.unloadcss=function(a){$("link[rel=stylesheet][href*='"+a+"']").remove()},XF_SCREEN.prototype.getoriginscreenwidth=function(){return this.original_screen_width},XF_SCREEN.prototype.getoriginscreenheight=function(){return this.original_screen_height},XF_SCREEN.prototype._xtranrecvjsondata=function(a){var b,c,d,e,f,g,h,i,j;if(h={},i={},j=[],b=this._getxtranmap(a),null==b)return!1;for(i.userheader="",i.result=1,i.msg_code="",i.msg_content="",c=b.xf_xtds_arr,e=c.length,f=0;e>f;f++)d=b.xf_xtds_arr[f],g=this.xdataset_map[d.id],g||(g=window[d.id]),g&&d.out_op!=XFD_XDATASET_TRAN_NONE&&j.push(g._getxdatasetfortran(b,d,!1));return h.header=i,h.datasets=j,h},XF_SCREEN.prototype.setcontrolfocusfirst=function(a){var b;return void 0===a&&(a=!0),b=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_FIRST,!0,a,null),null==b?this._setfocus(_XFD_FOCUSTYPE_NEXT,!1):b._setfocus(_XFD_FOCUSTYPE_NEXT),!0},XF_SCREEN.prototype.setcontrolfocuslast=function(a){var b;return void 0===a&&(a=!0),b=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_LAST,!0,a,null),null==b?this._setfocus(_XFD_FOCUSTYPE_PREV,!1):b._setfocus(_XFD_FOCUSTYPE_PREV),!0},XF_SCREEN.prototype.setcontrolfocusnext=function(a,b,c,d){var e,f,g;for(void 0===c&&(c=!1),void 0===d&&(d=!0),f=a,g=0;;){if(g++,g>100)return!1;if(!f.xf_parent||!f.xf_parent.xf_content)break;if(e=f.xf_parent.xf_content.xf_parent_content?f.xf_parent.xf_content.xf_parent_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,b,d,f):f.xf_parent.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,b,d,f),null==e)break;if(1!=c||0!=e.getenterstop()){if(2!==e.xf_prop.input_type&&3!==e.xf_prop.input_type){
if(e.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON&&factory_xf_param.RADIOBUTTON_FOCUS_SELECTGROUP)if(f.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON){if(f.getselectgroup()==e.getselectgroup()){f=e;continue}e._setfocus(_XFD_FOCUSTYPE_NEXT)}else e._setfocus(_XFD_FOCUSTYPE_NEXT);else e._setfocus(_XFD_FOCUSTYPE_NEXT);return!0}f=e}else f=e}for(f=a,g=0;;){if(g++,g>100)return!1;if(e=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,!1,d,f),null==e)return this._setfocus(_XFD_FOCUSTYPE_NEXT,!1);if(1!=e.gettabstop()||0!=c&&!e.getenterstop())return this.setcontrolfocusnext(e,b,c,!0);if(2!==e.xf_prop.input_type&&3!==e.xf_prop.input_type){if(e.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON&&factory_xf_param.RADIOBUTTON_FOCUS_SELECTGROUP)if(f.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON){if(f.getselectgroup()==e.getselectgroup()){f=e;continue}e._setfocus(_XFD_FOCUSTYPE_NEXT)}else e._setfocus(_XFD_FOCUSTYPE_NEXT);else e._setfocus(_XFD_FOCUSTYPE_NEXT);return!0}f=e}return!0},XF_SCREEN.prototype.setcontrolfocusnext_20190717=function(a,b,c,d){var e;return void 0===c&&(c=!1),void 0===d&&(d=!0),a.xf_parent&&a.xf_parent.xf_content&&(e=a.xf_parent.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,b,d,a),null!=e&&(0==c||e.getenterstop()))?(e._setfocus(_XFD_FOCUSTYPE_NEXT),!0):(e=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,!1,d,a),null==e?this._setfocus(_XFD_FOCUSTYPE_NEXT,!1):(1!=e.gettabstop()||0!=c&&!e.getenterstop()?this.setcontrolfocusnext(e,b,c,!0):e._setfocus(_XFD_FOCUSTYPE_NEXT),!0))},XF_SCREEN.prototype.setcontrolfocusnext_asis=function(a,b,c,d){var e;return void 0===c&&(c=!1),void 0===d&&(d=!0),a.xf_parent&&a.xf_parent.xf_content&&(e=a.xf_parent.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,b,d,a),null!=e)?(e._setfocus(_XFD_FOCUSTYPE_NEXT),!0):(e=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,!1,d,a),null==e?this._setfocus(_XFD_FOCUSTYPE_NEXT,!1):1==e.gettabstop()?e._setfocus(_XFD_FOCUSTYPE_NEXT):this.setcontrolfocusnext(e,b,!1,!0),!0)},XF_SCREEN.prototype.setcontrolfocusprev=function(a,b,c){var d,e,f;for(void 0===c&&(c=!1),e=a,f=0;;){if(f++,f>100)return!1;if(!e.xf_parent||!e.xf_parent.xf_content)break;if(d=e.xf_parent.xf_content.xf_parent_content?e.xf_parent.xf_content.xf_parent_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_PREV,b,!0,e):e.xf_parent.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_PREV,b,!0,e),null==d)break;if(1!=c||0!=d.getenterstop()){if(2!==d.xf_prop.input_type&&3!==d.xf_prop.input_type){if(d.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON&&factory_xf_param.RADIOBUTTON_FOCUS_SELECTGROUP)if(e.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON){if(e.getselectgroup()==d.getselectgroup()){e=d;continue}d._setfocus(_XFD_FOCUSTYPE_PREV)}else d._setfocus(_XFD_FOCUSTYPE_PREV);else d._setfocus(_XFD_FOCUSTYPE_PREV);return!0}e=d}else e=d}for(e=a,f=0;;){if(f++,f>100)return!1;if(d=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_PREV,!1,!0,e),null==d)return this._setfocus(_XFD_FOCUSTYPE_PREV);if(1!=d.gettabstop()||0!=c&&!d.getenterstop())return this.setcontrolfocusprev(d,b,!0);if(2!==d.xf_prop.input_type&&3!==d.xf_prop.input_type){if(d.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON&&factory_xf_param.RADIOBUTTON_FOCUS_SELECTGROUP)if(e.getcontrolkind()==XFD_CTRLKIND_RADIOBUTTON){if(e.getselectgroup()==d.getselectgroup()){e=d;continue}d._setfocus(_XFD_FOCUSTYPE_PREV)}else d._setfocus(_XFD_FOCUSTYPE_PREV);else d._setfocus(_XFD_FOCUSTYPE_PREV);return!0}e=d}return!0},XF_SCREEN.prototype.setcontrolfocusprev_20190717=function(a,b,c){var d;return void 0===c&&(c=!1),a.xf_parent&&a.xf_parent.xf_content&&(d=a.xf_parent.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_PREV,b,!0,a),null!=d&&(0==c||d.getenterstop()))?(d._setfocus(_XFD_FOCUSTYPE_PREV),!0):(d=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_PREV,!1,!0,a),null==d?this._setfocus(_XFD_FOCUSTYPE_PREV):1!=d.gettabstop()||0!=c&&!d.getenterstop()?this.setcontrolfocusprev(d,b,!0):d._setfocus(_XFD_FOCUSTYPE_PREV),!0)},XF_SCREEN.prototype.getcontrolfocusnext=function(a,b){return this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_NEXT,b,!0,a)},XF_SCREEN.prototype.getcontrolfocusprev=function(a,b){return this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_PREV,b,!0,a)},XF_SCREEN.prototype.postmessage=function(a,b){b||(b="*"),this.xf_window.postMessage(a,b)},XF_SCREEN.prototype.loadportlet=function(a,b,c,d,e,f,g,h,i,j){var k;b=factory._callbackscreenurl(b,3,this,null),this.closeportlet(a),k=new XF_PORTLETBOX(this,this.xf_content.xf_execution_context.screen,{portlet_name:a,x:c,y:d,is_horz_center:e,is_vert_center:f,is_modal_style:g,width:h,height:i,link_screen:b,extra_data:j}),this.portlet_map[a]=k},XF_SCREEN.prototype.loadportletpopupsync=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return this.sync_popup_info={popup_name:a,screen_url:b,title:c,is_no_title:d,border_style:e,window_x:f,window_y:g,width:h,height:i,is_center:j,is_auto_portlet_size:k,is_maximize:l,parent_screen:this,extra_data:m,promise_resolve:null,promise_reject:null},new Promise(this.loadportletpopupsync_executor.bind(this))},XF_SCREEN.prototype.loadportletpopupsync_executor=function(a,b){this.sync_popup_info.promise_resolve=a,this.sync_popup_info.promise_reject=b,this._loadportletpopup(this.sync_popup_info.popup_name,this.sync_popup_info.screen_url,this.sync_popup_info.title,this.sync_popup_info.is_no_title,this.sync_popup_info.border_style,this.sync_popup_info.window_x,this.sync_popup_info.window_y,this.sync_popup_info.width,this.sync_popup_info.height,this.sync_popup_info.is_center,this.sync_popup_info.is_auto_portlet_size,this.sync_popup_info.is_maximize,this.sync_popup_info.extra_data,this.sync_popup_info.promise_resolve,this.sync_popup_info.promise_reject)},XF_SCREEN.prototype.loadportletpopup=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return this._loadportletpopup(a,b,c,d,e,f,g,h,i,j,k,l,m)},XF_SCREEN.prototype._loadportletpopup=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p;return 0==a.length&&(a=this.xf_prop.screenid+"_portletpopup_"+_xfu.uuid(),this.sync_popup_info&&(this.sync_popup_info.popup_name=a)),b=factory._callbackscreenurl(b,1,this,null),this.portlet_map[a]?(factory.error("============================================================"),factory.error("loadpopup  : 동일한 팝업이 이미 존재 합니다"),factory.error("popup name : "+a),factory.error("popup url(기존) : "+b),factory.error("============================================================"),n&&n(!1),!1):(p=new XF_POPUPBOX({name:a,title:c,url:b,border:e,left:f,top:g,width:h,height:i,is_no_title:d,is_show_close_button:!0,is_center:j,is_maximize:l,is_portlet_popup:!0,auto_sizing:k,parent_screen:this.xf_content.xf_execution_context.screen,extra_data:m,promise_resolve:n,promise_reject:o}),this.portlet_map[a]=p,!0)},XF_SCREEN.prototype._unregister_portlet=function(a){this.portlet_map[a]&&delete this.portlet_map[a]},XF_SCREEN.prototype.closeportlet=function(a){this.portlet_map[a]&&(this.portlet_map[a].destroy(),delete this.portlet_map[a],this.xf_content.xf_execution_context[a]=null)},XF_SCREEN.prototype.findportlet=function(a){return this.portlet_map[a]&&this.portlet_map[a].is_load_complete?this.xf_content.xf_execution_context[a]:null},XF_SCREEN.prototype.findportletpopup=function(a){return this.portlet_map[a]&&this.portlet_map[a].is_load_complete?this.portlet_map[a].xf_screen:null},XF_SCREEN.prototype.getgeolocation=function(a){return navigator.geolocation?(navigator.geolocation.getCurrentPosition($.proxy(this.on_geolocation_success,this,a),$.proxy(this.on_geolocation_fail,this,a)),!0):!1},XF_SCREEN.prototype.httpgetfile=function(a,b,c){var d,e,f,g;return f=this,g="",void 0===b&&(b=!0),b&&(a=encodeURI(a)),d=!0,void 0!==c&&null!=c&&""!=c||(d=!1),$.ajax({url:a,method:"GET",async:d,dataType:"text",crossDomain:!0,xhrFields:{withCredentials:!0},cache:!1,error:function(b,d,h){_xfu.ajaxerror({message:"Fail to load file",url:a,jqxhr:b,status:d,error:h,alert:!1}),e=_xfx.callback(f.xf_content,c),e&&e(a,0,b.status,h,""),g=-1},success:function(b,d,h){e=_xfx.callback(f.xf_content,c),e?e(a,1,0,"",b):g=b}}),g},XF_SCREEN.prototype.selectlocalfile=function(a,b,c){var d;d=[],void 0===this.xf_file_select||null==this.xf_file_select?(d.push('<input type="file" style=""'),a.length>0&&d.push(' accept="'+a+'"'),1==b&&d.push(" multiple"),d.push("/>"),this.xf_file_select=$(d.join("")),this.xf_file_select.on("change",$.proxy(this.on_file_change,this,c))):(0==a.length?this.xf_file_select.attr("accept","*/*"):this.xf_file_select.attr("accept",a),1==b?this.xf_file_select.attr("multiple","multiple"):this.xf_file_select.removeAttr("multiple")),this.xf_file_select.trigger("click")},XF_SCREEN.prototype.on_file_change=function(a,b){var c,d;if(0!=this.xf_file_select[0].files.length){if(c=this.xf_file_select.val(),d=this.xf_file_select[0].files[0],_xfu.isfunction(this.xf_content.xf_execution_context[a]))return void this.xf_content.xf_execution_context[a](this.xf_file_select[0].files);_xfu.isfunction(a)&&a(this.xf_file_select[0].files),this.xf_file_select.val("")}},XF_SCREEN.prototype.getscreencontentrect=function(){var a,b,c,d,e,f,g,h,i;for(this.xf_window=window,c=this.xf_window.screen,d=c.xf_screen,b=factory.getmainscrinstance(),g=0,h=0,i=0;;){if(g++,g>100)break;if(c===b)break;if(a=c.getscreentab(),!a)break;if(d.parent_tabpanel?e=d.parent_tabpanel:d.portlet_tabpanel&&(e=d.portlet_tabpanel),f=e.xf_object.offset(),h+=f.left,i+=f.top,c=a.getparentscrinstance(),!c)break;d=c.xf_screen}return[_xfu["int"](h),_xfu["int"](i),_xfu["int"](h+window.innerWidth),_xfu["int"](i+window.innerHeight)]},XF_SCREEN.prototype.savescreenshot=function(a){return this.xf_window._xf5_savescreenshot?this.xf_window._xf5_savescreenshot(a):!1},XF_SCREEN.prototype.forcepaint=function(a){if(void 0==a)a=0;else if(a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1)return null;return new Promise(function(b,c){setTimeout(function(){b("resolved")},a)})},XF_SCREEN.prototype.hidemainloadstatus=function(){this.xf_main_screen.xf_mainloadstatus&&this.xf_main_screen.xf_mainloadstatus.fadeOut()},XF_SCREEN.prototype.addmainloadstatus=function(a){var b,c,d,e,f,g;null!=this.xf_main_screen.xf_mainloadstatus&&(b=new Date,d=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=b.getMilliseconds(),10>d&&(d="0"+d),10>e&&(e="0"+e),10>f&&(f="0"+f),10>g?g="00"+g:100>g&&(g="0"+g),c=d+":"+e+":"+f+"."+g,this.xf_main_screen.xf_mainloadstatus.append('<span style="display:block;">'+c+"> "+a+"</a>"),this.xf_main_screen.xf_mainloadstatus.scrollTop(1e6))},XF_SCREEN.prototype.windowmoveby=function(a,b){window._xf5_xplus?window._xf5_xplus("windowmoveby",a,b):window.moveBy(a,b)},XF_SCREEN.prototype.windowmoveto=function(a,b){window._xf5_windowmoveto?window._xf5_windowmoveto(a,b):window.moveTo(a,b)},XF_SCREEN.prototype.windowresizeby=function(a,b){window._xf5_xplus?window._xf5_xplus("windowresizeby",a,b):window.resizeBy(a,b)},XF_SCREEN.prototype.windowresizeto=function(a,b){window._xf5_windowresizeto?window._xf5_windowresizeto(a,b):window.resizeTo(x,y)},XF_SCREEN_ATTRMAP.prototype._init=function(a){this.control_kind=XFD_CTRLKIND_NONE,this.object_kind=XFD_OBJKIND_NONE,this.xf_parent=a,this.map_info_arr=[]},XF_SCREEN_ATTRMAP.prototype._prop=function(a){this.xf_prop_type={defaultmap:XFD_PROP_BOOL},this.xf_prop={id:"",defaultmap:!1,mapinfo:""},_xfx.prop(this,this.xf_prop,this.xf_prop_type,a),$.extend(this.xf_prop,a)},XF_SCREEN_ATTRMAP.prototype._mapinfo=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;for(a=this.xf_prop.mapinfo.split("/"),b=a.length,c=0;b>c;c++){if(d=a[c],g=d.split(";"),h=g.length,e=g[0].split(":"),f=e.length,3==f)i={control_id:_xfu["int"](e[0]),sub_row_count:1,attr:e[1],column_map_info_arr:[]};else{if(4!=f)continue;i={control_id:_xfu["int"](e[0]),sub_row_count:_xfu["int"](e[1]),attr:e[2],column_map_info_arr:[]}}if(this.map_info_arr.push(i),h>1)for(e=g[1].split(":"),f=e.length,f>0&&f--,l=f/i.sub_row_count,n=0,m=0;m<i.sub_row_count;m++)for(k=0;l>k;k++)j={attr:e[n],sub_row_index:m,column_index:k},n+=1,i.column_map_info_arr.push(j)}},XF_SCREEN_ATTRMAP.prototype._create=function(){this.xf_parent.xf_screen._addattrmap(this)},XF_SCREEN_ATTRMAP.prototype._getattrmapinfobyindex=function(a){return a=_xfu["int"](a),this.map_info_arr[a]},XF_SCREEN_ATTRMAP.prototype._getattrmapinfobyid=function(a){var b,c;for(c=this.map_info_arr.length,b=0;c>b;b++)if(this.map_info_arr[b].control_id==a)return this.map_info_arr[b]},XF_SCREEN_ATTRMAP.prototype._getattrmapprop=function(a,b,c){var d;return d=this._getattrmapinfobyindex(a),void 0==d?c:d[b]},XF_SCREEN_ATTRMAP.prototype._getgridattrmapprop=function(a,b,c,d){var e,f;return e=this._getattrmapinfobyid(a),void 0==e?d:(b=_xfu["int"](b),f=e.column_map_info_arr[b],void 0===f?d:f[c])},XF_SCREEN_ATTRMAP.prototype.getattrmapcount=function(){return this.map_info_arr.length},XF_SCREEN_ATTRMAP.prototype.getattrmapobjcontrolid=function(a){return this._getattrmapprop(a,"control_id",-1)},XF_SCREEN_ATTRMAP.prototype.getattrmapobjattribute=function(a){var b,c;for(c=this.map_info_arr.length,b=0;c>b;b++)if(a==this.map_info_arr[b].control_id)return this.map_info_arr[b].attr;return""},XF_SCREEN_ATTRMAP.prototype.getgridattrmapcolumn=function(a,b){return this._getgridattrmapprop(a,b,"column_index",-1)},XF_SCREEN_ATTRMAP.prototype.getgridattrmapcount=function(a){var b;return b=this._getattrmapinfobyid(a),void 0===b?0:b.column_map_info_arr.length},XF_SCREEN_ATTRMAP.prototype.getgridattrmapsubrow=function(a,b){return this._getgridattrmapprop(a,b,"sub_row_index",-1)},XF_SCREEN_CONTENT.prototype._init=function(a){this.xf_map=a,this.xf_parent=a,this.xf_screen=a.xf_screen,this.css_arr=[]},XF_SCREEN_CONTENT.prototype._prop=function(a){void 0===a.height&&(a.height="500"),void 0===a.width&&(a.width="812"),void 0===a.directory&&(a.directory="/"),this.xf_prop=$.extend({},this.xf_screen.xf_prop),_xfu.isfunction(window._xf_beforecreatescreen)&&window._xf_beforecreatescreen(a),this.xf_prop.internal_name="_xf_screen_"+a.screenid,this.xf_prop.name=this.xf_prop.internal_name,this.window_id=this.xf_prop.screenid+"_"+_xfu.uuid(),_xfx.style(this,a),_xfx.propconv(this,this.xf_prop,a),_xfx.propevent(this,this.xf_prop,a,this.xf_screen.event_name_arr),$.extend(this.xf_prop,a),this._css(a)},XF_SCREEN_CONTENT.prototype._css=function(a){var b,c,d,e;void 0===a.back_color&&(a.back_color=this.xf_prop.back_color),void 0!==a.docbody_backcolor&&_xfc.basic("docbody_backcolor",this.xf_prop.docbody_backcolor,!0,$(document.body)),_xfx.propcss(this,a,this.css_arr,["position","back_imagefillstyle","back_imagesize"]),_xfx.propbackcolor(this,a,this.css_arr),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),0==this.xf_prop.width_type?(this.css_arr.push("width:100%;"),this.css_arr.push("min-width:"+_xfu.px(this.xf_prop.width)+";")):1==this.xf_prop.width_type?this.css_arr.push("width:",_xfu.px(this.xf_prop.width)+";"):2==this.xf_prop.width_type&&this.css_arr.push("width:100%;"),0==this.xf_prop.height_type?(this.css_arr.push("height:100%;"),this.css_arr.push("min-height:"+_xfu.px(this.xf_prop.height)+";")):1==this.xf_prop.height_type?this.css_arr.push("height:",_xfu.px(this.xf_prop.height)+";"):2==this.xf_prop.height_type&&this.css_arr.push("height:100%;"),b=_xfc.cssinfo(this.css_arr),this.xf_parent.xf_content.xf_object.css(b),e=this.xf_parent.xf_content.xf_object.closest("._xf_tab_panel"),e.length>0&&(_xfc.backcolor(e,this.xf_prop.transparent,this.xf_prop.back_color,this.xf_prop.back_color_opacity),c=[],c.push(_xfc.basic("horzscrollbar_style",this.xf_prop.horzscrollbar_style,!1,null)),c.push(_xfc.basic("vertscrollbar_style",this.xf_prop.vertscrollbar_style,!1,null)),d=_xfc.cssinfo(c),e.css(d))},XF_SCREEN_CONTENT.prototype._create=function(a){var b,c,d;for(window.xf_screen.container_tabpanel=a,window.xf_screen.extra_data=a.xf_item.xf_prop.extra_data,window.xf_screen.xf_virtual_docbody=this.xf_parent.xf_content.xf_object,window.xf_screen.virtual_docbody=this.xf_parent.xf_content.xf_object[0],window.xf_screen.id_map={},d=["width","width_type","height","height_type"],c=d.length,b=0;c>b;b++)this.xf_prop["screencontent_"+d[b]]=this.xf_prop[d[b]],delete this.xf_prop[d[b]];this.xf_screen._offevent(),$.extend(window.xf_screen.xf_prop,this.xf_prop),this.xf_screen._event()},XF_SCREEN.prototype._on_tabitemcreate=function(a,b){var c,d;1!=this.is_onloadevent_fired&&0!=factory_xf_param.EVENTFIRE_SYNC_SCREENONLOAD&&(d=a.getinnerscreenurl(b),0!=d.length&&(c=this._ischildscreenloadcomplete(this.xf_childscreencontainercomponent_arr),c&&_xfu.async({func:this._fireonload,context:this})))},XF_SCREEN.prototype._getchildscreencontainercomponent=function(){var a,b,c;for(a=this.getinstanceall(0),c=a.length,b=c-1;b>=0;b--)a[b].getcontrolkind()!=XFD_CTRLKIND_TAB&&a.splice(b,1);return a},XF_SCREEN.prototype._ischildscreenloadcomplete=function(a){var b,c;for(c=a.length,b=0;c>b;b++)if(!a[b].isloadcomplete())return!1;return!0},XF_SCREEN.prototype.on_screen_create=function(){var a;a=!0,1!=factory_xf_param.EVENTFIRE_SYNC_SCREENONLOAD&&0!=factory_xf_param.EVENTFIRE_BEFORE_SCREENONLOAD||(this.xf_childscreencontainercomponent_arr=this._getchildscreencontainercomponent(),1==factory_xf_param.EVENTFIRE_SYNC_SCREENONLOAD&&(this._ischildscreenloadcomplete(this.xf_childscreencontainercomponent_arr)||(a=!1))),XFD_SCREEN_MODELESSPOPUP!=window.xframe_screen_kind||this._iscontentscreen()||0==this.popup_info.is_maximize&&(this.popup_info.auto_sizing?this.setpopuppos(this.popup_info.left,this.popup_info.top,this.getoriginscreenwidth(),this.getoriginscreenheight(),!0,2,this.popup_info.is_center):this.setpopuppos(this.popup_info.left,this.popup_info.top,this.popup_info.width,this.popup_info.height,!0,2,this.popup_info.is_center)),this.container_tabpanel&&this.container_tabpanel.on_screen_load(this),a&&this._fireonload(),$(window).trigger("resize."+this.xf_prop.internal_name,!0)},XF_SCREEN.prototype.on_screen_createcomplete=function(){this._fireonload()},XF_SCREEN.prototype.on_object_dragover=function(a){this.xf_prop.accept_drop&&a.preventDefault()},XF_SCREEN.prototype.on_object_drop=function(a){a.preventDefault(),factory.xf_main_factory.xf_drag.object_kind!=XFD_OBJKIND_NONE&&(this._fireondropcomplete(factory.xf_main_factory.xf_drag.xf_screen,factory.xf_main_factory.xf_drag.xf_component),factory._resetdraginfo())},XF_SCREEN.prototype.on_window_focus=function(a){this._fireonactivate()},XF_SCREEN.prototype.on_window_blur=function(a){this._fireondeactivate()},XF_SCREEN.prototype.on_window_message=function(a){var b,c;if(a.originalEvent.data){if(c=a.originalEvent.data.substring(0,XF_FACTORY.FACTORY_MESSAGE_PREFIX.length),c==XF_FACTORY.FACTORY_MESSAGE_PREFIX)return;b=a.originalEvent.source.xf_screen,this._fireonpostmessage(a.originalEvent.data,a.originalEvent.origin,b)}},XF_SCREEN.prototype.on_window_scroll=function(a){var b,c,d,e;0==_xfu.ismobile()?(c=document.body.scrollLeft+document.documentElement.scrollLeft,b=document.body.scrollTop+document.documentElement.scrollTop,0==c?e=0:(e=c/(document.documentElement.scrollWidth-document.documentElement.clientWidth),e=Math.round(100*e)),0==b?d=0:(d=b/(document.documentElement.scrollHeight-document.documentElement.clientHeight),d=Math.floor(100*d))):(c=this.xf_object[0].scrollLeft,b=this.xf_object[0].scrollTop,0==c?e=0:(e=c/(this.xf_object[0].scrollWidth-this.xf_object[0].clientWidth),e=Math.round(100*e)),0==b?d=0:(d=b/(this.xf_object[0].scrollHeight-this.xf_object[0].clientHeight),d=Math.floor(100*d))),this._fireonscroll(c,b,e,d,!0)},XF_SCREEN.prototype.on_content_scroll=function(a){var b,c,d,e;c=this.virtual_docbody.scrollLeft,b=this.virtual_docbody.scrollTop,0==c?e=0:(e=c/(this.virtual_docbody.scrollWidth-this.virtual_docbody.clientWidth),e=Math.round(100*e)),0==b?d=0:(d=b/(this.virtual_docbody.scrollHeight-this.virtual_docbody.clientHeight),d=Math.round(100*d)),this._fireonscroll(c,b,e,d,!1)},XF_SCREEN.prototype.on_body_click=function(a){},XF_SCREEN.prototype.on_body_help=function(a){return!1},XF_SCREEN.prototype.on_body_contextmenu=function(a){void 0!==factory_xf_param.IS_DEV_MODE&&0!=factory_xf_param.IS_DEV_MODE||a.preventDefault(),this._fireonrclick(a.pageX,a.pageY)},XF_SCREEN.prototype.load=function(a){},XF_SCREEN.prototype._process_hotkey=function(a){var b=XFD_HOTKEY_NONE;return XFD_KEY_F1<=a.keyCode&&a.keyCode<=XFD_KEY_F12&&(!a.altKey||a.ctrlKey||a.shiftKey||(b+=XFD_HOTKEY_ALT),a.altKey||!a.ctrlKey||a.shiftKey||(b+=XFD_HOTKEY_CTRL),a.altKey||a.ctrlKey||!a.shiftKey||(b+=XFD_HOTKEY_SHIFT),b+=a.keyCode-XFD_KEY_F1+1),this.hotkey_map[b]?(this.hotkey_map[b].xf_object.trigger("mouseup",!0),!0):!1},XF_SCREEN.prototype.on_document_keydown=function(a){var b,c;return c=!1,b=a.target.tagName,b&&(b=b.toUpperCase(),"BODY"==b&&(c=!0)),1==c?this.on_object_keydown(a,c):void 0},XF_SCREEN.prototype.on_object_keydown=function(a,b){void 0===b&&(b=!1);var c;if(this._process_hotkey(a))return!1;if(c=factory._firekeyevent(this,a,!0,"on_prekeydown"),1!=c){if(c=factory._firekeyevent(this,a,!0,"on_keydown"),1==c)return;switch(_xfu["int"](window.xframe_screen_kind)){case XFD_SCREEN_TABLINK:this.parent_tabpanel&&this.parent_tabpanel.xf_panel_content&&this.parent_tabpanel.xf_panel_content.trigger(a);break;case XFD_SCREEN_MODALPOPUP:if(a.which==XFD_KEY_ESC)return void screen.unloadpopup(0);this.parent_popupbox&&this.parent_popupbox.xf_prop&&this.parent_popupbox.xf_prop.parent_screen&&this.parent_popupbox.xf_prop.parent_screen.xf_screen.xf_object&&this.parent_popupbox.xf_prop.parent_screen.xf_screen.xf_object.trigger(a);break;case XFD_SCREEN_MODELESSPOPUP:if(a.which==XFD_KEY_ESC)return void screen.unloadpopup(0);this.popup_info&&this.popup_info.parent_screen&&this.popup_info.parent_screen.xf_screen&&this.popup_info.parent_screen.xf_screen.xf_object&&this.popup_info.parent_screen.xf_screen.xf_object.trigger(a);break;case XFD_SCREEN_MENU:if(a.which==XFD_KEY_ESC)return void screen.unload();this.parent_menubox&&this.parent_menubox.xf_menu_parent_screen&&this.parent_menubox.xf_menu_parent_screen.xf_screen&&this.parent_menubox.xf_menu_parent_screen.xf_screen.xf_object&&this.parent_menubox.xf_menu_parent_screen.xf_screen.xf_object.trigger(a);break;case XFD_SCREEN_SLIDELINK:this.parent_slideitem.xf_item_content.trigger(a)}}},XF_SCREEN.prototype.on_object_keyup=function(a){var b;if(b=factory._firekeyevent(this,a,!0,"on_keyup"),1!=b)switch(_xfu["int"](window.xframe_screen_kind)){case XFD_SCREEN_TABLINK:this.parent_tabpanel&&this.parent_tabpanel.xf_panel_content&&this.parent_tabpanel.xf_panel_content.trigger(a);break;case XFD_SCREEN_MODALPOPUP:this.parent_popupbox&&this.parent_popupbox.xf_prop&&this.parent_popupbox.xf_prop.parent_screen&&this.parent_popupbox.xf_prop.parent_screen.xf_screen.xf_object&&this.parent_popupbox.xf_prop.parent_screen.xf_screen.xf_object.trigger(a);break;case XFD_SCREEN_MODELESSPOPUP:this.popup_info&&this.popup_info.parent_screen&&this.popup_info.parent_screen.xf_screen&&this.popup_info.parent_screen.xf_screen.xf_object&&this.popup_info.parent_screen.xf_screen.xf_object.trigger(a);break;case XFD_SCREEN_MENU:this.parent_menubox&&this.parent_menubox.xf_menu_parent_screen&&this.parent_menubox.xf_menu_parent_screen.xf_screen&&this.parent_menubox.xf_menu_parent_screen.xf_screen.xf_object&&this.parent_menubox.xf_menu_parent_screen.xf_screen.xf_object.trigger(a)}},XF_SCREEN.prototype.on_object_destroy=function(a){var b;return b=this._fireondestroy(),1==b&&(this.is_expired=!0,this.destroy()),b},XF_SCREEN.prototype.on_object_mousedown=function(a){var b,c,d;this.getscreenkind()!=XFD_SCREEN_MENU&&factory.closeallmenu(),"INPUT"!=a.target.tagName.toUpperCase()&&(b=$(a.target),c=b.closest("._xf_btn"),c.length>0||(a.target.className.indexOf("_xf_screen")>-1&&(0==this.xf_prop.click_setfocus&&(a.preventDefault(),this._setfocus(_XFD_FOCUSTYPE_CLICK)),this._fireonclick(a.pageX,a.pageY)),this.parent_popupbox&&this.parent_popupbox.on_object_mousedown(a),this.getscreenkind()==XFD_SCREEN_MODELESSPOPUP&&(d=_xfj.eventpagexy(a),this.dragarea_left<d.x&&d.x<this.dragarea_right&&this.dragarea_top<d.y&&d.y<this.dragarea_bottom&&(this.is_modaless_window_move=!0,this.event_screen_xy=_xfj.eventscreenxy(a),this._docevent(),a.stopPropagation())),this.parent_tabpanel&&this.parent_tabpanel.on_iframe_mousedown(a),this.parent_slideitem&&this.parent_slideitem.on_iframe_mousedown(a)))},XF_SCREEN.prototype.on_document_mouseup=function(a){this.is_modaless_window_move&&(this.on_document_mousemove(a),this.is_modaless_window_move=!1,this._offdocevent(),a.stopPropagation())},XF_SCREEN.prototype.on_document_mousemove=function(a){var b;this.is_modaless_window_move&&(b=_xfj.eventscreenxy(a),this.windowmoveby(b.x-this.event_screen_xy.x,b.y-this.event_screen_xy.y),this.event_screen_xy=b,a.stopPropagation())},XF_SCREEN.prototype.on_window_resize=function(a,b,c){void 0===c&&(c=!1),(b||1!=this.xf_prop.width_type||1!=this.xf_prop.height_type||0!=c)&&(0==document.body.clientWidth&&0==document.body.clientHeight||(this.on_object_resize(b,c),_xf_param.MAINSCREEN_CENTER&&this.is_main_screen&&_xfj.hcenter($(document.body),this.xf_object),this.is_load_complete&&this._fireonsize(document.body.clientWidth,document.body.clientHeight),1==this.xf_prop.width_type&&1==this.xf_prop.height_type||b||_xfu.async({func:this.on_object_resize,context:this})))},XF_SCREEN.prototype.on_object_resize=function(a,b){this.xf_content.on_content_resize(a,b)},XF_SCREEN.prototype.on_geolocation_success=function(a,b){var c;c=_xfx.callback(this.xf_content,a),c&&c(0,"",b.coords.latitude,b.coords.longitude,b.coords.accuracy)},XF_SCREEN.prototype.on_geolocation_fail=function(a,b){var c;c=_xfx.callback(this.xf_content,a),c&&c(b.code,b.message,-1,-1,0)},XF_SCREEN_EXT.prototype.print=function(){return xf_screen.print()},XF_SCREEN_EXT.prototype.printpreview=function(){return xf_screen.printpreview()},XF_SCREEN_EXT.prototype.activate=function(){return xf_screen.activate()},XF_SCREEN_EXT.prototype.addgxdatasetinxtranmap=function(a){return xf_screen.addgxdatasetinxtranmap(a)},XF_SCREEN_EXT.prototype.removegxdatasetinxtranmap=function(a){return xf_screen.removegxdatasetinxtranmap(a)},XF_SCREEN_EXT.prototype.addxtranmap=function(a,b,c){return xf_screen.addxtranmap(a,b,c)},XF_SCREEN_EXT.prototype.addxdataset=function(a,b){return xf_screen.addxdataset(a,b)},XF_SCREEN_EXT.prototype.addxdatasetinxtranmap=function(a){return xf_screen.addxdatasetinxtranmap(a)},XF_SCREEN_EXT.prototype.alert=function(a,b){return xf_screen.alert(a,b)},XF_SCREEN_EXT.prototype.alertbox=function(a,b,c,d){return xf_screen.alertbox(a,b,c,d)},XF_SCREEN_EXT.prototype.applyattributemap=function(a){return xf_screen.applyattributemap(a)},XF_SCREEN_EXT.prototype.applytraniomap=function(a,b,c){return xf_screen.applytraniomap(a,b,c)},XF_SCREEN_EXT.prototype.applytranmap=function(a,b,c,d){return xf_screen.applytranmap(a,b,c,d)},XF_SCREEN_EXT.prototype.beginmodalstate=function(){return xf_screen.beginmodalstate()},XF_SCREEN_EXT.prototype.callscriptmethod=function(a,b){return xf_screen.callscriptmethod(a,b)},XF_SCREEN_EXT.prototype.callscriptmethodex=function(a,b,c){return xf_screen.callscriptmethodex(a,b,c)},XF_SCREEN_EXT.prototype.confirm=function(a){return window.confirm(a)},XF_SCREEN_EXT.prototype.createobject=function(a,b,c,d,e,f){return xf_screen.createobject(a,b,c,d,e,f)},XF_SCREEN_EXT.prototype.createobjectex=function(a,b){return xf_screen.createobjectex(a,b)},XF_SCREEN_EXT.prototype.createshape=function(a,b,c,d,e,f){return xf_screen.createshape(a,b,c,d,e,f)},XF_SCREEN_EXT.prototype.createshapeex=function(a,b){return xf_screen.createshapeex(a,b)},XF_SCREEN_EXT.prototype.destroy=function(){return xf_screen.destroy()},XF_SCREEN_EXT.prototype.destroyarrayctrlbyname=function(a,b){return xf_screen.destroyarrayctrlbyname(a,b)},XF_SCREEN_EXT.prototype.destroycontrol=function(a){return xf_screen.destroycontrol(a)},XF_SCREEN_EXT.prototype.destroycontrolbyindex=function(a){return xf_screen.destroycontrolbyindex(a)},XF_SCREEN_EXT.prototype.destroycontrolbyname=function(a){return xf_screen.destroycontrolbyname(a)},XF_SCREEN_EXT.prototype.domodal=function(){return xf_screen.domodal()},XF_SCREEN_EXT.prototype.domodalstate=function(){return xf_screen.domodalstate()},XF_SCREEN_EXT.prototype.endmodalstate=function(){return xf_screen.endmodalstate()},XF_SCREEN_EXT.prototype.eventlock=function(a,b){return xf_screen.eventlock(a,b)},XF_SCREEN_EXT.prototype.findscriptmethod=function(a,b){return xf_screen.findscriptmethod(a,b)},XF_SCREEN_EXT.prototype.forcepaint=function(){xf_screen.forcepaint()},XF_SCREEN_EXT.prototype.forcestopsubmit=function(a){return xf_screen.forcestopsubmit(a)},XF_SCREEN_EXT.prototype.getarrayinstbyname=function(a,b){return xf_screen.getarrayinstbyname(a,b)},XF_SCREEN_EXT.prototype.getbackcolor=function(){return xf_screen.getbackcolor()},XF_SCREEN_EXT.prototype.getcontrolcount=function(){return xf_screen.getcontrolcount()},XF_SCREEN_EXT.prototype.getcontrolfocusnext=function(a,b){return xf_screen.getcontrolfocusnext(a,b)},XF_SCREEN_EXT.prototype.getcontrolfocusprev=function(a,b){return xf_screen.getcontrolfocusprev(a,b)},XF_SCREEN_EXT.prototype.getcustomprop=function(a){return xf_screen.getcustomprop(a)},XF_SCREEN_EXT.prototype.setcustomprop=function(a,b){return xf_screen.setcustomprop(a,b)},XF_SCREEN_EXT.prototype.getdefaulttranmapid=function(){return xf_screen.getdefaulttranmapid()},XF_SCREEN_EXT.prototype.getdescription=function(){return xf_screen.getdescription()},XF_SCREEN_EXT.prototype.getenable=function(){return xf_screen.getenable()},XF_SCREEN_EXT.prototype.geteventhandler=function(a){return xf_screen.geteventhandler(a)},XF_SCREEN_EXT.prototype.getfocuscontrol=function(){return xf_screen.getfocuscontrol()},XF_SCREEN_EXT.prototype.getfocuscontrolctrlid=function(){return xf_screen.getfocuscontrolctrlid()},XF_SCREEN_EXT.prototype.getfocuscontrolindex=function(){return xf_screen.getfocuscontrolindex()},XF_SCREEN_EXT.prototype.getgeolocation=function(a){return xf_screen.getgeolocation(a)},XF_SCREEN_EXT.prototype.getgridiomapcolumn=function(a,b,c,d){return xf_screen.getgridiomapcolumn(a,b,c,d)},XF_SCREEN_EXT.prototype.getgridiomapcount=function(a,b,c){return xf_screen.getgridiomapcount(a,b,c)},XF_SCREEN_EXT.prototype.getgridiomapsubrow=function(a,b,c,d){return xf_screen.getgridiomapsubrow(a,b,c,d)},XF_SCREEN_EXT.prototype.getgridiomaptext=function(a,b,c,d){return xf_screen.getgridiomaptext(a,b,c,d)},XF_SCREEN_EXT.prototype.getinstance=function(a){return xf_screen.getinstance(a)},XF_SCREEN_EXT.prototype.getinstanceall=function(a){return xf_screen.getinstanceall(a)},XF_SCREEN_EXT.prototype.getinstancebyindex=function(a){return xf_screen.getinstancebyindex(a)},XF_SCREEN_EXT.prototype.getinstancebyname=function(a){return xf_screen.getinstancebyname(a)},XF_SCREEN_EXT.prototype.getinstancefirst=function(){return xf_screen.getinstancefirst()},XF_SCREEN_EXT.prototype.getinstancefirstex=function(a){return xf_screen.getinstancefirstex(a)},XF_SCREEN_EXT.prototype.getinstancelastex=function(a){return xf_screen.getinstancelastex(a)},XF_SCREEN_EXT.prototype.getinstancenext=function(a){return xf_screen.getinstancenext(a)},XF_SCREEN_EXT.prototype.getinstancenextex=function(a,b){return xf_screen.getinstancenextex(a,b)},XF_SCREEN_EXT.prototype.getinstanceprevex=function(a,b){return xf_screen.getinstanceprevex(a,b)},XF_SCREEN_EXT.prototype.getiomapcount=function(a,b){return xf_screen.getiomapcount(a,b)},XF_SCREEN_EXT.prototype.getiomapdata=function(a,b,c,d){return xf_screen.getiomapdata(a,b,c,d)},XF_SCREEN_EXT.prototype.setinputrtl=function(a){return xf_screen.setinputrtl(a)},XF_SCREEN_EXT.prototype.getiomapobjcontrolid=function(a,b,c){return xf_screen.getiomapobjcontrolid(a,b,c)},XF_SCREEN_EXT.prototype.getiomapobjattribute=function(a,b){return xf_screen.getiomapobjattribute(a,b)},XF_SCREEN_EXT.prototype.getiomaptext=function(a,b,c){return xf_screen.getiomaptext(a,b,c)},XF_SCREEN_EXT.prototype.getlinkautorun=function(a){return xf_screen.getlinkautorun(a)},XF_SCREEN_EXT.prototype.getlinkcopyinfo=function(a){return xf_screen.getlinkcopyinfo(a)},XF_SCREEN_EXT.prototype.getlinkinfocount=function(){return xf_screen.getlinkinfocount()},
XF_SCREEN_EXT.prototype.getlinkscreenurl=function(a){return xf_screen.getlinkscreenurl(a)},XF_SCREEN_EXT.prototype.getlinktitle=function(a){return xf_screen.getlinktitle(a)},XF_SCREEN_EXT.prototype.getmappingprinttext=function(a,b,c){return xf_screen.getmappingprinttext(a,b,c)},XF_SCREEN_EXT.prototype.getmappingprinttextex=function(a,b,c,d,e,f,g,h){return xf_screen.getmappingprinttextex(a,b,c,d,e,f,g,h)},XF_SCREEN_EXT.prototype.getmembers=function(a){return xf_screen.getmembers(a)},XF_SCREEN_EXT.prototype.getmenuheight=function(){return xf_screen.getmenuheight()},XF_SCREEN_EXT.prototype.getmenuwidth=function(){return xf_screen.getmenuwidth()},XF_SCREEN_EXT.prototype.getmenuxpos=function(){return xf_screen.getmenuxpos()},XF_SCREEN_EXT.prototype.getmenuypos=function(){return xf_screen.getmenuypos()},XF_SCREEN_EXT.prototype.setmenupos=function(a,b,c,d,e,f,g){return xf_screen.setmenupos(a,b,c,d,e,f,g)},XF_SCREEN_EXT.prototype.getobjectkind=function(){return xf_screen.getobjectkind()},XF_SCREEN_EXT.prototype.getoriginalscreenwidth=function(){return xf_screen.getoriginscreenwidth()},XF_SCREEN_EXT.prototype.getoriginalscreenheight=function(){return xf_screen.getoriginscreenheight()},XF_SCREEN_EXT.prototype.getparent=function(){return xf_screen.getparent()},XF_SCREEN_EXT.prototype.getpopupheight=function(){return xf_screen.getpopupheight()},XF_SCREEN_EXT.prototype.getpopupname=function(){return xf_screen.getpopupname()},XF_SCREEN_EXT.prototype.getpopuptitle=function(){return xf_screen.getpopuptitle()},XF_SCREEN_EXT.prototype.getpopupwidth=function(){return xf_screen.getpopupwidth()},XF_SCREEN_EXT.prototype.getpopupxpos=function(){return xf_screen.getpopupxpos()},XF_SCREEN_EXT.prototype.getpopupypos=function(){return xf_screen.getpopupypos()},XF_SCREEN_EXT.prototype.getportletname=function(){return xf_screen.getportletname()},XF_SCREEN_EXT.prototype.getprintcpi=function(){return xf_screen.getprintcpi()},XF_SCREEN_EXT.prototype.getprintlatticex=function(){return xf_screen.getprintlatticex()},XF_SCREEN_EXT.prototype.getprintlatticey=function(){return xf_screen.getprintlatticey()},XF_SCREEN_EXT.prototype.getprintleftmargin=function(){return xf_screen.getprintleftmargin()},XF_SCREEN_EXT.prototype.getprintlpi=function(){return xf_screen.getprintlpi()},XF_SCREEN_EXT.prototype.getprintmediatype=function(){return xf_screen.getprintmediatype()},XF_SCREEN_EXT.prototype.getprinttopmargin=function(){return xf_screen.getprinttopmargin()},XF_SCREEN_EXT.prototype.getprintcompletemsg=function(){return xf_screen.getprintcompletemsg()},XF_SCREEN_EXT.prototype.getprintoutputmsg=function(){return xf_screen.getprintoutputmsg()},XF_SCREEN_EXT.prototype.getscreendata=function(a,b,c){return xf_screen.getscreendata(a,b,c)},XF_SCREEN_EXT.prototype.setscreendata=function(a,b,c,d){return xf_screen.setscreendata(a,b,c,d)},XF_SCREEN_EXT.prototype.getscreenhelp=function(){return xf_screen.getscreenhelp()},XF_SCREEN_EXT.prototype.getscreentype=function(){return xf_screen.getscreentype()},XF_SCREEN_EXT.prototype.getscreenversion=function(){return xf_screen.getscreenversion()},XF_SCREEN_EXT.prototype.getscreenheight=function(){return xf_screen.getscreenheight()},XF_SCREEN_EXT.prototype.getscreencontentheight=function(){return xf_screen.getscreencontentheight()},XF_SCREEN_EXT.prototype.getscreenform=function(){return xf_screen.getscreenform()},XF_SCREEN_EXT.prototype.getscreenrule=function(){return xf_screen.getscreenrule()},XF_SCREEN_EXT.prototype.getscreenhtml=function(a){return xf_screen.getscreenhtml(a)},XF_SCREEN_EXT.prototype.getscreenid=function(){return xf_screen.getscreenid()},XF_SCREEN_EXT.prototype.getscreenkind=function(){return xf_screen.getscreenkind()},XF_SCREEN_EXT.prototype.getscreentitle=function(){return xf_screen.getscreentitle()},XF_SCREEN_EXT.prototype.getscreentrancode=function(){return xf_screen.getscreentrancode()},XF_SCREEN_EXT.prototype.getscreenurl=function(){return xf_screen.getscreenurl()},XF_SCREEN_EXT.prototype.getscreenprotect=function(){return xf_screen.getscreenprotect()},XF_SCREEN_EXT.prototype.getscreenprotectimage=function(){return xf_screen.getscreenprotectimage()},XF_SCREEN_EXT.prototype.getscreentab=function(){return xf_screen.getscreentab()},XF_SCREEN_EXT.prototype.getscreentabindex=function(){return xf_screen.getscreentabindex()},XF_SCREEN_EXT.prototype.getscreenwidth=function(){return xf_screen.getscreenwidth()},XF_SCREEN_EXT.prototype.getscreencontentwidth=function(){return xf_screen.getscreencontentwidth()},XF_SCREEN_EXT.prototype.getscrollbarstyle=function(a){return xf_screen.getscrollbarstyle(a)},XF_SCREEN_EXT.prototype.getscrollpos=function(a){return xf_screen.getscrollpos(a)},XF_SCREEN_EXT.prototype.getshapeinstanceall=function(a){return xf_screen.getshapeinstanceall(a)},XF_SCREEN_EXT.prototype.getshapeinstancefirst=function(){return xf_screen.getshapeinstancefirst()},XF_SCREEN_EXT.prototype.getshapeinstancenext=function(a){return xf_screen.getshapeinstancenext(a)},XF_SCREEN_EXT.prototype.getsubmitresult=function(){return xf_screen.getsubmitresult()},XF_SCREEN_EXT.prototype.gettraniomapcount=function(){return xf_screen.gettraniomapcount()},XF_SCREEN_EXT.prototype.gettraniomapinfobyid=function(a){return xf_screen.gettraniomapinfobyid(a)},XF_SCREEN_EXT.prototype.gettraniomapinfobyindex=function(a){return xf_screen.gettraniomapinfobyindex(a)},XF_SCREEN_EXT.prototype.gettranresult=function(){return xf_screen.gettranresult()},XF_SCREEN_EXT.prototype.gettrancode=function(){return xf_screen.gettrancode()},XF_SCREEN_EXT.prototype.gettranheader=function(){return xf_screen.gettranheader()},XF_SCREEN_EXT.prototype.getattrmapcount=function(){return xf_screen.getattrmapcount()},XF_SCREEN_EXT.prototype.gettranmapcount=function(){return xf_screen.gettranmapcount()},XF_SCREEN.prototype.gettranmapetcinfo=function(a){return xf_screen.gettranmapetcinfo(a)},XF_SCREEN_EXT.prototype.gettranmapid=function(){return xf_screen.gettranmapid()},XF_SCREEN_EXT.prototype.gettranmapidex=function(a){return xf_screen.gettranmapidex(a)},XF_SCREEN_EXT.prototype.getuserheader=function(){return xf_screen.getuserheader()},XF_SCREEN_EXT.prototype.setuserheader=function(a){return xf_screen.setuserheader(a)},XF_SCREEN_EXT.prototype.getvisible=function(){return xf_screen.getvisible()},XF_SCREEN_EXT.prototype.getwindowheight=function(){return xf_screen.getwindowheight()},XF_SCREEN_EXT.prototype.getwindowleft=function(){return xf_screen.getwindowleft()},XF_SCREEN_EXT.prototype.getwindowtop=function(){return xf_screen.getwindowtop()},XF_SCREEN_EXT.prototype.getwindowid=function(){return xf_screen.getwindowid()},XF_SCREEN_EXT.prototype.getwindowrect=function(){return xf_screen.getwindowrect()},XF_SCREEN_EXT.prototype.getwindowwidth=function(){return xf_screen.getwindowwidth()},XF_SCREEN_EXT.prototype.getxdataset=function(a){return xf_screen.getxdataset(a)},XF_SCREEN_EXT.prototype.getxdatasetcolumncount=function(a){return xf_screen.getxdatasetcolumncount(a)},XF_SCREEN_EXT.prototype.getxdatasetcount=function(){return xf_screen.getxdatasetcount()},XF_SCREEN_EXT.prototype.getxdatasetdata=function(a,b,c){return xf_screen.getxdatasetdata(a,b,c)},XF_SCREEN_EXT.prototype.getxdatasetids=function(){return xf_screen.getxdatasetids()},XF_SCREEN_EXT.prototype.getxtranmapcomment=function(a){return xf_screen.getxtranmapcomment(a)},XF_SCREEN_EXT.prototype.getxtranmapids=function(){return xf_screen.getxtranmapids()},XF_SCREEN_EXT.prototype.getxtranmapinputcols=function(a,b){return xf_screen.getxtranmapinputcols(a,b)},XF_SCREEN_EXT.prototype.getxtranmapinputkind=function(a,b){return xf_screen.getxtranmapinputkind(a,b)},XF_SCREEN_EXT.prototype.getxtranmapinputxdataset=function(a,b){return xf_screen.getxtranmapinputxdataset(a,b)},XF_SCREEN_EXT.prototype.getxtranmapoutputcols=function(a,b){return xf_screen.getxtranmapoutputcols(a,b)},XF_SCREEN_EXT.prototype.getxtranmapoutputkind=function(a,b){return xf_screen.getxtranmapoutputkind(a,b)},XF_SCREEN_EXT.prototype.getxdatasetrowcount=function(a){return xf_screen.getxdatasetrowcount(a)},XF_SCREEN_EXT.prototype.getxtranmapurl=function(a){return xf_screen.getxtranmapurl(a)},XF_SCREEN_EXT.prototype.getzoom=function(){return xf_screen.getzoom()},XF_SCREEN_EXT.prototype.httpgetfile=function(a,b,c){return xf_screen.httpgetfile(a,b,c)},XF_SCREEN_EXT.prototype.httprequestpost=function(a,b,c,d){return xf_screen.httprequestpost(a,b,c,d)},XF_SCREEN_EXT.prototype.httprequestpostasync=function(a,b,c,d,e,f){return xf_screen.httprequestpostasync(a,b,c,d,e,f)},XF_SCREEN_EXT.prototype.isdatacontrol=function(){return xf_screen.isdatacontrol()},XF_SCREEN_EXT.prototype.isexpired=function(){return null==xf_screen||void 0==xf_screen},XF_SCREEN_EXT.prototype.ispopupscreen=function(){return xf_screen.ispopupscreen()},XF_SCREEN_EXT.prototype.isprintscreen=function(){return xf_screen.isprintscreen()},XF_SCREEN_EXT.prototype.isshowscreen=function(){return xf_screen.isshowscreen()},XF_SCREEN_EXT.prototype.isshowscrollbar=function(a){return xf_screen.isshowscrollbar(a)},XF_SCREEN_EXT.prototype.messagebox=function(a,b,c,d,e,f){return xf_screen.messagebox(a,b,c,d,e,f)},XF_SCREEN_EXT.prototype.messageboxsync=function(a,b,c,d,e,f){return xf_screen.messageboxsync(a,b,c,d,e,f)},XF_SCREEN_EXT.prototype.mkcontrolarray=function(a,b,c){return xf_screen.mkcontrolarray(a,b,c)},XF_SCREEN_EXT.prototype.modifypopupstyle=function(a,b,c,d){return xf_screen.modifypopupstyle(a,b,c,d)},XF_SCREEN_EXT.prototype.printscreenshot=function(a,b){return xf_screen.printscreenshot(a,b)},XF_SCREEN_EXT.prototype.rebuildtaborder=function(){return xf_screen.rebuildtaborder()},XF_SCREEN_EXT.prototype.registerevent=function(a,b){return xf_screen.registerevent(a,b)},XF_SCREEN_EXT.prototype.reloadkeymap=function(){return xf_screen.reloadkeymap()},XF_SCREEN_EXT.prototype.removexdatasetinxtranmap=function(a){return xf_screen.removexdatasetinxtranmap(a)},XF_SCREEN_EXT.prototype.requestsubmit=function(a,b){return xf_screen.requestsubmit(a,b)},XF_SCREEN_EXT.prototype.requestsubmitex=function(a,b,c,d,e,f){return xf_screen.requestsubmitex(a,b,c,d,e,f)},XF_SCREEN_EXT.prototype.requesttran=function(a,b,c,d,e,f,g){return xf_screen.requesttran(a,b,c,d,e,f,g)},XF_SCREEN_EXT.prototype.savescreenshot=function(a){return xf_screen.savescreenshot(a)},XF_SCREEN_EXT.prototype.scroll=function(a,b){return xf_screen.scroll(a,b)},XF_SCREEN_EXT.prototype.scrollpospagenext=function(){return xf_screen.scrollpospagenext()},XF_SCREEN_EXT.prototype.scrollpospageprev=function(){return xf_screen.scrollpospageprev()},XF_SCREEN_EXT.prototype.scrollpostofirst=function(){return xf_screen.scrollpostofirst()},XF_SCREEN_EXT.prototype.scrollpostolast=function(){return xf_screen.scrollpostolast()},XF_SCREEN_EXT.prototype.scrollhorz=function(a,b,c,d){return xf_screen.scrollhorz(a,b,c,d)},XF_SCREEN_EXT.prototype.scrollvert=function(a,b,c,d){return xf_screen.scrollvert(a,b,c,d)},XF_SCREEN_EXT.prototype.sendcopydata=function(a,b,c,d){return xf_screen.sendcopydata(a,b,c,d)},XF_SCREEN_EXT.prototype.setbackcolor=function(a){return xf_screen.setbackcolor(a)},XF_SCREEN_EXT.prototype.getclientheight=function(){return xf_screen.getclientheight()},XF_SCREEN_EXT.prototype.getclientwidth=function(){return xf_screen.getclientwidth()},XF_SCREEN_EXT.prototype.setcontrolfocusbyctrlid=function(a){return xf_screen.setcontrolfocusbyctrlid(a)},XF_SCREEN_EXT.prototype.setcontrolfocusbyindex=function(a){return xf_screen.setcontrolfocusbyindex(a)},XF_SCREEN_EXT.prototype.setcontrolfocusfirst=function(){return xf_screen.setcontrolfocusfirst()},XF_SCREEN_EXT.prototype.setcontrolfocuslast=function(){return xf_screen.setcontrolfocuslast()},XF_SCREEN_EXT.prototype.setcontrolfocusnext=function(a,b,c,d){return xf_screen.setcontrolfocusnext(a,b,c,d)},XF_SCREEN_EXT.prototype.setcontrolfocusprev=function(a,b,c){return xf_screen.setcontrolfocusprev(a,b,c)},XF_SCREEN_EXT.prototype.setcontrolinputtype=function(a,b){return xf_screen.setcontrolinputtype(a,b)},XF_SCREEN_EXT.prototype.setdescription=function(a){return xf_screen.setdescription(a)},XF_SCREEN_EXT.prototype.setenable=function(a){return xf_screen.setenable(a)},XF_SCREEN_EXT.prototype.setfocus=function(){return xf_screen.setfocus()},XF_SCREEN_EXT.prototype.setpopupdragarea=function(a,b,c,d){return xf_screen.setpopupdragarea(a,b,c,d)},XF_SCREEN_EXT.prototype.setpopuppos=function(a,b,c,d,e,f,g){return xf_screen.setpopuppos(a,b,c,d,e,f,g)},XF_SCREEN_EXT.prototype.setpopuptitle=function(a){return xf_screen.setpopuptitle(a)},XF_SCREEN_EXT.prototype.setpopuptransparent=function(a){return xf_screen.setpopuptransparent(a)},XF_SCREEN_EXT.prototype.setprintcpi=function(a){return xf_screen.setprintcpi(a)},XF_SCREEN_EXT.prototype.setprintlatticex=function(a){return xf_screen.setprintlatticex(a)},XF_SCREEN_EXT.prototype.setprintlatticey=function(a){return xf_screen.setprintlatticey(a)},XF_SCREEN_EXT.prototype.setprintleftmargin=function(a){return xf_screen.setprintleftmargin(a)},XF_SCREEN_EXT.prototype.setprintlpi=function(a){return xf_screen.setprintlpi()},XF_SCREEN_EXT.prototype.setprintmediatype=function(a){return xf_screen.setprintmediatype(a)},XF_SCREEN_EXT.prototype.setprinttopmargin=function(a){return xf_screen.setprinttopmargin(a)},XF_SCREEN_EXT.prototype.setprintcompletemsg=function(a){return xf_screen.setprintcompletemsg(a)},XF_SCREEN_EXT.prototype.setprintoutputmsg=function(a){return xf_screen.setprintoutputmsg(a)},XF_SCREEN_EXT.prototype.getreportmapcount=function(a){return xf_screen.getreportmapcount(a)},XF_SCREEN_EXT.prototype.getreportmapobjctrlid=function(a,b){return xf_screen.getreportmapobjctrlid(a,b)},XF_SCREEN_EXT.prototype.setscreenheight=function(a){return xf_screen.setscreenheight(a)},XF_SCREEN_EXT.prototype.setscreenprotect=function(a,b,c){return xf_screen.setscreenprotect(a,b,c)},XF_SCREEN_EXT.prototype.setscreenprotectimage=function(a){return xf_screen.setscreenprotectimage(a)},XF_SCREEN_EXT.prototype.setscreenwidth=function(a){return xf_screen.setscreenwidth(a)},XF_SCREEN_EXT.prototype.setscrollbarstyle=function(a,b){return xf_screen.setscrollbarstyle(a,b)},XF_SCREEN_EXT.prototype.settopmost=function(){xf_screen.settopmost()},XF_SCREEN_EXT.prototype.settrancode=function(a){return xf_screen.settrancode(a)},XF_SCREEN_EXT.prototype.settranheader=function(a){return xf_screen.settranheader(a)},XF_SCREEN_EXT.prototype.gethiddenareavisible=function(a){return xf_screen.gethiddenareavisible(a)},XF_SCREEN_EXT.prototype.sethiddenareavisible=function(a){return xf_screen.sethiddenareavisible(a)},XF_SCREEN_EXT.prototype.setvisible=function(a){return xf_screen.setvisible(a)},XF_SCREEN_EXT.prototype.setxdatasetdata=function(a,b,c,d,e){return xf_screen.setxdatasetdata(a,b,c,d,e)},XF_SCREEN_EXT.prototype.getxtrancompress=function(){return xf_screen.getxtrancompress()},XF_SCREEN_EXT.prototype.setxtrancompress=function(a){return xf_screen.setxtrancompress(a)},XF_SCREEN_EXT.prototype.setxtranmapiocolumn=function(a,b,c,d,e){return xf_screen.setxtranmapiocolumn(a,b,c,d,e)},XF_SCREEN_EXT.prototype.setxtranmapiotype=function(a,b,c,d){return xf_screen.setxtranmapiotype(a,b,c,d)},XF_SCREEN_EXT.prototype.setzoom=function(a){return xf_screen.setzoom(a)},XF_SCREEN_EXT.prototype.showpopup=function(){return xf_screen.showpopup()},XF_SCREEN_EXT.prototype.showscreen=function(a){return xf_screen.showscreen(a)},XF_SCREEN_EXT.prototype.startcopydatawnd=function(a,b){return xf_screen.startcopydatawnd(a,b)},XF_SCREEN_EXT.prototype.submit=function(a,b){return xf_screen.submit(a,b)},XF_SCREEN_EXT.prototype.unload=function(){return xf_screen.unload()},XF_SCREEN_EXT.prototype.unloadportlet=function(){return xf_screen.unloadportlet()},XF_SCREEN_EXT.prototype.unloadpopup=function(a,b){return xf_screen.unloadpopup(a,b)},XF_SCREEN_EXT.prototype.loadportletpopupsync=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return xf_screen.loadportletpopupsync(a,b,c,d,e,f,g,h,i,j,k,l,m)},XF_SCREEN_EXT.prototype.loadportletpopup=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return xf_screen.loadportletpopup(a,b,c,d,e,f,g,h,i,j,k,l,m)},XF_SCREEN_EXT.prototype.findportletpopup=function(a){return xf_screen.findportletpopup(a)},XF_SCREEN_EXT.prototype.getextradata=function(){return xf_screen.getextradata()},XF_SCREEN_EXT.prototype.loadmeta=function(a,b){return xf_screen.loadmeta(a,b)},XF_SCREEN_EXT.prototype.isjsloaded=function(a){return xf_screen.isjsloaded()},XF_SCREEN_EXT.prototype.loadjs=function(a,b){return xf_screen.loadjs(a,b)},XF_SCREEN_EXT.prototype.loadcss=function(a){return xf_screen.loadcss(a)},XF_SCREEN_EXT.prototype.loadstyle=function(a,b){return xf_screen.loadstyle(a,b)},XF_SCREEN_EXT.prototype.unloadcss=function(a){return xf_screen.unloadcss(a)},XF_SCREEN_EXT.prototype._findpopup=function(a){return xf_screen._findpopup(a)},XF_SCREEN_EXT.prototype._getwindow=function(){return xf_screen._getwindow()},XF_SCREEN_EXT.prototype._loadmenu=function(a,b,c,d,e,f,g,h){return xf_screen._loadmenu(a,b,c,d,e,f,g,h)},XF_SCREEN_EXT.prototype._getcontrolfocusfirst=function(a){return xf_screen._getcontrolfocusfirst(a)},XF_SCREEN_EXT.prototype._getcontrolfocuslast=function(a){return xf_screen._getcontrolfocuslast(a)},XF_SCREEN_EXT.prototype.postmessage=function(a,b){return xf_screen.postmessage(a,b)},XF_SCREEN_EXT.prototype.loadportlet=function(a,b,c,d,e,f,g,h,i,j){return xf_screen.loadportlet(a,b,c,d,e,f,g,h,i,j)},XF_SCREEN_EXT.prototype.closeportlet=function(a){return xf_screen.closeportlet(a)},XF_SCREEN_EXT.prototype.findportlet=function(a){return xf_screen.findportlet(a)},XF_SCREEN_EXT.prototype.selectlocalfile=function(a,b,c){return xf_screen.selectlocalfile(a,b,c)},XF_SCREEN_EXT.prototype.getscreencontentrect=function(){return xf_screen.getscreencontentrect()},XF_SCREEN_EXT.prototype.forcepaint=function(a){return xf_screen.forcepaint(a)},XF_SCREEN_EXT.prototype.setmodalpopupshowmode=function(a){return xf_screen.setmodalpopupshowmode(a)},XF_SCREEN_EXT.prototype.savefileobject=function(a,b,c){return xf_screen.savefileobject(a,b,c)},XF_SCREEN_EXT.prototype.hidemainloadstatus=function(){return xf_screen.hidemainloadstatus()},XF_SCREEN_EXT.prototype.addmainloadstatus=function(a){return xf_screen.addmainloadstatus(a)},XF_SCREEN_EXT.prototype.windowmoveby=function(a,b){return xf_screen.windowmoveto(a,b)},XF_SCREEN_EXT.prototype.windowmoveto=function(a,b){return xf_screen.windowmoveto(a,b)},XF_SCREEN_EXT.prototype.windowresizeby=function(a,b){return xf_screen.windowresizeby(a,b)},XF_SCREEN_EXT.prototype.windowresizeto=function(a,b){return xf_screen.windowresizeto(a,b)},XF_SCREEN.prototype._loadlibsource=function(){var a,b,c,d,e;if(_xf_param.ENGINEMODE==_XFD_ENGINEMODE_DEVELOP)return void this._loadglobalmeta();for(b=_xf_source_lib_name_arr.length,a=0;b>a;a++)c=_xf_source_lib_name_arr[a],factory.xf_main_factory.lib_load_map[c]={is_load_complete:!1,is_load_success:!1};for(b=_xf_source_lib_name_arr.length,a=0;b>a;a++)c=_xf_source_lib_name_arr[a],d=_xf_param.ENGINEMODE==_XFD_ENGINEMODE_DEBUG?_xf_param.ENGINEURL+"/lib/"+c.toLowerCase()+".js":_xf_param.ENGINEURL+"/lib/"+c.toLowerCase()+".min.js",e=_xfl_httpcacheurl(d),$.ajax({url:e,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_libsource_error(d,c),this),success:$.proxy(this.on_libsource_success(c),this),complete:$.proxy(this.on_libsource_complete,this)})},XF_SCREEN.prototype.on_libsource_error=function(a,b){return function(c,d,e){_xfu.ajaxerror({message:"Fail to load lib source file",url:a,jqxhr:c,status:d,error:e,alert:!0}),factory.xf_main_factory.lib_load_map[b].is_load_complete=!0,factory.xf_main_factory.lib_load_map[b].is_load_success=!1}},XF_SCREEN.prototype.on_libsource_success=function(a){return function(b,c,d){factory.xf_main_factory.lib_load_map[a].is_load_complete=!0,factory.xf_main_factory.lib_load_map[a].is_load_success=!0,factory.xf_main_factory.lib_src_map[a]=b}},XF_SCREEN.prototype.on_libsource_complete=function(a,b){var c,d,e;for(d=_xf_source_lib_name_arr.length,c=0;d>c&&(e=_xf_source_lib_name_arr[c],0!=factory.xf_main_factory.lib_load_map[e].is_load_complete);c++);c==d&&(this.addmainloadstatus(factory._userlang("엔진 라이브러리 로드 완료","Engine Library Load Complete.")),this._loadglobalmeta())},XF_SCREEN.prototype._loadglobalmeta=function(){var a,b;a=factory.xf_param.META_RESOURCE_URL,void 0===a||0==a.length||factory.xf_param.SCREEN_LANGUAGE==factory.xf_param.USER_LANGUAGE?this._loadglobalstyle():(b=_xfl_httpcacheurl(a),$.ajax({url:b,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_globalmeta_error(a),this),success:$.proxy(this.on_globalmeta_success,this),complete:$.proxy(this.on_globalmeta_complete,this)}))},XF_SCREEN.prototype.on_globalmeta_error=function(a){return function(b,c,d){_xfu.ajaxerror({message:"Fail to load global meta resource data",url:a,jqxhr:b,status:c,error:d,alert:!0})}},XF_SCREEN.prototype.on_globalmeta_success=function(a,b,c){factory.metadataload(a)},XF_SCREEN.prototype.on_globalmeta_complete=function(a,b){this.addmainloadstatus(factory._userlang("글로벌 메타 로드 완료","Global Meta Load Complete.")),this._loadglobalstyle()},XF_SCREEN.prototype._loadglobalstyle=function(){var a,b;this.global_style={},a=factory.xf_param.STYLEBASEURL+"/xframe_style.xstl",b=_xfl_httpcacheurl(a),$.ajax({url:b,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_globalstyle_error(a),this),success:$.proxy(this.on_globalstyle_success,this),complete:$.proxy(this.on_globalstyle_complete,this)})},XF_SCREEN.prototype.on_globalstyle_error=function(a){return function(b,c,d){_xfu.ajaxerror({message:"Fail to load global style file",url:a,jqxhr:b,status:c,error:d,alert:!1})}},XF_SCREEN.prototype.on_globalstyle_complete=function(a,b){this.addmainloadstatus(factory._userlang("글로벌 스타일 로드 완료","Global Style Load Complete.")),this._loadglobalxdatasetlist()},XF_SCREEN.prototype.on_globalstyle_success=function(a,b,c){this._styledata(a)},XF_SCREEN.prototype._loadglobalxdatasetlist=function(){var a,b;this.global_xdataset_arr=[],a=factory.xf_param.COMMONXDATASETBASEURL+"/common_xdataset.lst",b=_xfl_httpcacheurl(a),$.ajax({url:b,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_globalxdatasetlst_error(a),this),success:$.proxy(this.on_globalxdatasetlst_success,this),complete:$.proxy(this.on_globalxdatasetlst_complete,this)})},XF_SCREEN.prototype.on_globalxdatasetlst_error=function(a){return function(b,c,d){_xfu.ajaxerror({message:"Fail to load global xdataset list file",url:a,jqxhr:b,status:c,error:d,alert:!1})}},XF_SCREEN.prototype.on_globalxdatasetlst_success=function(a,b,c){var d,e,f,g,h;for(d=a.split("\r\n"),e=d.length,h=0;e>h;h++)f=d[h],f.length<=0||(g=f.split(".")[0],this.global_xdataset_arr.push({file_name:f,xdataset_name:g,is_load_complete:!1,is_load_success:!1,xf_xdataset:null}))},XF_SCREEN.prototype.on_globalxdatasetlst_complete=function(a,b){0==this.global_xdataset_arr.length?this._loadglobalmodulelist():this._loadglobalxdataset()},XF_SCREEN.prototype._loadglobalxdataset=function(){var a,b,c,d;for(b=this.global_xdataset_arr.length,a=0;b>a;a++)c=factory.xf_param.COMMONXDATASETBASEURL+"/"+this.global_xdataset_arr[a].file_name,d=_xfl_httpcacheurl(c),$.ajax({url:d,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_globalxdataset_error(c,this.global_xdataset_arr[a].xdataset_name),this),success:$.proxy(this.on_globalxdataset_success(this.global_xdataset_arr[a].xdataset_name),this),complete:$.proxy(this.on_globalxdataset_complete,this)})},XF_SCREEN.prototype.on_globalxdataset_error=function(a,b){return function(c,d,e){var f,g;for(_xfu.ajaxerror({message:"Fail to load global xdataset file",url:a,jqxhr:c,status:d,error:e,alert:!0}),g=this.global_xdataset_arr.length,f=0;g>f;f++)if(this.global_xdataset_arr[f].xdataset_name==b){this.global_xdataset_arr[f].is_load_complate=!0,this.global_xdataset_arr[f].is_load_success=!1;break}}},XF_SCREEN.prototype.on_globalxdataset_success=function(a){return function(b,c,d){var e,f,g,h,i,j;for(g=b.indexOf('""'),h=b.indexOf('""',g+1),i=b.substr(g+2,h-g-2),g=b.indexOf("#xdataset_column"),j=b.substr(g+"#xdataset_column".length+2),f=this.global_xdataset_arr.length,e=0;f>e;e++)if(this.global_xdataset_arr[e].xdataset_name==a){this.global_xdataset_arr[e].xf_xdataset=new XF_XDATASET(null,{id:a,desc:i,columns:j}),this.global_xdataset_arr[e].xf_xdataset.xdataset_type=XFD_XDATASET_GLOBAL,this.global_xdataset_arr[e].is_load_complete=!0,this.global_xdataset_arr[e].is_load_success=!0;break}}},XF_SCREEN.prototype.on_globalxdataset_complete=function(a,b){var c,d;for(d=this.global_xdataset_arr.length,c=0;d>c;c++)if(0==this.global_xdataset_arr[c].is_load_complete)return;for(c=0;d>c;c++)if(0==this.global_xdataset_arr[c].is_load_success)return;this._registerglobalxdataset(this.xf_window),this.addmainloadstatus(factory._userlang("글로벌 데이터셋 로드 완료","Global Dataset Load Complete.")),this._loadglobalmodulelist()},XF_SCREEN.prototype._loadglobalmodulelist=function(){var a,b;this.global_module_arr=[],a=factory.xf_param.COMMONMODULEBASEURL+"/common_module.lst",b=_xfl_httpcacheurl(a),$.ajax({url:b,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_globalmodulelst_error(a),this),success:$.proxy(this.on_globalmodulelst_success,this),complete:$.proxy(this.on_globalmodulelst_complete,this)})},XF_SCREEN.prototype.on_globalmodulelst_error=function(a){return function(b,c,d){_xfu.ajaxerror({message:"Fail to load global module list file",url:a,jqxhr:b,status:c,error:d,alert:!1})}},XF_SCREEN.prototype.on_globalmodulelst_success=function(a,b,c){var d,e,f,g,h;for(d=a.split("\r\n"),e=d.length,h=0;e>h;h++)f=d[h],f.length<=0||(g=f.split(".")[0],this.global_module_arr.push({file_name:f,module_name:g,is_load_complete:!1,is_load_success:!1,xf_iframe:null,content_doc:null,content_win:null}));this._loadglobalmodule()},XF_SCREEN.prototype.on_globalmodulelst_complete=function(a,b){0==this.global_module_arr.length&&(factory.xf_param.MAINLOADSTATUS_AUTOHIDE&&this.hidemainloadstatus(),_xfu.async({func:_xfl_screenready}))},XF_SCREEN.prototype._loadglobalmodule=function(){var a,b,c,d;for(b=this.global_module_arr.length,a=0;b>a;a++)c=factory.xf_param.COMMONMODULEBASEURL+"/"+this.global_module_arr[a].file_name,d=_xfl_httpcacheurl(c),$.ajax({url:d,method:"GET",async:!0,dataType:"text",cache:void 0===factory.xf_param.USE_CACHE?!1:factory.xf_param.USE_CACHE,error:$.proxy(this.on_globalmodule_error(c,this.global_module_arr[a].module_name),this),success:$.proxy(this.on_globalmodule_success(this.global_module_arr[a].module_name),this)})},XF_SCREEN.prototype.on_globalmodule_error=function(a,b){return function(c,d,e){var f,g;for(_xfu.ajaxerror({message:"Fail to load global module file",url:a,jqxhr:c,status:d,error:e,alert:!0}),g=this.global_module_arr.length,f=0;g>f;f++)if(this.global_module_arr[f].module_name==b){this.global_module_arr[f].is_load_complate=!0,this.global_module_arr[f].is_load_success=!1;break}}},XF_SCREEN.prototype.on_globalmodule_success=function(a){return function(b,c,d){var e,f,g,h,i,j;for(f=this.global_module_arr.length,e=0;f>e;e++)if(this.global_module_arr[e].module_name==a){this.global_module_arr[e].is_load_success=!0;break}e>=f||(g=this.global_module_arr[e],g.xf_iframe=$('<iframe id="_xf_module_'+g.module_name+'" style="display:none;"></iframe>'),$("body").append(g.xf_iframe),g.content_doc=g.xf_iframe[0].contentDocument,g.content_win=g.xf_iframe[0].contentWindow,this.xf_factory._register(g.content_win),$(g.xf_iframe).on("load",$.proxy(this.on_globalmodule_complete(g.module_name),this)),h=[],h.push("<!doctype html>"),h.push('<html lang="ko">'),h.push("<head>"),h.push('<meta charset="utf-8">'),h.push('<meta http-equiv="cache-control" content="no-cache">'),h.push('<meta http-equiv="pragma" content="no-cache">'),h.push("<title>"+g.module_name+"</title>"),i=factory.xf_param.ENGINEURL+"/lib/xf_const.min.js",j=_xfl_httpcacheurl(i),h.push('<script type="text/javascript" src="'+j+'"></script>'),h.push('<script type="text/javascript">'+b+"</script>"),h.push("</head>"),h.push("<body>"),h.push("</body>"),h.push("</html>"),g.content_doc.write(h.join("")),g.content_doc.close(),this.xf_factory._register(g.content_win))}},XF_SCREEN.prototype.on_globalmodule_complete=function(a){return function(b){var c,d,e,f;for(c=this.global_module_arr.length,d=0;c>d;d++)if(this.global_module_arr[d].module_name==a&&(this.global_module_arr[d].is_load_complete=!0,1==this.global_module_arr[d].is_load_success)){this.xf_factory._register(this.global_module_arr[d].content_win),this._registerglobalxdataset(this.global_module_arr[d].content_win);break}for(d=0;c>d;d++)if(0==this.global_module_arr[d].is_load_complete)return;for(d=0;c>d;d++)if(0==this.global_module_arr[d].is_load_success)return;for(d=0;c>d;d++)for(e=0;c>e;e++)d!=e&&(f=this.global_module_arr[e],this.global_module_arr[d].content_win[f.module_name]=f.content_win);this._registerglobalmodule(),this.addmainloadstatus(factory._userlang("글로벌 모듈 로드 완료, 갯수("+c+")","Global Module Load Complete. Count("+c+")")),factory.xf_param.MAINLOADSTATUS_AUTOHIDE&&this.hidemainloadstatus()}},XF_SCREEN.prototype._registerglobalxdataset=function(a){var b,c;if(a.factory=this.xf_factory,null!=this.global_xdataset_arr)for(c=this.global_xdataset_arr.length,b=0;c>b;b++)a[this.global_xdataset_arr[b].xdataset_name]=this.global_xdataset_arr[b].xf_xdataset},XF_SCREEN.prototype._registerglobalmodule=function(){var a,b;for(a=this.global_module_arr.length,b=0;a>b;b++)this.xf_window[this.global_module_arr[b].module_name]=this.global_module_arr[b].content_win;_xfu.async({func:_xfl_screenready})},XF_SCREEN_MSGBOX.prototype._init=function(a){this.xf_screen=a,this.xf_modalbox=null,this.is_box_show=!1,this.xf_object=null,this.xf_abort=null,this.xf_retry=null,this.xf_ignore=null,this.xf_ok=null,this.xf_cancel=null,this.xf_yes=null,this.xf_no=null,this.xf_continue=null,this.xf_focus_button=null},XF_SCREEN_MSGBOX.prototype._prop=function(a){this.xf_prop={id:"",message:"",box_style:XFD_MB_INFORMATION,button_type:XFD_MB_ABORTRETRYIGNORE,focus_button:XFD_MB_FOCUSBUTTON1,on_button_click:null},$.extend(this.xf_prop,a)},XF_SCREEN_MSGBOX.prototype._box=function(){factory.ismobile()?this.xf_object=$('<div class="_xf_popup_msgbox" style="display:none;width:100%;"></div>'):this.xf_object=$('<div class="_xf_popup_msgbox" style="display:none;"></div>')},XF_SCREEN_MSGBOX.prototype._dom=function(){var a,b,c,d,e,f,g,h,i;switch(this.xf_box=$('<div class="_xf_popup_msgbox_content"></div>'),this.xf_object.append(this.xf_box),this.xf_prop.box_style){case XFD_MB_INFORMATION:this.xf_icon=$('<div class="_xf_popup_msgbox_icon _xf_popup_msgbox_icon_info"></div>');break;case XFD_MB_ERROR:case XFD_MB_STOP:this.xf_icon=$('<div class="_xf_popup_msgbox_icon _xf_popup_msgbox_icon_error"></div>');break;case XFD_MB_QUESTION:this.xf_icon=$('<div class="_xf_popup_msgbox_icon _xf_popup_msgbox_icon_question"></div>')}switch(this.xf_box.append(this.xf_icon),i=[],i.push('<div class="_xf_popup_msgbox_msg_scrollbox">'),i.push('<div class="_xf_popup_msgbox_msg_tablebox">'),i.push('<div class="_xf_popup_msgbox_msg_tablecell">'),i.push(this.xf_prop.message.replace(/\n/g,"<br>")),i.push("</div>"),i.push("</div>"),i.push("</div>"),this.xf_textarea=$(i.join("")),this.xf_box.append(this.xf_textarea),this.xf_btnbox=$('<div class="_xf_popup_msgbox_btnbox"></div>'),a=factory._userlang("중단","Abort"),b=factory._userlang("다시 시도","Retry"),c=factory._userlang("무시","Ignore"),d=factory._userlang("확인","OK"),e=factory._userlang("예","YES"),f=factory._userlang("아니요","NO"),g=factory._userlang("취소","Cancel"),h=factory._userlang("계속","Continue"),this.xf_prop.button_type){case XFD_MB_ABORTRETRYIGNORE:if(this.xf_abort=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_right">'+a+"</button>"),this.xf_retry=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_both">'+b+"</button>"),
this.xf_ignore=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_left">'+c+"</button>"),this.xf_btnbox.append(this.xf_abort),this.xf_btnbox.append(this.xf_retry),this.xf_btnbox.append(this.xf_ignore),this.xf_prop.focus_button)switch(this.xf_prop.focus_button){case XFD_MB_FOCUSBUTTON1:this.xf_focus_button=this.xf_abort;break;case XFD_MB_FOCUSBUTTON2:this.xf_focus_button=this.xf_retry;break;case XFD_MB_FOCUSBUTTON3:this.xf_focus_button=this.xf_ignore}else this.xf_focus_button=this.xf_abort;break;case XFD_MB_OK:this.xf_ok=$('<button class="_xf_popup_msgbox_btn">'+d+"</button>"),this.xf_btnbox.append(this.xf_ok),this.xf_focus_button=this.xf_ok;break;case XFD_MB_OKCANCEL:if(this.xf_ok=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_right">'+d+"</button>"),this.xf_cancel=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_left">'+g+"</button>"),this.xf_btnbox.append(this.xf_ok),this.xf_btnbox.append(this.xf_cancel),this.xf_prop.focus_button)switch(this.xf_prop.focus_button){case XFD_MB_FOCUSBUTTON1:this.xf_focus_button=this.xf_ok;break;case XFD_MB_FOCUSBUTTON2:this.xf_focus_button=this.xf_cancel}else this.xf_focus_button=this.xf_ok;break;case XFD_MB_RETRYCANCEL:if(this.xf_retry=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_right">'+b+"</button>"),this.xf_cancel=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_left">'+g+"</button>"),this.xf_btnbox.append(this.xf_retry),this.xf_btnbox.append(this.xf_cancel),this.xf_prop.focus_button)switch(this.xf_prop.focus_button){case XFD_MB_FOCUSBUTTON1:this.xf_focus_button=this.xf_retry;break;case XFD_MB_FOCUSBUTTON2:this.xf_focus_button=this.xf_cancel}else this.xf_focus_button=this.xf_retry;break;case XFD_MB_YESNO:if(this.xf_yes=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_right">'+e+"</button>"),this.xf_no=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_left">'+f+"</button>"),this.xf_btnbox.append(this.xf_yes),this.xf_btnbox.append(this.xf_no),this.xf_prop.focus_button)switch(this.xf_prop.focus_button){case XFD_MB_FOCUSBUTTON1:this.xf_focus_button=this.xf_yes;break;case XFD_MB_FOCUSBUTTON2:this.xf_focus_button=this.xf_no}else this.xf_focus_button=this.xf_yes;break;case XFD_MB_YESNOCANCEL:if(this.xf_yes=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_right">'+e+"</button>"),this.xf_no=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_both">'+f+"</button>"),this.xf_cancel=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_left">'+g+"</button>"),this.xf_btnbox.append(this.xf_yes),this.xf_btnbox.append(this.xf_no),this.xf_btnbox.append(this.xf_cancel),this.xf_prop.focus_button)switch(this.xf_prop.focus_button){case XFD_MB_FOCUSBUTTON1:this.xf_focus_button=this.xf_yes;break;case XFD_MB_FOCUSBUTTON2:this.xf_focus_button=this.xf_no;break;case XFD_MB_FOCUSBUTTON3:this.xf_focus_button=this.xf_cancel}else this.xf_focus_button=this.xf_yes;break;case XFD_MB_CANCELRETRYCONTINUE:if(this.xf_cancel=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_right">'+g+"</button>"),this.xf_retry=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_both">'+b+"</button>"),this.xf_continue=$('<button class="_xf_popup_msgbox_btn _xf_popup_msgbox_btn_margin_left">'+h+"</button>"),this.xf_btnbox.append(this.xf_cancel),this.xf_btnbox.append(this.xf_retry),this.xf_btnbox.append(this.xf_continue),this.xf_prop.focus_button)switch(this.xf_prop.focus_button){case XFD_MB_FOCUSBUTTON1:this.xf_focus_button=this.xf_cancel;break;case XFD_MB_FOCUSBUTTON2:this.xf_focus_button=this.xf_retry;break;case XFD_MB_FOCUSBUTTON3:this.xf_focus_button=this.xf_continue}else this.xf_focus_button=this.xf_cancel}this.xf_object.append(this.xf_btnbox),this.xf_focus_button.focus()},XF_SCREEN_MSGBOX.prototype._offevent=function(){this.xf_object.on("keydown",$.proxy(this.on_object_keydown,this)),null!=this.xf_abort&&this.xf_abort.on("click"),null!=this.xf_retry&&this.xf_retry.on("click"),null!=this.xf_ignore&&this.xf_ignore.on("click"),null!=this.xf_ok&&this.xf_ok.on("click"),null!=this.xf_cancel&&this.xf_cancel.on("click"),null!=this.xf_yes&&this.xf_yes.on("click"),null!=this.xf_no&&this.xf_no.on("click"),null!=this.xf_continue&&this.xf_continue.on("click")},XF_SCREEN_MSGBOX.prototype._event=function(){this._offevent(),this.xf_object.on("keydown",$.proxy(this.on_object_keydown,this)),null!=this.xf_abort&&this.xf_abort.on("click",XFD_MB_RESABORT,$.proxy(this.on_button_click,this)),null!=this.xf_retry&&this.xf_retry.on("click",XFD_MB_RESRETRY,$.proxy(this.on_button_click,this)),null!=this.xf_ignore&&this.xf_ignore.on("click",XFD_MB_RESIGNORE,$.proxy(this.on_button_click,this)),null!=this.xf_ok&&this.xf_ok.on("click",XFD_MB_RESOK,$.proxy(this.on_button_click,this)),null!=this.xf_cancel&&this.xf_cancel.on("click",XFD_MB_RESCANCEL,$.proxy(this.on_button_click,this)),null!=this.xf_yes&&this.xf_yes.on("click",XFD_MB_RESYES,$.proxy(this.on_button_click,this)),null!=this.xf_no&&this.xf_no.on("click",XFD_MB_RESNO,$.proxy(this.on_button_click,this)),null!=this.xf_continue&&this.xf_continue.on("click",XFD_MB_RESCONTINUE,$.proxy(this.on_button_click,this))},XF_SCREEN_MSGBOX.prototype.setfocusbutton=function(){this.xf_focus_button.focus()},XF_SCREEN_MSGBOX.prototype.on_object_keydown=function(a){a.which==XFD_KEY_ESC&&this.xf_modalbox.hide()},XF_SCREEN_MSGBOX.prototype.on_button_click=function(a){var b=a.data;this.xf_modalbox.destroy(),null!==this.xf_prop.on_button_click&&this.xf_prop.on_button_click(this.xf_prop.id,b)},XF_SCREEN_PORTLET.prototype._init=function(a,b,c,d){this.control_kind=XFD_CTRLKIND_NONE,this.object_kind=XFD_OBJKIND_SCREEN,this.xf_map=a,this.xf_parent_content=b,this.xf_execution_context=c,this.xf_parent={xf_screen:this,xf_component:null,xf_content:b},this.xf_factory=window.factory,this.xf_window=window,this.xf_protect=null,this.xf_field_selectbox=null,this.xf_combo_selectbox=null,this.xf_content=null,this.last_control_id=-1,this.is_load_complete=!1,this.is_onload_register_complete=!1,this.is_onloadevent_fired=!1,this.xf_childscreencontainercomponent_arr=[],this.is_popupdestroy_fired=!1,this.is_main_screen=!1,this.is_popup_screen=!1,this.global_module_arr=[],this.global_xdataset_arr=[],this.id_map={},this.name_map={},this.index_map={},this.portlet_map={},this.link_arr=[],this.attrmap_arr=[],this.curr_attrmap_id="",this.tranmap_arr=[],this.curr_tranmap_id="",this.xtranmap_arr=[],this.traniomap_arr=[],this.xdataset_map={},this.hotkey_map=[],this.js_url_arr=[],this.userheader="",this.xf_main_screen=null,this.is_expired=!1,this.is_event_locked=!1,this.is_event_locked_subscreen=!1,this.parent_tabpanel=null,this.parent_popupbox=null,this.parent_menubox=null,this.container_tabpanel=null,this.portlet_tabpanel=null,this.popup_info=null,this.popup_result="",this.extra_data=null,d&&(this.portlet_tabpanel=d,this.portlet_tabpanel.xf_prop&&this.portlet_tabpanel.xf_prop.is_portlet_popup&&(this.is_popup_screen=!0),this.extra_data=this.portlet_tabpanel.xf_item.xf_prop.extra_data),this.dragarea_left=0,this.dragarea_right=0,this.dragarea_top=0,this.dragarea_bottom=0,this.original_screen_width=0,this.original_screen_height=0,this.sync_submit_result_info={mapid:"",result:0,recvuserheader:"",recvcode:"",recvmsg:""},this.sync_tran_result_info={mapid:"",result:0,recvuserheader:"",recvcode:"",recvmsg:"",recvdata:""},this.css_arr=[],this.xf_virtual_docbody=null,this.virtual_docbody=null,this.sync_messagebox_info=null,this.sync_modalstate_info=null},XF_SCREEN_PORTLET.prototype._css=function(a){var b;void 0===a.back_color&&(a.back_color=this.xf_prop.back_color),void 0===a.back_image&&(a.back_image=this.xf_prop.back_image),_xfx.propcss(this,a,this.css_arr,["position","back_imagefillstyle","back_imagesize"]),_xfx.propbackcolor(this,a,this.css_arr),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),this.css_arr.push(_xfc.basic("horzscrollbar_style",this.xf_prop.horzscrollbar_style,!1,null)),this.css_arr.push(_xfc.basic("vertscrollbar_style",this.xf_prop.vertscrollbar_style,!1,null)),b=_xfc.cssinfo(this.css_arr),this.xf_parent.xf_content.xf_object.css(b)},XF_SCREEN_PORTLET.prototype._box=function(){this.xf_screen_wrapper=this.xf_parent_content.xf_object,this.xf_object=this.xf_parent_content.xf_object,this.xf_content=new XF_CONTENT(this,this.xf_object),this.xf_execution_context.screen=this,this.xf_content.xf_execution_context=this.xf_execution_context,this.xf_screen=this},XF_SCREEN_PORTLET.prototype._dom=function(){this.xf_tooltip=xf_screen.xf_tooltip,this.xf_protect=new XF_PROTECT(this,this.xf_object,{image:this.xf_prop.protect_image}),this.xf_field_selectbox=xf_screen.xf_field_selectbox,this.xf_combo_selectbox=xf_screen.xf_combo_selectbox,this.xf_date_selectbox=xf_screen.xf_date_selectbox},XF_SCREEN_PORTLET.prototype._global=function(){this.xf_main_screen=xf_screen.xf_main_screen,this.is_main_screen=!1,this.xf_factory=this.xf_main_screen.xf_factory,this.global_style=this.xf_main_screen.global_style,this.global_xdataset_arr=this.xf_main_screen.global_xdataset_arr,this.global_module_arr=this.xf_main_screen.global_module_arr,this.xf_parent_content&&this.xf_parent_content.xf_screen&&this.xf_parent_content.xf_screen.is_event_locked_subscreen&&(this.is_event_locked=this.xf_parent_content.xf_screen.is_event_locked_subscreen,this.is_event_locked_subscreen=this.xf_parent_content.xf_screen.is_event_locked_subscreen),this.portlet_tabpanel&&this.portlet_tabpanel.is_event_locked_subscreen&&(this.is_event_locked=this.portlet_tabpanel.is_event_locked_subscreen,this.is_event_locked_subscreen=this.portlet_tabpanel.is_event_locked_subscreen)},XF_SCREEN_PORTLET.prototype._offevent=function(){_xfj.offevent(this.xf_object,["keydown","mousedown","dragover","drop","on_destroy"]),_xfj.offevent(this.xf_object,["scroll, resize"])},XF_SCREEN_PORTLET.prototype._event=function(){this._offevent(),this.xf_object.on("keydown",$.proxy(this.on_object_keydown,this)),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("drop",$.proxy(this.on_object_drop,this)),this.xf_object.on("dragover",$.proxy(this.on_object_dragover,this)),this.xf_object.on("on_destroy",$.proxy(this.on_object_destroy,this)),this.xf_object.on("scroll",$.proxy(this.on_window_scroll,this)),this.xf_object.on("resize",$.proxy(this.on_window_resize,this))},XF_SCREEN_PORTLET.prototype._create=function(){this._callcomponentcreate(),this.is_load_complete=!0,this.applyattributemap(this.curr_attrmap_id,!1,!1,!1),this.applytranmap(this.curr_tranmap_id,!1,!1,!1),_xfu.async({func:this.on_screen_create,context:this})},XF_SCREEN_PORTLET.prototype.on_screen_create=function(){this.portlet_tabpanel.on_screen_load(this),this._fireonload(),this.xf_object.trigger("resize",!0)},XF_SCREEN_COLOR_SELECTBOX.prototype._init=function(a){this.xf_screen=a,this.is_selectbox_show=!1,this.xf_object=null,this.xf_color=null,this.xf_color_prop=null,this.xf_selected_item=null,this.selected_index=-1,this.selectbox_left=0,this.selectbox_itemheight=0,this.selectbox_width=0,this.selectbox_height=0,this.xframe_color_matrix=[["00000000","00003399","00003333","00003300","00663300","00800000","00993333","00333333"],["00000080","000066FF","00008080","00008000","00808000","00FF0000","00996666","00808080"],["000000FF","000099FF","0000CC99","00669933","00CCCC33","00FF6633","00800080","00999999"],["00FF00FF","0000CCFF","0000FFFF","0000FF00","00FFFF00","00FFCC00","00663399","00C0C0C0"],["00CC99FF","0099CCFF","0099FFFF","00CCFFCC","00FFFFCC","00FFCC99","00FF99CC","00FFFFFF"]],this.color_matrix=[[100,120,130,140,150,150,150,150],[200,220,230,240,250,250,250,250],[300,320,330,340,350,350,350,350],[400,420,430,440,450,450,450,450],[500,520,530,540,550,550,550,550]]},XF_SCREEN_COLOR_SELECTBOX.prototype._prop=function(){var a,b;for(this.xf_prop={item_height:20,item_width:20,automatic_height:30,morecolor_height:30,colorrow_height:20,coloritem_padding:2,colorcolumn_width:20,colorrow_count:5,colorcolumn_count:8,internal_name:_xfu.uuid()},a=0;a<this.xf_prop.colorrow_count;a++)for(b=0;b<this.xf_prop.colorcolumn_count;b++)this.color_matrix[a][b]=_xfu.color(_xfx.rgb(this.xframe_color_matrix[a][b]))},XF_SCREEN_COLOR_SELECTBOX.prototype._box=function(){var a;a=[],a.push("<div"),a.push(' class="_xf_screen_selectbox _xfe_boxshadow_sm _xf_screen_selectbox_color" '),a.push(' style="'),a.push("display:none;"),1==_xfu.ismobile()&&a.push("overflow:auto;"),a.push('"'),a.push(">"),a.push('<div class="_xf_screen_selectbox_content" style="width:100%;height:100%;"></div>'),a.push("</div>"),this.xf_object=$(a.join("")),$(document.body).append(this.xf_object)},XF_SCREEN_COLOR_SELECTBOX.prototype._dom=function(){this.xf_content=this.xf_object.find("._xf_screen_selectbox_content")},XF_SCREEN_COLOR_SELECTBOX.prototype._offdocevent=function(){$(document).off("mousedown."+this.xf_color.xf_prop.internal_name)},XF_SCREEN_COLOR_SELECTBOX.prototype._docevent=function(){this._offdocevent(),$(document).on("mousedown."+this.xf_color.xf_prop.internal_name,$.proxy(this.on_document_click,this))},XF_SCREEN_COLOR_SELECTBOX.prototype._offevent=function(){_xfj.offevent(this.xf_content,["mousedown","click","dblclick"])},XF_SCREEN_COLOR_SELECTBOX.prototype._event=function(){this._offevent(),this.xf_content.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_content.on("click",$.proxy(this.on_content_click,this))},XF_SCREEN_COLOR_SELECTBOX.prototype.setselectitem=function(a,b,c){var c;void 0===c&&(c=a.find("._xf_screen_selectbox_item_checkbox")),1==b?(a.css("color",_xfu.rgbfunc(this.xf_color_prop.selitem_forecolor)),a.css("background-color",_xfu.rgbfunc(this.xf_color_prop.selitem_backcolor)),a.addClass("_xf_screen_selectbox_item_selected"),this.xf_color_prop.selitem_customclass.length>0&&a.addClass(this.xf_color_prop.selitem_customclass),void 0!==c&&c.addClass("_xf_screen_selectbox_item_checkbox_checked")):(a.css("color",_xfu.rgbfunc(this.xf_color_prop.fore_color)),a.css("background-color","transparent"),a.removeClass("_xf_screen_selectbox_item_selected"),this.xf_color_prop.selitem_customclass.length>0&&a.removeClass(this.xf_color_prop.selitem_customclass),void 0!==c&&c.removeClass("_xf_screen_selectbox_item_checkbox_checked"))},XF_SCREEN_COLOR_SELECTBOX.prototype._getitemhtml_div=function(a,b,c){var d,e,f,g;return d=[],f=this.color_matrix[a][b],g=_xfu.rgb(f),e=!1,f==c&&(e=!0),d.push("<td>"),d.push('<div class="_xf_screen_selectbox_coloritem'),this.xf_color_prop.item_customclass.length>0&&d.push(" "+this.xf_color_prop.item_customclass),d.push('"'),d.push(' data-color="'+f+'"'),d.push(' style="'),d.push("background-color:"+_xfu.rgbfunc(g)+";"),e&&(this.xf_color_prop.selitem_customclass.length>0&&d.push(" "+this.xf_color_prop.selitem_customclass),this.selected_row_index=a,this.selected_column_index=b),d.push('">'),d.push("</div>"),d.push("</td>"),d.join("")},XF_SCREEN_COLOR_SELECTBOX.prototype._getitemhtml=function(a,b,c){var d,e,f,g;return d=[],f=this.color_matrix[a][b],e=!1,f==c&&(e=!0),g=_xfu.rgb(f),d.push('<td class="_xf_screen_selectbox_color_td'),this.xf_color_prop.item_customclass.length>0&&d.push(" "+this.xf_color_prop.item_customclass+'"'),e&&(d.push(" _xf_screen_selectbox_color_td_selected"),this.xf_color_prop.selitem_customclass.length>0&&d.push(" "+this.xf_color_prop.selitem_customclass)),d.push('"'),d.push(' data-color="'+f+'"'),d.push(' style="'),d.push("background-color:"+_xfu.rgbfunc(g)+";"),d.push("border-width:"+_xfu.px(this.xf_prop.coloritem_padding)+";"),d.push('">'),d.push("<div"),d.push(' data-color="'+f+'"'),d.push(' class="_xf_screen_selectbox_color_td_item" style="'),d.push("height:"+(this.xf_prop.colorrow_height-2*this.xf_prop.coloritem_padding)+"px;"),d.push('"></div>'),d.push("</td>"),d.join("")},XF_SCREEN_COLOR_SELECTBOX.prototype.isshowselectbox=function(){return this.is_selectbox_show},XF_SCREEN_COLOR_SELECTBOX.prototype.hideselectbox=function(){0!=this.is_selectbox_show&&(this.is_selectbox_show=!1,this.xf_object.hide(),this.on_selectbox_hide())},XF_SCREEN_COLOR_SELECTBOX.prototype.showselectbox=function(a){var b,c,d,e,f,g;1!=this.is_selectbox_show&&(this.is_selectbox_show=!0,this.xf_color=a,this.xf_color_prop=a.xf_prop,this.selected_index=-1,b=this.xf_color.xf_object.offset(),this.xf_color.create_mode==_XFD_CREATEMODE_GRID?(e=b.left-1,d=b.top+this.xf_color_prop.height):(e=b.left,d=b.top+this.xf_color_prop.height-1),g=this.xf_color.xf_object.outerWidth(),this.selectbox_height=this.xf_prop.automatic_height+this.xf_prop.morecolor_height,this.selectbox_height+=this.xf_prop.colorrow_count*this.xf_prop.colorrow_height+this.xf_prop.colorrow_count,this.min_width=this.xf_prop.colorcolumn_width*this.xf_prop.colorcolumn_count,this.min_width<g-1?(this.selectbox_width=g,this.xf_color_prop.create_mode==_XFD_CREATEMODE_GRID&&(this.selectbox_width+=2)):(this.selectbox_width=this.min_width,1==this.xf_color.xf_prop.selectbox_pos&&(e=this.selectbox_width-g,this.xf_color_prop.create_mode==_XFD_CREATEMODE_GRID&&(e+=2),0>e&&(e=0))),this.selectbox_left=e,c=document.body.scrollHeight,void 0===c&&(c=document.documentElement.scrollHeight),d+this.selectbox_height>c&&(f=this.xf_color_prop.create_mode==_XFD_CREATEMODE_GRID?b.top-this.selectbox_height:b.top-this.selectbox_height+1,f>=0&&(d=f)),this.xf_object.css({border:"1px solid "+_xfu.rgbfunc(this.xf_color_prop.border_color),borderRadius:_xfu.px(this.xf_color_prop.border_radius),marginTop:_xfu.px(this.xf_color_prop.contentbox_gap),color:_xfu.rgbfunc(this.xf_color_prop.fore_color),left:_xfu.px(e),top:_xfu.px(d),height:_xfu.px(this.selectbox_height),width:_xfu.px(this.selectbox_width)}),_xfc.basic("font",this.xf_color_prop.font,!0,this.xf_object),this.zindex(!0),this.xf_object.show(),this.refreshselectbox(),_xfu.async({func:this.on_selectbox_show,context:this}))},XF_SCREEN_COLOR_SELECTBOX.prototype.refreshselectbox=function(){var a,b,c,d,e;for(a=[],c=this.color_matrix.length,e=this.color_matrix[0].length,a.push('<div class="_xf_screen_selectbox_color_automaticbox" data-color="0"'),a.push(' style="height:'+_xfu.px(this.xf_prop.automatic_height)+'">'),a.push('<div data-color="0" style="display:inline;background-color: #000000;width:12px;height:12px;"> </div>'),a.push('<span data-color="0" style="padding-left:4px;">Automatic</span>'),a.push("</div>"),a.push('<table class="_xf_color_table" style="width:100%;text-align:center;border-collapse:separate;">'),b=0;c>b;b++){for(a.push('<tr style="height:'+_xfu.px(this.xf_prop.colorrow_height)+';">'),d=0;e>d;d++)a.push(this._getitemhtml(b,d,this.xf_color.color_value));a.push("</tr>")}a.push("</tbody>"),a.push("</table>"),a.push('<div data-color="more" class="_xf_screen_selectbox_color_morecolorbox"'),a.push(' style="height:'+_xfu.px(this.xf_prop.morecolor_height)+'">'),a.push('<span data-color="more">More Color...</span>'),a.push("</div>"),this.xf_content.get(0).innerHTML=a.join("")},XF_SCREEN_COLOR_SELECTBOX.prototype.zindex=function(a){var b,c,d;return c=-1,d=this.xf_color.xf_object.closest("._xf_portletbox"),0==d.length&&(d=this.xf_color.xf_object.closest("._xf_popupbox")),d.length>0&&(b=this.xf_object.css("z-index"),c=d.css("z-index"),c+=b,a&&this.xf_object.css("z-index",c)),c},XF_SCREEN_COLOR_SELECTBOX.prototype.on_document_click=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_screen_selectbox_color"})&&this.hideselectbox()},XF_SCREEN_COLOR_SELECTBOX.prototype.on_selectbox_show=function(){this.is_selectbox_show=!0,this.xf_color.xf_button.addClass("_xf_color_up_button"),_xfu.async({func:this._docevent,context:this})},XF_SCREEN_COLOR_SELECTBOX.prototype.on_selectbox_hide=function(){this.is_selectbox_show=!1,this.xf_color.xf_button.removeClass("_xf_color_up_button"),this._offdocevent(),this.xf_object.css("width","auto"),this.xf_selected_item=null},XF_SCREEN_COLOR_SELECTBOX.prototype.on_content_mousedown=function(a){return!1},XF_SCREEN_COLOR_SELECTBOX.prototype.on_content_click=function(a){var b,c;return a.stopPropagation(),c=$(a.target),b=c.data("color"),"more"===b?(this._showselectboxpopup(),!1):void 0===b?!1:void this.xf_color._setvalue(b,{is_fire_event:!0,is_fire_async:!0,event_type:XFD_DATA_CHANGE_BY_USER,is_set_xdataset:!0,is_close_selectbox:!0,is_set_focus:!1,is_fire_editcomplete:!0,is_display_value:!0})},XF_SCREEN_COLOR_SELECTBOX.prototype._showselectboxpopup=function(){var a,b,c;return c={},b=new XF_COLOR_POPUP(this,c),a=new XF_MODALBOX({xf_screen:this.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:"선택",url:"",xf_content:b.xf_object,padding:0,is_center:!0,top:this.xf_color.gettop(),width:450,height:340}),b.xf_modalbox=a,a.show(),!0},XF_SCREEN_COMBO_SELECTBOX.prototype._init=function(a){this.xf_screen=a,this.is_selectbox_show=!1,this.xf_object=null,this.xf_picklist=null,this.xf_combobox=null,this.xf_combobox_prop=null,this.xf_selected_item=null,this.selected_index=-1,this.selected_display_index=-1,this.xf_vscroll=null,this.selectbox_left=0,this.selectbox_itemheight=0,this.xf_vscroll_selecttable=null,this.select_table_width=0,this.sorted_item_info_arr=null,this.selectbox_overflowx=0,this.selectbox_overflowy=0,this.xf_allitem_check=null},XF_SCREEN_COMBO_SELECTBOX.prototype._prop=function(){this.xf_prop={picklist_showmaxcount:20,internal_name:_xfu.uuid()}},XF_SCREEN_COMBO_SELECTBOX.prototype._box=function(){var a;a=[],a.push("<div"),a.push(' class="_xf_screen_selectbox _xfe_boxshadow_sm _xf_screen_selectbox_combobox" '),a.push(' style="'),a.push("display:none;"),a.push('"'),a.push(">"),a.push('<div class="_xf_screen_selectbox_fix" style="'),a.push("position:absolute;left:0px;top:0px;width:100%;height:24px;"),a.push("display:none;"),a.push('">'),a.push("</div>"),a.push('<div class="_xf_screen_selectbox_view" style="'),a.push("position:relative;height:100%;"),1==_xfu.ismobile()&&a.push("overflow:auto;"),a.push('">'),a.push('<div class="_xf_screen_selectbox_content"></div>'),a.push("</div>"),a.push("</div>"),this.xf_object=$(a.join("")),$(document.body).append(this.xf_object)},XF_SCREEN_COMBO_SELECTBOX.prototype._dom=function(){this.xf_fix=this.xf_object.find("._xf_screen_selectbox_fix"),this.xf_view=this.xf_object.find("._xf_screen_selectbox_view"),this.xf_content=this.xf_object.find("._xf_screen_selectbox_content")},XF_SCREEN_COMBO_SELECTBOX.prototype._offdocevent=function(){$(document).off("mousedown."+this.xf_combobox.xf_prop.internal_name)},XF_SCREEN_COMBO_SELECTBOX.prototype._docevent=function(){this._offdocevent(),$(document).on("mousedown."+this.xf_combobox.xf_prop.internal_name,$.proxy(this.on_document_click,this))},XF_SCREEN_COMBO_SELECTBOX.prototype._offevent=function(){_xfj.offevent(this.xf_content,["mousedown","click","dblclick"])},XF_SCREEN_COMBO_SELECTBOX.prototype._event=function(){this._offevent(),this.xf_fix.on("mousedown",$.proxy(this.on_fix_mousedown,this)),this.xf_fix.on("click",$.proxy(this.on_fix_click,this)),this.xf_content.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_content.on("click",$.proxy(this.on_content_click,this)),this.xf_content.on("dblclick",$.proxy(this.on_content_dblclick,this))},XF_SCREEN_COMBO_SELECTBOX.prototype.setselectitemortr=function(a,b,c){void 0===c&&(c=a.find("._xf_screen_selectbox_item_checkbox")),1==b?(a.css("color",_xfu.rgbfunc(this.xf_combobox_prop.selitem_forecolor)),a.css("background-color",_xfu.rgbfunc(this.xf_combobox_prop.selitem_backcolor)),a.addClass("_xf_screen_selectbox_item_selected"),this.xf_combobox_prop.selitem_customclass.length>0&&a.addClass(this.xf_combobox_prop.selitem_customclass),void 0!==c&&c.addClass("_xf_screen_selectbox_item_checkbox_checked")):(a.css("color",_xfu.rgbfunc(this.xf_combobox_prop.fore_color)),a.css("background-color","transparent"),a.removeClass("_xf_screen_selectbox_item_selected"),this.xf_combobox_prop.selitem_customclass.length>0&&a.removeClass(this.xf_combobox_prop.selitem_customclass),void 0!==c&&c.removeClass("_xf_screen_selectbox_item_checkbox_checked"))},XF_SCREEN_COMBO_SELECTBOX.prototype.setallselectitemortr=function(a,b){var c,d,e,f,g,h;for(1==b&&(h=[]),this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?(c=this.xf_content.find("._xf_screen_selectbox_item"),f=c.length):(c=this.xf_content.find("._xf_screen_selecttable_tr"),f=c.length),e=0;f>e&&!(a&&0!=this.xf_combobox_prop.maxselectcount&&e>=this.xf_combobox_prop.maxselectcount);e++){if(d=$(c[e]),1==b){if(g={index:0,code:"",comment:""},g.index=_xfu["int"](d.data("index")),g.code=_xfu.str(d.data("code")),g.comment=_xfu.str(d.data("comment")),g.is_hidden=_xfu.str(d.data("is_hidden")),"1"==g.is_hidden)continue;h.push(g)}this.setselectitemortr(d,a)}return h},XF_SCREEN_COMBO_SELECTBOX.prototype._getitemhtml=function(a,b,c,d,e,f){var g,h,i,j,k;return g=[],h=this.xf_picklist.getdisplaytext(c,d,f),i=!1,k=!1,j=this._getitemdatahtml(a,b,c,d,e),g.push('<div class="_xf_screen_selectbox_item'),this.xf_combobox_prop.item_customclass.length>0&&g.push(" "+this.xf_combobox_prop.item_customclass),i=!0,1==i&&1==this.xf_combobox._isvaluecode(c)&&(g.push(" _xf_screen_selectbox_item_selected"),this.xf_combobox_prop.selitem_customclass.length>0&&g.push(" "+this.xf_combobox_prop.selitem_customclass),this.selected_index=b,this.selected_display_index=a,k=!0),g.push('"'),g.push(j),g.push(' title="'+h+'"'),g.push(' style="'),1!=e&&"1"!=e||g.push(" display:none;"),g.push(" height:"+_xfu.px(this.selectbox_itemheight)+";"),g.push(" padding-left:"+_xfu.px(this.xf_combobox_prop.text_margin[0])+";"),k&&(g.push("color:"+_xfu.rgbfunc(this.xf_combobox_prop.selitem_forecolor)+";"),g.push("background-color:"+_xfu.rgbfunc(this.xf_combobox_prop.selitem_backcolor)+";")),g.push('">'),g.push('<span class="_xf_screen_selectbox_item_checkbox'),k&&g.push(" _xf_screen_selectbox_item_checkbox_checked"),g.push('"'),0==this.xf_combobox_prop.show_checkbox&&g.push(' style="display:none;"'),g.push("></span>"),g.push('<span class="_xf_screen_selectbox_item_text _xfd_padding"'),g.push(' style="'),g.push("text-overflow: ellipsis;"),g.push("overflow: hidden;"),g.push('"'),g.push(">"),g.push(h),g.push("</span>"),g.push("</div>"),g.join("")},XF_SCREEN_COMBO_SELECTBOX.prototype._getitemfixhtml=function(){var a,b,c,d;return a=[],b=this.xf_combobox_prop.allcheckbox_comment,"전체"==b&&(b=factory._userlang("전체","All")),c=this._getitemdatahtml(-1,-1,"","",!1),a.push('<div class="_xf_screen_selectbox_item"'),a.push(c),a.push(' title="'+b+'"'),a.push(' style="'),a.push(" height:"+_xfu.px(this.selectbox_itemheight)+";"),a.push(" padding-left:"+_xfu.px(this.xf_combobox_prop.text_margin[0])+";"),a.push(" border-bottom-color: #d3d3d3;"),a.push('">'),a.push('<span class="_xf_screen_selectbox_item_checkbox'),d&&a.push(" _xf_screen_selectbox_item_checkbox_checked"),a.push('"'),0==this.xf_combobox_prop.show_checkbox&&a.push(' style="display:none;"'),a.push("></span>"),a.push('<span class="_xf_screen_selectbox_item_text _xfd_padding"'),2==this.selectbox_overflowx&&(a.push(' style="'),a.push("text-overflow: ellipsis;"),a.push("overflow: hidden;"),a.push('"')),a.push(">"),a.push(b),a.push("</span>"),a.push("</div>"),a.join("")},XF_SCREEN_COMBO_SELECTBOX.prototype._getitemdatahtml=function(a,b,c,d,e,f){var g=[];return g.push(' data-row="'+a+'"'),g.push(' data-index="'+b+'"'),g.push(' data-code="'+c+'"'),g.push(' data-comment="'+d+'"'),g.push(' data-is_hidden="'+e+'"'),void 0!==f&&g.push(' data-depth="'+f+'"'),g.join("")},XF_SCREEN_COMBO_SELECTBOX.prototype._refreshselectboxscroll=function(){this.xf_vscroll&&(this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?(this.xf_vscroll.xf_view=this.xf_view,this.xf_vscroll.xf_content=this.xf_content):(this.xf_vscroll.xf_view=this.xf_selecttable_view,this.xf_vscroll.xf_content=this.xf_selecttable_content)),this.xf_vscroll?(this.xf_vscroll.syncbar(),this.xf_vscroll.refresh()):this.xf_object[0].scrollTop=0,this.xf_selected_item=this.xf_content.find("._xf_screen_selectbox_item_selected"),null!=this.xf_selected_item&&this.xf_selected_item.length>0&&(this.xf_vscroll?this.xf_vscroll.focus(this.xf_selected_item,XF_SCROLL.FOCUS_TYPE_CENTER):this._focus(this.xf_selected_item,XF_SCROLL.FOCUS_TYPE_CENTER))},XF_SCREEN_COMBO_SELECTBOX.prototype._findmatcheditem=function(a){var b,c,d,e,f,g,h,i;if(void 0===a&&(a=!0),c=this.xf_combobox.getselectedcode(),b=this.xf_combobox.xf_edit.val(),0==b.length)return null;if(b=b.toLowerCase(),this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?d=this.xf_content.find("._xf_screen_selectbox_item"):this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_TABLE&&(d=this.xf_object.find("._xf_screen_selecttable_tr")),f=d.length,0==this.xf_combobox_prop.picklist_selstyle||1==this.xf_combobox_prop.picklist_selstyle){for(g=0;f>g;g++)if(e=$(d[g]),h=_xfu.str(e.data("code")),1==a){if(h=h.toLowerCase(),0==h.indexOf(b))return e}else if(h==c)return e}else if(2==this.xf_combobox_prop.picklist_selstyle)for(g=0;f>g;g++)if(e=$(d[g]),1==a){if(i=_xfu.str(e.data("comment")),i=i.toLowerCase(),0==i.indexOf(b))return e}else if(h=_xfu.str(e.data("code")),h==c)return e;return null},XF_SCREEN_COMBO_SELECTBOX.prototype.scrolltomatcheditem=function(a){var b;return void 0===a&&(a=!0),b=this._findmatcheditem(a),null==b?!1:(this.xf_selected_item=b,this.selected_index=_xfu["int"](this.xf_selected_item.data("index")),this.selected_display_index=_xfu["int"](this.xf_selected_item.data("row")),this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?(this.xf_content.find("._xf_screen_selectbox_item_focus").removeClass("_xf_screen_selectbox_item_focus"),0==b.hasClass("_xf_screen_selectbox_item_selected")&&b.addClass("_xf_screen_selectbox_item_focus")):(this.xf_content.find("._xf_screen_selecttable_tr_focus").removeClass("_xf_screen_selecttable_tr_focus"),0==b.hasClass("_xf_screen_selectbox_item_selected")&&b.addClass("_xf_screen_selecttable_tr_focus")),this.xf_vscroll?this.xf_vscroll.focus(b,XF_SCROLL.FOCUS_TYPE_CENTER):this._focus(b,XF_SCROLL.FOCUS_TYPE_CENTER),!0)},XF_SCREEN_COMBO_SELECTBOX.prototype._sizeselectbox=function(a){var b,c,d,e,f,g;b=this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_TABLE?this.select_table_width:this.xf_content.outerWidth(),c=this.xf_combobox.xf_object.outerWidth(),e=this.selectbox_left,1==a&&(this.selectbox_height=this._getselectboxheight()),c-1>b?(d=c,this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID&&(d+=2)):(d=b+2,d>this.xf_screen.xf_screen_wrapper.innerWidth()?(d=this.xf_screen.xf_screen_wrapper.innerWidth(),e=window.pageXOffset):1==this.xf_combobox.xf_prop.selectbox_pos?(e=this.selectbox_left-(d-c),this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID&&(e+=2),e<window.pageXOffset&&(e=window.pageXOffset)):this.xf_combobox.xf_object.get(0).getBoundingClientRect().left+d>window.innerWidth&&(e=window.pageXOffset+(this.xf_screen.xf_screen_wrapper.innerWidth()-d))),2==this.selectbox_overflowx&&(f=document.body.scrollWidth,void 0===f&&(f=document.documentElement.scrollWidth),e+d>f&&(d-=e+d-f)),1==a?(g=this.getselectboxtop(),this.xf_object.css({top:_xfu.px(g),left:_xfu.px(e),width:_xfu.px(d),height:_xfu.px(this.selectbox_height)})):this.xf_object.css({left:_xfu.px(e),width:_xfu.px(d)})},XF_SCREEN_COMBO_SELECTBOX.prototype._getselectboxheight=function(){var a,b;return this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?(a=this.xf_picklist.getcount()-this.xf_picklist.gethiddencount(!0),1==this._isfixboxshow()&&a++,a>this.xf_combobox_prop.picklist_showmaxcount?this.selectbox_itemheight*this.xf_combobox_prop.picklist_showmaxcount+2:this.selectbox_itemheight*a+2):(a=this.xf_picklist.getcount(),this.xf_combobox_prop.selecttable_showcolumnheader&&a++,b=a>this.xf_combobox_prop.picklist_showmaxcount?this.selectbox_itemheight*this.xf_combobox_prop.picklist_showmaxcount:this.selectbox_itemheight*a,this.selecttable_scrollparentheight=b,this.xf_combobox_prop.selecttable_showcolumnheader&&(this.selecttable_scrollparentheight-=this.selectbox_itemheight),b+=2)},XF_SCREEN_COMBO_SELECTBOX.prototype._gettreeitemhtml=function(a,b,c,d,e){
var f,g,h,i,j,k,l,m,n;return m=0,h=[],f=this.xf_picklist.getcount(),i=_xfu["int"](this.xf_picklist.gettreestyleitemdepth(a)),g="",g=0==e?b:1==e?0==b.length?c:b+":"+c:c,l=this.xf_picklist.istreestyleitemhaschild(f,a,i),j=this.xf_picklist.gettreestyleitemexpanded(a),d=this.xf_picklist.gettreestyleitemhidden(a),0==j&&this.xf_picklist.settreestylechilditemhidden(a,!0),n=this._getitemdatahtml(a,a,b,c,d,i),h.push('<div class="_xf_screen_selectbox_item'),b.length>0&&1==this.xf_combobox._isvaluecode(b)&&h.push(" _xf_screen_selectbox_item_selected"),h.push('"'),h.push(n),h.push(' style="'),h.push("height:"+_xfu.px(this.selectbox_itemheight)+";"),1==d&&h.push("display:none;"),h.push('">'),k=16*(i-m),h.push('<div class="_xf_combobox_treeitem_element" style="width:'+_xfu.px(k)+';"></div>'),h.push('<div tabindex="-1" class="_xf_combobox_treeitem_element _xf_combobox_treeitem_button'),l&&(j?h.push(" _xf_combobox_treeitem_button_collapse"):h.push(" _xf_combobox_treeitem_button_expand")),h.push('"'),h.push(n),h.push("></div>"),h.push('<span class="_xf_combobox_treeitem_element _xf_combobox_treeitem_text"'),h.push(n),h.push(">"),h.push(g),h.push("</span>"),h.push("</div>"),h.join("")},XF_SCREEN_COMBO_SELECTBOX.prototype._expandtreeitem=function(a,b){var c;if(c=this._getcomboboxtreeiteminfo(a),null==c.xf_button)return!1;if(b==XFD_TREEITEM_COLLAPSE)c.xf_button.hasClass("_xf_combobox_treeitem_button_collapse")&&(c.xf_button.removeClass("_xf_combobox_treeitem_button_collapse"),c.xf_button.addClass("_xf_combobox_treeitem_button_expand"),this.xf_picklist.settreestyleitemexpanded(a,!1),this.xf_picklist.settreestylechilditemhidden(a,!0),this.refreshselectbox(!0));else if(b==XFD_TREEITEM_EXPAND)c.xf_button.hasClass("_xf_combobox_treeitem_button_expand")&&(c.xf_button.removeClass("_xf_combobox_treeitem_button_expand"),c.xf_button.addClass("_xf_combobox_treeitem_button_collapse"),this.xf_picklist.settreestyleitemexpanded(a,!0),this.xf_picklist.settreestylechilditemhidden(a,!1),this.refreshselectbox(!0));else if(b==XFD_TREEITEM_TOGGLE)return c.is_expanded?this._expandtreeitem(a,XFD_TREEITEM_COLLAPSE):this._expandtreeitem(a,XFD_TREEITEM_EXPAND);return!0},XF_SCREEN_COMBO_SELECTBOX.prototype._setchildrowhidden=function(a,b,c,d){var e,f;for(e=b+1;a>e&&(f=this.xf_picklist.getitemdepth(e),!(c>=f));e++)this.xf_picklist.setitemhidden(e,!0)},XF_SCREEN_COMBO_SELECTBOX.prototype._getcomboboxtreeiteminfo=function(a){var b;return b={depth:-1,is_expanded:!1,xf_item:null,xf_button:null,xf_text:null},a=_xfu["int"](a),b.xf_item=this.xf_content.find('._xf_screen_selectbox_item[data-row="'+a+'"]'),0==b.xf_item.length?(b.xf_item=null,b):(b.xf_text=b.xf_item.find("._xf_combobox_treeitem_text"),b.xf_button=b.xf_item.find("._xf_combobox_treeitem_button"),b.depth=_xfu["int"](b.xf_text.data("depth")),b.is_expanded=this.xf_picklist.gettreestyleitemexpanded(a),b)},XF_SCREEN_COMBO_SELECTBOX.prototype.isshowselectbox=function(){return this.is_selectbox_show},XF_SCREEN_COMBO_SELECTBOX.prototype.hideselectbox=function(a,b,c){var d;void 0===a&&(a=!1),0!=this.is_selectbox_show&&(0==a?(this.is_selectbox_show=!1,this.xf_object.hide(),this.on_selectbox_hide()):(d=this,this.xf_object.hide(10,function(){d.on_selectbox_hide(),a===!0&&(c.is_close_selectbox=!1,d.xf_combobox._setvalue_callback(b,c))})))},XF_SCREEN_COMBO_SELECTBOX.prototype.showselectbox=function(a){var b,c,d,e,f;1!=this.is_selectbox_show&&(this.is_selectbox_show=!0,this.xf_combobox=a,this.xf_combobox_prop=a.xf_prop,this.xf_picklist=a.xf_picklist,this.selected_index=-1,this.selected_display_index=-1,this.selectbox_overflowx=this.xf_combobox.xf_prop.selectbox_overflowx,0==this.selectbox_overflowx&&(this.selectbox_overflowx=factory_xf_param.COMBOBOX_SELECTBOX_OVERFLOWX),this.selectbox_overflowy=this.xf_combobox.xf_prop.selectbox_overflowy,0==this.selectbox_overflowy&&(this.selectbox_overflowy=factory_xf_param.COMBOBOX_SELECTBOX_OVERFLOWY),0==this.xf_combobox_prop.selectbox_itemheight?this.selectbox_itemheight=this.xf_combobox_prop.height:this.selectbox_itemheight=this.xf_combobox_prop.selectbox_itemheight,0==_xfu.ismobile()&&null===this.xf_vscroll?this.xf_vscroll=new XF_SCROLL(this.xf_view,this.xf_view,this.xf_content,{id:this.xf_prop.internal_name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,wheel_movemode:this.xf_combobox_prop.selectbox_wheelmode,wheel_linecount:this.xf_combobox_prop.selectbox_wheelline,wheel_lineheight:this.selectbox_itemheight,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)}):this.xf_vscroll&&(this.xf_vscroll.xf_prop.wheel_movemode=this.xf_combobox_prop.selectbox_wheelmode,this.xf_vscroll.xf_prop.wheel_linecount=this.xf_combobox_prop.selectbox_wheelline,this.xf_vscroll.xf_prop.wheel_lineheight=this.selectbox_itemheight),this.selectbox_height=this._getselectboxheight(),b=this.xf_combobox.xf_object.offset(),this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID?(e=b.left-1,d=b.top+this.xf_combobox_prop.height):(e=b.left,d=b.top+this.xf_combobox_prop.height-1),this.selectbox_left=e,c=document.body.scrollHeight,void 0===c&&(c=document.documentElement.scrollHeight),this.selectbox_height>this.xf_screen.xf_screen_wrapper.innerHeight()?(d=window.pageYOffset,this.selectbox_height=this.xf_screen.xf_screen_wrapper.innerHeight()):2==this.xf_combobox_prop.selectbox_vert_pos||0==this.xf_combobox_prop.selectbox_vert_pos&&this.xf_combobox.xf_object.get(0).getBoundingClientRect().bottom>.5*this.xf_screen.xf_screen_wrapper.innerHeight()?(d=this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID?b.top-this.selectbox_height:b.top-this.selectbox_height+1,d<window.pageYOffset&&(d=window.pageYOffset,this.selectbox_height=this.xf_combobox.xf_object.get(0).getBoundingClientRect().top)):this.xf_combobox.xf_object.get(0).getBoundingClientRect().bottom+this.selectbox_height>this.xf_screen.xf_screen_wrapper.innerHeight()&&(this.selectbox_height=this.xf_screen.xf_screen_wrapper.innerHeight()-this.xf_combobox.xf_object.get(0).getBoundingClientRect().bottom),this.xf_object.css({border:"1px solid "+_xfu.rgbfunc(this.xf_combobox_prop.border_color),borderRadius:_xfu.px(this.xf_combobox_prop.border_radius),marginTop:_xfu.px(this.xf_combobox_prop.contentbox_gap),color:_xfu.rgbfunc(this.xf_combobox_prop.fore_color),left:_xfu.px(e),top:_xfu.px(d),height:_xfu.px(this.selectbox_height)}),_xfc.basic("font",this.xf_combobox_prop.picklist_font,!0,this.xf_object),this.xf_content.css("top",_xfu.px(0)),this.zindex(!0),this.xf_object.show(),this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?this.refreshselectbox(!1):this.refreshselecttable(!1),f=this.xf_combobox.getselectedcode(),f.length>0?this.scrolltomatcheditem(!1):this.scrolltomatcheditem(!0),_xfu.async({func:this.on_selectbox_show,context:this}))},XF_SCREEN_COMBO_SELECTBOX.prototype.getselectboxtop=function(){var a,b,c,d;return a=this.xf_combobox.xf_object.offset(),d=this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID?a.top+this.xf_combobox_prop.height:a.top+this.xf_combobox_prop.height-1,b=document.body.scrollHeight,void 0===b&&(b=document.documentElement.scrollHeight),0==this.xf_combobox_prop.selectbox_vert_pos?d+this.selectbox_height>b&&(c=this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID?a.top-this.selectbox_height:a.top-this.selectbox_height+1,c>=0&&(d=c)):2==this.xf_combobox_prop.selectbox_vert_pos&&(d=this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID?a.top-this.selectbox_height:a.top-this.selectbox_height+1,0>d&&(d=0)),d},XF_SCREEN_COMBO_SELECTBOX.prototype.refreshselectbox=function(a){var b,c,d,e,f;if(this.refreshfixbox(),this.xf_object.css({width:"auto"}),b=[],c=this.xf_picklist.getcount(),1==this.xf_picklist.isliststyle())if(e=this.xf_combobox_prop.picklist_viewsort,0==e)for(d=0;c>d;d++)f=this.xf_picklist.gethidden(d),"1"!=f&&(f=this.xf_picklist.getkeyinfilterhidden(d)),b.push(this._getitemhtml(d,d,this.xf_picklist.getcode(d),this.xf_picklist.getcomment(d),f,this.xf_combobox_prop.picklist_viewstyle));else for(this.sorted_item_info_arr=this.xf_picklist.getsortediteminfoarr(this.xf_combobox_prop),d=0;c>d;d++)f=this.xf_picklist.gethidden(this.sorted_item_info_arr[d].item_index),"1"!=f&&(f=this.xf_picklist.getkeyinfilterhidden(this.sorted_item_info_arr[d].item_index)),this.sorted_item_info_arr[d].display_index=d,b.push(this._getitemhtml(d,this.sorted_item_info_arr[d].item_index,this.xf_picklist.getcode(this.sorted_item_info_arr[d].item_index),this.xf_picklist.getcomment(this.sorted_item_info_arr[d].item_index),f,this.xf_combobox_prop.picklist_viewstyle));else for(d=0;c>d;d++)b.push(this._gettreeitemhtml(d,this.xf_picklist.getcode(d),this.xf_picklist.getcomment(d),this.xf_picklist.gethidden(d),this.xf_combobox_prop.picklist_viewstyle));this.xf_content.get(0).innerHTML=b.join(""),this._sizeselectbox(a),this._refreshselectboxscroll(),this._updateallcheckstatus()},XF_SCREEN_COMBO_SELECTBOX.prototype._isfixboxshow=function(){return 1==this.xf_combobox_prop.maxselectcount?!1:0==this.xf_combobox_prop.show_checkbox?!1:void 0===this.xf_combobox_prop.show_allcheckbox||0==this.xf_combobox_prop.show_allcheckbox?!1:this.xf_combobox_prop.selectbox_datastyle!=XF_COMBOBOX.SELECTBOX_DATASTYLE_TABLE},XF_SCREEN_COMBO_SELECTBOX.prototype.refreshfixbox=function(){1==this._isfixboxshow()?(this.xf_fix.css({display:"block",height:_xfu.px(this.selectbox_itemheight)}),this.xf_fix[0].innerHTML=this._getitemfixhtml(),this.xf_fix.css("background-color",_xfu.rgbfunc(this.xf_combobox_prop.allcheckbox_backcolor)),this.xf_object.css("padding-top",_xfu.px(this.selectbox_itemheight))):(this.xf_fix.css("display","none"),this.xf_fix[0].innerHTML="",this.xf_object.css("padding-top",_xfu.px(0)))},XF_SCREEN_COMBO_SELECTBOX.prototype.movefocusitem=function(a){var b,c,d,e;if(b=this.xf_combobox.getcount(),0!=b){if(1==a)if(0==this.xf_combobox_prop.picklist_viewsort||null==this.sorted_item_info_arr){if(this.selected_index<=0)return;for(d=this.selected_index-1;d>=0&&(c=this.xf_picklist.gethidden(d),"1"!=c&&(c=this.xf_picklist.getkeyinfilterhidden(d)),"1"==c);d--);if(0>d)return;this.selected_index=d,this.selected_display_index=d}else{if(this.selected_display_index<=0)return;for(d=this.selected_display_index-1;d>=0&&(e=this.sorted_item_info_arr[d].item_index,c=this.xf_picklist.gethidden(e),"1"!=c&&(c=this.xf_picklist.getkeyinfilterhidden(e)),"1"==c);d--);if(0>d)return;this.selected_index=e,this.selected_display_index=d}else if(0==this.xf_combobox_prop.picklist_viewsort||null==this.sorted_item_info_arr){if(this.selected_index>=b-1)return;for(d=this.selected_index+1;b>d&&(c=this.xf_picklist.gethidden(d),"1"!=c&&(c=this.xf_picklist.getkeyinfilterhidden(d)),"1"==c);d++);if(d==b)return;this.selected_index=d,this.selected_display_index=d}else{if(this.selected_display_index>=b-1)return;for(d=this.selected_display_index+1;b>d&&(e=this.sorted_item_info_arr[d].item_index,c=this.xf_picklist.gethidden(e),"1"!=c&&(c=this.xf_picklist.getkeyinfilterhidden(e)),"1"==c);d++);if(d==b)return;this.selected_index=e,this.selected_display_index=d}this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST?(this.xf_content.find("._xf_screen_selectbox_item_focus").removeClass("_xf_screen_selectbox_item_focus"),0==this.xf_combobox_prop.picklist_viewsort||null==this.sorted_item_info_arr?this.xf_selected_item=this.xf_content.find("._xf_screen_selectbox_item").eq(this.selected_index):this.xf_selected_item=this.xf_content.find("._xf_screen_selectbox_item").eq(this.selected_display_index),this.xf_selected_item.length>0&&(this.xf_selected_item.addClass("_xf_screen_selectbox_item_focus"),this.xf_vscroll?this.xf_vscroll.focus(this.xf_selected_item):this._focus(this.xf_selected_item,XF_SCROLL.FOCUS_TYPE_TOP))):(this.xf_content.find("._xf_screen_selecttable_tr_focus").removeClass("_xf_screen_selecttable_tr_focus"),0==this.xf_combobox_prop.picklist_viewsort||null==this.sorted_item_info_arr?this.xf_selected_item=this.xf_content.find("._xf_screen_selecttable_tr").eq(this.selected_index):this.xf_selected_item=this.xf_content.find("._xf_screen_selecttable_tr").eq(this.selected_display_index),this.xf_selected_item.length>0&&(this.xf_selected_item.addClass("_xf_screen_selecttable_tr_focus"),this.xf_vscroll?this.xf_vscroll.focus(this.xf_selected_item,XF_SCROLL.FOCUS_TYPE_NONE):this._focus(this.xf_selected_item,XF_SCROLL.FOCUS_TYPE_NONE)))}},XF_SCREEN_COMBO_SELECTBOX.prototype.zindex=function(a){var b,c,d;return c=-1,d=this.xf_combobox.xf_object.closest("._xf_portletbox"),0==d.length&&(d=this.xf_combobox.xf_object.closest("._xf_popupbox")),d.length>0&&(b=this.xf_object.css("z-index"),c=d.css("z-index"),c+=b,a&&this.xf_object.css("z-index",c)),c},XF_SCREEN_COMBO_SELECTBOX.prototype.on_document_click=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_screen_selectbox_combobox"})&&this.hideselectbox()},XF_SCREEN_COMBO_SELECTBOX.prototype.on_scroll_start=function(){this._offdocevent()},XF_SCREEN_COMBO_SELECTBOX.prototype.on_scroll_end=function(){_xfu.async({func:this._docevent,context:this})},XF_SCREEN_COMBO_SELECTBOX.prototype.on_selectbox_show=function(){this.is_selectbox_show=!0,this.xf_combobox.xf_button.addClass("_xf_combobox_up_button"),_xfu.async({func:this._docevent,context:this})},XF_SCREEN_COMBO_SELECTBOX.prototype.on_selectbox_hide=function(){this.is_selectbox_show=!1,this.xf_combobox.xf_button.removeClass("_xf_combobox_up_button"),this._offdocevent(),this.xf_object.css("width","auto"),this.xf_selected_item=null},XF_SCREEN_COMBO_SELECTBOX.prototype.on_fix_mousedown=function(a){return!1},XF_SCREEN_COMBO_SELECTBOX.prototype.on_fix_click=function(a){var b,c,d;return a.stopPropagation(),b=$(a.target),c=b.closest("div"),c.hasClass("_xf_screen_selectbox_fix")?!1:(d=b.hasClass("_xf_screen_selectbox_item_checkbox")?b:c.find("._xf_screen_selectbox_item_checkbox"),this._on_allitemcheck_click(d),!1)},XF_SCREEN_COMBO_SELECTBOX.prototype.on_allitemcheck_click=function(a){return this._on_allitemcheck_click(this.xf_allitem_check),!1},XF_SCREEN_COMBO_SELECTBOX.prototype._on_allitemcheck_click=function(a){var b,c,d,e;if(b=!1,a.hasClass("_xf_screen_selectbox_item_checkbox_checked"))for(a.removeClass("_xf_screen_selectbox_item_checkbox_checked"),c=this.setallselectitemortr(!1,!0),d=c.length,e=0;d>e;e++)this.xf_combobox._deletevaluecodeinfo(c[e],!0);else for(a.addClass("_xf_screen_selectbox_item_checkbox_checked"),c=this.setallselectitemortr(!0,!0),d=c.length,e=0;d>e&&!(0!=this.xf_combobox_prop.maxselectcount&&e>=this.xf_combobox_prop.maxselectcount);e++)this.xf_combobox._setvalue(c[e],{is_fire_event:!0,is_fire_async:!0,is_set_xdataset:!0,is_close_selectbox:b,is_set_focus:!0,is_fire_editcomplete:1==b,is_display_value:!0,event_type:1==b?XFD_DATA_CHANGE_BY_API:XFD_DATA_CHANGE_BY_USER})},XF_SCREEN_COMBO_SELECTBOX.prototype._updateallcheckstatus=function(){var a,b,c,d;if(this.xf_combobox_prop.selectbox_datastyle==XF_COMBOBOX.SELECTBOX_DATASTYLE_LIST){if(0==this._isfixboxshow())return;if(a=this.xf_fix.find("._xf_screen_selectbox_item_checkbox"),0==a.length)return;b=this.xf_content.find("._xf_screen_selectbox_item_checkbox"),c=this.xf_content.find("._xf_screen_selectbox_item_checkbox_checked")}else{if(1==this.xf_combobox_prop.maxselectcount)return;if(0==this.xf_combobox_prop.show_checkbox)return;if(0==this.xf_combobox_prop.show_allcheckbox)return;if(a=this.xf_allitem_check,!a)return;b=this.xf_selecttable_tbody.find("._xf_screen_selectbox_item_checkbox"),c=this.xf_selecttable_tbody.find("._xf_screen_selectbox_item_checkbox_checked")}return d=!1,0==this.xf_combobox_prop.maxselectcount?b.length-this.xf_picklist.gethiddencount(!1)==c.length&&(d=!0):this.xf_combobox_prop.maxselectcount>1&&c.length==this.xf_combobox_prop.maxselectcount&&(d=!0),d?a.addClass("_xf_screen_selectbox_item_checkbox_checked"):a.removeClass("_xf_screen_selectbox_item_checkbox_checked"),!1},XF_SCREEN_COMBO_SELECTBOX.prototype.on_content_mousedown=function(a){return!1},XF_SCREEN_COMBO_SELECTBOX.prototype.on_content_dblclick=function(a){var b,c,d;return this.xf_combobox_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation(),b=$(a.target),0!=b.hasClass("_xf_combobox_treeitem_text")?(c=b.data("row"),d=this._getcomboboxtreeiteminfo(c),null==d.xf_button?!1:void((d.xf_button.hasClass("_xf_combobox_treeitem_button_expand")||d.xf_button.hasClass("_xf_combobox_treeitem_button_collapse"))&&this._expandtreeitem(c,XFD_TREEITEM_TOGGLE))):void 0},XF_SCREEN_COMBO_SELECTBOX.prototype.on_content_click=function(a){var b,c,d,e,f,g,h,i;if(a.stopPropagation(),b={index:0,code:"",comment:""},c=$(a.target),c.hasClass("_xf_combobox_treeitem_button"))return i=c.data("row"),(c.hasClass("_xf_combobox_treeitem_button_expand")||c.hasClass("_xf_combobox_treeitem_button_collapse"))&&this._expandtreeitem(i,XFD_TREEITEM_TOGGLE),!1;if(d=c.closest("div"),d.hasClass("_xf_screen_selectbox_content"))return!1;if(c.hasClass("_xf_screen_selectbox_item_checkbox")?(h=!0,e=c):(h=!1,e=d.find("._xf_screen_selectbox_item_checkbox")),g=!0,f=!0,b.index=_xfu["int"](d.data("index")),b.code=_xfu.str(d.data("code")),b.comment=_xfu.str(d.data("comment")),void 0===b.code)return!1;if(1!=this.xf_combobox_prop.maxselectcount)if(a.ctrlKey||h||1==this.xf_combobox_prop.clickitem_action)if(f=!1,d.hasClass("_xf_screen_selectbox_item_selected"))this.setselectitemortr(d,!1,e),this.xf_combobox._deletevaluecodeinfo(b,!0,!0,!0),f=!1,g=!1;else if(0==this.xf_combobox_prop.maxselectcount)this.setselectitemortr(d,!0,e);else{if(this.xf_combobox._getvaluecount()>=this.xf_combobox_prop.maxselectcount)return;this.setselectitemortr(d,!0,e)}else this.xf_combobox._clearvaluecodeinfo();this._updateallcheckstatus(),1==g&&(1==this.xf_combobox.xf_prop.maxselectcount&&(this.xf_combobox.is_check_autoskip_maxlength=!1),this.xf_combobox._setvalue(b,{is_fire_event:!0,is_fire_async:!0,is_set_xdataset:!0,is_close_selectbox:f,is_set_focus:!0,is_fire_editcomplete:1==f,is_display_value:!0,event_type:1==f?XFD_DATA_CHANGE_BY_API:XFD_DATA_CHANGE_BY_USER}))},XF_SCREEN_COMBO_SELECTBOX.prototype.refreshselecttable=function(a){var b,c,d,e;if(this.refreshfixbox(),this.xf_object.css({width:"auto"}),b=[],this.xf_combobox_prop.selecttable_showcolumnheader){for(b.push('<table class="_xf_screen_selecttable_table">'),b.push(this._selecttablecolgroup(this.xf_combobox_prop.selecttable_autocolumnsize,this.xf_combobox_prop.selecttable_columncount,this.xf_combobox_prop.selecttable_columnwidth)),b.push('<thead class="_xf_screen_selecttable_thead">'),b.push('<tr style="height:'+_xfu.px(this.selectbox_itemheight)+';">'),1==this.xf_combobox_prop.show_checkbox&&(b.push('<th class="_xf_screen_selecttable_th" style="text-align:center;">'),1==this.xf_combobox_prop.show_allcheckbox&&(b.push('<span class="_xf_screen_selectbox_item_checkbox'),b.push('" style="margin:0px;margin-top:3px;height:14px;">'),b.push("</span>")),b.push("</th>")),c=0;c<this.xf_combobox_prop.selecttable_columncount;c++)b.push('<th class="_xf_screen_selecttable_th"'),b.push(">"),b.push(this.xf_combobox_prop.selecttable_columntitle[c]),b.push("</th>");b.push("</tr>"),b.push("</thead>"),b.push("</table>")}for(b.push('<div class="_xf_screen_selecttable_scroll_parent" style="height:'+_xfu.px(this.selecttable_scrollparentheight)+';">'),b.push('<div class="_xf_screen_selecttable_scroll_view">'),b.push('<div class="_xf_screen_selecttable_scroll_content">'),b.push('<table class="_xf_screen_selecttable_table">'),b.push(this._selecttablecolgroup(this.xf_combobox_prop.selecttable_autocolumnsize,this.xf_combobox_prop.selecttable_columncount,this.xf_combobox_prop.selecttable_columnwidth)),b.push('<tbody class="_xf_screen_selecttable_tbody">'),e=this.xf_combobox_prop.selecttable_data.length,d=0;e>d;d++)b.push(this._selecttableitemhtml(d,this.xf_combobox_prop.selecttable_columncount,this.xf_combobox_prop.selecttable_codecolumn,this.xf_combobox_prop.selecttable_commentcolumn,this.xf_combobox_prop.selecttable_data[d],this.xf_combobox_prop.selecttable_columnalign,this.xf_combobox_prop.selecttable_columnwidth));b.push("</tbody>"),b.push("</table>"),b.push("</div>"),b.push("</div>"),b.push("</div>"),this.xf_content.get(0).innerHTML=b.join(""),this.xf_selecttable_parent=this.xf_object.find("._xf_screen_selecttable_scroll_parent"),this.xf_selecttable_view=this.xf_object.find("._xf_screen_selecttable_scroll_view"),this.xf_selecttable_content=this.xf_object.find("._xf_screen_selecttable_scroll_content"),this.xf_selecttable_thead=this.xf_object.find("._xf_screen_selecttable_thead"),this.xf_allitem_check=this.xf_selecttable_thead.find("._xf_screen_selectbox_item_checkbox"),this.xf_selecttable_tbody=this.xf_object.find("._xf_screen_selecttable_tbody"),this._sizeselectbox(a),this._refreshselectboxscroll(),this.xf_allitem_check.on("click",$.proxy(this.on_allitemcheck_click,this)),this.xf_selecttable_tbody.on("click",$.proxy(this.on_selecttabletbody_click,this)),this._updateallcheckstatus()},XF_SCREEN_COMBO_SELECTBOX.prototype._refreshselecttablescroll=function(){this.xf_vscroll_selecttable&&this.xf_vscroll_selecttable.refresh(),this.xf_selected_item=this.xf_content.find("._xf_screen_selectbox_item_selected"),null!=this.xf_selected_item&&this.xf_selected_item.length>0&&(this.xf_selected_item.css("background-color",_xfu.rgbfunc(this.xf_combobox_prop.selitem_backcolor)),this.xf_vscroll_selecttable&&this.xf_vscroll_selecttable.focus(this.xf_selected_item))},XF_SCREEN_COMBO_SELECTBOX.prototype._selecttablecolgroup=function(a,b,c){var d,e,f;for(f=0,d=[],d.push("<colgroup>"),1==this.xf_combobox_prop.show_checkbox&&(d.push('<col style="width:30px;">'),f+=30),e=0;b>e;e++)1==a?(d.push('<col style="width:150px;">'),f+=150):(d.push('<col style="width:'+c[e]+'px;">'),f+=_xfu["int"](c[e]));return d.push("</colgroup>"),this.select_table_width=f+1,d.join("")},XF_SCREEN_COMBO_SELECTBOX.prototype._selecttableitemhtml=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;for(h=[],m=!1,o=!1,j=e[c],k=e[d],l=!1,n=this._getitemdatahtml(a,a,j,k,l),h.push("<tr"+n+' class="_xf_screen_selecttable_tr'),m=!0,1==m&&1==this.xf_combobox._isvaluecode(j)&&(h.push(" _xf_screen_selectbox_item_selected"),this.selected_index=a,this.selected_display_index=a,o=!0),h.push('"'),h.push(' style="'),h.push("height:"+_xfu.px(this.selectbox_itemheight)+";"),o&&(h.push("color:"+_xfu.rgbfunc(this.xf_combobox_prop.selitem_forecolor)+";"),h.push("background-color:"+_xfu.rgbfunc(this.xf_combobox_prop.selitem_backcolor)+";")),h.push('">'),1==this.xf_combobox_prop.show_checkbox&&(h.push('<td class="_xf_screen_selecttable_td" style="text-align:center;">'),h.push('<span class="_xf_screen_selectbox_item_checkbox'),o&&h.push(" _xf_screen_selectbox_item_checkbox_checked"),h.push('" style="margin:0px;margin-top:3px;height:14px;">'),h.push("</span>"),h.push("</td>")),i=0;b>i;i++)h.push('<td class="_xf_screen_selecttable_td"'),h.push(' title="'+e[i]+'"'),h.push(' style="'),h.push("padding-left:"+_xfu.px(this.xf_combobox_prop.text_margin[0])+";"),h.push("padding-right:"+_xfu.px(this.xf_combobox_prop.text_margin[1])+";"),h.push("max-width:"+_xfu.px(g[i])+";"),h.push("text-align:"),"0"==f[i]||"L"==f[i]?h.push("left"):"1"==f[i]||"C"==f[i]?h.push("center"):"2"!=f[i]&&"R"!=f[i]||h.push("right"),h.push(";"),h.push('">'),h.push('<span class="_xf_screen_selecttable_td_span">'+e[i]+"</span>"),h.push("</td>");return h.push("</tr>"),h.join("")},XF_SCREEN_COMBO_SELECTBOX.prototype.on_selecttabletbody_click=function(a){var b,c,d,e,f,g,h;if(a.stopPropagation(),b={index:0,code:"",comment:""},c=$(a.target),h=c.closest("tr"),c.hasClass("_xf_screen_selectbox_item_checkbox")?(g=!0,d=c):(g=!1,d=h.find("._xf_screen_selectbox_item_checkbox")),f=!0,e=!0,b.index=_xfu["int"](h.data("index")),b.code=_xfu.str(h.data("code")),b.comment=_xfu.str(h.data("comment")),void 0===b.code)return!1;if(1!=this.xf_combobox_prop.maxselectcount)if(a.ctrlKey||g||1==this.xf_combobox_prop.clickitem_action)if(e=!1,h.hasClass("_xf_screen_selectbox_item_selected"))this.setselectitemortr(h,!1,d),this.xf_combobox._deletevaluecodeinfo(b,!0),e=!1,f=!1;else if(0==this.xf_combobox_prop.maxselectcount)this.setselectitemortr(h,!0,d);else{if(this.xf_combobox._getvaluecount()>=this.xf_combobox_prop.maxselectcount)return;this.setselectitemortr(h,!0,d)}else this.xf_combobox._clearvaluecodeinfo();this._updateallcheckstatus(),1==f&&this.xf_combobox._setvalue(b,{is_fire_event:!0,is_set_xdataset:!0,is_close_selectbox:e,is_set_focus:!1,is_fire_editcomplete:1==e,is_display_value:!0})},XF_SCREEN_COMBO_SELECTBOX.prototype._focus=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(void 0===b&&(b=XF_SCROLL.FOCUS_TYPE_TOP),j=this.xf_view,f=j.innerHeight(),i=this.xf_content.outerHeight(),g=a.position().top,h=a.outerHeight(),b==XF_SCROLL.FOCUS_TYPE_NONE){if(l=g+h,k={top:j[0].scrollTop,bottom:top+f},g>=k.top&&l<=k.bottom)return;g<k.top?c=g:g>k.bottom?c=g-(f-h):l>k.bottom&&(c=g-(f-h))}else b==XF_SCROLL.FOCUS_TYPE_TOP?(d=i-f,0>d&&(d=0),c=g,c>d&&(c=d)):b==XF_SCROLL.FOCUS_TYPE_CENTER?(d=i-f,0>d&&(d=0),c=g,e=Math.floor(f/h/2),c-=h*e,c>d&&(c=d),0>c&&(c=0)):b==XF_SCROLL.FOCUS_TYPE_BOTTOM&&(c=g-(f-h),0>c&&(c=0));j[0].scrollTop=c},XF_SCREEN_DATE_SELECTBOX.prototype._init=function(){this.xf_screen=xf_screen,this.xf_date=null,this.xf_calendar=null,this.from_date_name="",this.xf_from_date=null,this.to_date_name="",this.xf_to_date=null,this.is_selectbox_show=!1,this.xf_object=null,this.xf_from_calendar=null,this.xf_to_calendar=null,this.is_single_mode=!0},XF_SCREEN_DATE_SELECTBOX.prototype._prop=function(){this.xf_prop={internal_name:_xfu.uuid()}},XF_SCREEN_DATE_SELECTBOX.prototype._box=function(){var a;a=[],a.push("<div"),a.push(' class="_xf_screen_selectbox _xfe_boxshadow_sm _xf_screen_selectbox_date" '),a.push(' style="'),a.push("display:none;"),a.push('"'),a.push(">"),a.push('<div class="_xf_screen_selectbox_date_close"'),a.push(' title="'+factory._userlang("닫기","Close")+'"'),a.push(' title="Close"'),a.push(' style="'),1==factory_xf_param.DATE_SELECTBOX_SHOWCLOSEBUTTON&&a.push("display:block;"),a.push('"></div>'),a.push("</div>"),this.xf_object=$(a.join("")),$(document.body).append(this.xf_object)},XF_SCREEN_DATE_SELECTBOX.prototype._dom=function(){this.xf_close=this.xf_object.find("._xf_screen_selectbox_date_close")},XF_SCREEN_DATE_SELECTBOX.prototype._offdocevent=function(){_xfj.offevent($(document),["mousedown."+this.xf_prop.internal_name])},XF_SCREEN_DATE_SELECTBOX.prototype._docevent=function(){this._offdocevent(),$(document).on("mousedown."+this.xf_prop.internal_name,$.proxy(this.on_document_click,this))},XF_SCREEN_DATE_SELECTBOX.prototype._offevent=function(){null!=this.xf_object&&(_xfj.offevent(this.xf_object,["mousedown","click"]),_xfj.offevent(this.xf_close,["mousedown","click"]))},XF_SCREEN_DATE_SELECTBOX.prototype._event=function(){null!=this.xf_object&&(this._offevent(),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_object_click,this)),this.xf_close.on("mousedown",$.proxy(this.on_close_mousedown,this)),this.xf_close.on("click",$.proxy(this.on_close_click,this)))},XF_SCREEN_DATE_SELECTBOX.prototype.on_document_click=function(a){null!=_xfj.eventtarget(a,{type:"class",value:"_xf_calendar_td"})||null!=_xfj.eventtarget(a,{type:"class",value:"_xf_calendar"})||this.hideselectbox()},XF_SCREEN_DATE_SELECTBOX.prototype.on_object_mousedown=function(a){return a.preventDefault(),this.xf_from_date&&this.xf_from_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID?void a.stopPropagation():void(this.xf_to_date&&this.xf_to_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation())},XF_SCREEN_DATE_SELECTBOX.prototype.on_object_click=function(a){return this.xf_from_date&&this.xf_from_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID?void a.stopPropagation():void(this.xf_to_date&&this.xf_to_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation())},XF_SCREEN_DATE_SELECTBOX.prototype.on_close_mousedown=function(a){a.preventDefault(),a.stopPropagation()},XF_SCREEN_DATE_SELECTBOX.prototype.on_close_click=function(a){a.stopPropagation(),this.hideselectbox()},XF_SCREEN_DATE_SELECTBOX.prototype.zindex=function(a){var b,c,d;return c=-1,d=this.xf_date.xf_object.closest("._xf_portletbox"),0==d.length&&(d=this.xf_date.xf_object.closest("._xf_popupbox")),d.length>0&&(b=this.xf_object.css("z-index"),c=d.css("z-index"),c+=b,a&&this.xf_object.css("z-index",c)),c},XF_SCREEN_DATE_SELECTBOX.prototype.destroy=function(){this._offdocevent(),this._offevent(),this.destroycalendar(),null!=this.xf_object&&(this.xf_object.remove(),this.xf_object=null)},XF_SCREEN_DATE_SELECTBOX.prototype.destroycalendar=function(){this.xf_calendar=null,null!=this.xf_from_calendar&&(this.xf_from_calendar.destroy(),this.xf_from_calendar=null),null!=this.xf_to_calendar&&(this.xf_to_calendar.destroy(),this.xf_to_calendar=null)},XF_SCREEN_DATE_SELECTBOX.prototype.isshowselectbox=function(){return this.is_selectbox_show},XF_SCREEN_DATE_SELECTBOX.prototype.showselectbox=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;if(this.is_selectbox_show!==!0){if(this.is_selectbox_show=!0,this.xf_date=a,this.from_date_name=b,this.to_date_name=c,void 0!==b?this.is_single_mode=!1:this.is_single_mode=!0,m=this.xf_date.xf_object.outerWidth(),n=this.xf_date.xf_object.outerHeight(),this.is_single_mode?this.xf_from_date=this.xf_date:(this.from_date_name.length>0?this.xf_from_date=this.xf_date.xf_parent.xf_screen.getinstancebyname(this.from_date_name):this.xf_from_date=this.xf_date,this.to_date_name.length>0?this.xf_to_date=this.xf_date.xf_parent.xf_screen.getinstancebyname(this.to_date_name):this.xf_to_date=this.xf_date),o=0==this.xf_date.xf_prop.calendar_size?factory_xf_param.DATE_CALENDAR_SIZE:this.xf_date.xf_prop.calendar_size-1,l=o==_XFD_CALENDAR_SIZE_XLARGE?_XFD_CALENDAR_XLARGE_MIN_WIDTH:_XFD_CALENDAR_MIN_WIDTH,d=this.is_single_mode?l:2*l+this.xf_date.xf_prop.rangecalendar_gap,m>d&&(d=m),this.is_single_mode?e=this.xf_from_date.xf_object.offset():0==this.xf_date.xf_prop.calendar_pos?e=this.xf_from_date.xf_object.offset():1==this.xf_date.xf_prop.calendar_pos&&(e=this.xf_to_date.xf_object.offset()),this.xf_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID?(0==this.xf_date.xf_prop.calendar_pos?f=e.left-1:(f=e.left+m-d,0>f&&(f=0)),g=e.top+n,d++):(0==this.xf_date.xf_prop.calendar_pos?f=e.left:1==this.xf_date.xf_prop.calendar_pos&&(f=e.left+m-d,0>f&&(f=0)),g=e.top+n-1),0==this.xf_date.xf_prop.showtodaybar)switch(k=_XFD_CALENDAR_SMALL_MIN_HEIGHT,o){case _XFD_CALENDAR_SIZE_SMALL:k=_XFD_CALENDAR_SMALL_MIN_HEIGHT;break;case _XFD_CALENDAR_SIZE_MEDIUM:k=_XFD_CALENDAR_MEDIUM_MIN_HEIGHT;break;case _XFD_CALENDAR_SIZE_LARGE:k=_XFD_CALENDAR_LARGE_MIN_HEIGHT;break;case _XFD_CALENDAR_SIZE_XLARGE:k=_XFD_CALENDAR_XLARGE_MIN_HEIGHT}else switch(k=_XFD_CALENDAR_SMALL_MAX_HEIGHT,o){case _XFD_CALENDAR_SIZE_SMALL:k=_XFD_CALENDAR_SMALL_MAX_HEIGHT;break;case _XFD_CALENDAR_SIZE_MEDIUM:k=_XFD_CALENDAR_MEDIUM_MAX_HEIGHT;break;case _XFD_CALENDAR_SIZE_LARGE:k=_XFD_CALENDAR_LARGE_MAX_HEIGHT;break;case _XFD_CALENDAR_SIZE_XLARGE:k=_XFD_CALENDAR_XLARGE_MAX_HEIGHT}0==this.xf_date.xf_prop.calendar_vert_pos?(i=document.body.scrollHeight,void 0===i&&(i=document.documentElement.scrollHeight),g+k>i&&(h=this.xf_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID?e.top-k:e.top-k+1,h>=0&&(g=h)),j=document.body.scrollWidth,void 0===j&&(j=document.documentElement.scrollWidth),f+l>j&&(f-=l-m)):2==this.xf_date.xf_prop.calendar_vert_pos&&(g=this.xf_date.xf_prop.create_mode==_XFD_CREATEMODE_GRID?e.top-k:e.top-k+1,0>g&&(g=0)),this.destroycalendar(),this.xf_object.css({display:"none",left:_xfu.px(f),top:_xfu.px(g),width:_xfu.px(d)}),_xfl_extendlib("XF_CALENDAR"),this.xf_from_calendar=new XF_CALENDAR({xf_screen:null,xf_component:null,xf_content:{xf_object:this.xf_object,controls:[]}},{x:"0",y:"0",width_unit:this.is_single_mode?"1":"0",width:this.is_single_mode?"100":l,font:_xfx.fontstr(this.xf_from_date.xf_prop.calendar_font),is_nofocus:!0,clickselectdate:"1",calendar_size:o,showtodaybar:this.xf_date.xf_prop.showtodaybar,default_value:null!=this.xf_from_date.value_date?_xfp.date(this.xf_from_date.value_date,"yyyymmdd"):"",max_date:_xfu.str(this.xf_from_date.xf_prop.max_date),
min_date:_xfu.str(this.xf_from_date.xf_prop.min_date),shownextdate:this.xf_from_date.xf_prop.shownextdate?"1":"0",calendar_type:_xfu.str(this.xf_from_date._getdisplaycalendartype()),_xf_date:this.xf_from_date,_on_closecalendar:$.proxy(this.hideselectbox,this),_on_selectdate:this.is_single_mode?$.proxy(this.xf_from_date.on_calendar_selectdate,this.xf_from_date):$.proxy(this.xf_from_date.on_calendar_rangedate,this.xf_from_date)}),this.xf_from_calendar.xf_prop.holiday_selectable=this.xf_from_date.xf_prop.holiday_selectable,this.xf_from_calendar.xf_prop.sunday_selectable=this.xf_from_date.xf_prop.sunday_selectable,this.xf_from_calendar.xf_prop.saturday_selectable=this.xf_from_date.xf_prop.saturday_selectable,this.is_single_mode||(this.xf_to_calendar=new XF_CALENDAR({xf_screen:null,xf_component:null,xf_content:{xf_object:this.xf_object,controls:[]}},{x:l+this.xf_date.xf_prop.rangecalendar_gap,y:"0",width_unit:"0",width:l,font:_xfx.fontstr(this.xf_to_date.xf_prop.calendar_font),is_nofocus:!0,clickselectdate:"1",calendar_size:o,showtodaybar:this.xf_date.xf_prop.showtodaybar,default_value:null!=this.xf_to_date.value_date?_xfp.date(this.xf_to_date.value_date,"yyyymmdd"):"",max_date:_xfu.str(this.xf_to_date.xf_prop.max_date),min_date:_xfu.str(this.xf_to_date.xf_prop.min_date),shownextdate:this.xf_to_date.xf_prop.shownextdate?"1":"0",calendar_type:_xfu.str(this.xf_to_date._getdisplaycalendartype()),_xf_date:this.xf_to_date,_on_selectdate:$.proxy(this.xf_to_date.on_calendar_rangedate,this.xf_to_date)}),this.xf_to_calendar.xf_prop.holiday_selectable=this.xf_to_date.xf_prop.holiday_selectable,this.xf_to_calendar.xf_prop.sunday_selectable=this.xf_to_date.xf_prop.sunday_selectable,this.xf_to_calendar.xf_prop.saturday_selectable=this.xf_to_date.xf_prop.saturday_selectable),this.xf_date==this.xf_from_date?this.xf_calendar=this.xf_from_calendar:this.xf_calendar=this.xf_to_calendar,this.zindex(!0),this.xf_object.show(),_xfu.async({func:this._docevent,context:this})}},XF_SCREEN_DATE_SELECTBOX.prototype.hideselectbox=function(){0!=this.is_selectbox_show&&(this.is_selectbox_show=!1,this.destroycalendar(),this.xf_object.hide(),this._offdocevent())},XF_SCREEN_FIELD_SELECTBOX.prototype._init=function(a){this.xf_screen=a,this.is_selectbox_show=!1,this.xf_object=null,this.dup_text_arr=null,this.xf_field=null,this.xf_field_prop=null,this.xf_selected_item=null,this.xf_vscroll=null},XF_SCREEN_FIELD_SELECTBOX.prototype._prop=function(){this.xf_prop={show_item_count:5,internal_name:_xfu.uuid()}},XF_SCREEN_FIELD_SELECTBOX.prototype._box=function(){var a;a=[],a.push("<div"),a.push(' class="_xf_screen_selectbox _xf_screen_selectbox_field" '),a.push(' style="'),a.push("display:none;"),a.push('"'),a.push(">"),a.push('<div class="_xf_screen_selectbox_content"></div>'),a.push("</div>"),this.xf_object=$(a.join("")),$(document.body).append(this.xf_object)},XF_SCREEN_FIELD_SELECTBOX.prototype._dom=function(){this.xf_content=this.xf_object.find("._xf_screen_selectbox_content")},XF_SCREEN_FIELD_SELECTBOX.prototype._offdocevent=function(){$(document).off("mousedown."+this.xf_field.xf_prop.internal_name)},XF_SCREEN_FIELD_SELECTBOX.prototype._docevent=function(){this._offdocevent(),$(document).on("mousedown."+this.xf_field.xf_prop.internal_name,$.proxy(this.on_document_click,this))},XF_SCREEN_FIELD_SELECTBOX.prototype._offevent=function(){this.xf_content.off("mousedown"),this.xf_content.off("click")},XF_SCREEN_FIELD_SELECTBOX.prototype._event=function(){this._offevent(),this.xf_content.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_content.on("click",$.proxy(this.on_content_click,this))},XF_SCREEN_FIELD_SELECTBOX.prototype.zindex=function(a){var b,c,d;return c=-1,d=this.xf_field.xf_object.closest("._xf_portletbox"),0==d.length&&(d=this.xf_field.xf_object.closest("._xf_popupbox")),d.length>0&&(b=this.xf_object.css("z-index"),c=d.css("z-index"),c+=b,a&&this.xf_object.css("z-index",c)),c},XF_SCREEN_FIELD_SELECTBOX.prototype.getselecteditem=function(){return this.xf_selected_item},XF_SCREEN_FIELD_SELECTBOX.prototype.getselecteditemtext=function(){var a;return null==this.xf_selected_item?"":(a=this.xf_selected_item.data("dup_text"),void 0===a?"":_xfu.str(a))},XF_SCREEN_FIELD_SELECTBOX.prototype.isshowselectbox=function(){return this.is_selectbox_show},XF_SCREEN_FIELD_SELECTBOX.prototype.hideselectbox=function(){this.is_selectbox_show&&(this.is_selectbox_show=!1,this.xf_object.hide(),this.on_selectbox_hide())},XF_SCREEN_FIELD_SELECTBOX.prototype.showselectbox=function(a){var b,c,d,e,f;a.xf_prop.auto_complete&&0!=a.xf_prop.dup_name.length&&(null===this.xf_vscroll&&(this.xf_vscroll=new XF_SCROLL(this.xf_object,this.xf_object,this.xf_content,{id:this.xf_prop.internal_name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)})),this.is_selectbox_show||(this.is_selectbox_show=!0,this.xf_field=a,this.xf_field_prop=a.xf_prop,this.selectbox_height=this._getselectboxheight(),b=this.xf_field.xf_object.offset(),this.xf_field_prop.create_mode==_XFD_CREATEMODE_GRID?(f=b.left-1,d=b.top+this.xf_field_prop.height):(f=b.left,d=b.top+this.xf_field_prop.height-1),c=document.body.scrollHeight,void 0===c&&(c=document.documentElement.scrollHeight),d+this.selectbox_height>c&&(e=this.xf_field_prop.create_mode==_XFD_CREATEMODE_GRID?b.top-this.selectbox_height:b.top-this.selectbox_height+1,e>=0&&(d=e)),this.xf_object.css({display:"block",left:_xfu.px(f),top:_xfu.px(d),height:_xfu.px(this.selectbox_height)}),this.zindex(),this.on_selectbox_show(),this.refreshselectbox(!0)))},XF_SCREEN_FIELD_SELECTBOX.prototype.refreshselectbox=function(a){var b,c,d;if(this.display_dup_text_count=0,this.selected_index=-1,0==this.xf_field.value.length)return void this.hideselectbox();if(this.dup_text_arr=factory._getdupdataarr(this,this.xf_field_prop.dup_name),0==this.dup_text_arr.length)return void this.hideselectbox();for(this.xf_object.css({width:"auto"}),b=[],c=this.dup_text_arr.length,d=0;c>d;d++)this.dup_text_arr[d].indexOf(this.xf_field.value)<0||(b.push(this._getitemhtml(this.dup_text_arr[d])),this.display_dup_text_count++);return 0==this.display_dup_text_count?void this.hideselectbox():(this.xf_content.get(0).innerHTML=b.join(""),this._sizeselectbox(a),void this._refreshselectboxscroll())},XF_SCREEN_FIELD_SELECTBOX.prototype.movefocusitem=function(a){if(0!=this.display_dup_text_count){if(1==a){if(this.selected_index<=0)return;this.selected_index--}else{if(this.selected_index==this.display_dup_text_count-1)return;this.selected_index++}this.xf_content.find("._xf_screen_selectbox_item_focus").removeClass("_xf_screen_selectbox_item_focus"),this.xf_selected_item=this.xf_content.find("._xf_screen_selectbox_item").eq(this.selected_index),this.xf_selected_item.length>0&&(this.xf_selected_item.addClass("_xf_screen_selectbox_item_focus"),this.xf_vscroll.focus(this.xf_selected_item))}},XF_SCREEN_FIELD_SELECTBOX.prototype._refreshselectboxscroll=function(){this.xf_vscroll.refresh(),this.xf_selected_item=this.xf_content.find("._xf_screen_selectbox_item_selected"),null!=this.xf_selected_item&&this.xf_selected_item.length>0&&this.xf_vscroll.focus(this.xf_selected_item)},XF_SCREEN_FIELD_SELECTBOX.prototype._sizeselectbox=function(a){var b,c;b=this.xf_content.outerWidth(),c=this.xf_field.xf_object.outerWidth(),1==a&&(this.selectbox_height=this._getselectboxheight()),c-1>b?this.xf_field_prop.create_mode==_XFD_CREATEMODE_GRID?1==a?this.xf_object.css({width:_xfu.px(c+2),height:_xfu.px(this.selectbox_height)}):this.xf_object.css({width:_xfu.px(c+2)}):1==a?this.xf_object.css({width:_xfu.px(c),height:_xfu.px(this.selectbox_height)}):this.xf_object.css({width:_xfu.px(c)}):1==a?this.xf_object.css({width:_xfu.px(b+2),height:_xfu.px(this.selectbox_height)}):this.xf_object.css({width:_xfu.px(b+2)})},XF_SCREEN_FIELD_SELECTBOX.prototype._getselectboxheight=function(){return this.display_dup_text_count>this.xf_prop.show_item_count?this.xf_field_prop.height*this.xf_prop.show_item_count:this.xf_field_prop.height*this.display_dup_text_count+2},XF_SCREEN_FIELD_SELECTBOX.prototype._getitemhtml=function(a){var b;return b=[],b.push('<div class="_xf_screen_selectbox_item'),this.xf_field.value.length>0&&this.xf_field.value==a&&b.push(" _xf_screen_selectbox_item_selected"),b.push('"'),b.push(' data-dup_text="'+a+'"'),b.push(' style="'),b.push("height:"+_xfu.px(this.xf_field_prop.height)+";"),b.push("display:flex;"),b.push("align-items:center;"),b.push("justify-content:flex-start;"),b.push('">'),b.push('<span class="_xf_screen_selectbox_item_text"'),b.push(' data-dup_text="'+a+'"'),b.push(">"),b.push(a),b.push("</span>"),b.push("</div>"),b.join("")},XF_SCREEN_FIELD_SELECTBOX.prototype.on_document_click=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_screen_selectbox_field"})&&this.hideselectbox()},XF_SCREEN_FIELD_SELECTBOX.prototype.on_selectbox_show=function(){this._docevent()},XF_SCREEN_FIELD_SELECTBOX.prototype.on_selectbox_hide=function(){this._offdocevent(),this.xf_object.css({width:"auto"}),this.xf_selected_item=null},XF_SCREEN_FIELD_SELECTBOX.prototype.on_content_mousedown=function(a){a.preventDefault(),this.xf_field_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation()},XF_SCREEN_FIELD_SELECTBOX.prototype.on_content_click=function(a){var b,c;return a.preventDefault(),this.xf_field_prop.create_mode==_XFD_CREATEMODE_GRID&&a.stopPropagation(),b=$(a.target),c=b.data("dup_text"),void 0===c||""==c?!1:void this.xf_field._setvalue(c,{is_fire_event:!0,is_fire_async:!0,is_set_xdataset:!0,is_close_selectbox:!0,is_set_focus:!1,is_fire_editcomplete:!0})},XF_SCREEN_TRANMAP.prototype._init=function(a){this.control_kind=XFD_CTRLKIND_NONE,this.object_kind=XFD_OBJKIND_NONE,this.xf_parent=a},XF_SCREEN_TRANMAP.prototype._member=function(){this.map_info_arr=[],this.in_map_info_arr=[],this.out_map_info_arr=[],this.is_processing=!1,this.jq_xhr=null},XF_SCREEN_TRANMAP.prototype._prop=function(a){this.xf_prop_type={defaultmap:XFD_PROP_BOOL},this.xf_prop={fcode:"",etc:"",type:"",defaultmap:!1,mapinfo:""},_xfx.prop(this,this.xf_prop,this.xf_prop_type,a),$.extend(this.xf_prop,a)},XF_SCREEN_TRANMAP.prototype._mapinfo=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(n=["O","M","X","H","S","E","D"],a=this.xf_prop.mapinfo.split("/"),b=a.length,c=0;b>c;c++)if(d=a[c],"check"==this.xf_prop.type){if(e=d.split(":"),f=e.length,2>f)continue;if(5!=f||""!=e[5]&&void 0!==e[5]){for(o=0;o<n.length&&n[o]!=e[1];o++);for(o<n.length?(i={control_id:_xfu["int"](e[0]),sub_row_count:1,attr:"O",in_index:"",out_index:"",column_map_info_arr:[]},p=f-1,q=1):(i={control_id:_xfu["int"](e[0]),sub_row_count:_xfu["int"](e[1]),attr:"O",in_index:"",out_index:"",column_map_info_arr:[]},p=f-2,q=2),this.map_info_arr.push(i),l=p/3/i.sub_row_count,m=0;m<i.sub_row_count;m++)for(k=0;l>k;k++)j={attr:e[q],in_index:"1"==e[q+1]?"1":"",out_index:"1"==e[q+2]?"1":"",sub_row_index:m,column_index:k},""!=j.in_index&&(i.in_index="1"),""!=j.out_index&&(i.out_index="1"),q+=3,i.column_map_info_arr.push(j)}else i={control_id:_xfu["int"](e[0]),sub_row_count:1,attr:e[1],in_index:"1"==e[2]?"1":"",out_index:"1"==e[3]?"1":"",column_map_info_arr:[]},this.map_info_arr.push(i)}else if("input"==this.xf_prop.type){if(g=d.split(";"),h=g.length,e=g[0].split(":"),f=e.length,5==f)i={control_id:_xfu["int"](e[0]),sub_row_count:1,attr:e[1],in_index:e[2],out_index:e[3],column_map_info_arr:[]};else{if(6!=f)continue;i={control_id:_xfu["int"](e[0]),sub_row_count:_xfu["int"](e[1]),attr:e[2],in_index:e[3],out_index:e[4],column_map_info_arr:[]}}if(this.map_info_arr.push(i),h>1)for(e=g[1].split(":"),f=e.length,f>0&&f--,l=f/3/i.sub_row_count,q=0,m=0;m<i.sub_row_count;m++)for(k=0;l>k;k++)j={attr:e[q],in_index:e[q+1],out_index:e[q+2],sub_row_index:m,column_index:k},q+=3,i.column_map_info_arr.push(j)}},XF_SCREEN_TRANMAP.prototype._iomap=function(a,b){var c,d,e,f,g,h,i,j;for(e=this.map_info_arr.length,c=0;e>c;c++)if(h=this.map_info_arr[c],!(1==a&&0==h.in_index.length||0==a&&0==h.out_index.length))for(g={control_id:h.control_id,sub_row_count:h.sub_row_count,attr:h.attr,index:1==a?h.in_index:h.out_index,column_map_info_arr:[]},b.push(g),f=h.column_map_info_arr.length,d=0;f>d;d++)i=h.column_map_info_arr[d],1==a&&0==i.in_index.length||0==a&&0==i.out_index.length||(j={attr:i.attr,sub_row_index:i.sub_row_index,column_index:i.column_index,index:1==a?i.in_index:i.out_index},g.column_map_info_arr.push(j))},XF_SCREEN_TRANMAP.prototype._create=function(){this.xf_parent.xf_screen._addtranmap(this)},XF_SCREEN_TRANMAP.prototype._getiomapinfobyindex=function(a,b){return b=_xfu["int"](b),1==a?this.in_map_info_arr[b]:this.out_map_info_arr[b]},XF_SCREEN_TRANMAP.prototype._getiomapinfobyid=function(a,b){var c,d,e;for(e=1==a?this.in_map_info_arr:this.out_map_info_arr,d=e.length,c=0;d>c;c++)if(e[c].control_id==b)return e[c]},XF_SCREEN_TRANMAP.prototype._getiomapprop=function(a,b,c,d){var e;return e=this._getiomapinfobyindex(a,b),void 0==e?d:e[c]},XF_SCREEN_TRANMAP.prototype._getgridiomapprop=function(a,b,c,d,e){var f,g;return f=this._getiomapinfobyid(a,b),void 0==f?e:(c=_xfu["int"](c),g=f.column_map_info_arr[c],void 0===g?e:g[d])},XF_SCREEN_TRANMAP.prototype.getiomapcount=function(a){return 1==a?this.in_map_info_arr.length:this.out_map_info_arr.length},XF_SCREEN_TRANMAP.prototype.getiomapobjcontrolid=function(a,b){return this._getiomapprop(a,b,"control_id",-1)},XF_SCREEN_TRANMAP.prototype.getiomapobjattribute=function(a){var b,c;for(c=this.map_info_arr.length,b=0;c>b;b++)if(a==this.map_info_arr[b].control_id)return this.map_info_arr[b].attr;return""},XF_SCREEN_TRANMAP.prototype.getiomaptext=function(a,b){return this._getiomapprop(a,b,"index","")},XF_SCREEN_TRANMAP.prototype.getgridiomapcolumn=function(a,b,c){return this._getgridiomapprop(a,b,c,"column_index",-1)},XF_SCREEN_TRANMAP.prototype.getgridiomapcount=function(a,b){var c;return c=this._getiomapinfobyid(a,b),void 0===c?0:c.column_map_info_arr.length},XF_SCREEN_TRANMAP.prototype.getgridiomaptext=function(a,b,c){return this._getgridiomapprop(a,b,c,"index","")},XF_SCREEN_TRANMAP.prototype.getgridiomapsubrow=function(a,b,c){return this._getgridiomapprop(a,b,c,"sub_row_index",-1)},XF_SCREEN_TRANIOMAP.prototype._init=function(a){this.control_kind=XFD_CTRLKIND_NONE,this.object_kind=XFD_OBJKIND_NONE,this.xf_parent=a,this.is_processing=!1,this.jq_xhr=null,this.input_item_arr=[],this.output_item_arr=[],this.output_device_arr=[]},XF_SCREEN_TRANIOMAP.prototype._prop=function(a){this.xf_prop_type={timeout:XFD_PROP_INT},this.xf_prop={id:"",timeout:120},_xfx.prop(this,this.xf_prop,this.xf_prop_type,a),$.extend(this.xf_prop,a)},XF_SCREEN_TRANIOMAP.prototype._create=function(){this.xf_parent.xf_screen._addtraniomap(this)},XF_SCREEN_TRANIOMAP.prototype._addinputitem=function(a){return a.sub_item_arr=[],this.input_item_arr.push(a),this.input_item_arr.length-1},XF_SCREEN_TRANIOMAP.prototype._addinputsubitem=function(a,b){var c;return c=this.input_item_arr[a],void 0===c.sub_item_arr&&(c.sub_item_arr=[]),c.sub_item_arr.push(b),c.sub_item_arr.length-1},XF_SCREEN_TRANIOMAP.prototype._addoutputdevice=function(a){return a.item_arr=[],this.output_device_arr.push(a),this.output_device_arr-1},XF_SCREEN_TRANIOMAP.prototype._addoutputitem=function(a,b){var c,d;return void 0===b||-1==b?d=this.output_item_arr:(c=this.output_device_arr[b],d=c.item_arr),a.sub_item_arr=[],d.push(a),d.length-1},XF_SCREEN_TRANIOMAP.prototype._addoutputsubitem=function(a,b,c){var d,e;return void 0===c||-1==c?e=this.output_item_arr[a]:(d=this.output_device_arr[c],e=d.item_arr[a]),void 0===e.sub_item_arr&&(e.sub_item_arr=[]),e.sub_item_arr.push(b),e.sub_item_arr.length-1},XF_SCREEN_XTRANMAP.prototype._init=function(a){this.control_kind=XFD_CTRLKIND_NONE,this.object_kind=XFD_OBJKIND_NONE,this.xf_parent=a,this.xf_xtds_arr=[],this.is_processing=!1,this.jq_xhr=null},XF_SCREEN_XTRANMAP.prototype._prop=function(a){this.xf_prop={id:"",url:"",comment:"",create_mode:_XFD_CREATEMODE_STATIC},$.extend(this.xf_prop,a)},XF_SCREEN_XTRANMAP.prototype._create=function(){this.xf_parent.xf_screen.xtranmap_arr.push(this)},XF_SCREEN_XTRANMAP.prototype._addxtds=function(a){var b,c,d,e,f,g;if(g={id:"",in_op:"",out_op:"",info:"",column_info_arr:[],column_info_count:0},$.extend(g,a),0==g.in_op.length?g.in_op=XFD_XDATASET_TRAN_NONE:"ALL"==g.in_op?g.in_op=XFD_XDATASET_TRAN_ALL:"CHECK"==g.in_op?g.in_op=XFD_XDATASET_TRAN_CHECK:"UPDATE"==g.in_op?g.in_op=XFD_XDATASET_TRAN_UPDATE:g.in_op=XFD_XDATASET_TRAN_NONE,0==g.out_op.length?g.out_op=XFD_XDATASET_TRAN_NONE:"DELETE"==g.out_op?g.out_op=XFD_XDATASET_TRAN_DELETE:"UPDATE"==g.out_op?g.out_op=XFD_XDATASET_TRAN_UPDATE:"APPEND"==g.out_op?g.out_op=XFD_XDATASET_TRAN_APPEND:g.out_op=XFD_XDATASET_TRAN_NONE,g.info.length>0)for(b=g.info.split(";"),c=b.length,f=0;c>f;f++)d=b[f],e=d.split(":"),3==e.length&&("1"==e[1]?e[1]=!0:e[1]=!1,"1"==e[2]?e[2]=!0:e[2]=!1,g.column_info_arr.push({column_id:e[0],is_input:e[1],is_output:e[2]}));g.column_info_count=g.column_info_arr.length,this.xf_xtds_arr.push(g)},XF_SCREEN_XTRANMAP.prototype.getxtds=function(a){var b,c;for(c=this.xf_xtds_arr.length,b=0;c>b;b++)if(this.xf_xtds_arr[b].id==a)return this.xf_xtds_arr[b];return null},XF_SCREEN_XTRANMAP.prototype.getcolumnnamearr=function(a,b){var c,d;if(d=[],1==b)for(c=0;c<a.column_info_count;c++)a.column_info_arr[c].is_input&&d.push(a.column_info_arr[c].column_id);else for(c=0;c<a.column_info_count;c++)a.column_info_arr[c].is_output&&d.push(a.column_info_arr[c].column_id);return d},XF_SCROLL.SCROLL_BAR_MIN_HEIGHT=17,XF_SCROLL.SCROLL_BAR_MIN_WIDTH=17,XF_SCROLL.VERT_SCROLL=0,XF_SCROLL.HORZ_SCROLL=1,XF_SCROLL.FOCUS_TYPE_NONE=9,XF_SCROLL.FOCUS_TYPE_TOP=0,XF_SCROLL.FOCUS_TYPE_CENTER=1,XF_SCROLL.FOCUS_TYPE_BOTTOM=2,XF_SCROLL.prototype._init=function(a,b,c){this.xf_parent=a,this.xf_view=b,this.xf_content=c,this.xf_prop=null,this.is_bar_move=!1,this.is_show=!1,this.xf_track=null,this.xf_bar=null,this.track_height=0,this.track_width=0,this.bar_height=0,this.bar_width=0,this.parent_inner_height=0,this.parent_inner_width=0,this.view_inner_height=0,this.view_inner_width=0,this.content_outer_height=0,this.content_outer_width=0,this.mouse_down_event=null,this.mouse_y=0,this.mouse_x=0,this.bar_top=0,this.bar_left=0,this.xf_document=$(document),this.scroll_track_timer_id=-1},XF_SCROLL.prototype._prop=function(a){this.xf_prop={top:0,bottom:0,right:1,left:0,width:6,height:6,id:"xf_scroll",type:XF_SCROLL.VERT_SCROLL,internal_name:"",use_horz_wheel:!1,wheel_movemode:0,wheel_linecount:3,wheel_lineheight:20,on_scroll_start:null,on_scroll_ing:null,on_scroll_end:null},$.extend(this.xf_prop,a)},XF_SCROLL.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push('<div class="_xf_basic_scroll"'),a.push(' style="'),a.push("display:none;"),a.push("z-index:"+XFD_ZINDEX_SCROLL_BASIC+";"),this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(a.push("top:"+_xfu.px(this.xf_prop.top)+";"),a.push("right:"+_xfu.px(this.xf_prop.right)+";"),a.push("width:"+_xfu.px(this.xf_prop.width)+";"),a.push("height:100%;")):(a.push("left:"+_xfu.px(this.xf_prop.left)+";"),a.push("bottom:"+_xfu.px(this.xf_prop.bottom)+";"),a.push("width:100%;"),a.push("height:"+_xfu.px(this.xf_prop.height)+";")),a.push('">'),a.push('<div class="_xf_basic_scroll_track"></div>'),a.push('<button tabindex="-1" class="_xf_basic_scroll_bar"></button>'),a.push("</div>")),0==_xf_htmlready_mode?(this.xf_object=$(a.join("")),this.xf_parent.append(this.xf_object)):this.xf_object=this.xf_parent.find("._xf_basic_scroll")},XF_SCROLL.prototype._dom=function(){this.xf_track=this.xf_object.find("._xf_basic_scroll_track"),this.xf_bar=this.xf_object.find("._xf_basic_scroll_bar")},XF_SCROLL.prototype._offdocevent=function(a){this.xf_document.off("mousemove."+this.xf_prop.id),this.xf_document.off("mouseup."+this.xf_prop.id),this.xf_document.off("mouseleave."+this.xf_prop.id),this.xf_document.off("touchmove."+this.xf_prop.id),this.xf_document.off("touchend."+this.xf_prop.id)},XF_SCROLL.prototype._docevent=function(a){this._offdocevent(),this.xf_document.on("mousemove."+this.xf_prop.id,$.proxy(this.on_document_mousemove,this)),this.xf_document.on("mouseup."+this.xf_prop.id,$.proxy(this.on_document_mouseup,this)),this.xf_document.on("mouseleave."+this.xf_prop.id,$.proxy(this.on_document_mouseup,this)),this.xf_document.on("touchmove."+this.xf_prop.id,$.proxy(this.on_document_touchmove,this)),this.xf_document.on("touchend."+this.xf_prop.id,$.proxy(this.on_document_mouseup,this))},XF_SCROLL.prototype._offevent=function(){this.xf_bar.off("mousedown"),this.xf_track.off("mousedown"),this.xf_track.off("mouseup"),this.xf_track.off("mouseleave"),this.xf_bar.off("touchstart"),this.xf_prop.type!=XF_SCROLL.VERT_SCROLL&&1!=this.xf_prop.use_horz_wheel||(this.xf_parent.off("wheel."+this.xf_prop.id+"_"+this.xf_prop.type),this.xf_parent.off("mousewheel."+this.xf_prop.id+"_"+this.xf_prop.type),this.xf_parent.off("DOMMouseScroll."+this.xf_prop.id+"_"+this.xf_prop.type),this.xf_parent.off("MozMousePixelScroll."+this.xf_prop.id+"_"+this.xf_prop.type))},XF_SCROLL.prototype._event=function(){this.xf_bar.on("mousedown",$.proxy(this.on_bar_mousedown,this)),this.xf_track.on("mousedown",$.proxy(this.on_track_mousedown,this,500)),this.xf_track.on("mouseup",$.proxy(this.on_track_mouseup,this,500)),this.xf_track.on("mouseleave",$.proxy(this.on_track_mouseup,this)),this.xf_bar.on("touchstart",$.proxy(this.on_bar_touchstart,this)),this.xf_prop.type!=XF_SCROLL.VERT_SCROLL&&1!=this.xf_prop.use_horz_wheel||(this.xf_parent.on("wheel."+this.xf_prop.id+"_"+this.xf_prop.type,$.proxy(this.on_parent_mousewheel,this)),this.xf_parent.on("mousewheel."+this.xf_prop.id+"_"+this.xf_prop.type,$.proxy(this.on_parent_mousewheel,this)),this.xf_parent.on("DOMMouseScroll."+this.xf_prop.id+"_"+this.xf_prop.type,$.proxy(this.on_parent_mousewheel,this)),this.xf_parent.on("MozMousePixelScroll."+this.xf_prop.id+"_"+this.xf_prop.type,$.proxy(this.on_parent_mousewheel,this)))},XF_SCROLL.prototype._create=function(){this._dom(),this._event()},XF_SCROLL.prototype.stopscrolltracktimer=function(){this.scroll_track_timer_id>=0&&(window.clearTimeout(this.scroll_track_timer_id),this.scroll_track_timer_id=-1)},XF_SCROLL.prototype.on_track_mouseup=function(a){this.stopscrolltracktimer()},XF_SCROLL.prototype.on_track_mousedown=function(a,b){return this.stopscrolltracktimer(),this.xf_prop.type==XF_SCROLL.VERT_SCROLL?this.on_track_click(a,b.offsetY):this.on_track_click(a,b.offsetX),!1},XF_SCROLL.prototype.on_track_click=function(a,b){var c,d,e,f,g;this.scroll_track_timer_id=-1,c=!1,this.xf_prop.type==XF_SCROLL.VERT_SCROLL?b>=this.bar_top&&b<=this.bar_top+this.bar_height?c=!0:(d=this.view_inner_height-this.xf_prop.wheel_lineheight,f=this.track_height-this.bar_height,g=this.content_outer_height-this.view_inner_height,e=f*d/g,e=Math.ceil(e),b>this.bar_top?(this.bar_bottom=this.bar_top+this.bar_height,this.bar_bottom+e>b?this.movebar(b-this.bar_bottom,XFD_SB_THUMBTRACK,!0):this.movebar(e,XFD_SB_THUMBTRACK,!0)):this.bar_top-e<b?this.movebar(b-this.bar_top,XFD_SB_THUMBTRACK,!0):this.movebar(-1*e,XFD_SB_THUMBTRACK,!0)):b>=this.bar_left&&b<=this.bar_left+this.bar_width?c=!0:(d=this.view_inner_width-this.xf_prop.wheel_lineheight,f=this.track_width-this.bar_width,g=this.content_outer_width-this.view_inner_width,e=f*d/g,e=Math.ceil(e),b>this.bar_left?(this.bar_right=this.bar_left+this.bar_width,this.bar_right+e>b?this.movebar(b-this.bar_right,XFD_SB_THUMBTRACK,!0):this.movebar(e,XFD_SB_THUMBTRACK,!0)):this.bar_left-e<b?this.movebar(b-this.bar_left,XFD_SB_THUMBTRACK,!0):this.movebar(-1*e,XFD_SB_THUMBTRACK,!0)),0==c&&(this.scroll_track_timer_id=window.setTimeout($.proxy(this.on_track_click,this,10,b),a))},XF_SCROLL.prototype.on_bar_touchstart=function(a){return this.on_bar_movestart(a,a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY)},XF_SCROLL.prototype.on_bar_mousedown=function(a){return this.on_bar_movestart(a,a.clientX,a.clientY)},XF_SCROLL.prototype.on_bar_movestart=function(a,b,c){return this.is_bar_move=!0,this.mouse_x=b,this.mouse_y=c,null!=this.xf_prop.on_scroll_start&&this.xf_prop.on_scroll_start(),this.xf_track.addClass("_xf_scroll_track_hover"),this._docevent(),!1},XF_SCROLL.prototype.on_document_touchmove=function(a){return this.on_bar_move(a,a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY)},XF_SCROLL.prototype.on_document_mousemove=function(a){return this.on_bar_move(a,a.clientX,a.clientY)},XF_SCROLL.prototype.on_bar_move=function(a,b,c){var d;if(0!=this.is_bar_move)return this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(d=c-this.mouse_y,this.movebar(d,XFD_SB_THUMBPOSITION,!0),this.mouse_y=c):(d=b-this.mouse_x,this.movebar(d,XFD_SB_THUMBPOSITION,!0),this.mouse_x=b),!1},XF_SCROLL.prototype.on_document_mouseup=function(a){0!=this.is_bar_move&&(this.is_bar_move=!1,this._offdocevent(),this.xf_track.removeClass("_xf_scroll_track_hover"),null!=this.xf_prop.on_scroll_end&&this.xf_prop.on_scroll_end())},XF_SCROLL.prototype.on_parent_mousewheel=function(a){var b,c,d;if(void 0!==a.originalEvent.deltaY&&0!=a.originalEvent.deltaY&&(this.xf_prop.type==XF_SCROLL.VERT_SCROLL||1==this.xf_prop.use_horz_wheel)){if(this.xf_prop.type==XF_SCROLL.VERT_SCROLL){if(this.content_outer_height<=this.view_inner_height)return}else if(this.content_outer_width<=this.view_inner_width)return;return 0==this.xf_prop.wheel_movemode?(c=Math.round(Math.abs(a.originalEvent.deltaY)/100),d=c*this.xf_prop.wheel_linecount*this.xf_prop.wheel_lineheight,b=a.originalEvent.deltaY>0?this.movecontent(-1*d,!0,XFD_SB_MOUSEWHEEL,!0):this.movecontent(d,!0,XFD_SB_MOUSEWHEEL,!0)):b=this.movecontent(-1*a.originalEvent.deltaY,!0,XFD_SB_MOUSEWHEEL,!0),1==b}},XF_SCROLL.prototype.destroy=function(){this._offevent(),this.xf_bar.remove(),this.xf_track.remove(),this.xf_object.remove()},XF_SCROLL.prototype.getcontentviewrange=function(){var a,b,c,d;return this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(a=Math.abs(_xfu["int"](this.xf_content.position().top)),b=a+this.view_inner_height,{top:a,bottom:b}):(c=Math.abs(_xfu["int"](this.xf_content.position().left)),d=c+this.view_inner_width,{left:c,right:d})},XF_SCROLL.prototype.syncbar=function(a,b){var c,d,e,f,g,h;this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(g=this.bar_top,c=this.track_height-this.bar_height,d=this.content_outer_height-this.view_inner_height,e=Math.abs(this.xf_content.position().top),this.content_top=e,this.bar_top=c*e/d,this.bar_top<0&&(this.bar_top=0),this.bar_top+this.bar_height>this.track_height&&(this.bar_top=this.track_height-this.bar_height),this.xf_bar.css({top:this.bar_top})):(g=this.bar_left,c=this.track_width-this.bar_width,d=this.content_outer_width-this.view_inner_width,f=Math.abs(this.xf_content.position().left),this.content_left=f,this.bar_left=c*f/d,this.bar_left<0&&(this.bar_left=0),this.bar_left+this.bar_width>this.track_width&&(this.bar_left=this.track_width-this.bar_width),this.xf_bar.css({left:this.bar_left})),1==b&&(h=this.getscrollposinfo(),this.firescrollevent(g,a,h.is_move_to_end))},XF_SCROLL.prototype.synccontent=function(){var a,b,c,d;if(this.xf_prop.type==XF_SCROLL.VERT_SCROLL){if(a=this.track_height-this.bar_height,0==a)return this.content_top=0,void this.xf_content.css({top:"0px"});b=this.content_outer_height-this.view_inner_height,c=this.bar_top*b/a,this.content_top=-c,this.xf_content.css({top:-c})}else{if(a=this.track_width-this.bar_width,0==a)return this.content_left=0,void this.xf_content.css({left:"0px"});b=this.content_outer_width-this.view_inner_width,d=this.bar_left*b/a,this.content_left=-d,this.xf_content.css({left:-d})}},XF_SCROLL.prototype.movebar=function(a,b,c){var d,e,f,g,h;return f=this.getscrollposinfo(),this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(h=this.bar_top,d=this.xf_bar.position().top,d=a+d,0>d&&(d=0),d+this.bar_height>this.track_height&&(d=this.track_height-this.bar_height),this.xf_bar.css({top:d}),this.bar_top=d):(h=this.bar_left,e=this.xf_bar.position().left,e=a+e,0>e&&(e=0),e+this.bar_width>this.track_width&&(e=this.track_width-this.bar_width),this.xf_bar.css({left:e}),this.bar_left=e),this.synccontent(),g=this.getscrollposinfo(),1==c&&this.firescrollevent(h,b,g.is_move_to_end),1==f.is_reach_to_range&&1==g.is_reach_to_range&&f.is_move_to_end==g.is_move_to_end&&f.is_move_to_start==g.is_move_to_start},XF_SCROLL.prototype.movecontent=function(a,b,c,d){var e,f,g,h;return g=this.getscrollposinfo(),this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(e=this.xf_content.position().top,e=a+e,e>0&&(e=0),Math.abs(e)>this.content_outer_height-this.view_inner_height&&(e=-1*(this.content_outer_height-this.view_inner_height)),this.content_top=e,this.xf_content.css({top:e})):(f=this.xf_content.position().left,f=a+f,f>0&&(f=0),Math.abs(f)>this.content_outer_width-this.view_inner_width&&(f=-1*(this.content_outer_width-this.view_inner_width)),this.content_left=f,this.xf_content.css({left:f})),void 0!==b&&1!=b||this.syncbar(c,d),h=this.getscrollposinfo(),1==g.is_reach_to_range&&1==h.is_reach_to_range&&g.is_move_to_end==h.is_move_to_end&&g.is_move_to_start==h.is_move_to_start},XF_SCROLL.prototype.getscrollposinfo=function(){var a={is_move_to_start:0,is_move_to_end:0,is_reach_to_range:!1};return this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(this.bar_top+this.bar_height>=this.track_height&&(a.is_move_to_end=1,a.is_reach_to_range=!0),0==this.bar_top&&(a.is_move_to_start=1,a.is_reach_to_range=!0)):(this.bar_left+this.bar_width>=this.track_width&&(a.is_move_to_end=1,a.is_reach_to_range=!0),0==this.bar_left&&(a.is_move_to_start=1,a.is_reach_to_range=!0)),a},XF_SCROLL.prototype.focus=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;if(void 0===c&&(c=!0),void 0===d&&(d=0),void 0===e&&(e=0),null!=this.xf_prop.on_scroll_start&&this.xf_prop.on_scroll_start(),void 0===b&&(b=XF_SCROLL.FOCUS_TYPE_NONE),this.xf_prop.type==XF_SCROLL.VERT_SCROLL){if(k=a.position().top,l=a.outerHeight(),h=this.content_outer_height-this.view_inner_height,0>h&&(h=0),b==XF_SCROLL.FOCUS_TYPE_NONE){if(p=k+l,o={},o.top=Math.abs(_xfu["int"](this.xf_content.position().top)),o.bottom=o.top+this.view_inner_height,k>=o.top&&p<=o.bottom)return-1;k<o.top?f=k:k>o.bottom?f=k-(this.view_inner_height-l)-e:p>o.bottom&&(f=k-(this.view_inner_height-l)-e)}else b==XF_SCROLL.FOCUS_TYPE_TOP?f=k:b==XF_SCROLL.FOCUS_TYPE_CENTER?(f=k,j=Math.floor(this.view_inner_height/l/2),f-=l*j):b==XF_SCROLL.FOCUS_TYPE_BOTTOM&&(f=k-(this.view_inner_height-l)-e);return f>h&&(f=h),0>f&&(f=0),1==c&&(this.content_top=-f,this.xf_content.css({top:_xfu.px(-f)}),this.syncbar(XFD_SB_THUMBPOSITION,!0)),f}if(m=a.position().left,n=a.outerWidth(),i=this.content_outer_width-this.view_inner_width,0>i&&(i=0),b==XF_SCROLL.FOCUS_TYPE_NONE){if(q=m+n,o={},o.left=Math.abs(_xfu["int"](this.xf_content.position().left)),o.right=o.left+this.view_inner_width,m>=o.left&&q<=o.right)return-1;m<o.left?g=m:m>o.right?g=m-(this.view_inner_width-n)-e:q>o.right&&(g=m-(this.view_inner_width-n)-e)}else b==XF_SCROLL.FOCUS_TYPE_TOP?g=m:b==XF_SCROLL.FOCUS_TYPE_CENTER?(g=m,n<this.view_inner_width&&(g-=Math.floor((this.view_inner_width-n)/2))):b==XF_SCROLL.FOCUS_TYPE_BOTTOM&&(g=m-(this.view_inner_height-n)-e);return g>i&&(g=i),0>g&&(g=0),1==c&&(this.content_left=-g,this.xf_content.css({left:_xfu.px(-g)}),this.syncbar(XFD_SB_THUMBPOSITION,!0)),g},XF_SCROLL.prototype.refresh=function(){this.xf_prop.type==XF_SCROLL.VERT_SCROLL?(this.parent_inner_height=this.xf_parent.innerHeight(),this.track_height=this.parent_inner_height-2*this.xf_prop.top,this.xf_object.css({height:_xfu.px(this.track_height)}),this.view_inner_height=this.xf_view.innerHeight(),this.content_outer_height=this.xf_content.outerHeight(),this.view_inner_height<this.content_outer_height?this.is_show=!0:this.is_show=!1,1==this.is_show?(this.bar_height=this.track_height*this.view_inner_height/this.content_outer_height,this.bar_height<XF_SCROLL.SCROLL_BAR_MIN_HEIGHT&&(this.bar_height=XF_SCROLL.SCROLL_BAR_MIN_HEIGHT)):this.bar_height=this.track_height,this.xf_bar.css({height:this.bar_height}),this.is_show?this.xf_object.show():(this.xf_bar.css({top:0}),this.bar_top=0,this.synccontent(),this.xf_object.hide())):(this.parent_inner_width=this.xf_parent.innerWidth(),
this.track_width=this.parent_inner_width-2*this.xf_prop.left,this.xf_object.css({width:_xfu.px(this.track_width)}),this.view_inner_width=this.xf_view.innerWidth(),this.content_outer_width=this.xf_content.outerWidth(),this.view_inner_width<this.content_outer_width?this.is_show=!0:this.is_show=!1,1==this.is_show?(this.bar_width=this.track_width*this.view_inner_width/this.content_outer_width,this.bar_width<XF_SCROLL.SCROLL_BAR_MIN_WIDTH&&(this.bar_width=XF_SCROLL.SCROLL_BAR_MIN_WIDTH)):this.bar_width=this.track_width,this.xf_bar.css({width:this.bar_width}),this.is_show?this.xf_object.show():(this.xf_bar.css({left:0}),this.bar_left=0,this.synccontent(),this.xf_object.hide()))},XF_SCROLL.prototype.remove=function(){this._offdocevent(),this._offevent(),this.xf_bar.remove(),this.xf_track.remove(),this.xf_object.remove()},XF_SCROLL.prototype.setdocument=function(a){this.xf_document=$(a)},XF_SCROLL.prototype.firescrollevent=function(a,b,c){var d,e,f,g,h;if(null!=this.xf_prop.on_scroll_ing){if(a=_xfu["int"](a),this.xf_prop.type==XF_SCROLL.VERT_SCROLL){if(d=_xfu["int"](this.bar_top),d==a)return;g=this.track_height-this.bar_height,h=this.content_outer_height-this.view_inner_height}else{if(d=_xfu["int"](this.bar_left),d==a)return;g=this.track_width-this.bar_width,h=this.content_outer_width-this.view_inner_width}e=d*h/g,f=a*h/g,this.xf_prop.on_scroll_ing(_xfu["int"](e),_xfu["int"](f),b,c)}};var xclass={classGridRadioInfo:function(){this.arritems=[],this.clrellipse=0},classGridRadioItem:function(){this.strcaption="",this.strselectvalue=""},classXdatasetUpdateObjInfo:function(){this.bxdatasettoobj=!1,this.strupdatedata="",this.instxdataset=null,this.nxdatasetrow=-1,this.nxdatasetcolumn=-1,this.instscreen=null,this.instobject=null,this.nrow=-1,this.nsubrow=-1,this.ncolumn=-1},classGridFilterInfo:function(){this.bnotempty=!1,this.strfiltertext="",this.stroperator="",this.bfilterand=!0,this.bshowbutton=!0}};XF_XDATASET.prototype._init=function(a,b){if(this.control_kind=XFD_CTRLKIND_XDATASET,this.object_kind=XFD_OBJKIND_XDATASET,this.xdataset_type=XFD_XDATASET_NORMAL,this.xf_parent=a,null==this.xf_parent?this.xf_screen=null:this.xf_screen=this.xf_parent.xf_screen,b.create_mode===_XFD_CREATEMODE_PORTLET)a.xf_content.xf_execution_context[b.id]=this,null!==this.xf_screen&&(this.xf_screen.xdataset_map[b.id]=this);else{if(null!==this.xf_screen&&b.id.length>0&&window[b.id])return!1;window[b.id]=this,null!==this.xf_screen&&(this.xf_screen.xdataset_map[b.id]=this)}return!0},XF_XDATASET.prototype._member=function(){this.xf_data_column_arr=[],this.data_column_name_arr=[],this.data_column_count=0,this.xf_inner_column_arr=[],this.inner_column_name_arr=[],this.inner_column_count=0,this.xf_data_row_arr=[],this.data_row_count=0,this.xf_del_row_arr=[],this.del_row_count=0,this.pos_index=-1,this.linked_object_arr=[],this.xdataset_sort_info=null},XF_XDATASET.prototype._prop=function(a){var b,c,d,e,f,g;if(this.xf_prop={id:"",desc:"",columns:"",create_mode:_XFD_CREATEMODE_STATIC},this.event_name_arr=["on_change"],$.extend(this.xf_prop,a),_xfx.propevent(this,this.xf_prop,a,this.event_name_arr),this.xf_prop.desc=this.xf_prop.desc||"",this.xf_prop.columns=this.xf_prop.columns||"",this.xf_prop.columns.length>0)for(c=this._splitcolumnsstr(this.xf_prop.columns),d=c.length,e=0;d>e;e++)f=this._splitcolumninfostr(c[e]),g=f.length,4>g||(f[0]=f[0].replace(/"/g,""),f[1]=f[1].replace(/"/g,""),f[2]=f[2].replace(/"/g,""),f[3]=f[3].replace(/"/g,""),5==g?f[4]=f[4].replace(/"/g,""):f[4]="",b=new XF_XDATASET_COLUMN(this,{column_id:f[0],column_desc:f[1],column_length:f[2],column_init_value:f[3],column_callback:f[4],column_index:this.xf_data_column_arr.length,column_type:XFD_XDATASET_COLUMN_DATA}),this.xf_data_column_arr.push(b),this.data_column_name_arr.push(b.xf_column_prop.column_id),this.data_column_count++)},XF_XDATASET.prototype._data=function(){var a,b,c,d,e;for(b=0,d=0;d<this.data_column_count;d++)a=this.xf_data_column_arr[d],e=a.getcolumninitvaluecount(),e>b&&(b=e);for(this.data_row_count=b,c=0;c<this.data_row_count;c++)this._addxdatasetrow(c,XFD_ROWOP_INSERT);for(d=0;d<this.data_column_count;d++)if(a=this.xf_data_column_arr[d],e=a.getcolumninitvaluecount(),b>e)for(c=e;b>c;c++)a.setcolumnvalue(c,"")},XF_XDATASET.prototype._create=function(){this.data_row_count>0&&(this.pos_index=0)},XF_XDATASET.prototype._remove=function(){delete window[this.xf_prop.id],null!==this.xf_screen&&delete this.xf_screen.xdataset_map[this.xf_prop.id]},XF_XDATASET.prototype._addlinkobject=function(a){this._deletelinkobject(a),this.linked_object_arr.push(a)},XF_XDATASET.prototype._deletelinkobject=function(a){var b,c,d;for(d=this.linked_object_arr.length,b=d-1;b>=0;b--)if(c=this.linked_object_arr[b],c===a)return void this.linked_object_arr.splice(b,1)},XF_XDATASET.prototype._resetcolumnindex=function(a){var b;if(a==XFD_XDATASET_COLUMN_DATA)for(b=0;b<this.data_column_count;b++)this.xf_data_column_arr[b].xf_column_prop.column_index=b;else if(a==XFD_XDATASET_COLUMN_INNER)for(b=0;b<this.inner_column_count;b++)this.xf_inner_column_arr[b].xf_column_prop.column_index=b},XF_XDATASET.prototype._fireevent=function(a,b,c){var d,e,f,g;if(this._checklinkedobjectarr(),g={type:XFD_XDATASET_EVENT_ETC,xf_xdataset:this,xdataset_type:this.xdataset_type,xdataset_column_type:XFD_XDATASET_COLUMN_DATA,xdataset_column_index:-1,xdataset_column_id:"",xdataset_row_index:-1,xdataset_append_row_count:0,xdataset_pos_index:this.pos_index},null!=b&&void 0!==b&&$.extend(g,b),g.type=a,d=this.linked_object_arr.length,null!==c&&void 0!==c)for(e=0;d>e;e++)f=this.linked_object_arr[e],f!=c&&f.on_xdataset_event&&f.on_xdataset_event(g);else for(e=0;d>e;e++)f=this.linked_object_arr[e],f.on_xdataset_event&&f.on_xdataset_event(g);a==XFD_XDATASET_EVENT_DATA_SORT&&(this.xdataset_sort_info=null)},XF_XDATASET.prototype._checklinkedobjectarr=function(){var a,b,c,d;if(this.xdataset_type==XFD_XDATASET_GLOBAL)for(b=this.linked_object_arr.length,a=b-1;a>=0;a--)c=this.linked_object_arr[a],d=!1,c.xf_parent&&c.xf_parent.xf_screen&&c.xf_parent.xf_screen.xf_window&&0==c.xf_parent.xf_screen.xf_window.closed&&(d=!0),0==d&&this.linked_object_arr.splice(a,1)},XF_XDATASET.prototype._getcolumns=function(a){var b,c,d,e;for(e=[],c=a.length,b=0;c>b;b++){if(d=this.getcolumn(a[b]),-1==d)return null;e.push(d)}return e},XF_XDATASET.prototype._getcolumndescs=function(a){var b,c,d;for(d=[],c=a.length,b=0;c>b;b++)d.push(this.getcolumndesc(a[b]));return d},XF_XDATASET.prototype._isvalidrowcolumn=function(a,b,c){return this._isvalidrow(a)?!!this._isvalidcolumn(b,c):!1},XF_XDATASET.prototype._isvalidrow=function(a){return!(0>a||a>=this.data_row_count)},XF_XDATASET.prototype._isvalidcolumn=function(a,b){if(a==XFD_XDATASET_COLUMN_DATA){if(0>b||b>=this.data_column_count)return!1}else if(a==XFD_XDATASET_COLUMN_INNER&&(0>b||b>=this.inner_column_count))return!1;return!0},XF_XDATASET.prototype._setdatarowcount=function(a,b){var c;for(this.data_row_count=a,this.xf_data_row_arr=[],c=0;a>c;c++)this._addxdatasetrow(c,b);a>0?this.pos_index=0:this.pos_index=-1},XF_XDATASET.prototype._adddatarowcount=function(a,b){var c;if(0==this.data_row_count)return void this._setdatarowcount(a,b);for(c=this.data_row_count;c<this.data_row_count+a;c++)this._addxdatasetrow(c,b);this.data_row_count=this.data_row_count+a},XF_XDATASET.prototype._updatecolumnvalue=function(a,b,c,d){var e,f;e=this._getcolumn(b,c),-1!=e&&(f=this._getxdatasetcolumn(b,e),f.updatecolumnvalue(a,d))},XF_XDATASET.prototype._setcolumnvaluearr=function(a,b,c){var d,e;d=this._getcolumn(a,b),-1!=d&&(e=this._getxdatasetcolumn(a,d),e.setcolumnvaluearr(c))},XF_XDATASET.prototype._getcolumnvaluearr=function(a,b){var c,d;return c=this._getcolumn(a,b),-1==c?[]:(d=this._getxdatasetcolumn(a,c),d.getcolumnvaluearr())},XF_XDATASET.prototype._addcolumnvalue=function(a,b,c){var d,e;d=this._getcolumn(a,b),-1!=d&&(e=this._getxdatasetcolumn(a,d),e.addcolumnvalue(c))},XF_XDATASET.prototype._addcolumnvaluearr=function(a,b,c){var d,e;d=this._getcolumn(a,b),-1!=d&&(e=this._getxdatasetcolumn(a,d),e.addcolumnvaluearr(c))},XF_XDATASET.prototype._getrowvaluearr=function(a,b){var c,d,e;if(e=[],!this._isvalidrow(a))return e;if(b==XFD_XDATASET_COLUMN_ALL||b==XFD_XDATASET_COLUMN_DATA)for(c=0;c<this.data_column_count;c++)d=this.xf_data_column_arr[c],e.push({column_type:XFD_XDATASET_COLUMN_DATA,column_id:d.xf_column_prop.column_id,column_value:d.getcolumnrawvalue(a)});if(b==XFD_XDATASET_COLUMN_ALL||b==XFD_XDATASET_COLUMN_INNER)for(c=0;c<this.inner_column_count;c++)d=this.xf_inner_column_arr[c],e.push({column_type:XFD_XDATASET_COLUMN_INNER,column_id:d.xf_column_prop.column_id,column_value:d.getcolumnrawvalue(a)});return e},XF_XDATASET.prototype._getxdatasetcolumnbyname=function(a,b){var c=this._getcolumn(a,b);return-1==c?null:this._getxdatasetcolumn(a,c)},XF_XDATASET.prototype._getxdatasetcolumn=function(a,b){return a==XFD_XDATASET_COLUMN_DATA?this.xf_data_column_arr[b]:a==XFD_XDATASET_COLUMN_INNER?this.xf_inner_column_arr[b]:null},XF_XDATASET.prototype._createxdatasetrow=function(a,b){return{row_index:a,row_op:b,is_checked_row:!1}},XF_XDATASET.prototype._addxdatasetrow=function(a,b){var c=this._createxdatasetrow(a,b);return this.xf_data_row_arr.push(c),c},XF_XDATASET.prototype._setallrowoperation=function(a){var b;for(b=0;b<this.data_row_count;b++)this.xf_data_row_arr[b].row_op=a},XF_XDATASET.prototype._setrowoperation=function(a,b){return this.xf_data_row_arr[a].row_op=b,!0},XF_XDATASET.prototype._getxdatasetfortran=function(a,b,c){var d,e;return d=a.getcolumnnamearr(b,c),e=this._getcolumnfortran(b,d,c),{id:this.xf_prop.id,desc:this.xf_prop.desc,io:1==c?XFD_XDATASET_IO_INPUT:XFD_XDATASET_IO_OUTPUT,row_count:e.row_info_arr.length,row_info_arr:e.row_info_arr,column_count:d.length,column_name_arr:d,column_info_arr:e.column_info_arr,column_data_arr:e.column_data_arr}},XF_XDATASET.prototype._getcolumnfortran=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(f=[],d=[],e=[],m=0,k=b.length,j=0;k>j;j++)if(h=this.getcolumn(b[j]),i=this._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,h),d.push(i.getcolumninfo()),c)if(a.in_op==XFD_XDATASET_TRAN_ALL){for(g=[],l=0;l<this.data_row_count;l++)g.push(i.data_value_arr[l]),0==j&&(f.push({row_index:m,row_key:l,row_op:this.xf_data_row_arr[l].row_op}),m++);for(l=0;l<this.del_row_count;l++)g.push(i.del_value_arr[l]),0==j&&(f.push({row_index:m,row_key:-1,row_op:XFD_ROWOP_DELETE}),m++);e.push(g)}else if(a.in_op==XFD_XDATASET_TRAN_CHECK){for(g=[],l=0;l<this.data_row_count;l++)1==this.xf_data_row_arr[l].is_checked_row&&(g.push(i.getcolumnvalue(l)),0==j&&(f.push({row_index:m,row_key:l,row_op:this.xf_data_row_arr[l].row_op}),m++));e.push(g)}else if(a.in_op==XFD_XDATASET_TRAN_UPDATE){for(g=[],l=0;l<this.data_row_count;l++)this.xf_data_row_arr[l].row_op!=XFD_ROWOP_NONE&&(g.push(i.getcolumnvalue(l)),0==j&&(f.push({row_index:m,row_key:l,row_op:this.xf_data_row_arr[l].row_op}),m++));for(l=0;l<this.del_row_count;l++)g.push(i.del_value_arr[l]),0==j&&(f.push({row_index:m,row_key:-1,row_op:XFD_ROWOP_DELETE}),m++);e.push(g)}return{row_info_arr:f,column_info_arr:d,column_data_arr:e}},XF_XDATASET.prototype._splitcolumnsstr=function(a){var b,c,d,e,f;for(b=[],d=0,e=!1,f=a.length,c=0;f>c;c++)'"'==a.charAt(c)&&(e=!e),e||";"!=a.charAt(c)||(b.push(a.substring(d,c)),d=c+1);return f>0&&b.push(a.substring(d,c)),b},XF_XDATASET.prototype._splitcolumninfostr=function(a){var b,c,d,e,f;for(b=[],d=0,e=!1,f=a.length,c=0;f>c;c++)'"'==a.charAt(c)&&(e=!e),e||":"!=a.charAt(c)||(b.push(a.substring(d,c)),d=c+1);return b.push(a.substr(d)),b},XF_XDATASET.prototype.destory=function(){this.xf_prop.create_mode===_XFD_CREATEMODE_PORTLET?delete this.xf_parent.xf_content.xf_execution_context[this.xf_prop.id]:delete window[xf_prop.id],null!==this.xf_screen&&delete this.xf_screen.xdataset_map[this.xf_prop.id]},XF_XDATASET.prototype.addcolumn=function(a,b,c){return this._addcolumn(XFD_XDATASET_COLUMN_DATA,a,b,c,!0)},XF_XDATASET.prototype._addcolumn=function(a,b,c,d,e,f){var g,h;if(g=new XF_XDATASET_COLUMN(this,{column_type:a,column_id:b,column_desc:c,column_length:d}),a==XFD_XDATASET_COLUMN_DATA){for(g.column_index=this.data_column_count,h=0;h<this.data_column_count;h++)if(this.data_column_name_arr==b){g.column_index=h;break}h==this.data_column_count&&(this.xf_data_column_arr.push(g),this.data_column_name_arr.push(b),this.data_column_count++)}else if(a==XFD_XDATASET_COLUMN_INNER){for(g.column_index=this.inner_column_count,h=0;h<this.inner_column_count;h++)if(this.inner_column_name_arr[h]==b){g.column_index=h;break}h==this.inner_column_count&&(this.xf_inner_column_arr.push(g),this.inner_column_name_arr.push(b),this.inner_column_count++)}return e&&this._fireevent(XFD_XDATASET_EVENT_COLUMN_ADD,{xdataset_column_type:a,xdataset_column_id:b,xdataset_column_index:g.column_index},f),g.column_index},XF_XDATASET.prototype.addrow=function(a){return void 0===a&&(a=!0),this._addrow(XFD_XDATASET_COLUMN_DATA,-1,"",a)},XF_XDATASET.prototype._addrow=function(a,b,c,d,e){var f;return f=this.data_row_count,0==this._insertrow(f,a,b,c,d,e)?-1:f},XF_XDATASET.prototype.cancelallrowoperation=function(a){var b;for(void 0===a&&(a=!0),b=this.data_row_count-1;b>=0;b--)this.cancelrowoperation(b,!1);return a&&this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD),!0},XF_XDATASET.prototype.cancelrowoperation=function(a,b){return void 0===b&&(b=!0),this._cancelrowoperation(a,b)},XF_XDATASET.prototype._cancelrowoperation=function(a,b,c){var d,e,f;if(a=_xfu["int"](a),void 0==this.xf_data_row_arr[a])return!1;if(d=this.xf_data_row_arr[a],d.row_op==XFD_ROWOP_INSERT)return this.removerow(a);if(d.row_op==XFD_ROWOP_UPDATE||d.row_op==XFD_ROWOP_DELETE)for(f=0;f<this.data_column_count;f++)e=this._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,f),e.cancelcolumnvalue(a);return d.row_op=XFD_ROWOP_NONE,b&&this._fireevent(XFD_XDATASET_EVENT_DATA_UPDATE,{xdataset_row_index:a},c),!0},XF_XDATASET.prototype.copy=function(a,b,c,d){return this._copydata(a,b,null,c,-1,XFD_ROWOP_NONE,d)},XF_XDATASET.prototype.copyex=function(a,b,c,d,e){return this._copydata(a,b,null,c,-1,d,e)},XF_XDATASET.prototype.copyrow=function(a,b,c,d){return this._copydata(a,"",_xfu.array(b),c,-1,XFD_ROWOP_NONE,d)},XF_XDATASET.prototype.copyrowex=function(a,b,c,d,e){return this._copydata(a,"",_xfu.array(b),c,-1,d,e)},XF_XDATASET.prototype.copycheckrow=function(a,b,c,d){return this._copydata(a,"",a._getcheckedrowarr(b),c,-1,XFD_ROWOP_NONE,d)},XF_XDATASET.prototype.copycheckrowex=function(a,b,c,d,e){return this._copydata(a,"",a._getcheckedrowarr(b),c,-1,d,e)},XF_XDATASET.prototype.copyinsert=function(a,b,c,d,e){return this._copyinsert(a,b,"",null,d,XFD_ROWOP_NONE,e)},XF_XDATASET.prototype.copyinsertex=function(a,b,c,d,e,f){return this._copyinsert(a,b,"",null,d,XFD_ROWOP_NONE,default_op_code,f)},XF_XDATASET.prototype.copyinsertrow=function(a,b,c,d,e){return this._copyinsert(a,b,"",_xfu.array(c),d,XFD_ROWOP_NONE,e)},XF_XDATASET.prototype.copyinsertrowex=function(a,b,c,d,e,f){return this._copyinsert(a,b,"",_xfu.array(c),d,e,f)},XF_XDATASET.prototype.copyinsertcheckrow=function(a,b,c,d,e){return this._copyinsert(a,b,"",b._getcheckedrowarr(c),d,XFD_ROWOP_NONE,e)},XF_XDATASET.prototype.copyinsertcheckrowex=function(a,b,c,d,e,f){return this._copyinsert(a,b,"",b._getcheckedrowarr(c),d,e,f)},XF_XDATASET.prototype._copyinsert=function(a,b,c,d,e,f,g){if(a=_xfu.intval(a),a===!1)return!1;if(-1==a)a=this.getrowcount();else if(a>this.getrowcount())return!1;return this._copydata(b,c,d,e,a,f,g)},XF_XDATASET.prototype._copydata=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(f!==XFD_ROWOP_NONE&&f!==XFD_ROWOP_INSERT&&f!==XFD_ROWOP_UPDATE)return!1;if(void 0===g&&(g=!0),m=a.getrowcount(),s=this.getrowcount(),""!=b?(o=a._createcopyfilterinfoarr(b),c=a._getcopysrcrowindexarr(o),q=c.length):q=null==c?m:c.length,-1==e){if(this._setdatarowcount(q,f),d)if(a._maketemprowoperationarr(),t=JSON.parse(JSON.stringify(a.row_op_arr)),a._cleartemprowoperationarr(),null!=c)for(p=0;q>p;p++)this.xf_data_row_arr[p].row_op=t[c[p]];else for(p=0;q>p;p++)this.xf_data_row_arr[p].row_op=t[p];for(i=this._getcolumncount(XFD_XDATASET_COLUMN_DATA),h=0;i>h;h++)if(j=this._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,h),l=a._getcolumn(XFD_XDATASET_COLUMN_DATA,j.xf_column_prop.column_id),-1!=l){if(null==c)k=a._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,l),n=JSON.parse(JSON.stringify(k.data_value_arr));else for(n=[],k=a._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,l),u=JSON.parse(JSON.stringify(k.data_value_arr)),p=0;q>p;p++)n.push(u[c[p]]);j.setcolumnvaluearr(n)}else for(r=s;q>r;r++)j.setcolumnvalue(r,"",null,-1,-1,-1)}else{for(p=0;q>p;p++)r=p+e,this.insertrow(r,!1),d?(a._maketemprowoperationarr(),t=JSON.parse(JSON.stringify(a.row_op_arr)),a._cleartemprowoperationarr(),null!=c?this.xf_data_row_arr[r].row_op=t[c[p]]:this.xf_data_row_arr[r].row_op=t[p]):this.xf_data_row_arr[r].row_op=f;for(i=this._getcolumncount(XFD_XDATASET_COLUMN_DATA),h=0;i>h;h++)if(j=this._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,h),l=a._getcolumn(XFD_XDATASET_COLUMN_DATA,j.xf_column_prop.column_id),-1!=l){if(null==c)k=a._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,l),n=JSON.parse(JSON.stringify(k.data_value_arr));else for(n=[],k=a._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,l),u=JSON.parse(JSON.stringify(k.data_value_arr)),p=0;q>p;p++)n.push(u[c[p]]);j.updatecolumnvaluearr(e,n)}}return g&&this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null),!0},XF_XDATASET.prototype.clone=function(a,b,c,d){return this._clone(a,b,null,c,d)},XF_XDATASET.prototype.clonerow=function(a,b,c,d){return this._clone(a,"",_xfu.array(b),c,d)},XF_XDATASET.prototype.clonecheckrow=function(a,b,c,d){return this._clone(a,"",a._getcheckedrowarr(b),c,d)},XF_XDATASET.prototype._clone=function(a,b,c,d,e){var f,g;for(void 0===e&&(e=!0),this.removeallrows(!1),this.removeallcolumns(!1),g=a._getcolumncount(XFD_XDATASET_COLUMN_DATA),f=0;g>f;f++)this._addcolumn(XFD_XDATASET_COLUMN_DATA,a.getcolumnid(f),a.getcolumndesc(f),a.getcolumnlength(f),!1,null);return this._copydata(a,b,c,d,-1,XFD_ROWOP_NONE,e),!0},XF_XDATASET.prototype.clonerownew=function(a,b,c,d){return this._clonenew(a,"",_xfu.array(b),c,d)},XF_XDATASET.prototype.clonecheckrownew=function(a,b,c,d){return this._clonenew(a,"",this._getcheckedrowarr(b),c,d)},XF_XDATASET.prototype.clonenew=function(a,b,c,d){return this._clonenew(a,b,null,c,d)},XF_XDATASET.prototype._clonenew=function(a,b,c,d,e){var f,g;return void 0===e&&(e=!0),f=null,a.length>0&&(f=this.xf_parent?this.xf_parent.xf_screen.getxdataset(a):factory.getglobalxdataset(a)),null==f&&(this.xf_parent?(f=new XF_XDATASET({xf_screen:this.xf_parent.xf_screen,xf_component:null,xf_object:null},{id:a}),f.xdataset_type=XFD_XDATASET_NORMAL):(f=new XF_XDATASET({xf_screen:null,xf_component:null,xf_object:null},{id:a}),f.xdataset_type=XFD_XDATASET_GLOBAL,g=factory.getmainscrinstance(),g.xf_screen.global_xdataset_arr.push({file_name:"",xdataset_name:a,is_load_complete:!0,is_load_success:!0,xf_xdataset:f}))),f._clone(this,b,c,d,e),f},XF_XDATASET.prototype.deleteallrows=function(a){return void 0===a&&(a=!0),this._deleteallrows(!0)},XF_XDATASET.prototype._deleteallrows=function(a,b){var c,d,e,f;for(c=this.data_row_count-1;c>=0;c--){for(e=this.xf_data_row_arr[c],e.row_op!=XFD_ROWOP_INSERT&&(e.row_op=XFD_ROWOP_DELETE,this.xf_del_row_arr.push(e),this.del_row_count++),d=0;d<this.data_column_count;d++)f=this.xf_data_column_arr[d],e.row_op==XFD_ROWOP_INSERT?f.removecolumnvalue(c):f.deletecolumnvalue(c);for(d=0;d<this.inner_column_count;d++)f=this.xf_inner_column_arr[d],f.removecolumnvalue(c)}return this.xf_data_row_arr=[],this.xf_data_row_arr.length=0,this.data_row_count=0,this.pos_index=-1,a&&this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null,b),!0},XF_XDATASET.prototype.deleterow=function(a,b){return void 0===b&&(b=!0),this._deleterow(a,!1,b)},XF_XDATASET.prototype.deleterowex=function(a,b){return this._deleterow(a,b,!1)},XF_XDATASET.prototype._refreshposbyrowdelete=function(a){a==this.pos_index?a==this.data_row_count-1&&this.pos_index--:a<this.pos_index&&this.pos_index--,this.pos_index<0&&(this.pos_index=-1)},XF_XDATASET.prototype._deleterow=function(a,b,c,d){var e,f,g;if(!this._isvalidrow(a))return!1;if(e=this.xf_data_row_arr[a],e.row_op==XFD_ROWOP_INSERT)return this._removerow(a,c,d);if(b)return void(e.row_op=XFD_ROWOP_DELETE);for(this._refreshposbyrowdelete(a),this.xf_data_row_arr.splice(a,1),this.data_row_count--,this.xdataset_type!=XFD_XDATASET_INNER&&e.row_op!=XFD_ROWOP_INSERT&&(e.row_op=XFD_ROWOP_DELETE,this.xf_del_row_arr.push(e),this.del_row_count++),f=0;f<this.data_column_count;f++)g=this.xf_data_column_arr[f],e.row_op==XFD_ROWOP_INSERT?g.removecolumnvalue(a):g.deletecolumnvalue(a);for(f=0;f<this.inner_column_count;f++)g=this.xf_inner_column_arr[f],g.removecolumnvalue(a);return c&&(b||this._fireevent(XFD_XDATASET_EVENT_ROW_DELETE,{xdataset_row_index:a},d)),!0},XF_XDATASET.prototype.fireevent=function(){this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD)},XF_XDATASET.prototype.getcolumn=function(a){return this._getcolumn(XFD_XDATASET_COLUMN_DATA,a)},XF_XDATASET.prototype._getcolumn=function(a,b){var c;if(a==XFD_XDATASET_COLUMN_DATA){for(c=0;c<this.data_column_count;c++)if(b==this.data_column_name_arr[c])return c}else if(a==XFD_XDATASET_COLUMN_INNER)for(c=0;c<this.inner_column_count;c++)if(b==this.inner_column_name_arr[c])return c;return-1},XF_XDATASET.prototype.getcolumncount=function(){return this._getcolumncount(XFD_XDATASET_COLUMN_DATA)},XF_XDATASET.prototype._getcolumncount=function(a){return a==XFD_XDATASET_COLUMN_DATA?this.data_column_count:a==XFD_XDATASET_COLUMN_INNER?this.inner_column_count:void 0},XF_XDATASET.prototype.getcolumndesc=function(a){return a=_xfu["int"](a),this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,a)?this.xf_data_column_arr[a].xf_column_prop.column_desc:""},XF_XDATASET.prototype.setcolumndesc=function(a,b){return a=_xfu["int"](a),this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,a)?(this.xf_data_column_arr[a].xf_column_prop.column_desc=b,!0):!1},XF_XDATASET.prototype.getcolumnid=function(a){return this._getcolumnid(XFD_XDATASET_COLUMN_DATA,a)},XF_XDATASET.prototype._getcolumnid=function(a,b){return b=_xfu["int"](b),this._isvalidcolumn(a,b)?a==XFD_XDATASET_COLUMN_DATA?this.xf_data_column_arr[b].xf_column_prop.column_id:a==XFD_XDATASET_COLUMN_INNER?this.xf_inner_column_arr[b].xf_column_prop.column_id:void 0:""},XF_XDATASET.prototype.getcolumnlength=function(a){return a=_xfu["int"](a),this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,a)?this.xf_data_column_arr[a].xf_column_prop.column_length:-1},XF_XDATASET.prototype.getcolumnupdatecallbackfunc=function(a){return a=_xfu["int"](a),this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,a)?this.xf_data_column_arr[a].xf_column_prop.column_callback:""},XF_XDATASET.prototype.setcolumnupdatecallbackfunc=function(a,b){return a=_xfu["int"](a),this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,a)?(this.xf_data_column_arr[a].xf_column_prop.column_callback=b,this.xf_data_column_arr[a]._callback()):!1},XF_XDATASET.prototype.getrawdata=function(a,b){return this._getrawdata(a,XFD_XDATASET_COLUMN_DATA,b)},XF_XDATASET.prototype._getrawdata=function(a,b,c){var d;return d=this._getxdatasetcolumn(b,c),d.getcolumnrawvalue(a)},XF_XDATASET.prototype.getrawdatabyname=function(a,b){var c=this._getcolumn(XFD_XDATASET_COLUMN_DATA,b);return 0>c?"":this.getrawdata(a,c)},XF_XDATASET.prototype.getdata=function(a,b,c){return this._getdata(a,XFD_XDATASET_COLUMN_DATA,b,this,-1,-1,-1,c)},XF_XDATASET.prototype.getdatabyname=function(a,b,c){return this._getdatabyname(a,XFD_XDATASET_COLUMN_DATA,b,this,-1,-1,-1,c)},XF_XDATASET.prototype._getposdata=function(a,b,c,d,e,f){return this._getdata(this.pos_index,a,b,c,d,e,f)},XF_XDATASET.prototype._getposdatabyname=function(a,b,c,d,e,f){return this._getdatabyname(this.pos_index,a,b,c,d,e,f)},XF_XDATASET.prototype._getdatabyname=function(a,b,c,d,e,f,g,h){var i=this._getcolumn(b,c);return 0>i?"":this._getdata(a,b,i,d,e,f,g,h)},XF_XDATASET.prototype._getdata=function(a,b,c,d,e,f,g,h){var i;return i=this._getxdatasetcolumn(b,c),void 0===h||0==h?i.getcolumnvalue(a,d,e,f,g):i.getcolumnrawvalue(a,d,e,f,g)},XF_XDATASET.prototype.getdeldata=function(a,b){return this._getdeldata(a,XFD_XDATASET_COLUMN_DATA,b)},XF_XDATASET.prototype._getdeldata=function(a,b,c){var d;return d=this._getxdatasetcolumn(b,c),d.getcolumndelvalue(a)},XF_XDATASET.prototype.getdeleteddata=function(){var a,b,c,d,e;for(c=[],a=0;a<this.del_row_count;a++){for(d=[],b=0;b<this.getcolumncount();b++)e=this._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,b),d.push(e.getcolumndelvalue(a));c.push(d)}return c},XF_XDATASET.prototype.getdeletedrowcount=function(a){var b,c;if(void 0===a&&(a=!1),!a)return this.del_row_count;for(c=0,b=0;b<this.data_row_count;b++)this.xf_data_row_arr[b].row_op==XFD_ROWOP_DELETE&&c++;return this.del_row_count+c},XF_XDATASET.prototype.getdescription=function(){return this.xf_prop.desc},XF_XDATASET.prototype.setdescription=function(a){this.xf_prop.desc=a},XF_XDATASET.prototype.getid=function(){return this.xf_prop.id},XF_XDATASET.prototype.getlinkojbects=function(){return this.getlinkobjects()},XF_XDATASET.prototype.getlinkobjects=function(a){var b,c,d,e,f;for(void 0===a&&(a=0),e=[],c=this.linked_object_arr.length,b=0;c>b;b++)d=this.linked_object_arr[b],f=!0,void 0===d.getcontrolkind&&(f=!1),f?0!=a&&2!=a||e.push(d):1!=a&&2!=a||e.push(d.xf_component);return e},XF_XDATASET.prototype.getmodifyrowcount=function(){var a,b;for(b=0,a=0;a<this.data_row_count;a++)this.xf_data_row_arr[a].row_op!=XFD_ROWOP_NONE&&b++;return b},XF_XDATASET.prototype.getobjectkind=function(){return XFD_OBJKIND_XDATASET},XF_XDATASET.prototype.getpos=function(){return this.pos_index},XF_XDATASET.prototype.getprevdata=function(a,b){var c;return a=_xfu["int"](a),this._isvalidrow(a)?(b=_xfu["int"](b),this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,b)?(c=this._getxdatasetcolumn(XFD_XDATASET_COLUMN_DATA,b),c.getcolumnprevvalue(a)):""):""},XF_XDATASET.prototype.getprevdatabyname=function(a,b){return this.getprevdata(a,this._getcolumn(XFD_XDATASET_COLUMN_DATA,b))},XF_XDATASET.prototype.getrowcount=function(){return this.data_row_count},XF_XDATASET.prototype._maketemprowoperationarr=function(){var a,b;for(this.row_op_arr=[],b=this.getrowcount(),a=0;b>a;a++)this.row_op_arr.push(this.xf_data_row_arr[a].row_op)},XF_XDATASET.prototype._cleartemprowoperationarr=function(){this.row_op_arr=null},XF_XDATASET.prototype.getrowoperation=function(a){return this._isvalidrow(a)?this.xf_data_row_arr[a].row_op:XFD_ROWOP_ERROR},XF_XDATASET.prototype.setrowoperation=function(a,b){return a=_xfu["int"](a),this._isvalidrow(a)?" "!=b&&"I"!=b&&"U"!=b&&"D"!=b?XFD_ROWOP_ERROR:this._setrowoperation(a,b):XFD_ROWOP_ERROR},XF_XDATASET.prototype.init=function(a){return void 0===a&&(a=!0),this._initxdataset(!0,a)},XF_XDATASET.prototype._initxdataset=function(a,b,c){var d,e;for(this.pos_index=-1,this.data_row_count=0,this.xf_data_row_arr=[],this.del_row_count=0,this.xf_del_row_arr=[],d=0;d<this.data_column_count;d++)e=this.xf_data_column_arr[d],e.setcolumnvaluearr([]);if(a)for(d=0;d<this.inner_column_count;d++)e=this.xf_inner_column_arr[d],e.setcolumnvaluearr([]);return b&&this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null,c),!0},XF_XDATASET.prototype.initallrowoperation=function(){var a,b;for(a=0;a<this.data_column_count;a++)b=this.xf_data_column_arr[a],b.resetcolumnvaluearr(!1);for(a=0;a<this.inner_column_count;a++)b=this.xf_inner_column_arr[a],b.resetcolumnvaluearr(!1);return this.xf_del_row_arr=[],this.del_row_count=0,this._setallrowoperation(XFD_ROWOP_NONE),!0},XF_XDATASET.prototype.insertrow=function(a,b){return void 0===b&&(b=!0),this._insertrow(a,XFD_XDATASET_COLUMN_DATA,-1,"",b)},XF_XDATASET.prototype._insertrow=function(a,b,c,d,e,f){var g,h,i;if(0>a||a>this.data_row_count)return!1;for(g=this._createxdatasetrow(a,XFD_ROWOP_INSERT),this.xf_data_row_arr.splice(a,0,g),this.data_row_count++,0==a&&(this.pos_index=0),i=0;i<this.data_column_count;i++)h=this.xf_data_column_arr[i],h.insertcolumnvalue(a);for(i=0;i<this.inner_column_count;i++)h=this.xf_inner_column_arr[i],h.insertcolumnvalue(a);return c>=0&&(h=this._getxdatasetcolumn(b,c),void 0===d&&(d=""),h.setcolumnvalue(a,d.toString(10))),e&&this._fireevent(XFD_XDATASET_EVENT_ROW_INSERT,{xdataset_row_index:a},f),!0},XF_XDATASET.prototype.moverow=function(a,b,c){return this._moverow(a,b,c,null)},XF_XDATASET.prototype._moverow=function(a,b,c,d){var e,f,g,h,i,j,k,l,f;if(void 0===c&&(c=!0),void 0===d&&(d=null),a=_xfu["int"](a),b=_xfu["int"](b),!this._isvalidrow(a))return!1;if(!this._isvalidrow(b))return!1;if(a==b)return!1;for(g=this.xf_data_row_arr[a],e=g.row_op,f=g.is_checked_row,h=[],k=this._getcolumncount(XFD_XDATASET_COLUMN_DATA),j=0;k>j;j++)h.push(this._getdata(a,XFD_XDATASET_COLUMN_DATA,j,null,-1,-1,-1));for(i=[],l=this._getcolumncount(XFD_XDATASET_COLUMN_INNER),j=0;l>j;j++)i.push(this._getdata(a,XFD_XDATASET_COLUMN_INNER,j,null,-1,-1,-1));for(f=this.ischeckedrow(a),b>a&&this.removerow(a,!1),this.insertrow(b,!1),f&&this._setcheckedrow(b,f,!1,null),j=0;k>j;j++)this._setdata(b,XFD_XDATASET_COLUMN_DATA,j,h[j],!1,null,null,-1,-1,-1);for(j=0;l>j;j++)this._setdata(b,XFD_XDATASET_COLUMN_INNER,j,i[j],!1,null,null,-1,-1,-1);return g=this.xf_data_row_arr[b],g.row_op=e,e.is_checked_row=f,a>b&&this.removerow(a+1,!1),c&&this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null,d),!0},XF_XDATASET.prototype.ischeckedrow=function(a){return a=_xfu["int"](a),this._isvalidrow(a)?this._ischeckedrow(a):!1},XF_XDATASET.prototype.isglobalxdataset=function(){return this.xdataset_type==XFD_XDATASET_GLOBAL},XF_XDATASET.prototype.moveat=function(a){return this._moveat(a,!0)},XF_XDATASET.prototype._moveat=function(a,b,c){return a=_xfu["int"](a),this._isvalidrow(a)?(this.pos_index=a,b&&this._fireevent(XFD_XDATASET_EVENT_DATA_POSITION,null,c),!0):!1},XF_XDATASET.prototype.movefirst=function(){return this._movefirst(!0)},XF_XDATASET.prototype._movefirst=function(a,b){return this._moveat(0,!0,b)},XF_XDATASET.prototype.movelast=function(){return this._movelast(!0)},XF_XDATASET.prototype._movelast=function(a,b){return this._moveat(this.data_row_count-1,a,b)},XF_XDATASET.prototype.movenext=function(){return this._movenext(!0)},XF_XDATASET.prototype._movenext=function(a,b){return this._moveat(this.pos_index+1,a,b)},XF_XDATASET.prototype.moveprev=function(){return this._moveprev(!0)},XF_XDATASET.prototype._moveprev=function(a,b){return this.moveat(this.pos_index-1,a,b)},XF_XDATASET.prototype.multisort=function(a,b){var c,d,e,f,g,h,i;for(void 0===b&&(b=!0),i=[],c=a.split(","),d=c.length,e=0;d>e;e++){if(h=c[e].split(":"),2!=h.length)return!1;if(g=_xfu["int"](h[0]),isNaN(g))return;if(!this._isvalidcolumn(XFD_XDATASET_COLUMN_DATA,g))return!1;if("ASC"==h[1])f=XFD_GRID_SORT_ASC;else{if("DESC"!=h[1])return!1;f=XFD_GRID_SORT_DES}i.push({sort_order:f,data_type:XFD_GRID_DATA_HANGUL,xdataset_column_index:g,xdataset_column_type:XFD_XDATASET_COLUMN_DATA})}return this._multisort(i,null),b&&this._fireevent(XFD_XDATASET_EVENT_DATA_SORT,null,null),!0},XF_XDATASET.prototype.registerevent=function(a,b){return-1==$.inArray(a,this.event_name_arr)?!1:(this.xf_prop[a]=_xfx.funcname(b),!0)},XF_XDATASET.prototype.removeallcolumn=function(a){return void 0===a&&(a=!0),this._removeallcolumn(XFD_XDATASET_COLUMN_DATA,a)},XF_XDATASET.prototype._removeallcolumn=function(a,b,c){return a==XFD_XDATASET_COLUMN_DATA?(this.xf_data_column_arr=[],this.data_column_name_arr=[],this.data_column_count=0):a==XFD_XDATASET_COLUMN_INNER&&(this.xf_inner_column_arr=[],this.inner_column_name_arr=[],this.inner_column_count=0),this._removeallrows(!1),b&&this._fireevent(XFD_XDATASET_EVENT_COLUMN_EMPTY,null,c),!0},XF_XDATASET.prototype.removeallcolumns=function(a){return this._removeallcolumns(XFD_XDATASET_COLUMN_DATA)},XF_XDATASET.prototype._removeallcolumns=function(a,b){var c,d;for(d=this.getcolumncount(a),c=d-1;c>=0;c--)this.removecolumn(c,!1)},XF_XDATASET.prototype.removecolumn=function(a,b){return void 0===b&&(b=!0),this._removecolumn(XFD_XDATASET_COLUMN_DATA,a,b)},XF_XDATASET.prototype.removecolumnbyname=function(a,b){return void 0===b&&(b=!0),this._removecolumnbyname(XFD_XDATASET_COLUMN_DATA,a,b);
},XF_XDATASET.prototype._removecolumnbyname=function(a,b,c,d){var e=this._getcolumn(a,b);return this._removecolumn(a,e,c,d)},XF_XDATASET.prototype._removecolumn=function(a,b,c,d){var e;return this._isvalidcolumn(a,b)?(e=this._getxdatasetcolumn(a,b),a==XFD_XDATASET_COLUMN_DATA?(this.xf_data_column_arr.splice(b,1),this.data_column_name_arr.splice(b,1),this.data_column_count--):a==XFD_XDATASET_COLUMN_INNER&&(this.xf_inner_column_arr.splice(b,1),this.inner_column_name_arr.splice(b,1),this.inner_column_count--),this._resetcolumnindex(a),this.data_column_count+this.inner_column_count==0&&this._removeallrows(!1),c&&this._fireevent(XFD_XDATASET_EVENT_COLUMN_DELETE,{xdataset_column_type:a,xdataset_column_id:e.xf_column_prop.column_id,xdataset_column_index:b},d),!0):!1},XF_XDATASET.prototype.removeallrows=function(a){return void 0===a&&(a=!0),this._removeallrows(a)},XF_XDATASET.prototype._removeallrows=function(a,b){return this._initxdataset(!1,!1),a&&this._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null,b),!0},XF_XDATASET.prototype.removerow=function(a,b){return void 0===b&&(b=!0),this._removerow(a,b)},XF_XDATASET.prototype._removerow=function(a,b,c){var d,e;if(a=_xfu["int"](a),!this._isvalidrow(a))return!1;for(this._refreshposbyrowdelete(a),this.xf_data_row_arr.splice(a,1),this.data_row_count--,d=0;d<this.data_column_count;d++)e=this.xf_data_column_arr[d],e.removecolumnvalue(a);for(d=0;d<this.inner_column_count;d++)e=this.xf_inner_column_arr[d],e.removecolumnvalue(a);return b&&this._fireevent(XFD_XDATASET_EVENT_ROW_DELETE,{xdataset_row_index:a},c),!0},XF_XDATASET.prototype.setdata=function(a,b,c,d){return void 0===d&&(d=!0),this._setdata(a,XFD_XDATASET_COLUMN_DATA,b,c,d,null,this,-1,-1,-1)},XF_XDATASET.prototype.setposdata=function(a,b,c){return void 0===c&&(c=!0),this._setdata(this.pos_index,XFD_XDATASET_COLUMN_DATA,a,b,c,null,this,-1,-1,-1)},XF_XDATASET.prototype.setdatabyname=function(a,b,c,d){return void 0===d&&(d=!0),this._setdatabyname(a,XFD_XDATASET_COLUMN_DATA,b,c,d,null,this,-1,-1,-1)},XF_XDATASET.prototype.setposdatabyname=function(a,b,c){return void 0===c&&(c=!0),this._setposdatabyname(XFD_XDATASET_COLUMN_DATA,a,b,c,null,this,-1,-1,-1)},XF_XDATASET.prototype._setposdatabyname=function(a,b,c,d,e,f,g,h,i){return-1==this.pos_index&&(this.pos_index=0,this._insertrow(0,a,-1,"",d,e)),this._setdatabyname(this.pos_index,a,b,c,d,e,f,g,h,i)},XF_XDATASET.prototype._setdatabyname=function(a,b,c,d,e,f,g,h,i,j){var k=this._getcolumn(b,c);return 0>k?!1:this._setdata(a,b,k,d,e,f,g,h,i,j)},XF_XDATASET.prototype._setdata=function(a,b,c,d,e,f,g,h,i,j){var k,l,m;return this._isvalidrowcolumn(a,b,c)?(k=this._getxdatasetcolumn(b,c),null==k?!1:(d=void 0===d?"":d.toString(10),l=k.getcolumnvalue(a),l==d?!0:(m=k.setcolumnvalue(a,d,g,h,i,j),b!=XFD_XDATASET_COLUMN_DATA&&0!=this.data_column_count||(this.xf_data_row_arr[a].row_op==XFD_ROWOP_NONE?1==m&&(this.xf_data_row_arr[a].row_op=XFD_ROWOP_UPDATE):this.xf_data_row_arr[a].row_op==XFD_ROWOP_UPDATE&&0==m&&(m=this._isrowvalueupdated(a),0==m&&(this.xf_data_row_arr[a].row_op=XFD_ROWOP_NONE))),e&&this._fireevent(XFD_XDATASET_EVENT_DATA_UPDATE,{xdataset_row_index:a,xdataset_column_type:b,xdataset_column_index:c,xdataset_column_id:k.xf_column_prop.column_id,xdataset_prev_value:l},f),b==XFD_XDATASET_COLUMN_DATA&&factory._fireevent({xf_component:this,event_name:"on_change"},this,a,c,l),!0))):!1},XF_XDATASET.prototype._isrowvalueupdated=function(a){var b,c;for(b=0;b<this.data_column_count;b++)if(c=this.xf_data_column_arr[b].iscolumnvalueupdated(a))return!0;for(b=0;b<this.inner_column_count;b++)if(c=this.xf_inner_column_arr[b].iscolumnvalueupdated(a))return!0;return!1},XF_XDATASET.prototype._isdeletedrow=function(a){return void 0==this.xf_data_row_arr[a]?!1:this.xf_data_row_arr[a].row_op==XFD_ROWOP_DELETE},XF_XDATASET.prototype._ischeckedrow=function(a){return void 0==this.xf_data_row_arr[a]?!1:this.xf_data_row_arr[a].is_checked_row},XF_XDATASET.prototype._setcheckedrow=function(a,b,c,d){return void 0==this.xf_data_row_arr[a]?!1:(this.xf_data_row_arr[a].is_checked_row=b,c&&this._fireevent(XFD_XDATASET_EVENT_ROW_CHECK,{xdataset_row_index:a},d),!0)},XF_XDATASET.prototype._getcheckedrowcount=function(){var a,b,c;for(c=0,b=this.getrowcount(),a=0;b>a;a++)1==this.xf_data_row_arr[a].is_checked_row&&c++;return c},XF_XDATASET.prototype._getcheckedrowarr=function(a){var b,c,d;if(d=[],c=this.getrowcount(),a)for(b=0;c>b;b++)this.ischeckedrow(b)&&d.push(b);else for(b=0;c>b;b++)this.ischeckedrow(b)||d.push(b);return d},XF_XDATASET_COLUMN.prototype._init=function(a){this.xf_xdataset=a,this.prev_value_arr=[],this.del_value_arr=[],this.data_value_arr=[],this.init_value_count=0,this.callback_info={global_module_name:"",global_func_name:"",callback_func:null,is_defined:!1}},XF_XDATASET_COLUMN.prototype._prop=function(a){this.xf_column_prop={column_id:"",column_desc:"",column_length:-1,column_callback:"",column_init_value:"",column_index:0,column_type:XFD_XDATASET_COLUMN_DATA},$.extend(this.xf_column_prop,a),this.xf_column_prop.column_length=_xfu["int"](this.xf_column_prop.column_length),this.xf_column_prop.column_index=_xfu["int"](this.xf_column_prop.column_index),this._callback()},XF_XDATASET_COLUMN.prototype._callback=function(){var a;return this.callback_info.global_module_name="",this.callback_info.global_func_name="",this.callback_info.callback_func=null,this.callback_info.is_defined=!1,0!=this.xf_column_prop.column_callback.length&&(a=this.xf_column_prop.column_callback.split("."),2==a.length)?(this.callback_info.is_defined=!0,this.callback_info.global_module_name=a[0],this.callback_info.global_func_name=a[1],this.callback_info.callback_func=this._getcallbackfunc(),!0):void 0},XF_XDATASET_COLUMN.prototype._getcallbackfunc=function(){return"screen"===this.callback_info.global_module_name?_xfu.isfunction(window[this.callback_info.global_func_name])?window[this.callback_info.global_func_name]:null:void 0===window[this.callback_info.global_module_name]?null:_xfu.isfunction(window[this.callback_info.global_module_name][this.callback_info.global_func_name])?window[this.callback_info.global_module_name][this.callback_info.global_func_name]:null},XF_XDATASET_COLUMN.prototype._data=function(){0!=this.xf_column_prop.column_init_value.length&&(this.data_value_arr=this.xf_column_prop.column_init_value.split("\n"),""==this.data_value_arr[this.data_value_arr.length-1]&&this.data_value_arr.splice(this.data_value_arr.length-1,1),this.init_value_count=this.data_value_arr.length)},XF_XDATASET_COLUMN.prototype.getcolumninitvaluecount=function(){return this.init_value_count},XF_XDATASET_COLUMN.prototype.setcolumnvalue=function(a,b,c,d,e,f){return void 0===b&&(b=""),b=this._callcolumncallback(a,b,!0,c,d,e,f),void 0===this.prev_value_arr[a]&&void 0!==this.data_value_arr[a]&&(this.prev_value_arr[a]=this.data_value_arr[a]),this.data_value_arr[a]=b,this.prev_value_arr[a]!==b},XF_XDATASET_COLUMN.prototype.iscolumnvalueupdated=function(a){return void 0===this.prev_value_arr[a]?!1:this.data_value_arr[a]!==this.prev_value_arr[a]},XF_XDATASET_COLUMN.prototype._callcolumncallback=function(a,b,c,d,e,f,g){var h,i,j;return this.xf_column_prop.column_type!==XFD_XDATASET_COLUMN_DATA?b:this.callback_info.is_defined?null==this.callback_info.callback_func&&(this.callback_info.callback_func=this._getcallbackfunc(),null==this.callback_info.callback_func)?b:(h=new xclass.classXdatasetUpdateObjInfo,void 0===e&&(e=-1),void 0===f&&(f=-1),void 0===g&&(g=-1),j=null,void 0===d||null===d?(d=null,j=null):d.xf_parent&&d.xf_parent.xf_screen&&(j=d.xf_parent.xf_screen),h.bxdatasettoobj=!c,h.strupdatedata=b,h.instxdataset=this.xf_xdataset,h.nxdatasetrow=a,h.nxdatasetcolumn=this.xf_column_prop.column_index,h.instscreen=j,h.instobject=d,h.nrow=e,h.nsubrow=f,h.ncolumn=g,i=this.callback_info.callback_func(h),i=void 0===i?b:_xfu.str(i)):b},XF_XDATASET_COLUMN.prototype.getcolumnrawvalue=function(a){return this.data_value_arr[a]||""},XF_XDATASET_COLUMN.prototype.getcolumnvalue=function(a,b,c,d,e){var f;return f=this.getcolumnrawvalue(a),arguments.length>1&&(f=this._callcolumncallback(a,f,!1,b,c,d,e)),f},XF_XDATASET_COLUMN.prototype.getcolumnprevvalue=function(a){return this.prev_value_arr[a]||""},XF_XDATASET_COLUMN.prototype.getcolumndelvalue=function(a){return this.del_value_arr[a]||""},XF_XDATASET_COLUMN.prototype.cancelcolumnvalue=function(a){void 0!==this.prev_value_arr[a]&&(this.data_value_arr[a]=this.prev_value_arr[a],this.prev_value_arr[a]=void 0)},XF_XDATASET_COLUMN.prototype.insertcolumnvalue=function(a){this.prev_value_arr.splice(a,0,""),this.data_value_arr.splice(a,0,"")},XF_XDATASET_COLUMN.prototype.removecolumnvalue=function(a){this.prev_value_arr.splice(a,1),this.data_value_arr.splice(a,1)},XF_XDATASET_COLUMN.prototype.deletecolumnvalue=function(a){this.del_value_arr.push(this.data_value_arr[a]),this.removecolumnvalue(a)},XF_XDATASET_COLUMN.prototype.updatecolumnvalue=function(a,b){this.data_value_arr[a]=b},XF_XDATASET_COLUMN.prototype.getcolumnvaluearr=function(){return this.data_value_arr},XF_XDATASET_COLUMN.prototype.setcolumnvaluearr=function(a){this.del_value_arr=[],this.prev_value_arr=[],this.data_value_arr=a},XF_XDATASET_COLUMN.prototype.resetcolumnvaluearr=function(a){this.del_value_arr=[],this.prev_value_arr=[],a&&(this.data_value_arr=[])},XF_XDATASET_COLUMN.prototype.addcolumnvalue=function(a){var b=this.xf_xdataset.getrowcount();b>0&&this.data_value_arr.length<b&&(this.data_value_arr[b-1]=""),this.data_value_arr.push(a)},XF_XDATASET_COLUMN.prototype.addcolumnvaluearr=function(a){var b=this.xf_xdataset.getrowcount();b>0&&this.data_value_arr.length<b&&(this.data_value_arr[b-1]=""),$.merge(this.data_value_arr,a)},XF_XDATASET_COLUMN.prototype.updatecolumnvaluearr=function(a,b){var c,d;for(c=b.length,d=0;c>d;d++)this.data_value_arr[d+a]=b[d]},XF_XDATASET_COLUMN.prototype.getcolumninfo=function(){return{id:this.xf_column_prop.column_id,desc:this.xf_column_prop.column_desc,length:this.xf_column_prop.column_length}},XF_XDATASET_COLUMN.prototype.sortcolumnvaluearr=function(a,b){var c,d;for(d=[],c=0;a>c;c++)d[c]=this.data_value_arr[b[c].row_index];for(this.data_value_arr=d,d=[],c=0;a>c;c++)d[c]=this.prev_value_arr[b[c].row_index];this.prev_value_arr=d},XF_XDATASET_COLUMN.prototype.sortrangecolumnvaluearr=function(a,b){var c,d,e;for(e=a.end_row_index-a.start_row_index+1,d=[],c=0;e>c;c++)d[c]=this.data_value_arr[b[c].row_index];for(c=a.start_row_index;c<=a.end_row_index;c++)this.data_value_arr[c]=d[c-a.start_row_index];for(d=[],c=0;e>c;c++)d[c]=this.prev_value_arr[b[c].row_index];for(c=a.start_row_index;c<=a.end_row_index;c++)this.prev_value_arr[c]=d[c-a.start_row_index]},XF_XDATASET.prototype._sortbyname=function(a,b,c,d){var e=this._getcolumn(a,b);return 0>e?!1:this._sort(a,e,c,d)},XF_XDATASET.prototype._sort=function(a,b,c,d){return this._multisort([{data_type:c,sort_order:d,xdataset_column_type:a,xdataset_column_index:b}],null)},XF_XDATASET.prototype._createxdatasetsortinfo=function(a,b,c){var d,e,f,g,h,i;for(i={xf_grid:null,sort_func_arr:[],grid_sub_row_index_arr:[],grid_column_index_arr:[],sort_order_arr:[],data_type_arr:[],range_info:b,is_range_sort:c,row_value_info_arr:[]},f=[],d=a.length,e=0;d>e;e++)i.xf_grid=a[e].xf_grid,i.sort_func_arr.push(a[e].sort_func),i.grid_sub_row_index_arr.push(a[e].sub_row_index),i.grid_column_index_arr.push(a[e].column_index),i.data_type_arr.push(a[e].data_type),i.sort_order_arr.push(a[e].sort_order),f.push(this._getxdatasetcolumn(a[e].xdataset_column_type,a[e].xdataset_column_index));for(g=b.start_row_index;g<=b.end_row_index;g++){for(h=[],e=0;d>e;e++)h.push(f[e].data_value_arr[g]);i.row_value_info_arr.push({row_index:g,row_value_arr:h})}return i},XF_XDATASET.prototype._getsortinfo=function(){return this.xdataset_sort_info},XF_XDATASET.prototype._getrangesortinfo=function(){return this.xdataset_rangesort_info},XF_XDATASET.prototype._multisort=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(g=this.getrowcount(),q=!0,void 0!==b&&null!==b||(q=!1,b={start_row_index:0,end_row_index:g-1}),r=b.end_row_index-b.start_row_index+1,c=this._createxdatasetsortinfo(a,b,q),d=a.length,k=this,void 0!==c.xf_grid&&null!==c.xf_grid?c.row_value_info_arr.sort(function(a,b){for(e=0;d>e;e++)if(f=k._comparesortbygrid(c.xf_grid,c.grid_sub_row_index_arr[e],c.grid_column_index_arr[e],c.sort_func_arr[e],c.sort_order_arr[e],c.data_type_arr[e],a.row_value_arr[e],b.row_value_arr[e]),0!=f)return f;return 0}):c.row_value_info_arr.sort(function(a,b){for(e=0;d>e;e++)if(f=k._comparesort(c.sort_order_arr[e],c.data_type_arr[e],a.row_value_arr[e],b.row_value_arr[e]),0!=f)return f;return 0}),m=[XFD_XDATASET_COLUMN_DATA,XFD_XDATASET_COLUMN_INNER],n=m.length,h=0;n>h;h++)for(o=this._getcolumncount(m[h]),i=0;o>i;i++)l=this._getxdatasetcolumn(m[h],i),1==q?l.sortrangecolumnvaluearr(b,c.row_value_info_arr):l.sortcolumnvaluearr(g,c.row_value_info_arr);if(p=this.pos_index,1==q){for(j=[],h=0;r>h;h++)s=this.xf_data_row_arr[c.row_value_info_arr[h].row_index],s.row_index=h+b.start_row_index,s.row_key=h+b.start_row_index,j[h]=s,this.pos_index==c.row_value_info_arr[h].row_index&&(p=h+b.start_row_index);for(h=0;r>h;h++)this.xf_data_row_arr[h+b.start_row_index]=j[h]}else{for(j=[],h=0;g>h;h++)j[h]=this.xf_data_row_arr[c.row_value_info_arr[h].row_index],j[h].row_index=h,j[h].row_key=h,this.pos_index==c.row_value_info_arr[h].row_index&&(p=h);this.xf_data_row_arr=j}this.pos_index=p,1==q?this.xdataset_rangesort_info=c:this.xdataset_sort_info=c},XF_XDATASET.prototype._comparesortbygrid=function(a,b,c,d,e,f,g,h){return _xfu.isfunction(window[d])?a._ismultilinegrid()?window[d](a,b,c,e,f,g,h):window[d](a,c,e,f,g,h):this._comparesort(e,f,g,h)},XF_XDATASET.prototype._comparesort=function(a,b,c,d){return b==XFD_GRID_DATA_NUMERIC?(c=parseFloat(c),d=parseFloat(d),isNaN(c)&&(c=0),isNaN(d)&&(d=0),a==XFD_GRID_SORT_ASC?c-d:a==XFD_GRID_SORT_DES?d-c:0):c==d?0:a==XFD_GRID_SORT_ASC?c>d?1:-1:a==XFD_GRID_SORT_DES?c>d?-1:1:0},XF_XDATASET.prototype._getcopysrcrowindexarr=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(j=a.length,e=[],f=[],g=0;j>g;g++)1==a[g].compare_and?e.push(a[g]):f.push(a[g]);for(h=e.length,i=f.length,d=[],b=this.getrowcount(),c=0;b>c;c++){if(h>0){for(g=0;h>g&&(k=e[g],l=_xfx.ismatchtofilter(k.filter_type,k.compare_type,k.regexp,k.compare_value,XFD_DATA_HANGUL,this._getdata(c,XFD_XDATASET_COLUMN_DATA,k.column_index)),0!=l);g++);if(g!=h)continue}if(i>0){for(g=0;i>g&&(k=f[g],l=_xfx.ismatchtofilter(k.filter_type,k.compare_type,k.regexp,k.compare_value,XFD_DATA_HANGUL,this._getdata(c,XFD_XDATASET_COLUMN_DATA,k.column_index)),1!=l);g++);if(g==i)continue}d.push(c)}return d},XF_XDATASET.prototype._createcopyfilterinfoarr=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(b=a.split(","),c=b.length,k=[],d=0;c>d;d++)e=b[d].split(":"),f=e[0],f=f.substr(1,f.length-2),g=this._getcolumn(XFD_XDATASET_COLUMN_DATA,f),h=e[1],i=e[2],j=e[3],i.length>0&&(i=i.substr(1,i.length-2)),j="&"==j,"="==h&&(l=_xfx.regexp(i)),k.push({column_index:g,filter_type:XFD_FILTER_TEXT,compare_type:h,compare_value:i,compare_and:j,regexp:l});return k},XF_XDATASET.prototype._getmidstatrangeinfo=function(a){var b,c,d,e,f,g,h,i,j;if(j=[],d=this.getrowcount(),1>d)return j;if(f=a.length,1>f)return j;for(h=[],b=0;f>b;b++)h.push(a[b].getcolumnvalue(0));for(i={start_row_index:0,end_row_index:0},e=1;d>e;e++)for(b=0;f>b;b++)if(g=a[b].getcolumnvalue(e),g!=h[b]){for(c=0;f>c;c++)h[c]=a[c].getcolumnvalue(e);i.end_row_index=e-1,j.push(i),i={start_row_index:e,end_row_index:0};break}return i.end_row_index=d-1,j.push(i),j},XF_XDATASET.prototype._columnunique=function(a,b,c,d){var e,f;return e=this.getrowcount(),0==e?column_value_arr:(void 0==c&&(c=0),void 0!=d&&-1!=d||(d=e-1),f=this._getxdatasetcolumn(a,b),null==f?column_value_arr:_xfu.unique(f.data_value_arr,c,d))},XF_XDATASET.prototype._columnstat=function(a,b,c,d,e){var f,g;return f=this.getrowcount(),0==f?"":(void 0==d&&(d=0),void 0==e&&(e=f-1),g=this._getxdatasetcolumn(b,c),_xfu.stats(a,g.data_value_arr,d,e))},XF_XDATASET.prototype._blankvaluecount=function(a,b,c,d){var e,f,g,h;if(h=0,f=this.getrowcount(),0==f)return h;for(void 0==c&&(c=0),void 0==d&&(d=f-1),g=this._getxdatasetcolumn(a,b),e=c;d>=e;e++)void 0!==g.data_value_arr[e]&&0!=g.data_value_arr[e].length||h++;return h};