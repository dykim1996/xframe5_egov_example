/* 2020-10-30 18:04 */ function XF_DIAMOND(a,b){this._init(a,b),_xfx.islistviewtemplate(this,b)||(this._prop(b),this._box())}XF_DIAMOND.prototype._init=function(a,b){var c,d;c=XFD_OBJKIND_SHAPE,d=XFD_SHAPEKIND_DIAMOND,void 0!==b.shape_kind&&(d=b.shape_kind),_xfx.init(this,a,c,d,b),this.css_text_arr=[],this.css_shape_kind=""},XF_DIAMOND.prototype._prop=function(a){this.xf_prop={style:"",font:["굴림체",9,0,0,0,0],fore_color:[0,0,0],back_color:[255,255,255],border:1,border_width:0,border_color:[180,180,180],transparent:!0,horz_align:1,vert_align:1,text_margin:[0,0,0,0],line_gap:0,text:"",enable:!0,hidden:!1,click_setfocus:!1,dragable:!1,reverse:!1},this.event_name_arr=["on_begindrag","on_enddrag","on_click"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),this.xf_prop.border_width=this.xf_prop.border_width+1,this.shape_kind===XFD_SHAPEKIND_DIAMOND?this.css_shape_kind="_xf_diamond":this.shape_kind===XFD_SHAPEKIND_TRIANGLE&&(this.css_shape_kind="_xf_triangle"),this._css(a),this._css_text(a)},XF_DIAMOND.prototype._css=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_arr,["position","hidden","transparent","fore_color","font"]),_xfx.propflexalign(this,a,this.css_arr))},XF_DIAMOND.prototype._css_text=function(a){_xf_htmlready_mode||_xfx.propcss(this,a,this.css_text_arr,["text_margin","line_gap"])},XF_DIAMOND.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,this.css_shape_kind)+'"'),1==this.xf_prop.dragable&&a.push(' draggable="true"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),a.push('">'),a.push("<canvas"),a.push(" class=_xf_shape_canvas"),a.push(' style="'),a.push('">'),a.push("</canvas>"),a.push("<span"),a.push(' class="_xf_shape_text _xfd_padding'),a.push('"'),a.push(' style="'),a.push(this.css_text_arr.join("")),a.push('">'),a.push(this.xf_prop.text),a.push("</span>"),a.push("</div>")),_xfx.register(this,!1,a)},XF_DIAMOND.prototype._dom=function(){this.xf_shape_canvas=this.xf_object.children("._xf_shape_canvas"),this.xf_text=this.xf_object.children("._xf_shape_text"),this._size(this.xf_prop.width,this.xf_prop.height),this.shape_kind===XFD_SHAPEKIND_DIAMOND?this._draw_diamond(this.xf_prop.transparent):this.shape_kind===XFD_SHAPEKIND_TRIANGLE&&this._draw_triangle(this.xf_prop.transparent)},XF_DIAMOND.prototype._offevent=function(){_xfj.offevent(this.xf_object,["mousedown","click","dragstart","dragend"])},XF_DIAMOND.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_object_click,this)),this.xf_object.on("dragstart",$.proxy(this.on_object_dragstart,this)),this.xf_object.on("dragend",$.proxy(this.on_object_dragend,this))},XF_DIAMOND.prototype._create=function(){this._dom(),this._event()},XF_DIAMOND.prototype._draw_diamond=function(a){var b,c,d,e;b=this.xf_prop.border_width/2,c=this.getwidth(),d=this.getheight(),c-=this.xf_prop.border_width,d-=this.xf_prop.border_width,this.xf_prop.transparent=a,e=this.xf_shape_canvas.get(0).getContext("2d"),e.beginPath(),e.moveTo(b,d/2+b),e.lineTo(c/2+b,b),e.lineTo(c+b,d/2+b),e.lineTo(c/2+b,d+b),e.closePath(),e.strokeStyle=_xfu.rgbfunc(this.xf_prop.border_color),e.lineWidth=this.xf_prop.border_width,0==a&&(e.fillStyle=_xfu.rgbfunc(this.xf_prop.back_color),e.fill()),e.stroke()},XF_DIAMOND.prototype._draw_triangle=function(a){var b,c,d,e;b=this.xf_prop.border_width/2,c=this.getwidth(),d=this.getheight(),c-=this.xf_prop.border_width,d-=this.xf_prop.border_width,this.xf_prop.transparent=a,e=this.xf_shape_canvas.get(0).getContext("2d"),e.beginPath(),0==this.xf_prop.reverse?(e.moveTo(b,d+b),e.lineTo(c/2+b,b),e.lineTo(c+b,d+b)):(e.moveTo(b,b),e.lineTo(c/2+b,d+b),e.lineTo(c+b,b)),e.closePath(),e.strokeStyle=_xfu.rgbfunc(this.xf_prop.border_color),e.lineWidth=this.xf_prop.border_width,0==a&&(e.fillStyle=_xfu.rgbfunc(this.xf_prop.back_color),e.fill()),e.stroke()},XF_DIAMOND.prototype.on_parent_resize=function(a,b){var c;0==this.xf_prop.width_unit&&0==this.xf_prop.height_unit&&0==this.xf_prop.resize_dir||(c=_xfx.resizesize(this),c.width<0&&(c.width=0),c.height<0&&(c.height=0),this._size(c.width,c.height),this.shape_kind===XFD_SHAPEKIND_DIAMOND?this._draw_diamond(this.xf_prop.transparent):this.shape_kind===XFD_SHAPEKIND_TRIANGLE&&this._draw_triangle(this.xf_prop.transparent),this.on_object_resize(a,b))},XF_DIAMOND.prototype._size=function(a,b){var c,d;c=void 0!==a&&null!==a?a:this.getwidth(),d=void 0!==b&&null!==b?b:this.getheight(),this.xf_object.css({width:c,height:d}),this.xf_shape_canvas.prop({width:c,height:d})},XF_DIAMOND.prototype.settext=function(a){var b=_xfu.str(a);return this.xf_prop.text=b,this.xf_text.html(this.xf_prop.text),!0},XF_DIAMOND.prototype.gettextmargin=function(){return this.xf_prop.text_margin},XF_DIAMOND.prototype.settextmargin=function(a,b){return a=_xfu.intval(a),b=_xfu.intval(b),a===!1||b===!1?!1:(a>=0&&(this.xf_prop.text_margin[0]=_xfu["int"](a)),b>=0&&(this.xf_prop.text_margin[1]=_xfu["int"](b)),_xfc.basic("text_margin",this.xf_prop.text_margin,!0,this.xf_text),!0)},XF_DIAMOND.prototype.getlinegap=function(){return this.xf_prop.line_gap},XF_DIAMOND.prototype.setlinegap=function(a){return a=_xfu["int"](a),isNaN(a)||0>a||a>10?!1:(this.xf_prop.line_gap=a,this.xf_text.css("line-height",100+10*a+"%"),!0)},XF_DIAMOND.prototype.on_object_dragstart=function(a){return factory._firedragstartevent(this,a)},XF_DIAMOND.prototype.on_object_dragend=function(a){return factory._firedragendevent(this,a)},XF_DIAMOND.prototype.on_object_mousedown=function(a){factory.registermouseevent(this,a),0==this.xf_prop.dragable&&0==this.xf_prop.click_setfocus&&a.preventDefault()},XF_DIAMOND.prototype.on_object_click=function(a){factory.registermouseevent(this,a),factory._fireevent({xf_component:this,event_name:"on_click",is_fire_async:!0},this)};