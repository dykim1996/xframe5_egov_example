/* 2020-10-30 18:04 */ function XF_LISTVIEW(a,b){this._init(a,b),this._prop(b),this._box()}function XF_LISTVIEW_ITEM(a,b){this._init(a),this._prop(b),this._box(),this._create()}XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT=0,XF_LISTVIEW.LISTVIEW_ITEMDIR_HORZ=1,XF_LISTVIEW.DISPLAY_MODE_STATIC=0,XF_LISTVIEW.DISPLAY_MODE_SCROLL=1,XF_LISTVIEW.DISPLAY_MODE_APPEND=2,XF_LISTVIEW.prototype._init=function(a,b){_xfx.init(this,a,XFD_OBJKIND_CONTROL,XFD_CTRLKIND_LISTVIEW,b),this.xf_item_arr=[],this.selected_item_index=-1,this.xf_template_arr=[],this.xf_vscroll=null,this.xf_hscroll=null,this.scroll_pos=0},XF_LISTVIEW.prototype._prop=function(a){this.xf_prop={link_data:"",style:"",back_color:[255,255,255],transparent:!1,border:1,border_radius:"0",border_color:[180,180,180],border_ex:"",back_image:"",back_imagesize:0,back_imagefillstyle:0,back_imagehorzalign:0,back_imagevertalign:0,gradient_effect:0,gradient_startcolor:[255,255,255],gradient_endcolor:[225,225,225],boxshadow_type:0,enterstop:!0,tabstop:!0,hidden:!1,dragable:!1,click_setfocus:!1,display_mode:0,mousewheel_linecount:3,boxshadow_type:0,item_dir:0,item_height:40,item_width:40,item_backcolor:[255,255,255],item_transparent:!1,item_border:0,item_bordercolor:[180,180,180],item_dividerowcount:1,item_dividecolor:[235,235,235]},this.event_name_arr=["on_itemcreate","on_itemdestroy","on_itemchange","on_itemclick","on_scroll"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),_xfx.xdataset(this,!0,!1),this._css(a)},XF_LISTVIEW.prototype._css=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_arr,["position","back_color","border","border_color","hidden","transparent","back_imagefillstyle","back_imagesize","border_radius"]),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),_xfx.bordercss(this,a,this.css_arr))},XF_LISTVIEW.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_listview")+'"'),a.push('style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),1==_xfu.ismobile()&&a.push("overflow:auto;"),a.push('">'),this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?a.push('<div class="_xf_listview_content _xf_listview_content_vert"></div>'):a.push('<div class="_xf_listview_content _xf_listview_content_horz"></div>'),a.push("</div>")),_xfx.register(this,!1,a)},XF_LISTVIEW.prototype._dom=function(){this.xf_listview_content=this.xf_object.find("._xf_listview_content"),0==_xfu.ismobile()&&null==this.xf_vscroll&&(this.xf_vscroll=new XF_SCROLL(this.xf_object,this.xf_object,this.xf_listview_content,{id:"xf_vscroll",width:10,right:5,top:5,type:XF_SCROLL.VERT_SCROLL,wheel_linecount:this.xf_prop.mousewheel_linecount,wheel_lineheight:this.xf_prop.item_height,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_ing:$.proxy(this.on_scroll_ing,this)}),this.xf_vscroll.refresh()),0==_xfu.ismobile()&&null==this.xf_hscroll&&(this.xf_hscroll=new XF_SCROLL(this.xf_object,this.xf_object,this.xf_listview_content,{id:"xf_hscroll",height:10,left:5,bottom:5,type:XF_SCROLL.HORZ_SCROLL,use_horz_wheel:!0,wheel_linecount:this.xf_prop.mousewheel_linecount,wheel_lineheight:this.xf_prop.item_width,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_ing:$.proxy(this.on_scroll_ing,this)}),this.xf_hscroll.refresh())},XF_LISTVIEW.prototype._offevent=function(){_xfj.offevent(this.xf_listview_content,["mousedown","click"]),1==_xfu.ismobile()&&_xfj.offevent(this.xf_object,["scroll"])},XF_LISTVIEW.prototype._event=function(){this.xf_listview_content.on("mousedown",$.proxy(this.on_content_mousedown,this)),this.xf_listview_content.on("click",$.proxy(this.on_content_click,this)),1==_xfu.ismobile()&&this.xf_object.on("scroll",$.proxy(this.on_object_scroll,this))},XF_LISTVIEW.prototype._create=function(){this._dom(),this._event()},XF_LISTVIEW.prototype._refreshscrollcontent=function(a){var b,c,d,e;for(b=Math.floor(a/this.item_unit_size),e=0,c=this.xf_xdataset.getrowcount(),d=b;c>d&&(this.xf_item_arr[d].createcontent(),e+=this.item_unit_size,!(e>=this.view_conent_inner_size));d++);},XF_LISTVIEW.prototype._after_set_item=function(){},XF_LISTVIEW.prototype._updatescrollinnersize=function(){this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?(this.view_conent_inner_size=this.xf_object.innerHeight()+this.xf_prop.item_height,this.item_unit_size=this.xf_prop.item_height):(this.view_conent_inner_size=this.xf_object.innerWidth()+this.xf_prop.item_width,this.item_unit_size=this.xf_prop.item_width)},XF_LISTVIEW.prototype._refresh=function(){var a,b,c,d;for(b=this.xf_item_arr.length,a=0;b>a;a++)this.xf_item_arr[a].destroy();if(this.xf_item_arr=[],this.xf_listview_content.empty(),this._refreshscroll(),this.xf_prop.display_mode==XF_LISTVIEW.DISPLAY_MODE_STATIC)for(c=this.xf_xdataset.getrowcount(),a=0;c>a;a++)this._additem(a,!1);else if(this.xf_prop.display_mode==XF_LISTVIEW.DISPLAY_MODE_SCROLL)for(this._updatescrollinnersize(),d=0,c=this.xf_xdataset.getrowcount(),a=0;c>a;a++)d<=this.view_conent_inner_size?this._additem(a,!1,!0):this._additem(a,!1,!1),d+=this.item_unit_size;this._refreshscroll()},XF_LISTVIEW.prototype._refreshscroll=function(){1!=factory.ismobile()&&(this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this.xf_vscroll.refresh():this.xf_hscroll.refresh())},XF_LISTVIEW.prototype._refreshscrollbar=function(){1!=factory.ismobile()&&(this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this.xf_vscroll.syncbar(XFD_SB_THUMBPOSITION,!0):this.xf_hscroll.syncbar(XFD_SB_THUMBPOSITION,!0))},XF_LISTVIEW.prototype._addlistviewtemplate=function(a,b,c){var d,e;d={xf_component:a,xf_parent:b,xf_prop:c,xdataset_type:this.xdataset_type,xdataset_column_type:XFD_XDATASET_COLUMN_DATA},void 0!==c.link_data&&0!=c.link_data.length||d.xf_component.control_kind!==XFD_CTRLKIND_RADIOBUTTON&&(e=_xfx.xdatasetcolumnid(this),c.link_data=this.xdataset_id+":"+e,this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,e,"",0,!1,this),d.xdataset_column_type=XFD_XDATASET_COLUMN_INNER),this.xf_template_arr.push(d)},XF_LISTVIEW.prototype._isvaliditemindex=function(a){return!(isNaN(a)||0>a||a>=this.getitemcount())},XF_LISTVIEW.prototype._additem=function(a,b,c){var d;d=new XF_LISTVIEW_ITEM(this,{item_index:a,item_height:this.xf_prop.item_height,item_width:this.xf_prop.item_width,is_create_content:c}),this.xf_item_arr.push(d),void 0!==b&&1!=b||this._refreshscroll()},XF_LISTVIEW.prototype._insertitem=function(a,b){var c;c=new XF_LISTVIEW_ITEM(this,{item_index:a,item_height:this.xf_prop.item_height,item_width:this.xf_prop.item_width}),this.xf_item_arr.splice(a,0,c),this._resetitemindex(a+1),void 0!==b&&1!=b||this._refreshscroll()},XF_LISTVIEW.prototype._resetitemindex=function(a,b){var c;for(void 0===a&&(a=0),void 0===b&&(b=this.getitemcount()-1),c=a;b>=c;c++)this.xf_item_arr[c].setitemindex(c)},XF_LISTVIEW.prototype._deleteitem=function(a,b){this.xf_item_arr[a].destroy(),this.xf_item_arr.splice(a,1),void 0!==b&&1!=b||this._refreshscroll(),this._resetitemindex(a),a==this.selected_item_index&&(this.selected_item_index=-1)},XF_LISTVIEW.prototype._setselecteditem=function(a,b){var c;return c=this.selected_item_index,0==factory.ismobile()&&(this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this.xf_vscroll.focus(this.xf_item_arr[a].xf_object):this.xf_hscroll.focus(this.xf_item_arr[a].xf_object)),this.selected_item_index=a,this.selected_item_index!==c&&(void 0!==b&&1!=b||factory._fireevent({xf_component:this,event_name:"on_itemchange",is_fire_async:!0},this,c,this.selected_item_index)),!0},XF_LISTVIEW.prototype.refresh=function(){return this._refresh()},XF_LISTVIEW.prototype.getselecteditem=function(){return this.selected_item_index},XF_LISTVIEW.prototype.setselecteditem=function(a,b){return a=_xfu["int"](a),this._isvaliditemindex(a)?(void 0===b&&(b=!0),b?this.xf_xdataset._moveat(a,b):(this._setselecteditem(a,b),this.xf_xdataset._moveat(a,!0,this)),!0):!1},XF_LISTVIEW.prototype.additem=function(){return this.xf_xdataset.addrow(),this.xf_xdataset.getrowcount()-1},XF_LISTVIEW.prototype.insertitem=function(a){return a=_xfu.intval(a,0,this.getitemcount()),a===!1?!1:(this.xf_xdataset.insertrow(a,!0),!0)},XF_LISTVIEW.prototype.deleteallitem=function(){return this.xf_xdataset.deleteallrows(),!0},XF_LISTVIEW.prototype.deleteitem=function(a){return a=_xfu["int"](a),this._isvaliditemindex(a)?(this.xf_xdataset.deleterow(a),!0):!1},XF_LISTVIEW.prototype.destroy=function(){this._offevent(),null!=this.xf_hscroll&&this.xf_hscroll.destroy(),null!=this.xf_vscroll&&this.xf_vscroll.destroy(),this.xf_listview_content.remove(),this.xf_object.remove(),_xfx.unregister(this)},XF_LISTVIEW.prototype.getitemcount=function(){return this.xf_xdataset.getrowcount()},XF_LISTVIEW.prototype.getitemheight=function(a){return a=_xfu["int"](a),0==this._isvaliditemindex(a)?-1:this.xf_item_arr[a].xf_prop.item_height},XF_LISTVIEW.prototype.setitemheight=function(a,b){return a=_xfu["int"](a),this._isvaliditemindex(a)?(b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1?!1:(this.xf_item_arr[a].setitemheight(b),this._refreshscroll(),!0)):!1},XF_LISTVIEW.prototype.getitemwidth=function(a){return a=_xfu["int"](a),this._isvaliditemindex(a)?this.xf_item_arr[a].xf_prop.item_width:-1},XF_LISTVIEW.prototype.setitemwidth=function(a,b){return a=_xfu["int"](a),this._isvaliditemindex(a)?(b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1?!1:(this.xf_item_arr[a].setitemwidth(b),this._refreshscroll(),!0)):!1},XF_LISTVIEW.prototype.getitemhidden=function(a){return a=_xfu["int"](a),this._isvaliditemindex(a)?this.xf_item_arr[a].xf_prop.item_hidden:-1},XF_LISTVIEW.prototype.setitemhidden=function(a,b){return a=_xfu["int"](a),this._isvaliditemindex(a)?(this.xf_item_arr[a].setitemhidden(b),this._refreshscroll(),!0):!1},XF_LISTVIEW.prototype.focusitem=function(a,b,c,d,e){var f,g;return a=_xfu["int"](a),this._isvaliditemindex(a)?(void 0===b&&(b=XF_SCROLL.FOCUS_TYPE_NONE),b=_xfu.intval(b),isNaN(b)?!1:(f=0,0!=this.xf_prop.item_border&&(f=1),g=1==factory.ismobile()?this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?_xfj.scrollpos(!0,this.xf_object,this.xf_item_arr[a].xf_object,b,!1,0,f):_xfj.scrollpos(!1,this.xf_object,this.xf_item_arr[a].xf_object,b,!1,0,f):this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this.xf_vscroll.focus(this.xf_item_arr[a].xf_object,b,!1,0,f):this.xf_hscroll.focus(this.xf_item_arr[a].xf_object,b,!1,0,f),g>=0&&this.scrollto(g,c,d,e),!0)):!1},XF_LISTVIEW.prototype.scrollby=function(a,b,c,d){var e;return a=_xfu["int"](a),isNaN(a)?!1:(e=this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?Math.abs(this.xf_listview_content.position().top):Math.abs(this.xf_listview_content.position().left),e+=a,this.scrollto(e,b,c,d))},XF_LISTVIEW.prototype.scrollto=function(a,b,c,d){var e,f,g,h;if(g=this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this.xf_listview_content.outerHeight()-this.xf_object.innerHeight():this.xf_listview_content.outerWidth()-this.xf_object.innerWidth(),a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1)return!1;if(a>=g&&(a=g),e=1==factory.ismobile()?this.xf_object:this.xf_listview_content,e.finish(),this._refreshscrollbar(),this.on_scroll_start(),void 0===b)this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?1==factory.ismobile()?this.xf_object[0].scrollTop=a:this.xf_listview_content.css("top",-a):1==factory.ismobile()?this.xf_object[0].scrollLeft=a:this.xf_listview_content.css("left",-a),this._refreshscrollbar();else{if(b=_xfu.intval(b,0,XFD_MAX_VALUE),b===!1)return!1;if(void 0!==c&&""!=c||(c="swing"),"linear"!==c&&"swing"!==c)return!1;f=this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?1==factory.ismobile()?{scrollTop:a}:{top:-a}:1==factory.ismobile()?{scrollLeft:a}:{left:-a},h=this,e.animate(f,b,c,function(){h._refreshscrollbar(),void 0!==d&&(h.xf_parent&&h.xf_parent.xf_content&&h.xf_parent.xf_content.xf_execution_context?1==_xfu.isfunction(h.xf_parent.xf_content.xf_execution_context[d])&&h.xf_parent.xf_content.xf_execution_context[d](b,c):1==_xfu.isfunction(d)&&d(b,c))})}return!0},XF_LISTVIEW.prototype.eventlock=function(a,b){var c,d;for(this.is_event_locked=a,b===!0&&(this.is_event_locked_subscreen=a),d=this.getitemcount(),c=0;d>c;c++)this.xf_item_arr[c].eventlock(a,b)},XF_LISTVIEW.prototype.on_xdataset_event=function(a){switch(a.type){case XFD_XDATASET_EVENT_ROW_DELETE:this._deleteitem(a.xdataset_row_index);break;case XFD_XDATASET_EVENT_ROW_INSERT:this._insertitem(a.xdataset_row_index);break;case XFD_XDATASET_EVENT_ROW_CHECK:case XFD_XDATASET_EVENT_COLUMN_DELETE:case XFD_XDATASET_EVENT_COLUMN_EMPTY:case XFD_XDATASET_EVENT_COLUMN_ADD:case XFD_XDATASET_EVENT_COLUMN_INSERT:case XFD_XDATASET_EVENT_DATA_CHECK:case XFD_XDATASET_EVENT_DATA_UPDATE:case XFD_XDATASET_EVENT_ETC:break;case XFD_XDATASET_EVENT_DATA_LOAD:case XFD_XDATASET_EVENT_DATA_APPEND:case XFD_XDATASET_EVENT_DATA_SORT:case XFD_XDATASET_EVENT_DATA_RANGESORT:this._refresh();break;case XFD_XDATASET_EVENT_DATA_POSITION:return void this._setselecteditem(a.xdataset_pos_index,!0)}},XF_LISTVIEW.prototype.on_scroll_start=function(){this.xf_prop.display_mode!=XF_LISTVIEW.DISPLAY_MODE_STATIC&&this._updatescrollinnersize()},XF_LISTVIEW.prototype.on_scroll_ing=function(a,b,c,d){this.xf_prop.display_mode!=XF_LISTVIEW.DISPLAY_MODE_STATIC&&(this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this._refreshscrollcontent(Math.abs(this.xf_vscroll.content_top)):this._refreshscrollcontent(Math.abs(this.xf_vscroll.content_left))),factory._fireevent({xf_component:this,event_name:"on_scroll",is_fire_async:!0},this,a,b,c,d)},XF_LISTVIEW.prototype.on_object_scroll=function(a){var b,c;b=this.scroll_pos,c=!1,this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?(this.scroll_pos=this.xf_object[0].scrollTop,this.scroll_pos+this.xf_object.innerHeight()>=this.xf_listview_content.outerHeight()&&(c=!0),this.xf_prop.display_mode!=XF_LISTVIEW.DISPLAY_MODE_STATIC&&this._refreshscrollcontent(Math.abs(this.scroll_pos))):(this.scroll_pos=this.xf_object[0].scrollLeft,this.scroll_pos+this.xf_object.innerWidth()>=this.xf_listview_content.outerWidth()&&(c=!0),this.xf_prop.display_mode!=XF_LISTVIEW.DISPLAY_MODE_STATIC&&this._refreshscrollcontent(Math.abs(this.scroll_pos))),factory._fireevent({xf_component:this,event_name:"on_scroll",is_fire_async:!0},this,this.scroll_pos,b,XFD_SB_MOUSEWHEEL,c)},XF_LISTVIEW.prototype.on_object_mousedown=function(a){var b;b=$(a.target),0!=b.hasClass("_xf_listview_item")&&(factory.registermouseevent(this.xf_rowbox,a),0==this.xf_prop.dragable&&0==this.xf_prop.click_setfocus&&a.preventDefault())},XF_LISTVIEW.prototype.on_content_click=function(a){var b,c,d,e,f,g,h,i,j;if(b=$(a.target),h=!1,i=!0,b.hasClass("_xf_listview_item"))d=b;else{if(d=b.closest("._xf_listview_item"),0==d.length)return;h=!0,this.xf_parent&&this.xf_parent.xf_screen&&(j=this.xf_parent.xf_screen._getcomboselectbox(),j.isshowselectbox()?i=!1:(j=this.xf_parent.xf_screen._getdateselectbox(),j.isshowselectbox()&&(i=!1)))}c=d.data("row"),c=_xfu["int"](c),g=null,1==h&&(f=b.closest("._xf_object"),0==f.length&&(f=b.closest('[id^="_xfc_control_"]')),f.length>0&&(d=this.xf_item_arr[c],g=d.xf_content.getinstancdbydom(f[0]))),1==i&&this._adjustitemposition(c),e=this.selected_item_index,this.selected_item_index=c,this.selected_item_index!==e&&factory._fireevent({xf_component:this,event_name:"on_itemchange",is_fire_async:!0},this,e,this.selected_item_index),this.xf_xdataset._moveat(c,!0,this),null==g&&this.xf_item_arr[c]&&0==this.xf_prop.dragable&&0==this.xf_prop.click_setfocus&&this.xf_item_arr[c].setfocus(_XFD_FOCUSTYPE_CLICK),factory._fireevent({xf_component:this,event_name:"on_itemclick",is_fire_async:!0},this,c,g)},XF_LISTVIEW.prototype._adjustitemposition=function(a){var b;b=0,0!=this.xf_prop.item_border&&(b=1),1==factory.ismobile()?this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?_xfj.scrollpos(!0,this.xf_object,this.xf_item_arr[a].xf_object,XF_SCROLL.FOCUS_TYPE_NONE,!0,0,b):_xfj.scrollpos(!1,this.xf_object,this.xf_item_arr[a].xf_object,XF_SCROLL.FOCUS_TYPE_NONE,!0,0,b):this.xf_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?this.xf_vscroll.focus(this.xf_item_arr[a].xf_object,XF_SCROLL.FOCUS_TYPE_NONE,!0,0,b):this.xf_hscroll.focus(this.xf_item_arr[a].xf_object,XF_SCROLL.FOCUS_TYPE_NONE,!0,0,b)},XF_LISTVIEW_ITEM.prototype._init=function(a){this.xf_listview=a,this.xf_listview_prop=a.xf_prop,this.is_event_locked=this.xf_listview.is_event_locked,this.is_event_locked_subscreen=this.xf_listview.is_event_locked_subscreen,this.xf_content=null,this.is_content_created=!1},XF_LISTVIEW_ITEM.prototype._prop=function(a){this.xf_prop={item_index:0,item_height:40,item_width:40,item_hidden:!1,is_create_content:!0},$.extend(this.xf_prop,a)},XF_LISTVIEW_ITEM.prototype._box=function(){var a,b,c;a=[],a.push("<div "),a.push(' data-row="'+this.xf_prop.item_index+'"'),a.push(' class="_xf_listview_item '),this.xf_listview_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?a.push('_xf_listview_item_vert"'):a.push('_xf_listview_item_horz"'),a.push(' style="'),this.xf_listview_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?a.push("height:"+_xfu.px(this.xf_prop.item_height)+";"):a.push("width:"+_xfu.px(this.xf_prop.item_width)+";"),0==this.xf_listview_prop.item_transparent&&(b=1==this._isdividerow()?this.xf_listview_prop.item_dividecolor:this.xf_listview_prop.item_backcolor,a.push("background-color:"+_xfu.rgbfunc(b)+";")),0!=this.xf_listview_prop.item_border&&(1==this.xf_listview_prop.item_border?c="solid":2==this.xf_listview_prop.item_border?c="dashed":3==this.xf_listview_prop.item_border&&(c="dotted"),this.xf_listview_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT?a.push("border-bottom"):a.push("border-right"),a.push(":1px "+c+" "+_xfu.rgbfunc(this.xf_listview_prop.item_bordercolor)+";")),a.push('"></div>'),this.xf_object=$(a.join("")),this.xf_content=new XF_CONTENT(this.xf_listview,this.xf_object),this.xf_listview.xf_listview_content.append(this.xf_object)},XF_LISTVIEW_ITEM.prototype._dom=function(){0!=this.xf_prop.is_create_content&&this.createcontent()},XF_LISTVIEW_ITEM.prototype._event=function(){},XF_LISTVIEW_ITEM.prototype._create=function(){this._dom(),this._event()},XF_LISTVIEW_ITEM.prototype._isdividerow=function(){return 0==this.xf_listview_prop.item_dividerowcount?!1:parseInt(this.xf_prop.item_index/this.xf_listview_prop.item_dividerowcount)%2==1},XF_LISTVIEW_ITEM.prototype.createcontent=function(){var a,b,c,d,e,f,g;if(1!=this.is_content_created)for(this.is_content_created=!0,b=this.xf_listview.xf_template_arr.length,a=0;b>a;a++){if(d=this.xf_listview.xf_template_arr[a],d.xf_parent.xf_content=this.xf_content,c={},$.extend(c,d.xf_prop),c.create_mode=_XFD_CREATEMODE_LISTVIEW,c.xdataset_type=d.xdataset_type,c.xdataset_column_type=d.xdataset_column_type,c.xdataset_row_index=this.xf_prop.item_index,d.xf_component.control_kind==XFD_CTRLKIND_RADIOBUTTON&&(void 0===c.select_group&&(c.select_group=XF_RADIO.DEFAULT_SELECT_GROUP),c.select_group=c.select_group+"_"+this.xf_prop.item_index,void 0!==c.link_data&&0!=c.link_data.length||(c.xdataset_column_type=XFD_XDATASET_COLUMN_INNER,f=this.xf_listview.xdataset_id+"_radioselectgroup_"+c.select_group,c.link_data=this.xf_listview.xdataset_id+":"+f,-1==this.xf_listview.xf_xdataset._getcolumn(XFD_XDATASET_COLUMN_INNER,f)&&this.xf_listview.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,f,"",0,!1))),c.arrayindex=this.xf_prop.item_index,this.xf_prop.item_index>0&&(c.control_id=d.xf_parent.xf_screen._newcontrolid()),d.xf_component.object_kind==XFD_OBJKIND_CONTROL){if(e=d.xf_component.control_kind,e==XFD_CTRLKIND_FIELD)switch(d.xf_component.data_type){case XFD_DATA_ALPHANUM:e=XFD_CTRLKIND_FIELD_NORMAL;break;case XFD_DATA_NUMBER:e=XFD_CTRLKIND_FIELD_NUMERIC;break;case XFD_DATA_HANGUL:e=XFD_CTRLKIND_FIELD_HANGUL;break;case XFD_DATA_PASSWORD:e=XFD_CTRLKIND_FIELD_PASSWORD}g=_xfx.createobjectex(d.xf_parent.xf_screen,d.xf_parent.xf_component,d.xf_parent.xf_content,e,c)}else d.xf_component.object_kind==XFD_OBJKIND_SHAPE&&(g=_xfx.createshapeex(d.xf_parent.xf_screen,d.xf_parent.xf_component,d.xf_parent.xf_content,d.xf_component.shape_kind,c));g.is_event_locked=this.is_event_locked,g.is_event_locked_subscreen=this.is_event_locked_subscreen}},XF_LISTVIEW_ITEM.prototype.destroy=function(){this.xf_object.remove()},XF_LISTVIEW_ITEM.prototype.setitemindex=function(a){var b,c,d;for(this.xf_prop.item_index=a,this.xf_object.data("row",this.xf_prop.item_index),c=this.xf_content.controls.length,b=0;c>b;b++)this.xf_content.controls[b].xf_prop.arrayindex=a,this.xf_content.controls[b].xf_prop.xdataset_row_index=a,this.xf_content.controls[b].xdataset_row_index=a,this.xf_content.controls[b].xf_prop.select_group=a;for(c=this.xf_content.shapes.length,b=0;c>b;b++)this.xf_content.shapes[b].xf_prop.arrayindex=a,this.xf_content.shapes[b].xf_prop.xdataset_row_index=a,this.xf_content.shapes[b].xdataset_row_index=a;this.xf_listview_prop.item_transparent||(d=this._isdividerow()?this.xf_listview_prop.item_dividecolor:this.xf_listview_prop.item_backcolor,this.xf_object.css("background-color",_xfu.rgbfunc(d)))},XF_LISTVIEW_ITEM.prototype.setitemheight=function(a){this.xf_prop.item_height=a,this.xf_listview_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_VERT&&this.xf_object.css("height",_xfu.px(this.xf_prop.item_height))},XF_LISTVIEW_ITEM.prototype.setitemwidth=function(a){this.xf_prop.item_width=a,this.xf_listview_prop.item_dir==XF_LISTVIEW.LISTVIEW_ITEMDIR_HORZ&&this.xf_object.css("width",_xfu.px(this.xf_prop.item_width))},XF_LISTVIEW_ITEM.prototype.setitemhidden=function(a){this.xf_prop.item_hidden!=a&&(this.xf_prop.item_hidden=a,this.xf_prop.item_hidden?this.xf_object.css("display","none"):this.xf_object.css("display","block"))},XF_LISTVIEW_ITEM.prototype.eventlock=function(a,b){return this.is_event_locked=a,b===!0&&(this.is_event_locked_subscreen=a),this.xf_content.eventlock(a,b)},XF_LISTVIEW_ITEM.prototype.setfocus=function(a){var b;if(void 0===a&&(a=_XFD_FOCUSTYPE_API),a==_XFD_FOCUSTYPE_API||a==_XFD_FOCUSTYPE_CLICK){if(null==this.xf_content.focused_object)return b=this.xf_content.getcontrolfocus(XF_CONTENT.INSTANCE_POSITION_FIRST,!0,!0,null,!1),void(null!=b&&b._setfocus(_XFD_FOCUSTYPE_FIRST));this.xf_content.focused_object._setfocus(a)}};