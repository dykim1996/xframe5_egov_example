/* 2020-10-30 18:04 */ function XF_WEBBROWSER(a,b){this._init(a,b),_xfx.islistviewtemplate(this,b)||(this._prop(b),this._box())}XF_WEBBROWSER.prototype._init=function(a,b){_xfx.init(this,a,XFD_OBJKIND_CONTROL,XFD_CTRLKIND_WEBBROWSER,b),this.iframe_name="",this.xf_iframe=null,this.post_data_arr=[],this.is_utf8_encoding=!0},XF_WEBBROWSER.prototype._prop=function(a){this.xf_prop={border:0,border_color:[180,180,180],border_radius:"0",border_ex:"",url:"",hidden:!1,enterstop:!0,tabstop:!0,border:1,enable:!0,boxshadow_type:0,input_type:0,resize_dir:0,internal_name:""},this.event_name_arr=["on_pageload","on_keydown"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),this.iframe_name=this.xf_prop.internal_name+"_iframe",_xfx.xdataset(this,!0),this._css(a)},XF_WEBBROWSER.prototype._css=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_arr,["position","hidden","border_radius"]),_xfx.bordercss(this,a,this.css_arr))},XF_WEBBROWSER.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_webbrowser")+'"'),a.push(' tabindex="-1"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),a.push('">'),a.push('<iframe class="_xf_webbrowser_iframe" name="'+this.iframe_name+'" z-index="0"></iframe>'),a.push("</div>")),_xfx.register(this,!1,a)},XF_WEBBROWSER.prototype._data=function(){this.xdataset_column_type==XFD_XDATASET_COLUMN_INNER?this._setvalue(this.xf_prop.url,{is_set_xdataset:!0,event_type:XFD_DATA_CHANGE_BY_API,is_display_value:!0}):this._setvalue(this._getvalue(),{is_set_xdataset:!1,event_type:XFD_DATA_CHANGE_BY_XDATASET,is_display_value:!0})},XF_WEBBROWSER.prototype._dom=function(){this.xf_iframe=this.xf_object.find("._xf_webbrowser_iframe"),this.xf_protect=new XF_PROTECT(this,this.xf_object,{opacity:0,is_use_icon:!1}),this.xf_prop.enable===!1&&this.xf_protect.showprotect(0,!1)},XF_WEBBROWSER.prototype._offevent=function(){this.xf_iframe.off("load")},XF_WEBBROWSER.prototype._event=function(){this.xf_iframe.on("load",$.proxy(this.on_iframe_pageload,this))},XF_WEBBROWSER.prototype._create=function(){this._dom(),this._data(),this._event()},XF_WEBBROWSER.prototype._postdatastr=function(a){var b,c,d;if(this.post_data_arr=[],0!=a.length)for(b=a.split("&"),d=0;d<b.length;d++)c=b[d].split("="),2==c.length&&this.post_data_arr.push({post_data_name:c[0],post_data_value:c[1]})},XF_WEBBROWSER.prototype._postdataobj=function(a){var b;if(this.post_data_arr=[],null!=a)for(b in a)this.post_data_arr.push({post_data_name:b,post_data_value:a[b]})},XF_WEBBROWSER.prototype.on_xdataset_event=function(a){_xfx.on_xdataset_event(this,a)},XF_WEBBROWSER.prototype._getvalue=function(){return _xfx.getvalue(this)},XF_WEBBROWSER.prototype._setvalue=function(a,b){1==b.is_set_xdataset&&this._setxdatasetvalue(_xfu.str(a)),1==b.is_display_value&&this._displaybrowser(a)},XF_WEBBROWSER.prototype._setxdatasetvalue=function(a){_xfx.setxdatasetvalue(this,a)},XF_WEBBROWSER.prototype._displaybrowser=function(a){var b,c,d,e;if(this.xf_prop.url=a,0==this.xf_prop.url.length&&this.xf_iframe.attr("src",""),c=1==this.is_utf8_encoding?"UTF-8":"EUC-KR",0==this.post_data_arr.length)this.is_utf8_encoding?this.xf_iframe.attr("src",encodeURI(this.xf_prop.url)):this.xf_iframe.attr("src",this.xf_prop.url);else{for(e=[],e.push("<form"),this.is_utf8_encoding?e.push(' action="'+encodeURI(this.xf_prop.url)+'"'):e.push(' action="'+this.xf_prop.url+'"'),e.push(' method="post"'),e.push(' target="'+this.iframe_name+'"'),e.push(' accept-charset="'+c+'"'),e.push(">"),b=0;b<this.post_data_arr.length;b++)e.push('<input type="hidden" name="'+this.post_data_arr[b].post_data_name+'" value="'+this.post_data_arr[b].post_data_value+'"/>');this.post_data_arr=[],e.push("</form>"),d=$(e.join("")),$(document.body).append(d),d.submit().remove()}},XF_WEBBROWSER.prototype.callscriptfunc=function(func_and_arg,is_return_funccall){var func_name,pos,ret,func_ret;if(pos=func_and_arg.indexOf("("),-1==pos)return!1;if(func_name=func_and_arg.substr(0,pos),0==this.findscriptfunc(func_name))return!1;ret=!0;try{func_ret=eval("this.xf_iframe.get(0).contentWindow."+func_and_arg),is_return_funccall===!0&&(ret=func_ret)}catch(e){alert(e.message),ret=!1}return ret},XF_WEBBROWSER.prototype.getscriptvariable=function(a){var b,c;if(b=this.getbrowserwindow(),null!=b){try{c=b[a]}catch(d){alert(d.message),c=void 0}return c}},XF_WEBBROWSER.prototype.getbrowserwindow=function(){var a;try{a=this.xf_iframe[0].contentWindow}catch(b){return alert(b.message),null}return a},XF_WEBBROWSER.prototype.findscriptfunc=function(a){var b;return b=this.xf_iframe[0].contentWindow,b?void 0===b[a]?!1:!!_xfu.isfunction(b[a]):!1},XF_WEBBROWSER.prototype.getpageurl=function(){return this.xf_iframe.attr("src")},XF_WEBBROWSER.prototype.getreadystate=function(){var a=this.xf_iframe.get(0).contentDocument.readyState;return"uninitialized"==a?XFD_WEB_READYSTATE_UNINITIALIZED:"loading"==a?XFD_WEB_READYSTATE_LOADING:"interactive"==a?XFD_WEB_READYSTATE_INTERACTIVE:"complete"==a?XFD_WEB_READYSTATE_COMPLETE:void 0},XF_WEBBROWSER.prototype.geturl=function(){return this.xf_prop.url},XF_WEBBROWSER.prototype.seturl=function(a,b){return this.seturlex(a,"","",b)},XF_WEBBROWSER.prototype.seturlex=function(a,b,c,d){void 0===d&&(d=!0),this.is_utf8_encoding=d,this._postdatastr(b),this._setvalue(a,{is_set_xdataset:!0,is_display_value:!0})},XF_WEBBROWSER.prototype.seturlpostdataobject=function(a,b,c,d){void 0===d&&(d=!0),this.is_utf8_encoding=d,this._postdataobj(b),this._setvalue(a,{is_set_xdataset:!0,is_display_value:!0})},XF_WEBBROWSER.prototype._post_to_frame=function(a,b,c){var d,e,f,g,h,i;for(g=c?"UTF-8":"EUC-KR",i=[],i.push("<form"),i.push(' action="'+a+'"'),i.push(' method="post"'),i.push(' target="'+this.iframe_id+'"'),i.push(' accept-charset="'+g+'"'),e=b.split("&"),d=0;d<e.length;d++)f=e[d].split("="),2==f.length&&i.push('<input type="hidden" name="'+f[0]+'" value="'+f[1]+'"/>');i.push("</form>"),h=$(i.join("")),$(document.body).append(h),h.submit().remove()},XF_WEBBROWSER.prototype.seturlsync=function(a,b,c,d){var d=!1;XF_WEBBROWSER.prototype.seturlsync.arguments.length>3&&(d=XF_WEBBROWSER.prototype.seturlsync.arguments[3]),this.seturlex(a,b,c,d)},XF_WEBBROWSER.prototype.on_iframe_pageload=function(a){var b,c;0!=this.xf_prop.url.length&&(factory._fireevent({xf_component:this,event_name:"on_pageload",is_fire_async:!0},this),b=this.xf_iframe.get(0).contentWindow,c=$(b),c.on("keyup",$.proxy(this.on_iframe_keyup,this)))},XF_WEBBROWSER.prototype.on_iframe_keyup=function(a){factory._firekeyevent(this,a,!1,"on_keydown",!0)};