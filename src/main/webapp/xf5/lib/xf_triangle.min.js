/* 2018-04-26 */

function XF_TRIANGLE(t,i){this._init(t,i),1!=_xfx.islistviewtemplate(this,i)&&(this._prop(i),this._box())}XF_TRIANGLE.prototype._init=function(t,i){_xfx.init(this,t,XFD_OBJKIND_SHAPE,XFD_SHAPEKIND_TRIANGLE,i)},XF_TRIANGLE.prototype._prop=function(t){this.xf_prop={style:"",fore_color:[0,0,0],back_color:[255,255,255],border:1,border_width:0,border_color:[180,180,180],transparent:!0,hidden:!1,reverse:!1},this.event_name_arr=[""],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,t),this.xf_prop.border_width=this.xf_prop.border_width+1,this._css(t)},XF_TRIANGLE.prototype._css=function(t){1!=_xf_htmlready_mode&&_xfx.propcss(this,t,this.css_arr,["position","hidden"])},XF_TRIANGLE.prototype._box=function(){var t;0==_xf_htmlready_mode&&((t=[]).push("<canvas"),t.push(' id="'+this.xf_prop.internal_name+'"'),t.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_triangle")+'"'),t.push('style="'),t.push(this.css_arr.join("")),_xfx.poscss(this,this.xf_prop,t),t.push('"'),t.push(">"),t.push("</canvas>")),0==_xf_htmlready_mode?(this.xf_object=$(t.join("")),this.css_arr=[]):this.xf_object=$("#"+this.xf_prop.internal_name),_xfx.register(this)},XF_TRIANGLE.prototype._dom=function(){this._size(this.xf_prop.width,this.xf_prop.height),this._draw_triangle(this.xf_prop.transparent)},XF_TRIANGLE.prototype._create=function(){this._dom(),factory._fireevent({xf_component:this,event_name:"on_create"},this)},XF_TRIANGLE.prototype._draw_triangle=function(t){var i,r,p,_;i=this.xf_prop.border_width/2,r=this.getwidth(),p=this.getheight(),r-=this.xf_prop.border_width,p-=this.xf_prop.border_width,this.xf_prop.transparent=t,(_=this.xf_object.get(0).getContext("2d")).clearRect(0,0,r,p),0==this.xf_prop.reverse?(_.moveTo(i,p+i),_.lineTo(r/2+i,i),_.lineTo(r+i,p+i)):(_.moveTo(i,i),_.lineTo(r/2+i,p+i),_.lineTo(r+i,i)),_.closePath(),_.strokeStyle=_xfu.rgbfunc(this.xf_prop.border_color),_.lineWidth=this.xf_prop.border_width,0==t&&(_.fillStyle=_xfu.rgbfunc(this.xf_prop.back_color),_.fill()),_.stroke()},XF_TRIANGLE.prototype.on_parent_size=function(t,i,r){var p,_,h;0===this.xf_prop.width_unit&&0===this.xf_prop.height_unit&&0===this.xf_prop.resize_dir||(_=p=null,this._getparentinitsize(t),h=this._getresizegap(i,r,t),1===this.xf_prop.width_unit?(this.xf_prop.width=i*this.xf_prop.width_percent/100,p=this.xf_prop.width):1!==this.xf_prop.resize_dir&&3!==this.xf_prop.resize_dir||(this.xf_prop.width=this.originvalue.width+h.width,p=this.xf_prop.width),1===this.xf_prop.height_unit?(this.xf_prop.height=r*this.xf_prop.height_percent/100,_=this.xf_prop.height):2!==this.xf_prop.resize_dir&&3!==this.xf_prop.resize_dir||(this.xf_prop.height=this.originvalue.height+h.height,_=this.xf_prop.height),p<0&&(p=0),_<0&&(_=0),this._size(p,_),this._draw_triangle(this.xf_prop.transparent),this._updatesizeposprop(t,i,r))},XF_TRIANGLE.prototype._size=function(t,i){var r,p;r=null!=t?t:this.getwidth(),p=null!=i?i:this.getheight(),this.xf_object.prop({width:r,height:p})};