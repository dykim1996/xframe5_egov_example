/* 2020-10-30 18:04 */ function XF_RECTANGLE(a,b){this._init(a,b),_xfx.islistviewtemplate(this,b)||(this._prop(b),this._box())}XF_RECTANGLE.prototype._init=function(a,b){var c,d;c=XFD_OBJKIND_SHAPE,d=XFD_SHAPEKIND_RECT,void 0!==b.shape_kind&&(d=b.shape_kind),_xfx.init(this,a,c,d,b),this.css_text_arr=[],this.css_shape_kind=""},XF_RECTANGLE.prototype._prop=function(a){this.xf_prop={style:"",font:["굴림체",9,0,0,0,0],fore_color:[0,0,0],back_color:[255,255,255],border:1,border_width:0,border_style:0,border_color:[180,180,180],transparent:!0,resize_dir:0,horz_align:1,vert_align:1,text_margin:[0,0,0,0],boxshadow_type:0,ellipse_width:20,line_gap:0,text:"",enable:!0,hidden:!1,click_setfocus:!1,dragable:!1,resize_handle:0,default_text_usage:0},this.event_name_arr=["on_begindrag","on_enddrag","on_click"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),this.xf_prop.border_width=this.xf_prop.border_width+1,this.xf_prop.text=this.xf_prop.text.replace("\\n","\n"),this.shape_kind!==XFD_SHAPEKIND_ROUNDRECT&&(this.xf_prop.ellipse_width=0),this.shape_kind===XFD_SHAPEKIND_RECT?this.css_shape_kind="_xf_rectangle":this.shape_kind===XFD_SHAPEKIND_ROUNDRECT?this.css_shape_kind="_xf_roundrect":this.shape_kind===XFD_SHAPEKIND_ELLIPSE&&(this.css_shape_kind="_xf_ellipse"),this._css(a),this._css_text(a)},XF_RECTANGLE.prototype._css=function(a){1!=_xf_htmlready_mode&&(void 0===a.transparent&&(a.transparent=this.xf_prop.transparent),0==a.transparent&&void 0===a.back_color&&(a.back_color=this.xf_prop.back_color),0==this.xf_prop.border?_xfx.propcss(this,a,this.css_arr,["position","border_color","hidden","border_width","fore_color","font","border"]):_xfx.propcss(this,a,this.css_arr,["position","border_color","hidden","border_width","fore_color","font","border_style"]),_xfx.propbackcolor(this,a,this.css_arr),_xfx.propflexalign(this,a,this.css_arr))},XF_RECTANGLE.prototype._css_text=function(a){_xf_htmlready_mode||_xfx.propcss(this,a,this.css_text_arr,["text_margin","line_gap"])},XF_RECTANGLE.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,this.css_shape_kind)+'"'),1==this.xf_prop.dragable&&a.push(' draggable="true"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),this.shape_kind===XFD_SHAPEKIND_ROUNDRECT&&a.push(" border-radius:"+_xfu.px(this.xf_prop.ellipse_width)+";"),a.push('">'),a.push("<span"),a.push(' class="_xf_shape_text _xfd_padding'),a.push('"'),a.push(' style="'),a.push(this.css_text_arr.join("")),a.push('">'),a.push(this.xf_prop.text),a.push("</span>"),a.push("</div>")),_xfx.register(this,!1,a)},XF_RECTANGLE.prototype._dom=function(){0!==this.xf_prop.resize_handle&&(this.xf_resize=new XF_RESIZE(this,{resize_handle:this.xf_prop.resize_handle})),this.xf_text=this.xf_object.children("._xf_shape_text")},XF_RECTANGLE.prototype._offevent=function(){_xfj.offevent(this.xf_object,["dragstart","dragend","mousedown","click"])},XF_RECTANGLE.prototype._event=function(){this.xf_object.on("dragstart",$.proxy(this.on_object_dragstart,this)),this.xf_object.on("dragend",$.proxy(this.on_object_dragend,this)),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_object_click,this))},XF_RECTANGLE.prototype._create=function(){this._dom(),this._event()},XF_RECTANGLE.prototype.setborder=function(a){return a=_xfu.intval(a,0,1),a===!1?!1:(this.xf_prop.border=a,void(0==this.xf_prop.border?_xfc.basic("border",this.xf_prop.border,!0,this.xf_object):_xfc.basic("border_style",this.xf_prop.border_style,!0,this.xf_object)))},XF_RECTANGLE.prototype.getborderstyle=function(){return this.xf_prop.border_style},XF_RECTANGLE.prototype.setborderstyle=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.border_style=a,1==this.xf_prop.border&&_xfc.basic("border_style",this.xf_prop.border_style,!0,this.xf_object),!0)},XF_RECTANGLE.prototype.getresizehandle=function(){return this.xf_prop.resize_handle},XF_RECTANGLE.prototype.setresizehandle=function(a){return this.xf_prop.resize_handle=_xfu["int"](a),void 0===this.xf_resize&&0!==a&&(this.xf_resize=new XF_RESIZE(this,{resize_handle:a})),void 0!==this.xf_resize&&this.xf_resize.setresizehandle(this.xf_prop.resize_handle),!0},XF_RECTANGLE.prototype.movetodragend=function(){return void 0===this.drag_start_page_x||void 0===this.drag_start_page_y?!1:void 0===this.drag_end_page_x||void 0===this.drag_end_page_y?!1:(this.xf_prop.x=this.getleft()+(this.drag_end_page_x-this.drag_start_page_x),this.xf_prop.y=this.gettop()+(this.drag_end_page_y-this.drag_start_page_y),this.xf_prop.x<0&&(this.xf_prop.x=0),this.xf_prop.y<0&&(this.xf_prop.y=0),this.xf_object.css({left:_xfu.px(this.xf_prop.x),top:_xfu.px(this.xf_prop.y)}),!0)},XF_RECTANGLE.prototype.settext=function(a){var b=_xfu.str(a);return this.xf_prop.text=b,this.xf_text.html(this.xf_prop.text),!0},XF_RECTANGLE.prototype.gettextmargin=function(){return this.xf_prop.text_margin},XF_RECTANGLE.prototype.settextmargin=function(a,b){return a=_xfu.intval(a),b=_xfu.intval(b),a===!1||b===!1?!1:(a>=0&&(this.xf_prop.text_margin[0]=_xfu["int"](a)),b>=0&&(this.xf_prop.text_margin[1]=_xfu["int"](b)),_xfc.basic("text_margin",this.xf_prop.text_margin,!0,this.xf_text),!0)},XF_RECTANGLE.prototype.getellipsewidth=function(){return this.shape_kind===XFD_SHAPEKIND_ROUNDRECT?this.xf_prop.ellipse_width:void 0},XF_RECTANGLE.prototype.setellipsewidth=function(a){this.shape_kind===XFD_SHAPEKIND_ROUNDRECT&&(this.xf_prop.ellipse_width=_xfu["int"](a),this.xf_object.css("border-radius",_xfu.px(this.xf_prop.ellipse_width)))},XF_RECTANGLE.prototype.getlinegap=function(){return this.xf_prop.line_gap},XF_RECTANGLE.prototype.setlinegap=function(a){return a=_xfu["int"](a),isNaN(a)||0>a||a>10?!1:(this.xf_prop.line_gap=a,this.xf_text.css("line-height",100+10*a+"%"),!0)},XF_RECTANGLE.prototype.on_object_dragstart=function(a){return factory._firedragstartevent(this,a)},XF_RECTANGLE.prototype.on_object_dragend=function(a){return factory._firedragendevent(this,a)},XF_RECTANGLE.prototype.on_object_mousedown=function(a){factory.registermouseevent(this,a),0==this.xf_prop.dragable&&0==this.xf_prop.click_setfocus&&a.preventDefault()},XF_RECTANGLE.prototype.on_object_click=function(a){factory.registermouseevent(this,a),factory._fireevent({xf_component:this,event_name:"on_click",is_fire_async:!0},this)};