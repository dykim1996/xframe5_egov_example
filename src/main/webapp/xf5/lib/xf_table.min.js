/* 2020-10-30 18:04 */ function XF_TABLE(a,b){this._init(a,b),this._prop(b),this._box()}function XF_TABLE_CELL(a,b){this._init(a),this._prop(b),this._box(),this._create()}XF_TABLE.prototype._init=function(a,b){_xfx.init(this,a,XFD_OBJKIND_CONTROL,XFD_CTRLKIND_TABLE,b),this.table_cell_array=[],this.font_prop_str=""},XF_TABLE.prototype._prop=function(a){this.xf_prop={style:"",font:["굴림체",9,0,0,0,0],line_color:[180,180,180],line_width:0,hidden:!1,click_setfocus:!1,dragable:!1,input_type:0,fore_color:[0,0,0],back_color:[255,255,255],border:9,boxshadow_type:0,enable:!0,internal_name:""},this.event_name_arr=["on_click"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),this.xf_prop.line_width=this.xf_prop.line_width+1,this.font_prop_str=this.xf_prop.font.join(","),this.font_prop_str=this.font_prop_str.replace(/true/g,"1"),this.font_prop_str=this.font_prop_str.replace(/false/g,"0"),this._css(a)},XF_TABLE.prototype._css=function(a){1!=_xf_htmlready_mode&&_xfx.propcss(this,a,this.css_arr,["position","hidden"])},XF_TABLE.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_table")+'"'),0==this.xf_prop.enable&&a.push(" disabled"),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),a.push('">'),a.push("</div>")),_xfx.register(this,!1,a)},XF_TABLE.prototype._dom=function(){var a,b,c,d,e,f,g,h,i,j;if(this.xf_prop.cell)for(c=this.xf_prop.cell.split(";"),d=c.length,a=0;d>a;a++)if(e=c[a],0!=e.length){for(f=_xfu.get_tokens_array(e,","),g=this.xf_prop.font,h=f[6].split(","),b=0;b<h.length;b++)g[b]=h[b];i={x:f[0],y:f[1],width:f[2],height:f[3],fore_color:f[4],back_color:f[5],font_name:g[0],font_size:g[1],font_bold:g[2],font_italic:g[3],font_underline:g[4],font_strikeout:g[5],horz_align:f[7],vert_align:f[8],text:f[9],gradient_effect:f[10],gradient_startcolor:f[11],gradient_endcolor:f[12],cell_id:f[13],pattern:f[14],back_image:f[15],back_imagehorzalign:f[16],back_imagevertalign:f[17],border_left:f[18],border_top:f[19],border_right:f[20],border_bottom:f[21],cell_meta_id:f[22],cell_index:a,font:this.font_prop_str,tooltip:"",is_new_spec:!1},factory._callbackmetadata(i.cell_meta_id,i.text,this.xf_parent.xf_screen.getscreenurl(),this.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_TABLE,i),j=new XF_TABLE_CELL(this,i),this.table_cell_array.push(j)}},XF_TABLE.prototype._event=function(){},XF_TABLE.prototype._create=function(){this._dom(),this._event(),factory._fireevent({xf_component:this,event_name:"on_create",is_fire_async:!0},this)},XF_TABLE.prototype._gettablecellbyindex=function(a){return 1==isNaN(a)||0>a||a>=this.table_cell_array.length?null:this.table_cell_array[a]},XF_TABLE.prototype._gettablecellbyid=function(a){var b,c;for(c=this.getcellcount(),b=0;c>b;b++)if(this.table_cell_array[b].getcellid()==a)return this.table_cell_array[b];return null},XF_TABLE.prototype._addcell=function(a){var b,c,d,e,f,g,h,i;h={cell_index:this.table_cell_array.length,font:this.font_prop_str,tooltip:"",is_new_spec:!0};for(b in a)switch(b){case"font":if(d=this.xf_prop.font,a.font)for(e=a.font.split(","),c=0;c<e.length;c++)d[c]=e[c];h.font=d.join(",");break;case"rect":f=a.rect.split(","),h.x=f[0],h.y=f[1],h.width=f[2]-f[0],h.height=f[3]-f[1];break;case"draw_border":g=a.draw_border.split(","),h.border_left=g[0],h.border_top=g[1],h.border_right=g[2],h.border_bottom=g[3];break;case"image":h.back_image=a.image;break;case"image_horzalign":h.back_imagehorzalign=a.image_horzalign;break;case"image_vertalign":h.back_imagevertalign=a.image_vertalign;break;case"meta_id":h.cell_meta_id=a.meta_id;break;default:h[b]=a[b]}factory._callbackmetadata(h.cell_meta_id,h.text,this.xf_parent.xf_screen.getscreenurl(),this.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_TABLE,h),i=new XF_TABLE_CELL(this,h),this.table_cell_array.push(i)},XF_TABLE.prototype.getcellcount=function(){return this.table_cell_array.length},XF_TABLE.prototype.getcellbackcolor=function(a){var b=this._gettablecellbyid(a);return null==b?!1:b.getcellbackcolor()},XF_TABLE.prototype.getcellbackcolorex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?!1:b.getcellbackcolor()},XF_TABLE.prototype.setcellbackcolor=function(a,b){var c=this._gettablecellbyid(a);return null==c?!1:(c.setcellbackcolor(b),!0)},XF_TABLE.prototype.setcellbackcolorex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?!1:(c.setcellbackcolor(b),!0)},XF_TABLE.prototype.getcellfont=function(a){var b=this._gettablecellbyid(a);return null==b?null:b.getcellfont()},XF_TABLE.prototype.getcellfontex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?null:b.getcellfont()},XF_TABLE.prototype.setcellfont=function(a,b,c,d,e,f){var g=this._gettablecellbyid(a);return null==g?!1:(g.setcellfont(b,c,d,e,f),!0)},XF_TABLE.prototype.setcellfontex=function(a,b,c,d,e,f){var g;return a=_xfu["int"](a),g=this._gettablecellbyindex(a),null==g?!1:(g.setcellfont(b,c,d,e,f),!0)},XF_TABLE.prototype.getcellforecolor=function(a){var b=this._gettablecellbyid(a);return null==b?!1:b.getcellforecolor()},XF_TABLE.prototype.getcellforecolorex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?!1:b.getcellforecolor()},XF_TABLE.prototype.setcellforecolor=function(a,b){var c=this._gettablecellbyid(a);return null==c?!1:(c.setcellforecolor(b),!0)},XF_TABLE.prototype.setcellforecolorex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?!1:(c.setcellforecolor(b),!0)},XF_TABLE.prototype.getcellid=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?"":b.getcellid()},XF_TABLE.prototype.getcellimage=function(a){var b=this._gettablecellbyid(a);return null==b?"":b.getcellimage()},XF_TABLE.prototype.getcellimageex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?"":b.getcellimage()},XF_TABLE.prototype.setcellimage=function(a,b){var c=this._gettablecellbyid(a);return null==c?!1:c.setcellimage(b)},XF_TABLE.prototype.setcellimageex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?!1:(c.setcellimage(b),!0)},XF_TABLE.prototype.getcellmetaid=function(a){var b=this._gettablecellbyid(a);return null==b?"":b._getcellmetaid()},XF_TABLE.prototype.getcellmetaidex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?"":b.getcellmetaid()},XF_TABLE.prototype.setcellmetaid=function(a,b){var c=this._gettablecellbyid(a);return null==c?"":c.setcellmetaid(b)},XF_TABLE.prototype.setcellmetaidex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?"":c.setcellmetaid(b)},XF_TABLE.prototype.getcelltext=function(a){var b=this._gettablecellbyid(a);return null==b?"":b.getcelltext()},XF_TABLE.prototype.getcelltextex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?"":b.getcelltext()},XF_TABLE.prototype.setcelltext=function(a,b){var c=this._gettablecellbyid(a);return null==c?!1:(c.setcelltext(b),!0)},XF_TABLE.prototype.setcelltextex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?!1:(c.setcelltext(b),!0)},XF_TABLE.prototype.getcelltooltiptext=function(a){var b=this._gettablecellbyid(a);return null==b?"":b.getcelltooltiptext()},XF_TABLE.prototype.getcelltooltiptextex=function(a){var b;return a=_xfu["int"](a),b=this._gettablecellbyindex(a),null==b?"":b.getcelltooltiptext()},XF_TABLE.prototype.setcelltooltiptext=function(a,b){var c=this._gettablecellbyid(a);return null==c?!1:(c.setcelltooltiptext(b),!0)},XF_TABLE.prototype.setcelltooltiptextex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?!1:(c.setcelltooltiptext(b),!0)},XF_TABLE.prototype.getcelluserdata=function(a,b){var c=this._gettablecellbyid(a);return null==c?"":c._getcelluserdata(b)},XF_TABLE.prototype.getcelluserdataex=function(a,b){var c;return a=_xfu["int"](a),c=this._gettablecellbyindex(a),null==c?"":c.getcelluserdata(b)},XF_TABLE.prototype.setcelluserdata=function(a,b,c){var d=this._gettablecellbyid(a);return null==d?!1:(d.setcelluserdata(b,c),!0)},XF_TABLE.prototype.setcelluserdataex=function(a,b,c){var d;return a=_xfu["int"](a),d=this._gettablecellbyindex(a),null==d?!1:(d._setcelluserdata(b,c),!0)},XF_TABLE.prototype.setcellattribute=function(a,b,c,d,e,f,g){var h=this._gettablecellbyid(a);return null==h?!1:(h.setcellattribute(b,c,d,e,f,g),!0)},XF_TABLE.prototype.setcellattributeex=function(a,b,c,d,e,f,g){var h;return a=_xfu["int"](a),h=this._gettablecellbyindex(a),null==h?!1:(h.setcellattribute(b,c,d,e,f,g),!0)},XF_TABLE.prototype.settablelayout=function(a,b,c,d){var e,f,g,h,i,j;for(a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),e=d*b,f=c*a,this.xf_object.css({width:_xfu.px(f-(a-1)),height:_xfu["int"](e-(b-1))}),this.xf_object.empty(),this.table_cell_array=[],g=0;b>g;g++)for(j=d*g-g,h=0;a>h;h++)i=c*h-h,this.table_cell_array.push(new XF_TABLE_CELL(this,{x:i,y:j,width:c,height:d,cell_index:g*b+h,font:this.font_prop_str,border_color:this.xf_prop.line_color}))},XF_TABLE.prototype.setzorder=function(a){return _xf_zorder(this,a)},XF_TABLE.prototype.showcellline=function(a,b,c){var d=this._gettablecellbyid(a);return null==d?!1:(d.showcellline(b,c),!0)},XF_TABLE.prototype.showcelllineex=function(a,b,c){var d;return a=_xfu["int"](a),d=this._gettablecellbyindex(a),null==d?!1:(d.showcellline(b,c),!0)},XF_TABLE_CELL.prototype._init=function(a){this.xf_table=a,this.control_kind=XFD_CTRLKIND_TABLE,this.object_kind=XFD_OBJKIND_CONTROL,this.pattern_type=XFD_PATTERN_TYPE_NONE,this.xf_regexp=null,this.css_arr=[],this.css_text_arr=[]},XF_TABLE_CELL.prototype._prop=function(a){this.xf_prop={x:0,y:0,width:100,height:26,fore_color:[0,0,0],back_color:[255,255,255],font_name:"굴림체",font_size:"9",font_bold:"0",font_italic:"0",font_underline:"0",font_strikeout:"0",horz_align:1,vert_align:1,text:"",gradient_effect:0,gradient_startcolor:[255,255,255],gradient_endcolor:[225,225,225],cell_id:"",pattern:"",back_image:"",back_imagehorzalign:0,back_imagevertalign:1,border_left:1,border_top:1,border_right:1,border_bottom:1,cell_meta_id:"",position:0,cell_index:0,text_margin:[2,2,0,0],font:["굴림체",9,0,0,0,0],tooltip:"",user_data:{}},this.event_name_arr=["on_click"],void 0!=a.font_name&&a.font_name.length>0&&(a.font=a.font_name+","+a.font_size+","+a.font_bold+","+a.font_italic+","+a.font_underline+","+a.font_strikeout),a.is_new_spec||(void 0!=a.image_vert_align&&(a.image_vert_align-=3),void 0!=a.vert_align&&(a.vert_align-=3)),void 0!=a.text&&(a.text=_xfu.trimquot(a.text)),void 0!=a.cell_id&&a.cell_id.length>0?a.internal_name=this.xf_table.xf_prop.internal_name+"_"+a.cell_id:a.internal_name=this.xf_table.xf_prop.internal_name+"_cell_"+a.cell_index,_xfx.style(this.xf_table,a),_xfx.propconv(this.xf_table,this.xf_prop,a),$.extend(this.xf_prop,a),this.xf_prop.pattern.substring(0,2)=="9"+factory_xf_param.SCREEN_DECIMAL_SEPARATOR?this.pattern_type=XFD_PATTERN_TYPE_NUMBER:this.pattern_type=_xfp.type(this.xf_prop.pattern,XFD_PATTERN_TYPE_NONE,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR),this.pattern_type==XFD_PATTERN_TYPE_CUSTOM&&(this.xf_regexp=_xfp.regexp(this.xf_prop.pattern)),this.number_pattern_info=_xfp.numberpatterninfo(this.xf_prop.pattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR),this._css(a),this._css_text(a)},XF_TABLE_CELL.prototype._css=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_arr,["position","fore_color","back_color","hidden","horz_align","text_margin"]),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),_xfx.propflexalign(this,a,this.css_arr))},XF_TABLE_CELL.prototype._css_text=function(a){1!=_xf_htmlready_mode&&_xfx.propcss(this,a,this.css_text_arr,["font"])},XF_TABLE_CELL.prototype._box=function(){var a,b;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' title="'+_xfu.quot(this.xf_prop.tooltip)+'"'),a.push(' class="_xf_table_cell"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),this.border(a),a.push('">'),b=_xfp.fmt(this.xf_prop.text,this.pattern_type,this.number_pattern_info.places,this.number_pattern_info.allow_minus,this.number_pattern_info.fill_zero_count,0,this.xf_regexp,factory_xf_param.VALUE_DECIMAL_SEPARATOR,factory_xf_param.USER_DECIMAL_SEPARATOR,factory_xf_param.USER_THOUSANDS_SEPARATOR),a.push('<span class="_xf_table_cell_label _xfd_padding'),a.push('" style="'),a.push(this.css_text_arr.join("")),a.push('">'+b+"</span>"),a.push("</div>")),0==_xf_htmlready_mode?(this.xf_object=$(a.join("")),this.xf_table.xf_object.append(this.xf_object),this.css_arr=[],this.css_text_arr=[]):this.xf_object=$("#"+this.xf_prop.internal_name)},XF_TABLE_CELL.prototype._dom=function(){this.xf_label=this.xf_object.find("span")},XF_TABLE_CELL.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("click",$.proxy(this.on_object_click,this))},XF_TABLE_CELL.prototype._create=function(){this._dom(),this._event()},XF_TABLE_CELL.prototype.border=function(a){var b;return b=this.xf_table.xf_prop.line_width+"px solid "+_xfu.rgbfunc(this.xf_table.xf_prop.line_color),void 0!==a?(a.push("border:"+b+";"),0==this.xf_prop.border_left&&a.push("border-left:none;"),0==this.xf_prop.border_right&&a.push("border-right:none;"),0==this.xf_prop.border_top&&a.push("border-top:none;"),0==this.xf_prop.border_bottom&&a.push("border-bottom:none;"),a.join("")):(this.xf_object.css("border",b),0==this.xf_prop.border_left&&this.xf_object.css("border-left","none"),0==this.xf_prop.border_right&&this.xf_object.css("border-right","none"),0==this.xf_prop.border_top&&this.xf_object.css("border-top","none"),0==this.xf_prop.border_bottom&&this.xf_object.css("border-bottom","none"),void 0)},XF_TABLE_CELL.prototype.getcelltext=function(){return this.xf_prop.text},XF_TABLE_CELL.prototype.setcelltext=function(a){var b;this.xf_prop.text=a,b=_xfp.fmt(this.xf_prop.text,this.pattern_type,this.number_pattern_info.places,this.number_pattern_info.allow_minus,this.number_pattern_info.fill_zero_count,0,this.xf_regexp,factory_xf_param.VALUE_DECIMAL_SEPARATOR,factory_xf_param.USER_DECIMAL_SEPARATOR,factory_xf_param.USER_THOUSANDS_SEPARATOR),this.xf_label.text(b)},XF_TABLE_CELL.prototype.getcellmetaid=function(){return this.xf_prop.cell_meta_id},XF_TABLE_CELL.prototype.setcellmetaid=function(a){this.xf_prop.cell_meta_id=a},XF_TABLE_CELL.prototype.getcellimage=function(){return this.xf_prop.image},XF_TABLE_CELL.prototype.setcellimage=function(a){this.xf_prop.back_image=a,_xfc.gradient(this.xf_object,this.xf_prop.gradient_effect,this.xf_prop.gradient_startcolor,this.xf_prop.gradient_endcolor,this.xf_prop.back_image,null)},XF_TABLE_CELL.prototype.getcelluserdata=function(a){return void 0!=this.xf_prop.user_data.data_key?this.xf_prop.user_data.data_key:""},XF_TABLE_CELL.prototype.setcelluserdata=function(a,b){this.xf_prop.user_data.data_key=b},XF_TABLE_CELL.prototype.getcelltooltiptext=function(){return this.xf_prop.tooltip},XF_TABLE_CELL.prototype.setcelltooltiptext=function(a){this.xf_prop.tooltip=a,this.xf_object.prop("title",this.xf_prop.tooltip)},XF_TABLE_CELL.prototype.getcellbackcolor=function(){return _xfu.color(this.xf_prop.back_color)},XF_TABLE_CELL.prototype.setcellbackcolor=function(a){this.xf_prop.back_color=_xfu.rgb(a),this.xf_object.css("background-color",_xfu.rgbfunc(this.xf_prop.back_color))},XF_TABLE_CELL.prototype.getcellforecolor=function(){return _xfu.color(this.xf_prop.fore_color)},XF_TABLE_CELL.prototype.setcellforecolor=function(a){this.xf_prop.fore_color=_xfu.rgb(a),this.xf_object.css("color",_xfu.rgbfunc(this.xf_prop.fore_color))},XF_TABLE_CELL.prototype.getcellfont=function(){return _xfx.getfont(this.xf_prop.font)},XF_TABLE_CELL.prototype.setcellfont=function(a,b,c,d,e){return _xfx.setfont(this.xf_label,this.xf_prop.font,a,b,c,d,e)},XF_TABLE_CELL.prototype.showcellline=function(a,b){0==a?1==b?this.xf_prop.border_left=1:this.xf_prop.border_left=0:1==a?1==b?this.xf_prop.border_top=1:this.xf_prop.border_top=0:2==a?1==b?this.xf_prop.border_right=1:this.xf_prop.border_right=0:3==a&&(1==b?this.xf_prop.border_bottom=1:this.xf_prop.border_bottom=0),this.border()},XF_TABLE_CELL.prototype.setcellvertalign=function(a){this.xf_prop.vert_align=_xfu["int"](a),_xfc.alignitems(this.xf_object,this.xf_prop.vert_align)},XF_TABLE_CELL.prototype.setcellhorzalign=function(a){this.xf_prop.horz_align=_xfu["int"](a),_xfc.basic("horz_align",this.xf_prop.horz_align,!0,this.xf_object),_xfc.justifycontent(this.xf_object,this.xf_prop.horz_align)},XF_TABLE_CELL.prototype.setcellattribute=function(a,b,c,d,e,f){this.setcelltext(a),this.setcellvertalign(c),this.setcellhorzalign(b),this.setcellforecolor(e),this.setcellbackcolor(d),this.setcellimage(f)},XF_TABLE_CELL.prototype.getcellid=function(){return this.xf_prop.cell_id},XF_TABLE_CELL.prototype.on_object_mousedown=function(a){factory.registermouseevent(this,a),0==this.xf_table.xf_prop.dragable&&0==this.xf_table.xf_prop.click_setfocus&&a.preventDefault()},XF_TABLE_CELL.prototype.on_object_click=function(a){this.xf_table.xf_prop.enable&&!this.xf_table.is_event_locked&&factory._fireevent({xf_component:this.xf_table,event_name:"on_click",is_fire_async:!0},this.xf_table,this.xf_prop.cell_id,this.xf_prop.cell_index)};