/* 2020-10-30 18:04 */ function XF_MULTILINE(a,b){this._init(a,b),_xfx.islistviewtemplate(this,b)||(this._prop(b),this._box(),this.xf_prop.create_mode==_XFD_CREATEMODE_GRID&&this._create())}XF_MULTILINE.prototype._init=function(a,b){_xfx.init(this,a,XFD_OBJKIND_CONTROL,XFD_CTRLKIND_MULTILINE,b),this.css_dom_arr=[],this.event_keydown=null,this.count_keydown=0,this.value="",this.value_on_focus="",this.cursor_on_blur=-1,this.focused_by=0},XF_MULTILINE.prototype._prop=function(a){this.xf_prop={style:"",custom_input_attr:"",custom_input_class:"",font:["굴림체",9,0,0,0,0],fore_color:[0,0,0],back_color:[255,255,255],back_color_opacity:10,transparent:!1,border:1,border_radius:"0",border_color:[180,180,180],disable_style_use:!1,fore_color_disable:[0,0,0],back_color_disable:[255,255,255],border_color_disable:[180,180,180],focus_style_use:!1,fore_color_focus:[0,0,0],back_color_focus:[255,255,255],border_color_focus:[180,180,180],back_image:"",back_imagesize:0,back_imagefillstyle:0,back_imagehorzalign:0,back_imagevertalign:0,apply_inputtypecolor:!0,image:"",mousehover:!1,mousehover_forecolor:[0,0,255],mousehover_backcolor:[255,255,255],mousehover_gradienteffect:0,mousehover_gradientstartcolor:[255,255,255],mousehover_gradientendcolor:[225,225,225],box_shadow_effect:!0,line_gap:0,line_height:0,show_horzscroll:0,show_vertscroll:1,resize_dir:0,max_length:15,min_length:0,meta_maxlength:0,max_length_unit:0,max_linecount:-1,default_value:"",default_value_usage:0,horz_align:0,text_margin:[1,1,1,1],dup_name:"",allow_dup:!1,auto_dup:!1,auto_clear:!1,make_case:0,input_type:0,inputtype_optionkind:0,enable:!0,hidden:!1,enterstop:!0,tabstop:!0,focus_select:0,hangul:!0,data_type:2,mouse_cursor:1,imemode:1,hint_text:"",popupmenu_show:!0,tooltip:""},this.event_name_arr=["on_prekeydown","on_keydown","on_change","on_focusout","on_focusin","on_validation","on_click","on_dblclick","on_rclick","on_changed"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),_xfx.xdataset(this,!0),this._css(a),this._css_dom(a),this.min_height=this.xf_prop.height,0==this.xf_prop.focus_select&&(void 0===factory_xf_param.FOCUS_SELECT_MULTILINE?this.xf_prop.focus_select=1:this.xf_prop.focus_select=factory_xf_param.FOCUS_SELECT_MULTILINE)},XF_MULTILINE.prototype._css_dom=function(a){_xf_htmlready_mode||(_xfx.propcss(this,a,this.css_dom_arr,["border_radius","fore_color","imemode","text_margin","vert_align"]),this.xf_prop.line_height>0?_xfx.propcss(this,a,this.css_arr,["line_height"]):this.xf_prop.line_gap>0&&_xfx.propcss(this,a,this.css_arr,["line_gap"]))},XF_MULTILINE.prototype._box=function(){var a;_xf_htmlready_mode||(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_multiline_div")+'"'),a.push(' draggable="false"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),0==this.xf_prop.enable&&_xfx.colorinput(this,null,this.xf_prop.enable,a),0===this.xf_prop.border?a.push("border-width: 0px;"):1===this.xf_prop.border?a.push("border-width: 1px; border-style:solid;"):a.push("border-width: 1px;"),this.xf_prop.box_shadow_effect===!1&&a.push("box-shadow:none;"),a.push('">'),a.push("<textarea"),a.push(' id="'+this.xf_prop.internal_name+'_multiline"'),a.push(' class="_xf_multiline _xf_multiline_input'),void 0!==this.xf_prop.custom_input_class&&this.xf_prop.custom_input_class.length>0&&a.push(" "+this.xf_prop.custom_input_class),a.push('"'),void 0!==this.xf_prop.custom_input_attr&&this.xf_prop.custom_input_attr.length>0&&a.push(" "+this.xf_prop.custom_input_attr),a.push(' type="text"'),a.push(' maxlength="'+this.xf_prop.max_length+'"'),this.xf_prop.show_horzscroll&&a.push(' wrap="off"'),this.xf_prop.hint_text.length>0&&a.push(' placeholder="'+this.xf_prop.hint_text+'"'),this.xf_prop.tooltip.length>0&&a.push(' title="'+_xfu.quot(this.xf_prop.tooltip)+'"'),0==this.xf_prop.enable&&a.push(" disabled"),1==this.xf_prop.input_type?a.push(" required"):2==this.xf_prop.input_type&&a.push(" readOnly"),a.push(' draggable="false"'),a.push(' style="'),a.push(this.css_dom_arr.join("")),1==this.xf_prop.show_horzscroll?a.push("overflow-x:auto;"):2==this.xf_prop.show_horzscroll?a.push("overflow-x:scroll;"):a.push("overflow-x:hidden;"),1==this.xf_prop.show_vertscroll?a.push("overflow-y:auto;"):2==this.xf_prop.show_vertscroll?a.push("overflow-y:scroll;"):a.push("overflow-y:hidden;"),a.push("background-color:transparent;"),a.push("color:inherit;"),this.xf_prop.box_shadow_effect===!1&&a.push("box-shadow:none;"),a.push('"></textarea>'),a.push("<textarea"),a.push(' tabindex="-1"'),a.push(' class="_xf_multiline _xf_multiline_linecount"'),a.push(' type="text"'),a.push(' maxlength="'+this.xf_prop.max_length+'"'),this.xf_prop.show_horzscroll?a.push(' wrap="off"'):2==this.xf_prop.input_type&&a.push(" readOnly"),a.push(' draggable="false"'),a.push(' style="'),a.push(this.css_dom_arr.join("")),1==this.xf_prop.show_horzscroll?a.push("overflow-x:auto;"):2==this.xf_prop.show_horzscroll?a.push("overflow-x:scroll;"):a.push("overflow-x:hidden;"),1==this.xf_prop.show_vertscroll?a.push("overflow-y:auto;"):2==this.xf_prop.show_vertscroll?a.push("overflow-y:scroll;"):a.push("overflow-y:hidden;"),this.xf_prop.box_shadow_effect===!1&&a.push("box-shadow:none;"),a.push("height:0px;"),a.push("visibility:hidden;"),a.push('"></textarea>'),a.push("</div>")),_xfx.register(this,!1,a)},XF_MULTILINE.prototype._dom=function(){this.xf_multiline=this.xf_object.find("._xf_multiline_input"),this.xf_linecount=this.xf_object.find("._xf_multiline_linecount")},XF_MULTILINE.prototype._offevent=function(){_xfj.offevent(this.xf_multiline,["keydown","keyup","change","blur","focus","copy","cut","dragstart"])},XF_MULTILINE.prototype._event=function(){this.xf_multiline.on("keydown",$.proxy(this.on_input_keydown,this)),this.xf_multiline.on("keyup",$.proxy(this.on_input_keyup,this)),this.xf_multiline.on("change",$.proxy(this.on_input_change,this)),this.xf_multiline.on("blur",$.proxy(this.on_input_blur,this)),this.xf_multiline.on("focus",$.proxy(this.on_input_focus,this)),this.xf_multiline.on("mousedown",$.proxy(this.on_input_mousedown,this)),this.xf_multiline.on("click",$.proxy(this.on_input_click,this)),this.xf_multiline.on("dblclick",$.proxy(this.on_input_dblclick,this)),this.xf_multiline.on("contextmenu",$.proxy(this.on_input_rclick,this)),this.xf_multiline.on("copy",$.proxy(this.on_input_copy,this)),this.xf_multiline.on("cut",$.proxy(this.on_input_cut,this)),this.xf_multiline.on("paste",$.proxy(this.on_input_paste,this)),this.xf_multiline.on("dragstart",$.proxy(this.on_input_dragstart,this))},XF_MULTILINE.prototype._create=function(){this._input_create()},XF_MULTILINE.prototype._setvalue=function(a,b){var c,d,e,f,g,h,i;return void 0===b.is_fire_async&&(b.is_fire_async=!0),f="",g=!1,1==this.is_edit_cancel&&b.is_fire_editcomplete&&this.xf_prop.on_editcomplete?void this.xf_prop.on_editcomplete(this,this.is_edit_cancel):(b.event_type!=XFD_DATA_CHANGE_BY_API&&b.event_type!=XFD_DATA_CHANGE_BY_XDATASET||(this.value_on_focus=this.value),this.xf_multiline&&(f=this.xf_multiline.val()),a=_xfu.str(a),c=0==this.xf_prop.max_length_unit?_xfu.trimlength(a,this.xf_prop.max_length):_xfu.trimlength(a,this.xf_prop.max_length,!0,1),this.xf_prop.max_linecount>0&&(e=c.split("\n"),d=e.length,d>this.xf_prop.max_linecount&&(e=e.slice(0,this.xf_prop.max_linecount),c=e.join("\n"))),f!=c&&this.xf_multiline&&this.xf_multiline.val(c),this.value!=c&&(this.value=c,g=!0,b.event_type!=XFD_DATA_CHANGE_BY_XDATASET&&b.event_type!=XFD_DATA_CHANGE_BY_API||this.xf_multiline&&this.xf_multiline.val(this.value),b.is_set_xdataset&&this._setxdatasetvalue(this.value),b.is_fire_event&&(factory._fireevent({xf_component:this,event_name:"on_change"},this),this.xf_prop.xf_grid&&this.xf_prop.xf_grid.on_item_editchange(this.xf_prop.row_index,this.xf_prop.sub_row_index,this.xf_prop.column_index,this.value,!0),b.event_type!=XFD_DATA_CHANGE_BY_API&&b.event_type!=XFD_DATA_CHANGE_BY_XDATASET||(i=this.value_on_focus,this.value_on_focus=this.value,factory._fireevent({xf_component:this,event_name:"on_changed",is_fire_async:b.is_fire_async},this,i,this.value),this.xf_prop.xf_grid&&this.xf_prop.xf_grid.on_item_editchanged(this.xf_prop.row_index,this.xf_prop.sub_row_index,this.xf_prop.column_index,i,this.value,!0))),b.event_type!=XFD_DATA_CHANGE_BY_API&&b.event_type!=XFD_DATA_CHANGE_BY_XDATASET||(this.value_on_focus=this.value)),b.event_type==XFD_DATA_CHANGE_BY_KEYUP&&1==g&&void 0!==b.cursor_pos&&(h=b.cursor_pos,_xfj.position(this.xf_multiline.get(0),h)),b.is_set_focus&&(0==this.is_has_focus?this.setfocus():b.event_type==XFD_DATA_CHANGE_BY_API&&2!=this.xf_prop.focus_select&&this.setsel(0,-1)),b.event_type==XFD_DATA_CHANGE_BY_BLUR&&(this.xf_prop.create_mode!=_XFD_CREATEMODE_GRID&&factory._setdupdata(this,this.value),b.is_fire_event&&this.value_on_focus!=this.value&&(i=this.value_on_focus,this.value_on_focus=this.value,factory._fireevent({xf_component:this,event_name:"on_changed",is_fire_async:!0},this,i,this.value)),this.value_on_focus=this.value,factory._fireevent({xf_component:this,event_name:"on_focusout",is_fire_async:!0},this,this.focusout_type)),this._autoheight(),void(b.is_fire_editcomplete&&this.xf_prop.on_editcomplete&&this.xf_prop.on_editcomplete(this,this.is_edit_cancel)))},XF_MULTILINE.prototype._autoheight=function(){var a;this.xf_multiline&&0!=this.xf_prop.height_type&&(this.xf_multiline.height("1px"),a=this.xf_multiline[0].scrollHeight,a>this.min_height-this.border_info.top.width+this.border_info.bottom.width?this.setheight(a+this.border_info.top.width+this.border_info.bottom.width):a<this.min_height&&this.setheight(this.min_height),this.xf_multiline.height("100%"))},XF_MULTILINE.prototype.getlinegap=function(){return this.xf_prop.line_gap},XF_MULTILINE.prototype.setlinegap=function(a){return a=_xfu["int"](a),isNaN(a)||0>a||a>10?!1:(this.xf_prop.line_gap=a,void this.xf_object.css("line-height",100+10*a+"%"))},XF_MULTILINE.prototype.getmaxlinecount=function(){return this.xf_prop.max_linecount},XF_MULTILINE.prototype.setmaxlinecount=function(a){return a=_xfu["int"](a),isNaN(a)||0==a?!1:void(this.xf_prop.max_linecount=a)},XF_MULTILINE.prototype.isshowscrollbar=function(a){return a=_xfu.intval(a,0,1),a===!1?!1:0==a?this.xf_prop.show_horzscroll:this.xf_prop.show_vertscroll},XF_MULTILINE.prototype.showscrollbar=function(a,b){return a===!0&&(a=1),b===!0&&(b=1),a=_xfu.intval(a,-1,2),b=_xfu.intval(b,-1,2),a===!1||b===!1?!1:(a>=0&&this._showhorzscroll(a),b>=0&&this._showvertscroll(b),!0)},XF_MULTILINE.prototype._showhorzscroll=function(a){return a===!0&&(a=1),a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.show_horzscroll=a,a>0?(this.xf_multiline.attr("wrap","off"),1==a?this.xf_multiline.css("overflow-x","auto"):2==a&&this.xf_multiline.css("overflow-x","scroll")):(this.xf_multiline.attr("wrap",""),this.xf_multiline.css("overflow-x","hidden")),!0)},XF_MULTILINE.prototype._showvertscroll=function(a){return a===!0&&(a=1),a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.show_vertscroll=a,a>0?1==a?this.xf_multiline.css("overflow-y","auto"):2==a&&this.xf_multiline.css("overflow-y","scroll"):this.xf_multiline.css("overflow-y","hidden"),!0)},XF_MULTILINE.prototype.on_input_focus=function(a){1!=this.is_has_focus&&(this.count_keydown=0,this.focusout_type=0,this.is_has_focus=!0,this.value_on_focus=this.value,_xfx.colorfocus(this,this.xf_object,!0,null),this.xf_parent&&this.xf_parent.xf_content&&!this.xf_parent.xf_content.on_child_focus(this)||(this.xf_object.hasClass("_xf_multiline_div_focus")||this.xf_object.addClass("_xf_multiline_div_focus"),this.on_input_focusselect(),factory._fireevent({xf_component:this,event_name:"on_focusin",is_fire_async:!0},this)))},XF_MULTILINE.prototype.on_input_blur=function(a){return this.is_has_focus=!1,this.xf_object.hasClass("_xf_multiline_div_focus")&&this.xf_object.removeClass("_xf_multiline_div_focus"),this.cursor_on_blur=_xfj.position(this.xf_multiline[0]),_xfx.colorfocus(this,this.xf_object,!1,null),0==this.xf_prop.enable?!1:void this._setvalue(a.target.value,{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!0,is_set_focus:!1,event_type:XFD_DATA_CHANGE_BY_BLUR,is_close_calendar:!0})},XF_MULTILINE.prototype.on_input_paste=function(a){var b;if(this.xf_prop.enable&&2!=this.xf_prop.input_type&&3!=this.xf_prop.input_type)return b=_xfj.eventpastevalue(a),this._on_input_paste(b),!1},XF_MULTILINE.prototype._on_input_paste=function(a){var b,c,d,e,f,g,h,i,j;if(a=_xfj.pastevalue(a,!1),d=a.length,0!=d){if(c=this.xf_multiline.val().split(""),e=_xfj.select(this.xf_multiline.get(0)),b=e.end-e.start,b>0&&c.splice(e.start,b),i=e.start+d,c.splice(e.start,0,a),a=c.join(""),this.xf_prop.max_linecount>0&&(f=a.split("\n"),g=f.length,g>this.xf_prop.max_linecount)){if(0!=factory_xf_param.INVALID_VALUE_BY_API)return;f=f.slice(0,this.xf_prop.max_linecount),a=f.join("\n")}return this.xf_prop.max_linecount<=0?(this._setvalue(a,{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,cursor_pos:i,event_type:XFD_DATA_CHANGE_BY_KEYUP}),void(_xfu.isie()&&(j=this,setTimeout(function(){_xfj.position(j.xf_multiline.get(0),i)},0)))):void(0!=factory_xf_param.INVALID_VALUE_BY_API&&(h=0==this.xf_prop.max_length_unit?_xfu.bytelen(a,0):_xfu.bytelen(a,0,1),h>this.xf_prop.max_length)||(g=this._getvirtualcontentlinecount(a),g>this.xf_prop.max_linecount||(this._setvalue(a,{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,cursor_pos:i,event_type:XFD_DATA_CHANGE_BY_KEYUP}),_xfu.isie()&&(j=this,setTimeout(function(){_xfj.position(j.xf_multiline.get(0),i)},0)))))}},XF_MULTILINE.prototype._setnewlinevalue=function(a){var b,c,d,e;b=_xfj.position(this.xf_multiline.get(0)),c=_xfj.selectcount(this.xf_multiline.get(0)),d=a.target.value,e=d.substr(0,b+c)+"\n"+d.substr(b+c),this._setvalue(e,{is_fire_event:!0,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,cursor_pos:b+c+1,event_type:XFD_DATA_CHANGE_BY_KEYUP})},XF_MULTILINE.prototype._validatenewlinekeydown=function(){var a,b,c;return 0==_xfj.selectcount(this.xf_multiline.get(0))&&(c=_xfu.bytelen(this.value),c>=this.xf_prop.max_length)?(this.xf_multiline.prop("readOnly",!0),b=this,setTimeout(function(){b.xf_multiline.prop("readOnly",!1)},0),!1):this.xf_prop.max_linecount<=0?!0:(a=this._getcontentlinecount(),a>=this.xf_prop.max_linecount?(this.xf_multiline.prop("readOnly",!0),b=this,setTimeout(function(){b.xf_multiline.prop("readOnly",!1)},0),!1):!0)},XF_MULTILINE.prototype.on_input_keydown=function(a){var b,c,d;if(this.xf_prop.enable){if(this.count_keydown++,this.is_edit_cancel=!1,this.event_keydown=a,factory.key_hangul_arr[a.which]&&2!=this.xf_prop.data_type&&(0!=this.xf_prop.input_type&&1!=this.xf_prop.input_type||0==factory.is_ie&&0==factory.is_mobile&&(a.preventDefault(),this.xf_multiline.prop("readOnly",!0),d=this,setTimeout(function(){d.xf_multiline.prop("readOnly",!1)},0))),b=factory._firekeyevent(this,a,!1,"on_prekeydown"),1==b)return void a.preventDefault();if(_xfx.iskeydefined(a,factory.xf_param.KEYMAP_MULTILINE_SELECTALL))return a.preventDefault(),void this.setsel(0,-1);if(!(factory.is_mobile&&a.which!=XFD_KEY_ENTER||a.ctrlKey)){if(0==this._checklinecountbyevent(a)&&(a.preventDefault(),this.xf_multiline.prop("readOnly",!0),d=this,setTimeout(function(){d.xf_multiline.prop("readOnly",!1)},0)),a.which==XFD_KEY_TAB&&this.xf_prop.create_mode==_XFD_CREATEMODE_GRID)return 1==a.shiftKey?this.next_focus_dir=-1:this.next_focus_dir=1,this.xf_multiline.blur(),!1;if(a.which==XFD_KEY_ESC&&this.xf_prop.create_mode==_XFD_CREATEMODE_GRID)return this.is_edit_cancel=!0,this.xf_multiline.blur(),!1;if(0==a.altKey&&a.which==XFD_KEY_ENTER){if(this.xf_prop.create_mode==_XFD_CREATEMODE_GRID)return 2==factory_xf_param.GRID_EDITBOX_MULTILINE_NEWLINE?void this._validatenewlinekeydown():1==factory_xf_param.GRID_EDITBOX_MULTILINE_NEWLINE&&1==a.shiftKey?void this._validatenewlinekeydown():(0==a.shiftKey?this.next_focus_dir=1:this.next_focus_dir=-1,this.xf_multiline.blur(),!1);if(2==factory_xf_param.MULTILINE_NEWLINE)return void this._validatenewlinekeydown();if(1==factory_xf_param.MULTILINE_NEWLINE&&1==a.shiftKey)return void this._validatenewlinekeydown();if(0!=_xfx.iskeyfocus(a,this,!0))return!1}else if(0!=_xfx.iskeyfocus(a,this,!0))return!1;if(2==this.xf_prop.input_type)return void(a.which==XFD_KEY_BACKSPACE&&a.preventDefault());if(!this.xf_prop.xf_grid||a.which!=XFD_KEY_BACKSPACE&&a.which!=XFD_KEY_DELETE||factory._firekeyevent(this,a,!1,"on_keydown",!0),_xfx.iskeydupfield(a,this))return!1;if(factory.key_hangul_arr[a.which]&&2!=this.xf_prop.data_type)return this.is_hangul_keydown=!0,!1;if(a.altKey&&a.which==XFD_KEY_ENTER)if(this.xf_prop.create_mode==_XFD_CREATEMODE_GRID){if(0==factory_xf_param.GRID_EDITBOX_MULTILINE_NEWLINE)return 1==this._validatenewlinekeydown()&&this._setnewlinevalue(a),!1}else if(0==factory_xf_param.MULTILINE_NEWLINE)return 1==this._validatenewlinekeydown()&&this._setnewlinevalue(a),!1;(_xfx.iskeyinputblock(a,this)||_xfx.iskeyfunction(a))&&a.preventDefault(),(factory.key_print_arr[a.which]||factory.key_hangul_arr[a.which])&&0==_xfj.selectcount(this.xf_multiline.get(0))&&(c=_xfu.bytelen(this.value),c>=this.xf_prop.max_length&&(a.preventDefault(),this.xf_multiline.prop("readOnly",!0),d=this,setTimeout(function(){d.xf_multiline.prop("readOnly",!1)},0))),factory.key_stopbubble_arr[a.which]&&a.stopPropagation()}}},XF_MULTILINE.prototype.getcurline=function(){return this._getcaretpos().line_index},XF_MULTILINE.prototype.getcaretpos=function(){return this._getcaretpos().char_index},XF_MULTILINE.prototype._getcaretpos=function(){var a,b,c,d,e,f,g,h;for(h={line_index:-1,char_index:-1},g=this.getselstart(),f=this.gettext(),e=0,b=f.split("\n"),c=b.length,a=0;c>a;a++)if(d=b[a].length+1,e+=d,e>g){h.line_index=a,h.char_index=g-(e-d);break}return h},XF_MULTILINE.prototype.getlinecount=function(){var a,b;return a=this.gettext(),b=a.split("\n"),b.length},XF_MULTILINE.prototype.setcaretpos=function(a,b){var c,d,e,f,g,h,i;if(a=_xfu.intval(a,-1,XFD_MAX_VALUE),b=_xfu.intval(b,-1,XFD_MAX_VALUE),a===!1||b===!1)return!1;if(i=-1==a||-1==b?this._getcaretpos():{line_index:-1,char_index:-1},h=this.gettext(),d=h.split("\n"),e=d.length,a>-1&&a>=e)return!1;for(a>-1&&(i.line_index=a),b>-1&&(i.char_index=b),f=d[i.line_index].length,i.char_index>=f&&(i.char_index=f-1),g=0,c=0;c<i.line_index;c++)g+=d[c].length+1;this.setsel(g+b,g+b),this.xf_multiline.blur(),this.xf_multiline.focus()},XF_MULTILINE.prototype._scrolltocaret=function(a){var b,c,d,e;c={},c["line-height"]=_xfu.pc(100+10*this.xf_prop.line_gap),b=_xfj.textsize(this.gettext(),this.xf_prop.font,"",!0,c),d=this.gettext().split("\n"),e=b.height/d.length,this.xf_multiline.scrollTop(e*a+this.xf_prop.text_margin[2])},XF_MULTILINE.prototype.scrollpostofirst=function(a){if(void 0===a)a=XFD_SB_BOTH;else if(a=_xfu.intval(a,0,2),a===!1)return!1;switch(a){case XFD_SB_HORZ:this.xf_multiline[0].scrollLeft=0;break;case XFD_SB_VERT:this.xf_multiline[0].scrollTop=0;break;case XFD_SB_BOTH:this.xf_multiline[0].scrollLeft=0,this.xf_multiline[0].scrollTop=0}return!0},XF_MULTILINE.prototype.scrollpostolast=function(a){if(void 0===a)a=XFD_SB_BOTH;else if(a=_xfu.intval(a,0,2),a===!1)return!1;switch(a){case XFD_SB_HORZ:this.xf_multiline[0].scrollLeft=this.xf_multiline[0].scrollWidth;break;case XFD_SB_VERT:this.xf_multiline[0].scrollTop=this.xf_multiline[0].scrollHeight;break;case XFD_SB_BOTH:this.xf_multiline[0].scrollLeft=this.xf_multiline[0].scrollWidth,this.xf_multiline[0].scrollTop=this.xf_multiline[0].scrollHeight}return!0},XF_MULTILINE.prototype.getdatatype=function(){return this.xf_prop.data_type},XF_MULTILINE.prototype.setdatatype=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.data_type=a,!0)},XF_MULTILINE.prototype.gethangul=function(){return this.xf_prop.hangul},XF_MULTILINE.prototype.sethangul=function(a){return this.xf_prop.hangul=a,!0},XF_MULTILINE.prototype._getcontentlinecount=function(){var a,b,c,d;return d=this.xf_multiline[0],c=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,b=parseInt(c.lineHeight,10),d.style.height=0,a=d.scrollHeight,d.style.height="100%",parseInt(a/b,10)},XF_MULTILINE.prototype._getvirtualcontentlinecount=function(a){var b,c,d;return b=this.xf_object.clone(),c=b.find("textarea"),b.attr("id",""),c.attr("id",""),void 0===a?c.val(this.xf_multiline.val()):c.val(a),b.css({position:"absolute",top:_xfu.px(-1e5),width:_xfu.px(this.xf_object.outerWidth()),height:_xfu.px(this.xf_object.outerHeight()),lineHeight:this.xf_multiline.css("line-height")}),$(document.body).append(b),d=this._gettextarealinecount(c[0]),b.remove(),d},XF_MULTILINE.prototype._gettextarealinecount=function(a){var b,c,d;return d=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,c=parseInt(d.lineHeight,10),a.style.height=0,b=a.scrollHeight,a.style.height="100%",parseInt(b/c,10)},XF_MULTILINE.prototype._checklinecountbyevent=function(a){var b;return this.xf_prop.max_linecount<=0?!0:factory.key_print_arr[a.which]||factory.key_hangul_arr[a.which]?(b=factory.key_hangul_arr[a.which]?"가":_xfj.eventchar(a),this._checklinecountbyappendvalue(b)):!0},XF_MULTILINE.prototype._checklinecountbyappendvalue=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(this.xf_prop.max_linecount<=0)return!0;if(g=a.length,0==g)return!0;if(i=this.xf_multiline.val().split(""),j=_xfj.select(this.xf_multiline.get(0)),h=j.end-j.start,h>0&&i.splice(j.start,h),i.splice(j.start,0,a),k=i.join(""),this.xf_prop.max_linecount>0&&(l=k.split("\n"),e=l.length,e>this.xf_prop.max_linecount)){if(0!=factory_xf_param.INVALID_VALUE_BY_API)return!1;l=l.slice(0,this.xf_prop.max_linecount),k=l.join("\n")}return m=0==this.xf_prop.max_length_unit?_xfu.bytelen(k,0):_xfu.bytelen(k,0,1),m>this.xf_prop.max_length?!1:(this.xf_linecount.val(k),b=this.xf_linecount[0],f=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d=parseInt(f.lineHeight,10),b.style.height=0,c=b.scrollHeight,e=parseInt(c/d,10),!(e>this.xf_prop.max_linecount))};