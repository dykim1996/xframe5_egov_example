/* 2020-10-30 18:04 */ function XF_SPLITTER(a,b){this._init(a,b),this._prop(b),this._box()}XF_SPLITTER.MOVE_DIR_HORZ=0,XF_SPLITTER.MOVE_DIR_VERT=1,XF_SPLITTER.prototype._init=function(a,b){_xfx.init(this,a,XFD_OBJKIND_CONTROL,XFD_CTRLKIND_SPLITTER,b),this.is_bar_move=!1,this.mouse_x=0,this.mouse_y=0,this.curr_pos=0,this.move_start_pos=0,this.origin_zindex=0,this.mouse_range_top=0,this.mouse_range_bottom=0,this.mouse_range_left=0,this.mouse_range_right=0,this.primary_control_arr=[],this.secondary_control_arr=[]},XF_SPLITTER.prototype._prop=function(a){this.xf_prop={back_color:[255,255,255],transparent:!1,border:1,border_color:[180,180,180],border_ex:"",image_horz_align:1,image_vert_align:1,move_dir:0,limit_min:0,limit_max:0,enable:!0,hidden:!1,click_setfocus:!0,dragable:!1,primary_control:"",secondary_control:"",image_normal:"",image_hover:"",image_disable:"",image_down:"",back_image:"",back_imagesize:0,back_imagefillstyle:0,back_imagehorzalign:0,back_imagevertalign:0,gradient_effect:0,gradient_startcolor:[255,255,255],gradient_endcolor:[225,225,225],resize_dir:0},this.event_name_arr=["on_movestart","on_move","on_moveend","on_dblclick"],_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),this._css(a)},XF_SPLITTER.prototype._css=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_arr,["position","border_radius","hidden","back_imagefillstyle","back_imagesize"]),this.css_arr.push(this._cursor()),_xfx.propbackcolor(this,a,this.css_arr),_xfx.propgradient(this,a,this.css_arr),_xfx.propbackimagepos(this,a,this.css_arr),_xfx.bordercss(this,a,this.css_arr))},XF_SPLITTER.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push("<div"),a.push(' id="'+this.xf_prop.internal_name+'"'),a.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_splitter")+'"'),a.push(' style="'),a.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,a),a.push('">'),a.push("<img"),a.push(' class="_xf_splitter_image '),a.push(_xfc.alignclass(this.xf_prop.image_horz_align,this.xf_prop.image_vert_align)),a.push('"'),a.push(' draggable="false"'),a.push(' src="'),a.push(this._image("normal",!1)),a.push('"'),a.push('">'),a.push("</img>"),a.push("</div>")),_xfx.register(this,!1,a)},XF_SPLITTER.prototype._dom=function(){var a;a=this._getparentscrinstance(),this.xf_splitter_protect=a.xf_protect,this.origin_zindex=this.xf_object.css("z-index"),this.primary_control_arr=this._control(this.xf_prop.primary_control),this.secondary_control_arr=this._control(this.xf_prop.secondary_control),this.xf_image=this.xf_object.find("._xf_splitter_image")},XF_SPLITTER.prototype._offdocevent=function(){$(document).off("mouseup."+this.xf_prop.internal_name),$(document).off("mouseleave."+this.xf_prop.internal_name),$(document).off("touchend."+this.xf_prop.internal_name),$(document).off("mousemove."+this.xf_prop.internal_name),$(document).off("touchmove."+this.xf_prop.internal_name)},XF_SPLITTER.prototype._docevent=function(){this._offdocevent(),$(document).on("mouseup."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("mouseleave."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("touchend."+this.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),_xfu.isie()?$(document).on("mousemove."+this.xf_prop.internal_name,_xfu.throttle($.proxy(this.on_document_mousemove,this),10)):$(document).on("mousemove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this)),$(document).on("touchmove."+this.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this))},XF_SPLITTER.prototype._offevent=function(){_xfj.offevent(this.xf_object,["mousedown","mouseup","dblclick","mouseenter","mouseleave"])},XF_SPLITTER.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("touchstart",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("mouseup",$.proxy(this.on_object_mouseup,this)),this.xf_object.on("dblclick",$.proxy(this.on_object_dblclick,this)),this.xf_object.on("mouseenter",$.proxy(this.on_object_mouseenter,this)),this.xf_object.on("mouseleave",$.proxy(this.on_object_mouseleave,this))},XF_SPLITTER.prototype._create=function(){this._dom(),this._event()},XF_SPLITTER.prototype._cursor=function(a){var b;return b=this.xf_prop.enable?this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?"col-resize":"row-resize":"not-allowed",void 0===a||null===a?"cursor:"+b+";":void a.css("cursor",b)},XF_SPLITTER.prototype._doccursor=function(){var a;a=this.is_bar_move?this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?"col-resize":"row-resize":"default",$(document.body).css("cursor",a)},XF_SPLITTER.prototype._control=function(a){var b,c,d,e;if(e=[],""==a)return e;for(c=a.split(","),b=0;b<c.length;b++)c[b]=_xfu.trim(c[b]),d=screen.getinstancebyname(c[b]),null!==d&&e.push(d);return e},XF_SPLITTER.prototype._movesplitter=function(a){var b;this.curr_pos=a,this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?(b=a-this.xf_prop.x,this.setleft(a)):(b=a-this.xf_prop.y,this.settop(a)),this._movecontrols(b)},XF_SPLITTER.prototype._movecontrols=function(a){var b,c;if(this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ){for(b=0;b<this.primary_control_arr.length;b++)this.primary_control_arr[b].setwidth(this.primary_control_arr[b].xf_prop.width+a);for(b=0;b<this.secondary_control_arr.length;b++)c=this.secondary_control_arr[b].getrect(),this.secondary_control_arr[b].setrect(c[0]+a,c[1],c[2],c[3])}else{for(b=0;b<this.primary_control_arr.length;b++)this.primary_control_arr[b].setheight(this.primary_control_arr[b].xf_prop.height+a);for(b=0;b<this.secondary_control_arr.length;b++)c=this.secondary_control_arr[b].getrect(),this.secondary_control_arr[b].setrect(c[0],c[1]+a,c[2],c[3])}},XF_SPLITTER.prototype._image=function(a,b){var c;if(c="",void 0===b&&(b=!0),this.xf_prop.enable)switch(a){case"normal":c=this.xf_prop.image_normal;break;case"hover":c=this.xf_prop.image_hover;break;case"leave":c=this.xf_prop.image_normal;break;case"down":c=this.xf_prop.image_down}else c=this.xf_prop.image_disable;return b?void(c.length>0&&this.xf_image.prop("src",_xfx.imageurl(c))):_xfx.imageurl(c)},XF_SPLITTER.prototype.on_object_mousedown=function(a){var b,c,d,e;this.xf_prop.enable&&(factory.registermouseevent(this,a),0==this.xf_prop.dragable&&0==this.xf_prop.click_setfocus&&a.preventDefault(),this._image("down"),this.xf_object.css("z-index","3500100"),this.xf_splitter_protect.showprotectbysplitter(),this.is_bar_move=!0,this._doccursor(),this._docevent(),b=_xfj.eventpagexy(a),this.mouse_x=b.x,this.mouse_y=b.y,c=_xfx.parentsize(this),d=this.getwidth(),e=this.getheight(),this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?(this.move_start_pos=this.xf_prop.x,this.xf_prop.limit_max>c.width-d&&(this.xf_prop.limit_max=c.width-d)):(this.move_start_pos=this.xf_prop.y,this.xf_prop.limit_max>c.height-e&&(this.xf_prop.limit_max=c.height-e)),factory._fireevent({xf_component:this,event_name:"on_movestart",is_fire_async:!0},this,this.move_start_pos),this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?(this.mouse_range_left=this.mouse_x-this.xf_prop.x+this.xf_prop.limit_min,this.mouse_range_right=this.mouse_range_left+this.xf_prop.limit_max):(this.mouse_range_top=this.mouse_y-this.xf_prop.y+this.xf_prop.limit_min,this.mouse_range_bottom=this.mouse_range_top+this.xf_prop.limit_max))},XF_SPLITTER.prototype.on_object_mouseup=function(a){this.xf_prop.enable&&this._image("hover")},XF_SPLITTER.prototype.on_object_dblclick=function(a){factory._fireevent({xf_component:this,event_name:"on_dblclick",is_fire_async:!0},this,this.move_start_pos,this.xf_prop.limit_min,this.xf_prop.limit_max)},XF_SPLITTER.prototype.on_object_mouseenter=function(a){this.xf_prop.enable&&this._image("hover")},XF_SPLITTER.prototype.on_object_mouseleave=function(a){this.xf_prop.enable&&this._image("leave")},XF_SPLITTER.prototype.on_document_mousemove=function(a){var b,c,d,e,f;if(this.is_bar_move){if(f=_xfj.eventpagexy(a),this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ){if(b=f.x-this.mouse_x,Math.abs(b)<1)return}else if(b=f.y-this.mouse_y,Math.abs(b)<1)return;if(this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?this.mouse_x<this.mouse_range_left?b=f.x-this.mouse_range_left:this.mouse_x>this.mouse_range_right&&(b=f.x-this.mouse_range_right):this.mouse_y<this.mouse_range_top?b=f.y-this.mouse_range_top:this.mouse_y>this.mouse_range_bottom&&(b=f.y-this.mouse_range_bottom),this.mouse_x=f.x,this.mouse_y=f.y,this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ){if(b>0){if(f.x<this.mouse_range_left)return!0}else if(f.x>this.mouse_range_right)return!0}else if(b>0){if(f.y<this.mouse_range_top)return!0}else if(f.y>this.mouse_range_bottom)return!0;if(this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ){if(c=this.xf_prop.x+b,c<this.xf_prop.limit_min&&(c=this.xf_prop.limit_min),c>this.xf_prop.limit_max&&(c=this.xf_prop.limit_max),b=c-this.xf_prop.x,Math.abs(b)<1)return}else if(c=this.xf_prop.y+b,c<this.mouse_range_top&&(c=this.mouse_range_top),c>this.mouse_range_bottom&&(c=this.mouse_range_bottom),b=c-this.xf_prop.y,Math.abs(b)<1)return;this._movesplitter(c),e=this.curr_pos-this.move_start_pos,d=0,c==this.xf_prop.limit_min?d=-1:c==this.xf_prop.limit_max&&(d=1),factory._fireevent({xf_component:this,event_name:"on_move",is_fire_async:!0},this,this.move_start_pos,this.curr_pos,e,d)}},XF_SPLITTER.prototype.on_document_mouseup=function(a){var b;return this.xf_object.css("z-index",this.origin_zindex),this.xf_splitter_protect.hideprotectbysplitter(),this.is_bar_move?(this.on_document_mousemove(a),this.is_bar_move=!1,this._offdocevent(),this._doccursor(),b=this.curr_pos-this.move_start_pos,factory._fireevent({xf_component:this,event_name:"on_moveend",is_fire_async:!0},this,this.move_start_pos,this.curr_pos,b),!1):void 0},XF_SPLITTER.prototype.setenable=function(a,b){0!=this._isvalidsetenable(is_enable,b)&&this.xf_prop.enable!=a&&(this.xf_prop.enable=a,this._cursor(this.xf_object),this._image("normal"))},XF_SPLITTER.prototype.getlimitmin=function(){return this.xf_prop.limit_min},XF_SPLITTER.prototype.setlimitmin=function(a){this.xf_prop.limit_min=a},XF_SPLITTER.prototype.getlimitmax=function(){return this.xf_prop.limit_max},XF_SPLITTER.prototype.setlimitmax=function(a){this.xf_prop.limit_max=a},XF_SPLITTER.prototype.getimagenormal=function(){return this.xf_prop.image_normal},XF_SPLITTER.prototype.setimagenormal=function(a){this.xf_prop.image_normal=a,this.xf_object.css("background-image",0==a.length?"none":_xfx.imageurlfunc(a))},XF_SPLITTER.prototype.getimagehover=function(){return this.xf_prop.image_hover},XF_SPLITTER.prototype.setimagehover=function(a){this.xf_prop.image_hover=a},XF_SPLITTER.prototype.getimagedisable=function(){return this.xf_prop.image_disable},XF_SPLITTER.prototype.setimagedisable=function(a){this.xf_prop.image_disable=a},XF_SPLITTER.prototype.getimagedown=function(){return this.xf_prop.image_down},XF_SPLITTER.prototype.setimagedown=function(a){this.xf_prop.image_down=a},XF_SPLITTER.prototype.getprimarycontrol=function(){return this.xf_prop.primary_control},XF_SPLITTER.prototype.getsecondarycontrol=function(){return this.xf_prop.secondary_control},XF_SPLITTER.prototype.getimagehorzalign=function(){return this.xf_prop.image_horz_align},XF_SPLITTER.prototype.setimagehorzalign=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.image_horz_align=a,this.xf_object.css("background-position-x",0==a?"left":1==a?"center":"right"),!0)},XF_SPLITTER.prototype.getimagevertalign=function(){return this.xf_prop.image_vert_align},XF_SPLITTER.prototype.setimagevertalign=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.image_vert_align=a,this.xf_object.css("background-position-y",0==a?"top":1==a?"center":"bottom"),!0)},XF_SPLITTER.prototype.getinitposition=function(){return this.xf_prop.move_dir==XF_SPLITTER.MOVE_DIR_HORZ?this.originvalue.x:this.originvalue.y},XF_SPLITTER.prototype.movelimitmin=function(){this._movesplitter(this.getlimitmin())},XF_SPLITTER.prototype.movelimitmax=function(){this._movesplitter(this.getlimitmax())},XF_SPLITTER.prototype.moveinitposition=function(){this._movesplitter(this.getinitposition())};