/* 2020-10-30 18:04 */ function XF_GRID(a,b){this._init(a,b),this._member(),this._prop(b),this._box()}function XF_GRID_ROWBORDER(a){this._init(a),this._member(),this._box()}function XF_GRID_COLUMN(a,b,c){void 0==c&&(c=!0),this._init(a,b),this._member(),c&&this._create()}function XF_GRID_COLUMN_HEAD(a,b,c,d,e){this._init(a,b,c,d),this._prop(e),(void 0===e.is_append_mode||e.is_append_mode)&&this._create()}function XF_GRID_COLUMN_DATA(a,b,c,d){this._init(a,b,c),this._prop(d),this._data(),this._create()}function XF_GRID_FILTERBOX(a){this._init(a),this._prop()}function XF_GRID_FINDBOX(a){this._init(a),this._member(),this._prop()}function XF_GRID_FIXBAR(a,b){this._init(a),this._prop(b),this._box(),this._event()}function XF_GRID_GROUPBOX(a){this._init(a),this._member(),this._prop()}function XF_GRID_LINEBAR(a,b){this._init(a),this._prop(b),this._box()}function XF_GRID_POPUP_ALERT(a,b){this._init(a),this._prop(b),this._box(),this._dom(),this._event()}function XF_GRID_POPUP_FILTER(a){this._init(a),this._prop(),this._box(),this._dom(),this._event()}function XF_GRID_POPUP_FIND(a){this._init(a),this._prop(),this._box(),this._dom(),this._event(),this._create()}function XF_GRID_POPUP_FIXBAR(a){this._init(a),this._member(),this._prop(),this._box(),this._dom(),this._event()}function XF_GRID_POPUP_LOAD(a,b){this._init(a,b),this._prop(b),this._box(),this._dom(),this._event()}function XF_GRID_POPUP_MERGE(a){this._init(a),this._member(),this._prop(),this._box(),this._dom(),this._event()}function XF_GRID_POPUP_SAVE(a,b){this._init(a,b),this._prop(b),this._box(),this._dom(),this._event()}function XF_GRID_POPUP_SORT(a){this._init(a),this._member(),this._prop(),this._box(),this._dom(),this._event()}function XF_GRID_COLUMN_RESIZE(a,b,c){this._init(a,b),this._prop(c),this._box()}function XF_GRID_COLUMN_RESIZE_BAR(a,b){this._init(a),this._prop(b),this._box(),this._size(),this._event()}function XF_GRID_ROW_RESIZE(a,b,c){this._init(a,b),this._prop(c),this._box()}function XF_GRID_ROW_RESIZE_BAR(a,b){this._init(a),this._prop(b),this._box(),this._size(),this._event()}function XF_GRID_SCROLL(a,b){this._init(a),this._prop(b),this._box(),this._dom(),this._event()}function XF_GRID_SELECTBLOCK(a,b){this._init(a),this._member(),this._prop(b)}function XF_GRID_STAT_COLUMN(a,b,c){this._init(a,b),this._member(),this._prop(c),this._create()}function XF_GRID_STAT_COLUMN_HEAD(a,b){this._init(a,b)}function XF_GRID_STAT_COLUMN_DATA(a,b,c){this._init(a,b,c),this._prop()}function XF_GRID_STAT_ROW(a,b,c,d){this._init(a,b,c),this._prop(d)}XF_GRID.COLUMN_TABLE_LEFT=1,XF_GRID.COLUMN_TABLE_CENTER=2,XF_GRID.COLUMN_TABLE_RIGHT=3,XF_GRID.COLUMN_TABLE_RWD=8,XF_GRID.COLUMN_TABLE_ALL=9,XF_GRID.ROW_TABLE_HEAD=1,XF_GRID.ROW_TABLE_FIX=2,XF_GRID.ROW_TABLE_VIEW=3,XF_GRID.ROW_TABLE_STAT=4,XF_GRID.ROW_TABLE_RWD=8,XF_GRID.ROW_TABLE_ALL=9,XF_GRID.COLUMN_KIND_NONE=0,XF_GRID.COLUMN_KIND_HEAD=5,XF_GRID.COLUMN_KIND_DATA=3,XF_GRID.COLUMN_KIND_STAT=4,XF_GRID.COLUMN_DATA_NONE=0,XF_GRID.COLUMN_DATA_NO=1,XF_GRID.COLUMN_DATA_CHECK=2,XF_GRID.COLUMN_DATA_NORMAL=3,XF_GRID.COLUMN_DATA_STAT=4,XF_GRID.COLUMN_DATA_RWDHEAD=8,XF_GRID.ROW_KIND_NONE=0,XF_GRID.ROW_KIND_HEAD=1,XF_GRID.ROW_KIND_DATA=5,XF_GRID.ROW_KIND_STAT=4,XF_GRID.ROW_DATA_NONE=0,XF_GRID.ROW_DATA_HEAD=1,XF_GRID.ROW_DATA_NORMAL=5,XF_GRID.ROW_DATA_MIDSTAT=6,XF_GRID.ROW_DATA_STAT=4,XF_GRID.MERGE_INFO_HEADER=1,XF_GRID.MERGE_INFO_COLUMN=2,XF_GRID.MERGE_INFO_ITEM=3,XF_GRID.MERGE_INFO_STATROW=4,XF_GRID.MERGE_INFO_SUBITEM=5,XF_GRID.FILE_TYPE_GRID=0,XF_GRID.FILE_TYPE_CSV=1,XF_GRID.FILE_TYPE_EXCEL=2,XF_GRID.FILE_TYPE_TEXT=3,XF_GRID.FILE_TYPE_XML=4,XF_GRID.FILE_TYPE_JSON=5,XF_GRID.FILE_LOADSAVE_TYPE_LOCAL=1,XF_GRID.FILE_LOADSAVE_TYPE_SERVER=2,XF_GRID.EXTRA_TOP_ROW_COUNT=6,XF_GRID.EXTRA_BOTTOM_ROW_COUNT=6,XF_GRID.COLUMN_INPUT_TYPE_EDITBOX=0,XF_GRID.COLUMN_INPUT_TYPE_CHECKBOX=1,XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX=2,XF_GRID.COLUMN_INPUT_TYPE_CALENDAR=3,XF_GRID.COLUMN_INPUT_TYPE_RADIOBUTTON=4,XF_GRID.COLUMN_INPUT_TYPE_BARGAUGE=5,XF_GRID.COLUMN_INPUT_TYPE_SPINNUMBER=6,XF_GRID.COLUMN_INPUT_TYPE_HTML=7,XF_GRID.COLUMN_INPUT_TYPE_CHART=8,XF_GRID.COLUMN_INPUT_TYPE_BUTTON=9,XF_GRID.COLUMN_INPUT_TYPE_IMAGE=10,XF_GRID.COLUMN_INPUT_TYPE_COLOR=11,XF_GRID.COLUMN_INPUT_TYPE_TREE=99,XF_GRID.DATE_TYPE_YYYYMMDD=0,XF_GRID.DATE_TYPE_YYYYMM=1,XF_GRID.DATE_TYPE_YYYY=2,XF_GRID.DATE_TYPE_MMDD=3,XF_GRID.DATE_TYPE_MMDDYYYY=4,XF_GRID.DATE_TYPE_DDMMYYYY=5,XF_GRID.DATE_TYPE_MMYYYY=6,XF_GRID.DATE_TYPE_DDMM=7,XF_GRID.DATE_TYPE_MM=8,XF_GRID.ITEM_DEFAULT_PADDING=2,XF_GRID.HIDDEN_TD_HTML='<td class="_xf_grid_td" style="display:none;"></td>',XF_GRID.DEFAULT_FORECOLOR=[0,0,0],XF_GRID.USERACTION_FILE_DOWNLOADSTART=11,XF_GRID.USERACTION_FILE_DOWNLOADCANCEL=12,XF_GRID.USERACTION_FILE_UPLOADSTART=21,XF_GRID.USERACTION_FILE_UPLOADCANCEL=22,XF_GRID.REFRESH_TYPE_NONE=0,XF_GRID.REFRESH_TYPE_COLUMNRESIZE=1,XF_GRID.REFRESH_TYPE_COLUMNHEADCHECK=2,XF_GRID.prototype._init=function(a,b){this.xf_parent=a,this.control_kind=XFD_CTRLKIND_GRID,this.object_kind=XFD_OBJKIND_CONTROL,this.control_kind=b.control_kind,this.xf_create_prop=null,void 0!==b&&(this.xf_create_prop=$.extend({},b)),this.create_child_node_map=null,this.is_column_scroll_mode=!1,this.is_mobile_mode=!1,this.use_vertscroll_viewtable=factory_xf_param.GRID_VERTSCROLL_VIEWTABLE,this.use_horzscroll_viewtable=factory_xf_param.GRID_HORZSCROLL_VIEWTABLE,this.use_vertscroll_viewtable=!1,this.is_horzscroll_viewtable=!1,this.delay_item_click_timer_id=-1},XF_GRID.prototype._member=function(){this.is_check=!1,this.is_has_focus=!1,this.is_created=!1,this.is_event_locked=!1,this.is_expired=!1,this.xf_left_body=null,this.xf_center_body=null,this.xf_right_body=null,this.xf_left_foot=null,this.xf_center_foot=null,this.xf_right_foot=null,this.xf_left_body_resize=null,this.xf_center_body_resize=null,this.xf_right_body_resize=null,this.xf_fix_body_resize=null,this.xf_view_body_resize=null,this.xf_stat_body_resize=null,this.xf_fixbar_row=null,this.xf_fixbar_column=null,this.xf_linebar_headrow=null,this.xf_linebar_headcolumn=null,this.xf_linebar_statrow=null,this.xf_linebar_statcolumn=null,this.xf_grid_scroll=null,this.xf_data_column_arr=[],this.xf_stat_column_arr=[],this.xf_data_row_arr=[],this.data_row_count=0,this.xf_stat_row_arr=[],this.stat_row_count=0,this.xdataset_id="",this.xf_xdataset=null,this.xdataset_type=XFD_XDATASET_NORMAL,this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,this.xdataset_depth_column_id="DEPTH",this.xdataset_image_column_id="IMAGE",this.xdataset_selimage_column_id="SELIMAGE",this.xdataset_key_column_id="KEY",this.center_body_width=0,this.view_content_top=0,this.view_content_left=0,this.view_content_height=0,this.view_content_width=0,this.view_extra_height=0,this.view_extra_width=0,this.rwd_view_extra_height=0,this.view_table_width=0,this.view_top_row_index=0,this.view_start_row_index=0,this.view_end_row_index=0,this.view_display_row_count=0,this.view_left_column_index=0,this.view_right_column_index=0,this.view_start_column_index=0,this.view_end_column_index=0,this.view_display_column_count=0,this.view_hidden_row_count=0,this.view_content_row_count=0,this.view_max_row_count=0,this.view_row_count=0,this.view_column_width_info=null,this.rwd_view_max_row_count=0,this.rwd_view_row_count=0,this.rwd_row_height=0,this.rwd_sub_row_count=0,this.xf_selected_item=null,this.selected_row_index=-1,this.selected_sub_row_index=-1,this.selected_column_index=-1,this._ismultilinegrid()||(this.selected_sub_row_index=0),this.clicked_head_row_index=-1,this.clicked_head_sub_row_index=-1,this.clicked_head_column_index=-1,this.clicked_item_row_index=-1,this.clicked_item_sub_row_index=-1,this.clicked_item_column_index=-1,this.xf_item_edit_div=null,this.xf_item_edit_td=null,this.xf_item_edit_component=null,this.xf_context=null,this.xf_context_merge=null,this.xf_context_drop=null,this.xf_filterbox=null,this.is_filter_show=!1,this.xf_findbox=null,this.sub_row_count=1,this.sort_info_arr=[],this.filter_info_arr=[],this.is_filter_save=!1,this.midstat_info_arr=[],this.midstat_search_row_index=-1,this.load_file_info={file_name:"",file_obj:null},this.csv_file_info={start_row_no:1,is_show_progress:!0,row_count_per_grid_row:1,is_after_open_file:!1,is_prompt_overwrite:!0},this.text_file_info={start_row_no:1,is_show_progress:!0,row_count_per_grid_row:1,is_after_open_file:!1,is_prompt_overwrite:!0},this.find_option_info={search_text:"",is_search_from_toprow:!1,is_search_all_column:!0,search_column_index:0,selected_row_index:-1,selected_sub_row_index:0,selected_column_index:-1,compare_type:1,is_search_loop:!0,is_match_case:!1},this.excel_title_info_arr=[],this.excel_info={excel_start_sheet_no:1,excel_end_sheet_no:1,excel_start_row_no:1,excel_start_column_name:"A",excel_start_column_no:1,is_show_progress:!0,excel_row_count_per_grid_row:1},this.header_merge_info_arr=[],this.header_merge_info_count=0,this.subitem_merge_info_arr=[],this.subitem_merge_info_count=-1,this.display_header_merge_info_arr=[],this.display_header_merge_info_count=0,this.xf_header_row_arr=[],this.column_merge_info_arr=[],this.column_merge_info_count=0,this.statrow_merge_info_arr=[],this.statrow_merge_info_count=0,this.display_statrow_merge_info_arr=[],this.display_statrow_merge_info_count=0,this.item_merge_info_arr=[],this.item_merge_info_count=0,this.is_enable_checkrow=!0,this.fixedrows=0,this.fixedcols=0,this.mouse_move_row_index=-1,this.mouse_move_sub_row_index=-1,this.mouse_move_column_index=-1,this.pivot_info=null,this.css_arr=[],this.is_touchmove_mode=!1,this.is_rwd_mode=!1,this.is_rowheight_mode=!1,this.is_rowcellline_mode=!1,this.class_td_selected="",this.class_tr_selected="",this.class_tr_hovered="",this.class_tr_hover="",this.class_tr="",this.class_tr_divide="",this.class_head_gradient="",this.xf_mouse_enter_tr_1=null,this.xf_mouse_enter_tr_2=null,this.is_mouse_enter_event_set=!1,this.originvalue={parentwidth:0,parentheight:0,x:0,y:0,right:0,bottom:0,width:0,height:0},this.is_treeimage_show=!0,this.is_chart_column_exist=!1,this.is_autorowheight_column_exist=!1,this.xf_selectblock=null,this.selectblock_info={start_row_index:-1,end_row_index:-1,start_column_index:-1,end_column_index:-1},this.td_merge_info={start_row_index:0,end_row_index:0,start_column_index:0,end_column_index:0},this.xf_dragdrop=null,this.border_info={left:{width:0,color:0,style:"1"},top:{width:0,color:0,style:"1"},right:{width:0,color:0,style:"1"},bottom:{width:0,color:0,style:"1"}},this.is_next_item_editable=!0,this.is_statcheck_hiddenitem=!1,this.padding_left=0,this.padding_right=0,this.padding_top=0,this.padding_bottom=0,this.table_jdom_map=[],this.tr_jdom_map=[],this.tr_meta_map=[],this.linenumber_html_map=[],this.checkrow_html_map=[],this.cell_textmargin=[2,2,0,0],this.header_textmargin=[2,2,0,0],this.header_forecolor_css="",this.linenumber_header_forecolor_css="",this.linenumber_cell_forecolor_css="",this.non_editable_status="absolute",this.mouseevent_item_info={row_kind_type:XF_GRID.ROW_KIND_NONE,column_data_type:XF_GRID.COLUMN_DATA_NONE,row_index:-1,sub_row_index:-1,column_index:-1},this.click_tick_count=0,this.load_file_name="",this.event_keydown=null,this.update_autorowheight_merge=!1,this.is_stat_exclude_merged_item=!1},XF_GRID.prototype._prop=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(this.xf_prop={style:"",fore_color:[0,0,0],header_forecolor:[0,0,0],back_color:[255,255,255],header_backcolor:[210,210,210],back_image:"",back_imagehorzalign:1,back_imagevertalign:1,back_imageshow:0,cell_height:18,font:["굴림체",9,0,0,0,0],cell_dividerowcount:5,cell_dividecolor:[235,235,235],cell_dividecolor_use:!0,cell_dividestatcolumn:!0,cell_linecolor:[180,180,180],cell_linecolor_horzuse:!1,cell_linecolor_horz:[180,180,180],cell_linecolor_vertuse:!1,cell_linecolor_vert:[180,180,180],cell_line_vertstyle:1,cell_line_horzstyle:1,cellinner_linecolor_horzuse:!1,cellinner_linecolor_horz:[180,180,180],cellinner_line_horzstyle:1,border:1,border_color:[180,180,180],hoverrowcolor:0,hoverrow_style:0,hoverrow_backcolor:[194,200,218],hoverrow_forecolor:[0,0,0],hoverrow_statcolumn:!1,selectrow_style:1,selectrow_backcolor:[194,200,218],selectrow_forecolor:[0,0,0],selectrow_bordercolor:[61,74,109],selectrow_statcolumn:!1,selectcell_style:1,selectcell_backcolor:[114,120,168],selectcell_forecolor:[255,255,255],header_horzcount:1,header_vertcount:0,headerstyle_vertcount:0,header_horzrow_info:"",header_style:1,header_font:["굴림체",9,0,0,0,0],header_height:18,header_clicksort:!1,header_bottombar_color:[180,180,180],header_bottombar_show:!1,header_rightbar_color:[180,180,180],header_rightbar_show:!1,statrow_topbar_color:[180,180,180],statrow_topbar_show:!1,statcolumn_leftbar_color:[180,180,180],statcolumn_leftbar_show:!1,gradient_effect:0,gradient_startcolor:[255,255,255],gradient_endcolor:[225,225,225],linenumber_show:!1,linenumber_width:40,linenumber_title:"순번",linenumber_hd_forecolor:[0,0,0],linenumber_hd_backcolor:[210,210,210],linenumber_forecolor:[0,0,0],linenumber_backcolor:[210,210,210],linenumber_style:0,linenumber_statrowstyle:0,linenumber_offset:0,linenumber_resizable:!1,mobilemode_apply:0,mobilemode_scrollbarhide:0,vertscrollbar_style:1,horzscrollbar_style:1,horzscrollbar_type:1,vertscrollbar_right:1,horzscrollbar_bottom:1,scrollbar_size:17,vertscrollbar_size:0,horzscrollbar_size:0,line_height:0,horzscroll_movemode:0,resize_dir:0,fixedrows:0,dynamic_fixedrows:!1,fixedcols:0,dynamic_fixedcols:!1,statistics_row:"",statistics_row_pos:1,statistics_row_linenumber:!1,statistics_row_titleshow:0,statistics_column:"",mid_statistics:"",mid_statistics_pos:1,mid_statistics_cellmerge:!0,statistics_hiddenitem:0,statistics_mergeditem:0,column_filter_disp:0,column_sort_disp:0,column_sort:!0,column_multisort_disp:0,column_moveable:!1,dragable:!1,accept_drop:!0,accept_dropfiles:!1,enable:!0,editable:!0,copy_key_action:0,column_headcheck_empty:!0,delay_itemclick:!1,checkrow_width:16,checkrow_resizable:!1,checkrow_title:"",fileload_startitem:"1,A",csvfile_data_delimiter:",",textfile_data_delimiter:",",use_checkrow:!1,multi_checkrow:!1,multi_selectrow:!1,checkrow_check_width:0,checkrow_check_height:0,checkrow_check_image:"",checkrow_uncheck_image:"",checkrow_dis_check_image:"",checkrow_dis_uncheck_image:"",checkrow_hd_check_width:0,checkrow_hd_check_height:0,checkrow_hd_check_image:"",checkrow_hd_uncheck_image:"",checkrow_hd_dis_check_image:"",checkrow_hd_dis_uncheck_image:"",chechrow_hd_show:!0,checkrow_hd_backcolor:[210,210,210],checkrow_backcolor:[255,255,255],checkrow_style:1,checkrow_statrowstyle:0,autocheckrow_editing:!1,autocheckrow_select:!1,checkrowwithselect:!1,use_selectblock:!1,hidden:!1,enterstop:!0,tabstop:!0,click_setfocus:!0,boxshadow_type:0,scroll_onfocus:0,mousewheel_activealways:0,mousewheel_linecount:3,touchscroll_movemode:0,popupmenu_show:!0,popupmenu_id:"",popupmenu_drop_id:"",popupmenu_selectblock_id:"",tooltip_show:!0,tooltip_unmask:0,copyall_header_item:0,copy_hidden_item:0,paste_hidden_item:0,paste_nonedit_item:0,excel_hidden_row:0,check_hidden_row:0,autocolumnwidth:0,autocolumnwidth_fixedcols:0,folder_midstatistics:0,treeimage_toggle_disp:!1,pattern_toggle_disp:!1,row_moveable:!1,row_resizable:!1,row_autoheight:!1,row_autoheightmargin:8,row_autominheight:18,row_automaxheight:0,tree_rootdepth_value:-1,min_rowcount:0,rwd_width:0,link_data:"",pivot_linkdata:"",internal_name:"",headermegeinfo:"",text_leftmargin:-1,text_rightmargin:-1,cell_textmargin:[0,0,0,0],header_textmargin:[0,0,0,0],treecolumn_index:0,dblclick_edit:!1,is_virtualscroll:!0,imemode:0},this._istreegrid()&&(this.xf_prop.fixedcols=1),this.event_name_arr=["on_prekeydown","on_keydown","on_itemselchange","on_itemeditshow","on_itemeditcomplete","on_itemclick","on_itemdblclick","on_itembtnclick","on_itemvaluechange","on_itemvaluechanged","on_headerclick","on_headerdblclick","on_headercheckclick","on_checkrowclick","on_rclick","on_vscroll","on_hscroll","on_begindrag","on_enddrag","on_dropcomplete","on_dropfiles","on_selectblock","on_sortcomplete","on_filtercomplete","on_fileload","on_itempopbtnclick","on_itemvaluecomplete","on_itemeditvalidation","on_mousedown","on_click","on_useraction","on_paste","on_mousein","on_mouseout","on_columnwidthchange","on_precontextmenu"],a.is_virtualscroll=!0,void 0!==a.cell_textmargin&&2==a.cell_textmargin.split(",").length&&(a.cell_textmargin=a.cell_textmargin+",0,0"),_xfx.propcommon(this,this.xf_prop),_xfx.propparam(this,this.xf_prop,a),factory.ismobile()&&((2==this.xf_prop.mobilemode_apply||0==this.xf_prop.mobilemode_apply&&void 0!==factory_xf_param.GRID_MOBILEMODE_APPLY&&2===factory_xf_param.GRID_MOBILEMODE_APPLY)&&(this.is_mobile_mode=!0),1==this.is_mobile_mode&&(2==this.xf_prop.mobilemode_scrollbarhide||0==this.xf_prop.mobilemode_scrollbarhide&&void 0!==factory_xf_param.GRID_MOBILEMODE_SCROLLBARHIDE&&2===factory_xf_param.GRID_MOBILEMODE_SCROLLBARHIDE)&&(this.xf_prop.vertscrollbar_style=0,this.xf_prop.horzscrollbar_style=0)),void 0!==b&&b.length>0&&(this.xf_prop.internal_name=b),void 0===a.cell_textmargin?(this.xf_prop.cell_textmargin=void 0,-1!=this.xf_prop.text_leftmargin&&(this.cell_textmargin[0]=this.xf_prop.text_leftmargin),-1!=this.xf_prop.text_rightmargin&&(this.cell_textmargin[1]=this.xf_prop.text_rightmargin)):this.cell_textmargin=this.xf_prop.cell_textmargin,void 0===a.header_textmargin?(this.xf_prop.header_textmargin=void 0,-1!=this.xf_prop.text_leftmargin&&(this.header_textmargin[0]=this.xf_prop.text_leftmargin),-1!=this.xf_prop.text_rightmargin&&(this.header_textmargin[1]=this.xf_prop.text_rightmargin)):this.header_textmargin=this.xf_prop.header_textmargin,void 0===a.linenumber_hd_backcolor&&(this.xf_prop.linenumber_hd_backcolor=this.xf_prop.header_backcolor),void 0===a.checkrow_hd_backcolor&&(this.xf_prop.checkrow_hd_backcolor=this.xf_prop.header_backcolor),void 0!==factory_xf_param.GRID_DBLCLICKEDIT&&(this.xf_prop.dblclick_edit=factory_xf_param.GRID_DBLCLICKEDIT),(this.xf_prop.use_selectblock||this.xf_prop.dragable)&&(this.xf_prop.dblclick_edit=!0),this._css(a),this._propcss(a),this.fixedrows=this.xf_prop.fixedrows,this.fixedcols=this.xf_prop.fixedcols,this.fixedcols<this.xf_prop.header_vertcount&&(this.fixedcols=this.xf_prop.header_vertcount),this.fixedcols<this.xf_prop.headerstyle_vertcount&&(this.fixedcols=this.xf_prop.headerstyle_vertcount),this.xf_prop.row_autominheight!=this.xf_prop.cell_height&&(this.xf_prop.row_autominheight=this.xf_prop.cell_height),(1==this.xf_prop.horzscroll_movemode||0==this.xf_prop.horzscroll_movemode&&1==factory_xf_param.GRID_HORZSCROLL_MOVEMODE)&&0==this.is_mobile_mode&&(this.is_column_scroll_mode=!0),1==this.is_column_scroll_mode&&(this.view_left_column_index=this.fixedcols,this.view_start_column_index=this.fixedcols),this._ismultilinegrid()?this.sub_row_count=this.xf_prop.header_horzcount:this.sub_row_count=1,l=0;l<this.xf_prop.header_horzcount;l++)0==this.xf_prop.header_horzrow_info.length?this.xf_header_row_arr.push({row_height:this.xf_prop.header_height,is_hidden_row:!1}):(m=this.xf_prop.header_horzrow_info.split(";"),n=m[l].split(":"),this.xf_header_row_arr.push({row_height:_xfu["int"](n[2]),is_hidden_row:"0"===n[1]}));if(this._isnormalgrid()||this._ismultilinegrid())if(this.xf_prop.link_data.length>0){if(this.xdataset_id=this.xf_prop.link_data,this.xdataset_type=XFD_XDATASET_NORMAL,this.xf_xdataset=this.xf_parent.xf_content.xf_execution_context[this.xdataset_id],void 0===this.xf_xdataset||null===this.xf_xdataset)if(this.xf_xdataset=factory.getglobalxdataset(this.xdataset_id),null===this.xf_xdataset){if(0==_xfx.isvalidxdataset(this,!0))return;this.xdataset_id=_xfx.xdatasetid(this),this.xdataset_type=XFD_XDATASET_INNER,this.xf_xdataset=new XF_XDATASET(null,{id:this.xdataset_id}),this.xf_xdataset.xdataset_type=XFD_XDATASET_INNER}else this.xdataset_type=XFD_XDATASET_GLOBAL}else this.xdataset_id=_xfx.xdatasetid(this),this.xdataset_type=XFD_XDATASET_INNER,this.xf_xdataset=new XF_XDATASET(null,{id:this.xdataset_id}),this.xf_xdataset.xdataset_type=XFD_XDATASET_INNER;else this._istreegrid()&&(void 0===this.xf_prop.tree_linkdata||0===this.xf_prop.tree_linkdata.length?(this.xdataset_id=_xfx.xdatasetid(this),this.xdataset_type=XFD_XDATASET_INNER,this.xf_xdataset=new XF_XDATASET(null,{id:this.xdataset_id}),this.xf_xdataset.xdataset_type=XFD_XDATASET_INNER,this.xdataset_column_type=XFD_XDATASET_COLUMN_INNER,this.xdataset_depth_column_id=_xfx.xdatasetcolumnid(this),this.xdataset_image_column_id=_xfx.xdatasetcolumnid(this),this.xdataset_selimage_column_id=_xfx.xdatasetcolumnid(this),this.xdataset_key_column_id=_xfx.xdatasetcolumnid(this),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_depth_column_id,"",0,!1),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_image_column_id,"",0,!1),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_selimage_column_id,"",0,!1),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_key_column_id,"",0,!1)):this.xf_prop.tree_linkdata.length>0&&(c=this.xf_prop.tree_linkdata.split(":"),this.xdataset_id=c[0],this.xdataset_type=XFD_XDATASET_NORMAL,this.xf_xdataset=this.xf_parent.xf_content.xf_execution_context[this.xdataset_id],void 0!==this.xf_xdataset&&null!=this.xf_xdataset||(this.xf_xdataset=factory.getglobalxdataset(this.xdataset_id),this.xdataset_type=XFD_XDATASET_GLOBAL),this.xdataset_depth_column_id=c[1],this.xdataset_image_column_id=c[2],this.xdataset_selimage_column_id=c[3],this.xdataset_key_column_id=c[4]));if(null!=this.xf_xdataset&&this.xf_xdataset._addlinkobject(this),this.xf_prop.statistics_column.length>0)for(h=this.xf_prop.statistics_column.split(":"),i=h.length,j=0;i>j;j++)k=h[j],0!==k.length&&this.xf_stat_column_arr.push(new XF_GRID_STAT_COLUMN(this,j,k));if(this.xf_prop.statistics_row.length>0)for(d=this.xf_prop.statistics_row.split(":"),f=d.length,e=0;f>e;e++)g=d[e],0!==g.length&&(this.xf_stat_row_arr.push(new XF_GRID_STAT_ROW(this,e,e,g)),this.stat_row_count++);if(this.xf_midstat_prop={midstat_type:XFD_GRID_MIDSTAT_NONE,fore_color:[0,0,0],back_color:[255,255,200],title:"",title_column_index:0},this.xf_prop.mid_statistics.length>0){var o=this.xf_prop.mid_statistics.split(","),p=o.length;if(this.xf_midstat_prop.midstat_type=_xfu["int"](o[0]),p>1&&(this.xf_midstat_prop.fore_color=_xfx.rgb(o[1])),p>2&&(this.xf_midstat_prop.back_color=_xfx.rgb(o[2])),p>3&&(this.xf_midstat_prop.title=_xfu.trimquot(o[3])),p>4&&(this.xf_midstat_prop.title_column_index=_xfu["int"](o[4])),isNaN(this.xf_midstat_prop.title_column_index)&&(this.xf_midstat_prop.title_column_index=0),0===this.xf_midstat_prop.title.length)switch(this.xf_midstat_prop.midstat_type){case XFD_GRID_MIDSTAT_SUM:this.xf_midstat_prop.title="소계(합계)";break;case XFD_GRID_MIDSTAT_AVER:this.xf_midstat_prop.title="소계(평균)";break;case XFD_GRID_MIDSTAT_COUNT:this.xf_midstat_prop.title="소계(개수)";break;case XFD_GRID_MIDSTAT_MIN:this.xf_midstat_prop.title="소계(최소값)";break;case XFD_GRID_MIDSTAT_MAX:this.xf_midstat_prop.title="소계(최대값)";break;case XFD_GRID_MIDSTAT_COLUMN:this.xf_midstat_prop.title="소게(칼럼별)"}}_xfx.bordercss(this,this.xf_prop,[]),this._setheadermegeinfo(this.xf_prop.headermegeinfo),this.is_stat_exclude_merged_item=this._isstatexcludemergeditem()},XF_GRID.prototype._css=function(a){1!=_xf_htmlready_mode&&(_xfx.propcss(this,a,this.css_arr,["position","hidden","font","fore_color","back_color"]),this.header_forecolor_css=_xfc.forecolor(this.xf_prop.header_forecolor,this.xf_prop.fore_color,null),this.linenumber_cell_forecolor_css=_xfc.forecolor(this.xf_prop.linenumber_forecolor,this.xf_prop.fore_color,null),this.linenumber_header_forecolor_css=_xfc.forecolor(this.xf_prop.linenumber_hd_forecolor,this.xf_prop.header_forecolor,null))},XF_GRID.prototype._propcss=function(a){var b=[],c=[],d=[],e=[],f=[],g=[];0!=this.xf_prop.hoverrowcolor&&(0!=this.xf_prop.hoverrow_style&&1!=this.xf_prop.hoverrow_style||b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.hoverrow_backcolor)+"!important;"),0!=this.xf_prop.hoverrow_style&&2!=this.xf_prop.hoverrow_style||b.push("color:"+_xfu.rgbfunc(this.xf_prop.hoverrow_forecolor)+"!important;")),this.class_tr="_xf_grid_tr_"+this.xf_prop.internal_name,this.class_tr_hover=this.class_tr+":hover",_xfc.writecss(this.class_tr_hover,b),this.class_tr_hovered=this.class_tr+"_hover",_xfc.writecss(this.class_tr_hovered,b),this._writecss_selectrow(),this._writecss_selecttd(),this.class_td_border="_xf_grid_td_border_"+this.xf_prop.internal_name,g.push("border-color:"+_xfu.rgbfunc(this.xf_prop.cell_linecolor)+";"),this.xf_prop.cell_linecolor_horzuse&&(g.push("border-top-color:"+_xfu.rgbfunc(this.xf_prop.cell_linecolor_horz)+";"),g.push("border-bottom-color:"+_xfu.rgbfunc(this.xf_prop.cell_linecolor_horz)+";")),this.xf_prop.cell_linecolor_vertuse&&(g.push("border-left-color:"+_xfu.rgbfunc(this.xf_prop.cell_linecolor_vert)+";"),g.push("border-right-color:"+_xfu.rgbfunc(this.xf_prop.cell_linecolor_vert)+";")),0==this.xf_prop.cell_line_horzstyle?(g.push("border-top-color:transparent;"),g.push("border-bottom-color:transparent;")):(g.push(_xfc.borderstyle("border-top-style",this.xf_prop.cell_line_horzstyle,!1,null)),g.push(_xfc.borderstyle("border-bottom-style",this.xf_prop.cell_line_horzstyle,!1,null))),0==this.xf_prop.cell_line_vertstyle?(g.push("border-left-color:transparent;"),g.push("border-right-color:transparent;")):(g.push(_xfc.borderstyle("border-left-style",this.xf_prop.cell_line_horzstyle,!1,null)),g.push(_xfc.borderstyle("border-right-style",this.xf_prop.cell_line_horzstyle,!1,null))),_xfc.writecss(this.class_td_border,g),this.class_td_border_inner_horzfirst="_xf_grid_td_border_inner_horzfirst_"+this.xf_prop.internal_name,this.class_td_border_inner_horzmiddle="_xf_grid_td_border_inner_horzmiddle_"+this.xf_prop.internal_name,this.class_td_border_inner_horzlast="_xf_grid_td_border_inner_horzlast_"+this.xf_prop.internal_name,0==this.xf_prop.cellinner_line_horzstyle?d.push("border-bottom-color:transparent;"):(this.xf_prop.cellinner_linecolor_horzuse&&d.push("border-bottom-color:"+_xfu.rgbfunc(this.xf_prop.cellinner_linecolor_horz)+";"),d.push(_xfc.borderstyle("border-bottom-style",this.xf_prop.cellinner_line_horzstyle,!1,null))),0==this.xf_prop.cellinner_line_horzstyle?(e.push("border-top-color:transparent;"),e.push("border-bottom-color:transparent;")):(this.xf_prop.cellinner_linecolor_horzuse&&(e.push("border-top-color:"+_xfu.rgbfunc(this.xf_prop.cellinner_linecolor_horz)+";"),e.push("border-bottom-color:"+_xfu.rgbfunc(this.xf_prop.cellinner_linecolor_horz)+";")),e.push(_xfc.borderstyle("border-top-style",this.xf_prop.cellinner_line_horzstyle,!1,null)),e.push(_xfc.borderstyle("border-bottom-style",this.xf_prop.cellinner_line_horzstyle,!1,null))),0==this.xf_prop.cellinner_line_horzstyle?f.push("border-top-color:transparent;"):(this.xf_prop.cellinner_linecolor_horzuse&&f.push("border-top-color:"+_xfu.rgbfunc(this.xf_prop.cellinner_linecolor_horz)+";"),f.push(_xfc.borderstyle("border-top-style",this.xf_prop.cellinner_line_horzstyle,!1,null))),_xfc.writecss(this.class_td_border_inner_horzfirst,d),_xfc.writecss(this.class_td_border_inner_horzmiddle,e),_xfc.writecss(this.class_td_border_inner_horzlast,f),c.push(_xfc.gradient(null,this.xf_prop.gradient_effect,this.xf_prop.gradient_startcolor,this.xf_prop.gradient_endcolor)),this.class_head_gradient="_xf_grid_head_gradient_"+this.xf_prop.internal_name,_xfc.writecss(this.class_head_gradient,c),this._writecss_trdivide()},XF_GRID.prototype._writecss_trdivide=function(){var a;this.class_tr_divide="_xf_grid_tr_divide_"+this.xf_prop.internal_name,0!=this.xf_prop.cell_dividerowcount&&0!=this.xf_prop.cell_dividecolor_use&&(a=[],a.push("background-color:"+_xfu.rgbfunc(this.xf_prop.cell_dividecolor)+";"),_xfc.writecss(this.class_tr_divide,a))},XF_GRID.prototype._writecss_selectrow=function(){var a;this.class_tr_selected="_xf_grid_tr_selected_"+this.xf_prop.internal_name,1!=this.xf_prop.selectrow_style&&4!=this.xf_prop.selectrow_style||(a=[],a.push("background-color:"+_xfu.rgbfunc(this.xf_prop.selectrow_backcolor)+"!important;"),1==this.xf_prop.selectrow_style&&a.push("color:"+_xfu.rgbfunc(this.xf_prop.selectrow_forecolor)+"!important;"),_xfc.writecss(this.class_tr_selected,a))},XF_GRID.prototype._writecss_selecttd=function(){var a;this.class_td_selected="_xf_grid_td_selected_"+this.xf_prop.internal_name,0!=this.xf_prop.selectcell_style&&(a=[],1!=this.xf_prop.selectcell_style&&2!=this.xf_prop.selectcell_style||a.push("background-color:"+_xfu.rgbfunc(this.xf_prop.selectcell_backcolor)+"!important;"),1!=this.xf_prop.selectcell_style&&3!=this.xf_prop.selectcell_style||a.push("color:"+_xfu.rgbfunc(this.xf_prop.selectcell_forecolor)+"!important;"),_xfc.writecss(this.class_td_selected,a))},XF_GRID.prototype._box=function(a){var b;0==_xf_htmlready_mode&&(b=[],b.push('<div id="'+this.xf_prop.internal_name+'"'),b.push(' class="'+_xfx.propclass(this,this.xf_prop,"_xf_grid")+'"'),b.push(' style="'),b.push(this.css_arr.join("")),_xfx.sizeposcss(this,this.xf_prop,b),1==this.is_mobile_mode&&b.push("touch-action: auto;"),this.border_info.left.width>1&&b.push("padding-left:"+_xfu.px(this.border_info.left.width-1)+";"),this.border_info.top.width>1&&b.push("padding-top:"+_xfu.px(this.border_info.top.width-1)+";"),this.border_info.right.width>1&&b.push("padding-right:"+_xfu.px(this.border_info.right.width-1)+";"),this.border_info.bottom.width>1&&b.push("padding-bottom:"+_xfu.px(this.border_info.bottom.width-1)+";"),this.border_info.left.width>1&&(this.padding_left=this.border_info.left.width-1),this.border_info.top.width>1&&(this.padding_top=this.border_info.top.width-1),this.border_info.right.width>1&&(this.padding_right=this.border_info.right.width-1),this.border_info.bottom.width>1&&(this.padding_bottom=this.border_info.bottom.width-1),this.padding_left<0&&(this.padding_left=0),this.padding_left<0&&(this.padding_top=0),this.padding_left<0&&(this.padding_right=0),this.padding_left<0&&(this.padding_bottom=0),b.push('"'),b.push(">"),2==this.xf_prop.scroll_onfocus?b.push('<div style="position:fixed;left:0px;top:0px;width:0px;height:0px;">'):b.push('<div style="position:absolute;left:0px;top:0px;width:0px;height:0px;">'),factory.ismobile()?b.push('<textarea readonly class="_xf_grid_keyboard"></textarea>'):b.push('<textarea class="_xf_grid_keyboard"></textarea>'),b.push("</div>"),b.push('<textarea class="_xf_grid_clipboard"></textarea>'),b.push('<input type="file" class="_xf_grid_file _xf_grid_file_csv">'),b.push('<input type="file" class="_xf_grid_file _xf_grid_file_text">'),b.push('<input type="file" class="_xf_grid_file _xf_grid_file_excel" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel">'),b.push('<input type="file" class="_xf_grid_file _xf_grid_file_excel_upload" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel">'),b.push('<span class="_xf_grid_item_span_size"></span>'),b.push('<div class="_xf_grid_box">'),b.push('<div class="_xf_grid_content"></div>'),b.push("</div>"),b.push("</div>")),_xfx.register(this,!1,b,a)},XF_GRID.prototype._dom=function(){this.xf_item_span_size=this.xf_object.find("._xf_grid_item_span_size"),this.xf_keyboard=this.xf_object.find("._xf_grid_keyboard"),this.xf_clipboard=this.xf_object.find("._xf_grid_clipboard"),this.xf_csv_file=this.xf_object.find("._xf_grid_file_csv"),this.xf_text_file=this.xf_object.find("._xf_grid_file_text"),this.xf_excel_file=this.xf_object.find("._xf_grid_file_excel"),this.xf_excel_upload_file=this.xf_object.find("._xf_grid_file_excel_upload"),this.xf_box=this.xf_object.find("._xf_grid_box"),this.xf_content=this.xf_object.find("._xf_grid_content"),this.xf_content.css({width:_xfu.px(this.getwidth()-this.padding_left-this.padding_right),height:_xfu.px(this.getheight()-this.padding_top-this.padding_bottom)}),this._dom_div_table(),this._dom_resize(),this._dom_fix(),this._dom_linebar(),this._dom_scroll(),this._dom_border(),this._dom_filterbox(),this._dom_groupbox(),this._dom_context(),this._dom_context_merge(),this._dom_context_selectblock(),this._dom_context_drop(),this._dom_findbox(),this._dom_protect(),this._dom_selectblock(),this._setrwdmode()},XF_GRID.prototype._dom_div_table=function(){
var a,b,c;0==_xf_htmlready_mode&&(a=[],b=[],_xfu.isequalarray(this.xf_prop.font,this.xf_prop.header_font)?b.push(_xfc.basic("header_font",this.xf_prop.header_font,!1,null)):b.push(_xfc.font(null,this.xf_prop.header_font)),b.push(this.header_forecolor_css),c=b.join(""),a.push('<div class="_xf_grid_div _xf_grid_content_bg"'),a.push(' style="'),a.push(_xfc.basic("back_image",this.xf_prop.back_image,!1,null)),_xfx.propbackimagepos(this,this.xf_prop,a),a.push('">'),a.push("</div>"),a.push('<div class="_xf_grid_div _xf_grid_center_body">'),a.push('<div class="_xf_grid_div _xf_grid_center_body_view">'),a.push(this._dom_div_table_html("_xf_grid_center_body_view_content","_xf_grid_center_body_view_table",XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_VIEW,"")),a.push("</div>"),a.push(this._dom_div_table_html("_xf_grid_center_body_fix","_xf_grid_center_body_fix_table",XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_FIX,"")),a.push(this._dom_div_table_html("_xf_grid_center_body_head","_xf_grid_center_body_head_table",XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_HEAD,c)),a.push("</div>"),a.push('<div class="_xf_grid_div _xf_grid_left_body">'),a.push('<div class="_xf_grid_div _xf_grid_left_body_view">'),a.push(this._dom_div_table_html("_xf_grid_left_body_view_content","_xf_grid_left_body_view_table",XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_VIEW,"")),a.push("</div>"),a.push(this._dom_div_table_html("_xf_grid_left_body_fix","_xf_grid_left_body_fix_table",XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_FIX,"")),a.push(this._dom_div_table_html("_xf_grid_left_body_head","_xf_grid_left_body_head_table",XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_HEAD,c)),a.push("</div>"),a.push('<div class="_xf_grid_div _xf_grid_right_body">'),a.push('<div class="_xf_grid_div _xf_grid_right_body_view">'),a.push(this._dom_div_table_html("_xf_grid_right_body_view_content","_xf_grid_right_body_view_table",XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_VIEW,"")),a.push("</div>"),a.push(this._dom_div_table_html("_xf_grid_right_body_fix","_xf_grid_right_body_fix_table",XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_FIX,"")),a.push(this._dom_div_table_html("_xf_grid_right_body_head","_xf_grid_right_body_head_table",XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_HEAD,c)),a.push("</div>"),a.push('<div class="_xf_grid_div _xf_grid_center_foot">'),a.push(this._dom_div_table_html("_xf_grid_center_foot_stat","_xf_grid_center_foot_stat_table",XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_STAT,"")),a.push("</div>"),a.push('<div class="_xf_grid_div _xf_grid_left_foot">'),a.push(this._dom_div_table_html("_xf_grid_left_foot_stat","_xf_grid_left_foot_stat_table",XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_STAT,"")),a.push("</div>"),a.push('<div class="_xf_grid_div _xf_grid_right_foot">'),a.push(this._dom_div_table_html("_xf_grid_right_foot_stat","_xf_grid_right_foot_stat_table",XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_STAT,"")),a.push("</div>"),a.push('<div class="_xf_grid_rwd_div _xf_grid_rwd_body" style="display:none;">'),a.push('<div class="_xf_grid_rwd_div _xf_grid_rwd_body_view">'),a.push('<div class="_xf_grid_rwd_div _xf_grid_rwd_body_view_content">'),a.push('<table class="_xf_grid_rwd_table _xf_grid_rwd_body_view_table"'),a.push(' data-info="'+XF_GRID.COLUMN_TABLE_RWD+"_"+XF_GRID.ROW_TABLE_RWD+'"></table>'),a.push("</div>"),a.push("</div>"),a.push("</div>"),this.xf_content[0].insertAdjacentHTML("beforeend",a.join(""))),this.xf_content_bg=this.xf_content.find("._xf_grid_content_bg"),this.xf_center_body=this.xf_content.find("._xf_grid_center_body"),this.xf_center_body_view=this.xf_center_body.find("._xf_grid_center_body_view"),this.xf_center_body_view_content=this.xf_center_body_view.find("._xf_grid_center_body_view_content"),this.xf_center_body_view_table=this.xf_center_body_view_content.find("._xf_grid_center_body_view_table"),this.xf_center_body_fix=this.xf_center_body.find("._xf_grid_center_body_fix"),this.xf_center_body_fix_table=this.xf_center_body_fix.find("._xf_grid_center_body_fix_table"),this.xf_center_body_head=this.xf_center_body.find("._xf_grid_center_body_head"),this.xf_center_body_head_table=this.xf_center_body_head.find("._xf_grid_center_body_head_table"),this.xf_left_body=this.xf_content.find("._xf_grid_left_body"),this.xf_left_body_view=this.xf_left_body.find("._xf_grid_left_body_view"),this.xf_left_body_view_content=this.xf_left_body_view.find("._xf_grid_left_body_view_content"),this.xf_left_body_view_table=this.xf_left_body_view_content.find("._xf_grid_left_body_view_table"),this.xf_left_body_fix=this.xf_left_body.find("._xf_grid_left_body_fix"),this.xf_left_body_fix_table=this.xf_left_body_fix.find("._xf_grid_left_body_fix_table"),this.xf_left_body_head=this.xf_left_body.find("._xf_grid_left_body_head"),this.xf_left_body_head_table=this.xf_left_body_head.find("._xf_grid_left_body_head_table"),this.xf_right_body=this.xf_content.find("._xf_grid_right_body"),this.xf_right_body_view=this.xf_right_body.find("._xf_grid_right_body_view"),this.xf_right_body_view_content=this.xf_right_body_view.find("._xf_grid_right_body_view_content"),this.xf_right_body_view_table=this.xf_right_body_view_content.find("._xf_grid_right_body_view_table"),this.xf_right_body_fix=this.xf_right_body.find("._xf_grid_right_body_fix"),this.xf_right_body_fix_table=this.xf_right_body_fix.find("._xf_grid_right_body_fix_table"),this.xf_right_body_head=this.xf_right_body.find("._xf_grid_right_body_head"),this.xf_right_body_head_table=this.xf_right_body_head.find("._xf_grid_right_body_head_table"),this.xf_center_foot=this.xf_content.find("._xf_grid_center_foot"),this.xf_center_foot_stat=this.xf_center_foot.find("._xf_grid_center_foot_stat"),this.xf_center_foot_stat_table=this.xf_center_foot_stat.find("._xf_grid_center_foot_stat_table"),this.xf_left_foot=this.xf_content.find("._xf_grid_left_foot"),this.xf_left_foot_stat=this.xf_left_foot.find("._xf_grid_left_foot_stat"),this.xf_left_foot_stat_table=this.xf_left_foot_stat.find("._xf_grid_left_foot_stat_table"),this.xf_right_foot=this.xf_content.find("._xf_grid_right_foot"),this.xf_right_foot_stat=this.xf_right_foot.find("._xf_grid_right_foot_stat"),this.xf_right_foot_stat_table=this.xf_right_foot_stat.find("._xf_grid_right_foot_stat_table"),this.xf_rwd_body=this.xf_content.find("._xf_grid_rwd_body"),this.xf_rwd_body_view=this.xf_rwd_body.find("._xf_grid_rwd_body_view"),this.xf_rwd_body_view_content=this.xf_rwd_body_view.find("._xf_grid_rwd_body_view_content"),this.xf_rwd_body_view_table=this.xf_rwd_body_view_content.find("._xf_grid_rwd_body_view_table"),this.table_jdom_map[XF_GRID.ROW_TABLE_HEAD]=[],this.table_jdom_map[XF_GRID.ROW_TABLE_HEAD][XF_GRID.COLUMN_TABLE_LEFT]=this.xf_left_body_head_table,this.table_jdom_map[XF_GRID.ROW_TABLE_HEAD][XF_GRID.COLUMN_TABLE_CENTER]=this.xf_center_body_head_table,this.table_jdom_map[XF_GRID.ROW_TABLE_HEAD][XF_GRID.COLUMN_TABLE_RIGHT]=this.xf_right_body_head_table,this.table_jdom_map[XF_GRID.ROW_TABLE_FIX]=[],this.table_jdom_map[XF_GRID.ROW_TABLE_FIX][XF_GRID.COLUMN_TABLE_LEFT]=this.xf_left_body_fix_table,this.table_jdom_map[XF_GRID.ROW_TABLE_FIX][XF_GRID.COLUMN_TABLE_CENTER]=this.xf_center_body_fix_table,this.table_jdom_map[XF_GRID.ROW_TABLE_FIX][XF_GRID.COLUMN_TABLE_RIGHT]=this.xf_right_body_fix_table,this.table_jdom_map[XF_GRID.ROW_TABLE_VIEW]=[],this.table_jdom_map[XF_GRID.ROW_TABLE_VIEW][XF_GRID.COLUMN_TABLE_LEFT]=this.xf_left_body_view_table,this.table_jdom_map[XF_GRID.ROW_TABLE_VIEW][XF_GRID.COLUMN_TABLE_CENTER]=this.xf_center_body_view_table,this.table_jdom_map[XF_GRID.ROW_TABLE_VIEW][XF_GRID.COLUMN_TABLE_RIGHT]=this.xf_right_body_view_table,this.table_jdom_map[XF_GRID.ROW_TABLE_STAT]=[],this.table_jdom_map[XF_GRID.ROW_TABLE_STAT][XF_GRID.COLUMN_TABLE_LEFT]=this.xf_left_foot_stat_table,this.table_jdom_map[XF_GRID.ROW_TABLE_STAT][XF_GRID.COLUMN_TABLE_CENTER]=this.xf_center_foot_stat_table,this.table_jdom_map[XF_GRID.ROW_TABLE_STAT][XF_GRID.COLUMN_TABLE_RIGHT]=this.xf_right_foot_stat_table,this.table_jdom_map[XF_GRID.ROW_TABLE_RWD]=[],this.table_jdom_map[XF_GRID.ROW_TABLE_RWD][XF_GRID.COLUMN_TABLE_RWD]=this.xf_rwd_body_view_table},XF_GRID.prototype._dom_div_table_html=function(a,b,c,d,e){var f=[];return f.push('<div class="_xf_grid_div '+a+'" style="'+e+'">'),f.push('<table class="_xf_grid_table '+b+'"'),f.push(' data-info="'+c+"_"+d+'"></table>'),f.push("</div>"),f.join("")},XF_GRID.prototype._dom_resize=function(){var a,b;a=this._gettableheight(XF_GRID.ROW_TABLE_HEAD),b=this.xf_object.innerHeight(),this.xf_center_body_resize=new XF_GRID_COLUMN_RESIZE(this,this.xf_center_body,{column_table_type:XF_GRID.COLUMN_TABLE_CENTER,resize_bar_height:a}),this.xf_left_body_resize=new XF_GRID_COLUMN_RESIZE(this,this.xf_left_body,{column_table_type:XF_GRID.COLUMN_TABLE_LEFT,resize_bar_height:a}),this.xf_right_body_resize=new XF_GRID_COLUMN_RESIZE(this,this.xf_right_body,{column_table_type:XF_GRID.COLUMN_TABLE_RIGHT,resize_bar_height:a}),this.xf_prop.row_resizable&&(this.xf_view_body_resize=new XF_GRID_ROW_RESIZE(this,this.xf_left_body_view,{row_table_type:XF_GRID.ROW_TABLE_VIEW}))},XF_GRID.prototype._dom_fix=function(){null!==this.xf_fixbar_row&&this.xf_fixbar_row.remove(),this.xf_fixbar_row=new XF_GRID_FIXBAR(this,{fixbar_type:XFD_GRID_FIXEDBAR_ROW}),null!==this.xf_fixbar_column&&this.xf_fixbar_column.remove(),this.xf_fixbar_column=new XF_GRID_FIXBAR(this,{fixbar_type:XFD_GRID_FIXEDBAR_COLUMN})},XF_GRID.prototype._dom_linebar=function(){null!==this.xf_linebar_headrow&&this.xf_linebar_headrow.remove(),this.xf_linebar_headrow=new XF_GRID_LINEBAR(this,{linebar_type:XF_GRID_LINEBAR.LINEBAR_HEADROW,linebar_color:this.xf_prop.header_bottombar_color,linebar_show:this.xf_prop.header_bottombar_show}),null!==this.xf_linebar_headcolumn&&this.xf_linebar_headcolumn.remove(),this.xf_linebar_headcolumn=new XF_GRID_LINEBAR(this,{linebar_type:XF_GRID_LINEBAR.LINEBAR_HEADCOLUMN,linebar_color:this.xf_prop.header_rightbar_color,linebar_show:this.xf_prop.header_rightbar_show}),null!==this.xf_linebar_statrow&&this.xf_linebar_statrow.remove(),this.xf_linebar_statrow=new XF_GRID_LINEBAR(this,{linebar_type:XF_GRID_LINEBAR.LINEBAR_STATROW,linebar_color:this.xf_prop.statrow_topbar_color,linebar_show:this.xf_prop.statrow_topbar_show}),null!==this.xf_linebar_statcolumn&&this.xf_linebar_statcolumn.remove(),this.xf_linebar_statcolumn=new XF_GRID_LINEBAR(this,{linebar_type:XF_GRID_LINEBAR.LINEBAR_STATCOLUMN,linebar_color:this.xf_prop.statcolumn_leftbar_color,linebar_show:this.xf_prop.statcolumn_leftbar_show})},XF_GRID.prototype._dom_scroll=function(){null!=this.xf_grid_scroll&&this.xf_grid_scroll.remove(),0==this.xf_prop.vertscrollbar_size&&(this.xf_prop.vertscrollbar_size=this.xf_prop.scrollbar_size),0==this.xf_prop.horzscrollbar_size&&(this.xf_prop.horzscrollbar_size=this.xf_prop.scrollbar_size),this.xf_grid_scroll=new XF_GRID_SCROLL(this,{xf_parent:this.xf_box,xf_view:this.xf_center_body_view,xf_content:this.xf_center_body_view_content,vertscrollbar_style:this.xf_prop.vertscrollbar_style,horzscrollbar_style:this.xf_prop.horzscrollbar_style,vertscrollbar_right:this.xf_prop.vertscrollbar_right,horzscrollbar_bottom:this.xf_prop.horzscrollbar_bottom,vertscrollbar_size:this.xf_prop.vertscrollbar_size,horzscrollbar_size:this.xf_prop.horzscrollbar_size,xf_sync_horz_target_arr:[this.xf_center_body_resize.xf_object,this.xf_center_body_fix_table,this.xf_center_body_head_table,this.xf_center_foot_stat_table],sync_horz_target_count:4,xf_sync_vert_target_arr:[this.xf_left_body_view_content,this.xf_right_body_view_content],sync_vert_target_count:2})},XF_GRID.prototype._dom_border=function(){var a,b,c;if(0==_xf_htmlready_mode){for(a=[],c=["left","right","top","bottom"],b=0;4>b;b++)a.push('<div class="_xfd_border_'+c[b]+'"'),a.push(' style="'),_xfx.borderdircss(c[b],this.border_info[c[b]].width,this.border_info[c[b]].color,this.border_info[c[b]].style,a,"0",""),a.push('">'),a.push("</div>");this.xf_object[0].insertAdjacentHTML("beforeend",a.join(""))}},XF_GRID.prototype._dom_context=function(){var a,b,c;a={id:this.xf_prop.internal_name+"_context_menu",menu_width:110,callback:$.proxy(this.on_context_click,this)},this.xf_context=new XF_CONTEXT(this,a),this.context_menu_info={menu_width:110,menu_arr:[{id:"search",icon:"search",label:factory._userlang("검색","Search")},{id:"sort",icon:"sortmulti",label:factory._userlang("정렬","Sort"),sub_menu_width:110,sub_menu_arr:[{id:"multi_sort",icon:"sortmulti",label:factory._userlang("다중정렬","MultiSort")},{type:"separator"},{id:"sort_up",icon:"sortup",label:factory._userlang("오름차순정렬","Sort ASC")},{id:"sort_down",icon:"sortdown",label:factory._userlang("내림차순정렬","Sort DESC")}]},{id:"cell_merge",icon:"mergeapply",label:factory._userlang("병합","Merge")},{id:"cell_merge_clear",icon:"mergecancel",label:factory._userlang("병합해제","Release Merge")},{type:"separator"},{id:"filter",icon:"filtermulti",label:factory._userlang("필터","Filter"),sub_menu_width:110,sub_menu_arr:[{id:"multi_filter",icon:"filtermulti",label:factory._userlang("다중필터","Multi Filter")},{type:"separator"},{id:"apply_filter",icon:"filterapply",label:factory._userlang("필터적용","Apply Filter")},{id:"release_filter",icon:"filtercancel",label:factory._userlang("필터해제","Release Filter")}]},{id:"fixbar",icon:"fixbar",label:factory._userlang("고정바","Fixbar"),sub_menu_width:110,sub_menu_arr:[{id:"fix_bar",icon:"fixbar",label:factory._userlang("고정바","Fixbar")},{type:"separator"},{id:"fix_bar_show",icon:"fixbarshow",label:factory._userlang("고정바 보기","Show Fixbar")},{id:"fix_bar_hide",icon:"fixbarhide",label:factory._userlang("고정바 숨김","Hide Fixbar")}]},{id:"copy",icon:"copy",label:factory._userlang("복사","Copy"),sub_menu_width:110,sub_menu_arr:[{id:"copy_cell",icon:"copy",label:factory._userlang("셀 복사","Copy Cell")},{id:"cut_cell",icon:"cut",label:factory._userlang("셀 잘라내기","Cut Cell")},{id:"paste_cell",icon:"paste",label:factory._userlang("셀 붙여넣기","Paste Cell")},{id:"copy_row",icon:"copy",label:factory._userlang("행 복사","Copy Row")},{id:"copy_all",icon:"copy",label:factory._userlang("전체 복사","Copy All")}]},{type:"separator"},{id:"excel",icon:"excelload",label:factory._userlang("엑셀","Excel"),sub_menu_width:110,sub_menu_arr:[{id:"excel_load",icon:"excelload",label:factory._userlang("엑셀 불러오기","Load Excel")},{id:"excel_save",icon:"excelsave",label:factory._userlang("엑셀 저장","Save Excel")}]},{id:"csv",icon:"csvload",label:factory._userlang("CSV","CSV"),sub_menu_width:110,sub_menu_arr:[{id:"csv_load",icon:"csvload",label:factory._userlang("CSV 불러오기","Load CSV")},{id:"csv_save",icon:"csvsave",label:factory._userlang("CSV 저장","Save CSV")}]},{type:"separator"},{id:"close",icon:"close",label:factory._userlang("닫기","Close")}]},b=this.xf_prop.popupmenu_id,0==b.length&&(b="_default"),c=factory_xf_param.CONTEXT_MENU&&factory_xf_param.CONTEXT_MENU.GRID&&factory_xf_param.CONTEXT_MENU.GRID[b]?factory_xf_param.CONTEXT_MENU.GRID[b]:this.context_menu_info,this.setcontextmenuinfo(c)},XF_GRID.prototype._dom_context_menu=function(a,b){void 0!==factory_xf_param.GRID_CONTEXT_MENU&&void 0!==factory_xf_param.GRID_CONTEXT_MENU[b.id]&&$.extend(b,factory_xf_param.GRID_CONTEXT_MENU[b.id]),void 0!==b.hidden&&0!=b.hidden||a.push(this.xf_context.newmenu(b))},XF_GRID.prototype._dom_context_merge=function(){var a,b;b={id:this.xf_prop.name+"_context_merge_menu",menu_width:110,callback:$.proxy(this.on_context_click,this)},this.xf_context_merge=new XF_CONTEXT(this,b),a=[],a.push(this.xf_context.newmenu({id:"cell_merge_clear",icon:"mergecancel",label:"병합해제"})),a.push(this.xf_context.newmenu({type:"separator"})),a.push(this.xf_context.newmenu({id:"close",icon:"close",label:"취소"})),this.xf_context_merge.setmenu(a)},XF_GRID.prototype._dom_context_selectblock=function(){var a,b,c;a={id:this.xf_prop.name+"_context_selectblock_menu",menu_width:110,callback:$.proxy(this.on_context_click,this)},this.xf_context_selectblock=new XF_CONTEXT(this,a),b=this.xf_prop.popupmenu_id,0==b.length&&(b="_default_selectblock"),c=factory_xf_param.CONTEXT_MENU&&factory_xf_param.CONTEXT_MENU.GRID&&factory_xf_param.CONTEXT_MENU.GRID[b]?factory_xf_param.CONTEXT_MENU.GRID[b]:{menu_width:110,menu_arr:[{id:"selectblock_merge",icon:"mergeapply",label:factory._userlang("병합","Merge")},{id:"selectblock_copy",icon:"copy",label:factory._userlang("복사","Copy")},{id:"selectblock_clear",icon:"delete",label:factory._userlang("삭제","Delete")},{type:"separator"},{id:"close",icon:"close",label:factory._userlang("닫기","Close")}]},this._setcontextmenuinfo(this.xf_context_selectblock,c)},XF_GRID.prototype._setcontextmenuinfo=function(a,b){var c,d,e,f,g,h,i,j;if(null==b)return void a.setmenu([]);if(j=JSON.parse(JSON.stringify(b)),void 0!==j.menu_width&&(a.xf_prop.menu_width=j.menu_width),void 0===j.menu_arr)return!1;for(c=j.menu_arr,d=c.length,e=0;d>e;e++)for(f=a.newmenu(c[e]),c[e]=f,g=f.sub_menu_arr.length,h=0;g>h;h++)i=a.newmenu(f.sub_menu_arr[h]),f.sub_menu_arr[h]=i;return a.setmenu(c),!0},XF_GRID.prototype._dom_context_drop=function(){var a,b,c;a={id:this.xf_prop.internal_name+"_context_drop_menu",menu_width:100,callback:$.proxy(this.on_context_click,this)},this.xf_context_drop=new XF_CONTEXT(this,a),b=this.xf_prop.popupmenu_drop_id,0==b.length&&(b="_default_drop"),c=factory_xf_param.CONTEXT_MENU&&factory_xf_param.CONTEXT_MENU.GRID&&factory_xf_param.CONTEXT_MENU.GRID[b]?factory_xf_param.CONTEXT_MENU.GRID[b]:{menu_width:100,menu_arr:[{id:"drop_copy",icon:"copy",label:factory._userlang("복사","Copy")},{id:"drop_move",icon:"move",label:factory._userlang("이동","Move")},{type:"separator"},{id:"close",icon:"close",label:factory._userlang("닫기","Close")}]},this._setcontextmenuinfo(this.xf_context_drop,c)},XF_GRID.prototype._dom_filterbox=function(){this.xf_filterbox=new XF_GRID_FILTERBOX(this)},XF_GRID.prototype._dom_groupbox=function(){this.xf_groupbox=new XF_GRID_GROUPBOX(this)},XF_GRID.prototype._dom_findbox=function(){this.xf_findbox=new XF_GRID_FINDBOX(this)},XF_GRID.prototype._dom_protect=function(){this.xf_protect=new XF_PROTECT(this,this.xf_object,{})},XF_GRID.prototype._dom_selectblock=function(){this.xf_selectblock=new XF_GRID_SELECTBLOCK(this,{width:this.getwidth()-this.padding_left-this.padding_right,height:this.getheight()-this.padding_top-this.padding_bottom})},XF_GRID.prototype._after_set_column=function(){this._refreshhtmlmap(),this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_HEADER),this._midstat(),this._dom_tbody(),this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL),this._size(),this._setviewmaxrowcount(),this._refreshfixbar(),this._refreshlinebar(),this._refreshresizebar(),this._data()},XF_GRID.prototype._midstat=function(){var a,b,c,d,e;if(0!=this.xf_prop.mid_statistics.length){for(d=!1,e=[],a=this.getcolumncount(),b=0;a>b;b++)c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,0),c.xf_column_data_prop.base_midstatistics&&e.push(b),c.xf_column_data_prop.midstatistics_show&&(d=!0);d&&(0==e.length&&e.push(0),this._addmidstatinfo(this.xf_midstat_prop.midstat_type,e.join(","),null,-1,-1,-1))}},XF_GRID.prototype._dom_tbody=function(){this.xf_center_body_head_table_tbody=this._createtbody(this.xf_center_body_head_table,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_HEAD),this.xf_center_body_fix_table_tbody=this._createtbody(this.xf_center_body_fix_table,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_FIX),this.xf_center_body_view_table_tbody=this._createtbody(this.xf_center_body_view_table,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_VIEW),this.xf_center_foot_stat_table_tbody=this._createtbody(this.xf_center_foot_stat_table,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_STAT),this.xf_left_body_head_table_tbody=this._createtbody(this.xf_left_body_head_table,XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_HEAD),this.xf_left_body_fix_table_tbody=this._createtbody(this.xf_left_body_fix_table,XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_FIX),this.xf_left_body_view_table_tbody=this._createtbody(this.xf_left_body_view_table,XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_VIEW),this.xf_left_foot_stat_table_tbody=this._createtbody(this.xf_left_foot_stat_table,XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_STAT),this.xf_right_body_head_table_tbody=this._createtbody(this.xf_right_body_head_table,XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_HEAD),this.xf_right_body_fix_table_tbody=this._createtbody(this.xf_right_body_fix_table,XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_FIX),this.xf_right_body_view_table_tbody=this._createtbody(this.xf_right_body_view_table,XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_VIEW),this.xf_right_foot_stat_table_tbody=this._createtbody(this.xf_right_foot_stat_table,XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_STAT),this.xf_rwd_body_view_table_tbody=this._createtbody(this.xf_rwd_body_view_table,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.ROW_TABLE_VIEW)},XF_GRID.prototype._size=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;return c=this._gettablewidth(XF_GRID.COLUMN_TABLE_CENTER,this.fixedcols),_xf_htmlready_mode?void this._setviewcontentwidth(c):(d=this._gettablewidth(XF_GRID.COLUMN_TABLE_RIGHT,this.fixedcols),e=this._gettablewidth(XF_GRID.COLUMN_TABLE_LEFT,this.fixedcols),a=this.xf_content.innerWidth(),b=this.xf_content.innerHeight(),f=this._gettableheight(XF_GRID.ROW_TABLE_STAT),g=this._gettableheight(XF_GRID.ROW_TABLE_HEAD),h=this._gettableheight(XF_GRID.ROW_TABLE_FIX),i=0,g>0&&(i=g-1),0==this.xf_prop.statistics_row_pos&&f>0&&(i+=f-1),j=i,h>0&&(j=j+h-1),k=0,e>0&&(k=e-1),l=b,f>0&&(l=b-f+1),m=l,g>0&&(m=m-g+1),h>0&&(m=m-h+1),n=a,e>0&&(n=n-e+1),d>0&&(n=n-d+1),this.center_body_width=n,this.xf_content_bg.css({top:_xfu.px(g),height:_xfu.px(b-g)}),this.xf_left_body.css({top:"0px",left:"0px",height:_xfu.px(l),width:_xfu.px(e)}),this.xf_left_body_head.css({top:"0px",left:"0px",height:_xfu.px(g),width:_xfu.px(e)}),this.xf_left_body_fix.css({top:_xfu.px(i),left:"0px",height:_xfu.px(h),width:_xfu.px(e)}),this.xf_left_body_view.css({top:_xfu.px(j),left:"0px",height:_xfu.px(m),width:_xfu.px(e)}),this.xf_left_body_view_content.css({width:_xfu.px(e)}),this.xf_left_body_head_table.css({top:"0px",left:"0px",width:_xfu.px(e)}),this.xf_left_body_fix_table.css({top:"0px",left:"0px",width:_xfu.px(e)}),this.xf_left_body_view_table.css({top:"0px",left:"0px",width:_xfu.px(e)}),this.xf_center_body.css({top:"0px",left:_xfu.px(k),height:_xfu.px(l),width:_xfu.px(n)}),this.xf_center_body_head.css({left:"0px",top:"0px",height:_xfu.px(g),width:_xfu.px(n)}),this.xf_center_body_fix.css({left:"0px",top:_xfu.px(i),height:_xfu.px(h),width:_xfu.px(n)}),this.xf_center_body_view.css({left:"0px",top:_xfu.px(j),height:_xfu.px(m),width:_xfu.px(n)}),this.xf_right_body.css({top:"0px",right:"0px",height:_xfu.px(l),width:_xfu.px(d)}),this.xf_right_body_head.css({top:"0px",left:"0px",height:_xfu.px(g),width:_xfu.px(d)}),this.xf_right_body_fix.css({top:_xfu.px(i),left:"0px",height:_xfu.px(h),width:_xfu.px(d)}),this.xf_right_body_view.css({top:_xfu.px(j),left:"0px",height:_xfu.px(m),width:_xfu.px(d)}),this.xf_right_body_view_content.css({width:_xfu.px(d)}),this.xf_right_body_head_table.css({width:_xfu.px(d)}),this.xf_right_body_fix_table.css({width:_xfu.px(d)}),this.xf_right_body_view_table.css({width:_xfu.px(d)}),1==this.xf_prop.statistics_row_pos?(this.xf_left_foot.css({bottom:"0px",left:"0px",height:_xfu.px(f),width:_xfu.px(e)}),this.xf_left_foot_stat.css({top:"0px",left:"0px",height:_xfu.px(f),width:_xfu.px(e)}),this.xf_left_foot_stat_table.css({top:"0px",left:"0px",width:_xfu.px(e)}),this.xf_center_foot.css({bottom:"0px",left:_xfu.px(k),height:_xfu.px(f),width:_xfu.px(n)}),this.xf_center_foot_stat.css({top:"0px",left:"0px",height:_xfu.px(f)}),this.xf_right_foot.css({bottom:"0px",right:"0px",height:_xfu.px(f),width:_xfu.px(d)}),this.xf_right_foot_stat.css({top:"0px",left:"0px",height:_xfu.px(f),width:_xfu.px(d)}),this.xf_right_foot_stat_table.css({top:"0px",left:"0px",width:_xfu.px(d)})):(g>0&&(o=g-1),this.xf_left_foot.css({top:_xfu.px(o),left:"0px",height:_xfu.px(f),width:_xfu.px(e)}),this.xf_left_foot_stat.css({top:"0px",left:"0px",height:_xfu.px(f),width:_xfu.px(e)}),this.xf_left_foot_stat_table.css({top:"0px",left:"0px",width:_xfu.px(e)}),this.xf_center_foot.css({top:_xfu.px(o),left:_xfu.px(k),height:_xfu.px(f),width:_xfu.px(n)}),this.xf_center_foot_stat.css({top:"0px",left:"0px",height:_xfu.px(f)}),this.xf_right_foot.css({top:_xfu.px(o),right:"0px",height:_xfu.px(f),width:_xfu.px(d)}),this.xf_right_foot_stat.css({top:"0px",left:"0px",height:_xfu.px(f),width:_xfu.px(d)}),this.xf_right_foot_stat_table.css({top:"0px",left:"0px",width:_xfu.px(d)})),void this._setviewcontentwidth(c))},XF_GRID.prototype._data=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(a=this.getcolumncount(),b=0;a>b;b++)for(c=0;c<this.sub_row_count;c++)if(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,c),d.xdataset_column_type!=XFD_XDATASET_COLUMN_DATA&&0!=d.xf_column_data_prop.prefilldata.length)for(e=d.xf_column_data_prop.prefilldata.indexOf("\r\n")>=0?d.xf_column_data_prop.prefilldata.split("\r\n"):d.xf_column_data_prop.prefilldata.split("\n"),e.length>0&&0==e[e.length-1].length&&e.splice(e.length-1,1),f=e.length,h=this.xf_xdataset.getrowcount(),g=0;f>g;g++)g>=h&&(this.xf_xdataset._insertrow(g,XFD_XDATASET_COLUMN_DATA,-1,"",!1),this._setrowinitvalue(g,-1,-1,!1)),e[g]=e[g].replace("\r",""),e[g]=_xfu.newline(e[g]),r=e[g],0!=d.xf_column_data_prop.make_case&&(r=_xfx.makecase(d.xf_column_data_prop.make_case,r)),this.xf_xdataset._setdatabyname(g,d.xdataset_column_type,d.xdataset_column_id,r,!1);if(this.xf_prop.pivot_linkdata.length>0){for(i=this.xf_prop.pivot_linkdata.split(" "),j=i.length,l=0;j>l&&(k=i[l].split("="),2==k.length);l++)switch(m=_xfu.trimquot(k[1]),l){case 0:n=m;break;case 1:o=m;break;case 2:p=m;break;case 3:q=m}this.pivot(n,p,o,q)}},XF_GRID.prototype._offdocevent=function(){$(document).off("click."+this.xf_prop.internal_name),$(document).off("mousedown."+this.xf_prop.internal_name)},XF_GRID.prototype._docevent=function(){this._offdocevent(),$(document).on("click."+this.xf_prop.internal_name,$.proxy(this.on_document_click,this)),$(document).on("mousedown."+this.xf_prop.internal_name,$.proxy(this.on_document_mousedown,this))},XF_GRID.prototype._offevent=function(){_xfj.offevent(this.xf_keyboard,["focus","blur","keydown"]),_xfj.offtarget("change",[this.xf_csv_file,this.xf_text_file,this.xf_excel_file,this.xf_excel_upload_file]),_xfj.offevent(this.xf_object,["contextmenu"]),_xfj.offevent(this.xf_object,["dragstart","dragend","drop"]),_xfj.offevent(this.xf_object,["dragenter","dragover","dragleave"]),_xfj.offevent(this.xf_object,["mousedown","mouseup","mousemove"]),_xfj.offevent(this.xf_object,["click","dblclick"]),_xfj.offevent(this.xf_object,["mouseenter","mouseleave"]),_xfj.offevent(this.xf_object,["mouseenter"])},XF_GRID.prototype._event=function(){this.xf_keyboard.on("focus",$.proxy(this.on_keyboard_focus,this)),this.xf_keyboard.on("blur",$.proxy(this.on_keyboard_blur,this)),this.xf_keyboard.on("keydown",$.proxy(this.on_keyboard_keydown,this)),this.xf_keyboard.on("paste",$.proxy(this.on_keyboard_paste,this)),this.xf_csv_file.on("change",$.proxy(this.on_csvfile_change,this)),this.xf_text_file.on("change",$.proxy(this.on_textfile_change,this)),this.xf_excel_file.on("change",$.proxy(this.on_excelfile_change,this)),this.xf_excel_upload_file.on("change",$.proxy(this.on_exceluploadfile_change,this)),this.xf_left_body_head_table.on("mousemove",$.proxy(this.on_object_mousemove,this)),this.xf_center_body_head_table.on("mousemove",$.proxy(this.on_object_mousemove,this)),this.xf_left_body_fix_table.on("mousemove",$.proxy(this.on_object_mousemove,this)),this.xf_center_body_fix_table.on("mousemove",$.proxy(this.on_object_mousemove,this)),this.xf_left_body_view_table.on("mousemove",$.proxy(this.on_object_mousemove,this)),this.xf_center_body_view_table.on("mousemove",$.proxy(this.on_object_mousemove,this)),this.xf_object.on("contextmenu",$.proxy(this.on_object_contextmenu,this)),this.xf_object.on("dragstart",$.proxy(this.on_object_dragstart,this)),this.xf_object.on("dragend",$.proxy(this.on_object_dragend,this)),this.xf_object.on("drop",$.proxy(this.on_object_drop,this)),this.xf_object.on("dragenter",$.proxy(this.on_object_dragenter,this)),this.xf_object.on("dragover",$.proxy(this.on_object_dragover,this)),this.xf_object.on("dragleave",$.proxy(this.on_object_dragleave,this)),this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("mouseup",$.proxy(this.on_object_mouseup,this)),this.xf_object.on("mouseenter",$.proxy(this.on_object_mouseenter,this)),this.xf_object.on("mouseleave",$.proxy(this.on_object_mouseleave,this)),this.xf_object.on("click",$.proxy(this.on_object_click,this)),this.xf_object.on("mouseenter","tr > td > div",$.proxy(this.on_tditem_mouseenter,this)),this.xf_object.on("mouseenter","tr > td > div > span",$.proxy(this.on_tditem_mouseenter,this)),this.xf_object.on("mouseenter","tr > td > div > span",$.proxy(this.on_tditemspan_mouseenter,this)),this.xf_object.on("mouseleave","tr > td > div > span",$.proxy(this.on_tditemspan_mouseleave,this)),this.xf_object.on("mouseenter","tr > td > div > button",$.proxy(this.on_tditembutton_mouseenter,this)),this.xf_object.on("mouseleave","tr > td > div > button",$.proxy(this.on_tditembutton_mouseleave,this))},XF_GRID.prototype._offevent_mousehover=function(){0!=this.is_mouse_enter_event_set&&(this.is_mouse_enter_event_set=!1,this.xf_left_body_fix_table.off("mouseenter"),this.xf_left_body_fix_table.off("mouseleave"),this.xf_center_body_fix_table.off("mouseenter"),this.xf_center_body_fix_table.off("mouseleave"),this.xf_left_body_view_table.off("mouseenter"),this.xf_left_body_view_table.off("mouseleave"),this.xf_center_body_view_table.off("mouseenter"),this.xf_center_body_view_table.off("mouseleave"))},XF_GRID.prototype._event_mousehover=function(){this.is_mouse_enter_event_set||0!=this.xf_prop.hoverrowcolor&&(this.is_mouse_enter_event_set=!0,this.xf_left_body_fix_table.on("mouseenter","tr",$.proxy(this.on_datatable_mouseenter,this)),this.xf_left_body_fix_table.on("mouseleave","tr",$.proxy(this.on_datatable_mouseleave,this)),this.xf_center_body_fix_table.on("mouseenter","tr",$.proxy(this.on_datatable_mouseenter,this)),this.xf_center_body_fix_table.on("mouseleave","tr",$.proxy(this.on_datatable_mouseleave,this)),this.xf_prop.hoverrow_statcolumn&&(this.xf_right_body_fix_table.on("mouseenter","tr",$.proxy(this.on_datatable_mouseenter,this)),this.xf_right_body_fix_table.on("mouseleave","tr",$.proxy(this.on_datatable_mouseleave,this))),this.xf_left_body_view_table.on("mouseenter","tr",$.proxy(this.on_datatable_mouseenter,this)),this.xf_left_body_view_table.on("mouseleave","tr",$.proxy(this.on_datatable_mouseleave,this)),this.xf_center_body_view_table.on("mouseenter","tr",$.proxy(this.on_datatable_mouseenter,this)),this.xf_center_body_view_table.on("mouseleave","tr",$.proxy(this.on_datatable_mouseleave,this)),this.xf_prop.hoverrow_statcolumn&&(this.xf_right_body_view_table.on("mouseenter","tr",$.proxy(this.on_datatable_mouseenter,this)),this.xf_right_body_view_table.on("mouseleave","tr",$.proxy(this.on_datatable_mouseleave,this))))},XF_GRID.prototype._create=function(){var a;this._dom(),this._event(),this._event_mousehover(),this._after_set_column(),this.is_created=!0,this._updatechartcolumnexist(),this._updateautorowheightcolumnexist(),this._refreshdata({is_create_grid_row_arr:!0,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),a=this._refreshautoheight(-1,-1,!0),null!=a&&a.is_refresh_grid||this._refreshgrid(),0==this.xf_prop.enable&&this.setenable(!1)},XF_GRID_ROWBORDER.prototype._init=function(a){this.xf_grid=a,this.xf_prop=a.xf_prop},XF_GRID_ROWBORDER.prototype._member=function(){this.xf_top=null,this.xf_left=null,this.xf_top=null,this.xf_bottom=null},XF_GRID_ROWBORDER.prototype._box=function(){var a;a=1==this.xf_prop.selectrow_style||2==this.xf_prop.selectrow_style?'style="display:none;border-color:'+_xfu.rgbfunc(this.xf_prop.selectrow_bordercolor)+";box-shadow:0px 0px 1px "+_xfu.rgbfunc(this.xf_prop.selectrow_bordercolor)+';"':'style="display:none;border-color:transparent;"',this.xf_top=$('<div class="_xfd_border_top" '+a+"></div>"),
this.xf_left=$('<div class="_xfd_border_left" '+a+"></div>"),this.xf_right=$('<div class="_xfd_border_right" '+a+"></div>"),this.xf_bottom=$('<div class="_xfd_border_bottom" '+a+"></div>"),this.xf_grid.xf_object.append(this.xf_top),this.xf_grid.xf_object.append(this.xf_left),this.xf_grid.xf_object.append(this.xf_right),this.xf_grid.xf_object.append(this.xf_bottom)},XF_GRID_ROWBORDER.prototype.show=function(a){var b,c,d,e;e=this.xf_grid._gettableheight(XF_GRID.ROW_TABLE_HEAD),b=a.position(),e>0&&(b.top=b.top+e-1),d=this.xf_grid.xf_grid_scroll.is_vscroll_show?this.xf_grid.xf_object.outerWidth()-(this.xf_grid.xf_prop.vertscrollbar_size+this.xf_grid.xf_prop.vertscrollbar_right):"100%",c=a.outerHeight(),this.xf_top.css({display:"block",width:d,top:_xfu.px(b.top)}),this.xf_bottom.css({display:"block",width:d,top:_xfu.px(b.top+c)}),this.xf_left.css({display:"block",top:_xfu.px(b.top),height:_xfu.px(c)}),this.xf_grid.xf_grid_scroll.is_vscroll_show?this.xf_right.css({display:"block",top:_xfu.px(b.top),right:_xfu.px(this.xf_grid.xf_prop.vertscrollbar_size+this.xf_grid.xf_prop.vertscrollbar_right),height:_xfu.px(c)}):this.xf_right.css({display:"block",top:_xfu.px(b.top),height:_xfu.px(c)})},XF_GRID_ROWBORDER.prototype.hide=function(){this.xf_top.hide(),this.xf_left.hide(),this.xf_right.hide(),this.xf_bottom.hide()},XF_GRID.prototype.setpopupdropmenuitemhidden=function(a,b){return a==XFD_GRID_MENU_DROPCOPY?(this.xf_context_drop.setmenuprop("drop_copy","is_hidden",b),!0):a==XFD_GRID_MENU_DROPMOVE?(this.xf_context_drop.setmenuprop("drop_move","is_hidden",b),!0):!1},XF_GRID.prototype.autodropfunc=function(a,b){var c;if(b=_xfu.intval(b,0,2),b===!1)return!1;switch(b){case XFD_DRAGNDROP_COPY:this.on_context_click("drop_copy");break;case XFD_DRAGNDROP_MOVE:this.on_context_click("drop_move");break;case XFD_DRAGNDROP_SHOWMENU:this.xf_context.hide(),this.xf_context_drop.hide(),this.xf_context_selectblock.hide(),c=factory.getmouseeventpos(),this.xf_context_drop.show(c.pageX,c.pageY,c)}return!0},XF_GRID.prototype.setdragable=function(a){this.xf_prop.dragable=a,this._refreshgrid()},XF_GRID.prototype.getinputtype=function(){return this.xf_prop.input_type},XF_GRID.prototype.setinputtype=function(a){this.xf_prop.input_type=_xfu["int"](a)},XF_GRID.prototype.getscrolltoprow=function(){return this.view_start_row_index},XF_GRID.prototype.getscrollleftcolumn=function(){return this.xf_grid_scroll.getscrollleftcolumn()},XF_GRID.prototype.setscrollleftcolumn=function(a){return a=_xfu["int"](a),this.xf_grid_scroll.setscrollleftcolumn(a)},XF_GRID.prototype.setscrolltoprow=function(a){var b;return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:(a<this.view_top_row_index&&(a=this.view_top_row_index),this.view_content_row_count<=this.view_row_count?!0:(b=this._calcviewcontenttop(a),this._setviewcontenttop(b,!0,!0,XFD_SB_THUMBPOSITION),0==this.is_mobile_mode&&this._displayviewtable(0),!0))},XF_GRID.prototype.setscrollbarsize=function(a){return a=_xfu.intval(a,12,20),a===!1?!1:this.xf_prop.horzscrollbar_size==a&&this.xf_prop.vertscrollbar_size==a?!0:this._setscrollbarsize(a,a)},XF_GRID.prototype.sethorzscrollbarsize=function(a){return a=_xfu.intval(a,12,20),a===!1?!1:this._setscrollbarsize(a,0)},XF_GRID.prototype.setvertscrollbarsize=function(a){return a=_xfu.intval(a,12,20),a===!1?!1:this._setscrollbarsize(0,a)},XF_GRID.prototype._setscrollbarsize=function(a,b){return a>0&&(this.xf_prop.horzscrollbar_size=b),b>0&&(this.xf_prop.vertscrollbar_size=a),this.xf_grid_scroll.setscrollbarsize(a,b),this.on_object_resize(!1),!0},XF_GRID.prototype.getprotect=function(){return this.xf_protect.getprotect()},XF_GRID.prototype.setprotect=function(a,b,c){a?this.xf_protect.showprotect(b,c):this.xf_protect.hideprotect()},XF_GRID.prototype.setenable=function(a,b){0!=this._isvalidsetenable(a,b)&&(this.xf_prop.enable=a,a?this.xf_protect.hideprotect(!0):this.xf_protect.showprotect(0,!1))},XF_GRID.prototype.getbackimage=function(){return this.xf_prop.back_image},XF_GRID.prototype.geteditable=function(){return this.xf_prop.editable},XF_GRID.prototype.seteditable=function(a){return this.xf_prop.editable=a,0==a&&(this.non_editable_status="absolute"),factory_xf_param.PROTECTCOLUMNCOLOR||factory_xf_param.MANDATORYCOLUMNCOLOR?this.refreshcolumn():this._refreshgrid(),!0},XF_GRID.prototype.setbackimage=function(a,b,c){return void 0===b&&(b=this.xf_prop.back_imagehorzalign),void 0===c&&(c=this.xf_prop.back_imagevertalign),b=_xfu.intval(b,0,2),c=_xfu.intval(c,0,2),c===!1||c===!1?!1:(this.xf_prop.back_image=a,this.xf_prop.back_imagehorzalign=b,this.xf_prop.back_imagevertalign=c,_xfc.backimagepos(this.xf_content_bg,b,c),void this._refreshbackimage(!0))},XF_GRID.prototype.getbackimageshow=function(){return this.xf_prop.back_imageshow},XF_GRID.prototype.setbackimageshow=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.back_imageshow=a,void this._refreshbackimage(!0))},XF_GRID.prototype.movescrollrow=function(a){return a=_xfu["int"](a),isNaN(a)||Math.abs(a)>this.getrowcount()?!1:(this.xf_grid_scroll.movescrollrow(a,!0),!0)},XF_GRID.prototype.movescrollcolumn=function(a){return a=_xfu["int"](a),isNaN(a)||Math.abs(a)>this.getcolumncount()?!1:(this.xf_grid_scroll.movescrollcolumn(a),!0)},XF_GRID.prototype.editcomplete=function(a){return null!=this.xf_item_edit_component&&(this.xf_item_edit_component.is_fire_async=a,this.setfocus()),!0},XF_GRID.prototype.finditembypoint=function(a,b){return[]},XF_GRID.prototype.getdrophilightrow=function(){return this.xf_dragdrop.drop_row_index},XF_GRID.prototype.getiomapcolumn=function(a,b,c){return this.xf_parent.xf_screen.getgridiomapcolumn(a,b,this.xf_prop.control_id,c)},XF_GRID.prototype.getiomapcount=function(a,b){return this.xf_parent.xf_screen.getgridiomapcount(a,b,this.xf_prop.control_id)},XF_GRID.prototype.getiomaptext=function(a,b,c){return this.xf_parent.xf_screen.getgridiomaptext(a,b,this.xf_prop.control_id,c)},XF_GRID.prototype.getiomapsubrow=function(a,b,c){return this.xf_parent.xf_screen.getgridiomapsubrow(a,b,this.xf_prop.control_id,c)},XF_GRID.prototype.gethostdata=function(){return""},XF_GRID.prototype.getlinkxdataset=function(){return this.xdataset_type===XFD_XDATASET_INNER?null:this.xf_xdataset},XF_GRID.prototype.getlinkxdatasetcolumnid=function(){return""},XF_GRID.prototype.getlinkxdatasetid=function(){return this.xdataset_type===XFD_XDATASET_INNER?"":this.xdataset_id},XF_GRID.prototype.getpopupmenushow=function(){return this.xf_prop.popupmenu_show},XF_GRID.prototype.setpopupmenushow=function(a){return this.xf_prop.popupmenu_show=a,!0},XF_GRID.prototype.getselectcolumn=function(){return this.selected_column_index},XF_GRID.prototype.getselectrow=function(){return this.selected_row_index},XF_GRID.prototype.setselectrow=function(a,b,c){var d;return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?!1:1==this._ishiddenrow(XF_GRID.ROW_KIND_DATA,a)?!1:(d=this.selected_column_index,-1==d&&(d=this._findnextvisibleitemcolumnindex(1,-1,!1,!0),-1==d&&(d=0)),this._setselectitem(a,this.selected_sub_row_index,d,!0,!1,b,c))},XF_GRID.prototype.setselectcolumn=function(a,b){return a=_xfu["int"](a),this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a)===!1?!1:1==this.ishiddencolumn(a)?!1:this._setselectitem(this.selected_row_index,this.selected_sub_row_index,a,!0,!1,b)},XF_GRID.prototype.getmultiselectrow=function(){return this.xf_prop.multi_selectrow},XF_GRID.prototype.setmultiselectrow=function(a){1==this.xf_prop.multi_selectrow&&this._setselectedrowinfo(!1,-1,-1),this.xf_prop.multi_selectrow=a,this.setselectitem(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,!1)},XF_GRID.prototype.getselectsubrow=function(){return this.selected_sub_row_index},XF_GRID.prototype.getselectrowfirst=function(){return this._findnextselectedrowindex(0,!0,!0)},XF_GRID.prototype.getselectrownext=function(a){return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?-1:this._findnextselectedrowindex(a,!0,!0)},XF_GRID.prototype.gettreeimageshow=function(){return this.is_treeimage_show},XF_GRID.prototype.settreeimageshow=function(a){this.is_treeimage_show!=a&&(this.is_treeimage_show=a,this._istreegrid()&&this._refreshgrid())},XF_GRID.prototype.toggletreeimageshow=function(){this.is_treeimage_show=!this.is_treeimage_show,this._istreegrid()&&this._refreshgrid()},XF_GRID.prototype.getxdatasetrow=function(a){return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?-1:this._getxdatasetrowindex(a)},XF_GRID.prototype.initialize=function(a){var b,c,d;void 0===a&&(a=!1),this.deleteall(),d=this.xf_prop.internal_name,b=$.extend(!0,{},this.xf_create_prop),c=this.create_child_node_map,this._offevent(),this._offdocevent(),this.xf_object.remove(),this.xdataset_type==XFD_XDATASET_NORMAL&&this.xf_xdataset._deletelinkobject(this),this._init(this.xf_parent,b),this.create_child_node_map=c,this._member(),this._prop(b,d),this._box(!1),void 0!==c.column&&c.column.length>0&&_xfl_gridcolumn(c.column,this),this._create(),1==a&&this.applyresizedir()},XF_GRID.prototype.applyresizedir=function(){this.on_parent_resize(!1)},XF_GRID.prototype.isediting=function(){return null!=this.xf_item_edit_div},XF_GRID.prototype.setfocus=function(){return this._setfocus(_XFD_FOCUSTYPE_API)},XF_GRID.prototype._setfocus=function(a){a===_XFD_FOCUSTYPE_CLICK&&0==this.xf_prop.click_setfocus||(this.xf_keyboard.focus(),this.is_has_focus=!0)},XF_GRID.prototype.pivot=function(a,b,c,d){var e;return null==this.xf_parent?!1:(e=this._getpivotinfo(a,b,c,d),null==e?!1:(this.pivot_info=e,void this._executepivot(this.pivot_info)))},XF_GRID.prototype._executepivot=function(a){a.xf_pivot_xdataset=a.xf_xdataset.clonenew("","",!1,!1),a.row_count=a.xf_pivot_xdataset.getrowcount(),this._setpivotxcolumn(a),this._setpivotheadercolumn(a),this._setpivotheadermerge(a.header_row_count-1,a.header_column_count,0),this._setpivotcolumnindexinfo(a),this._setpivotycolumn(a),this._setpivotdatacolumn(a),this._afterchangecolumncallback(!1),this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),this._refreshgrid()},XF_GRID.prototype._getpivotinfo=function(a,b,c,d){var e,f,g;if(g={},g.xf_xdataset=this.xf_parent.xf_screen.getxdataset(a),null==g.xf_xdataset)return null;if(g.x_column_id_arr=b.split(","),g.x_column_id_count=g.x_column_id_arr.length,g.x_column_id_count<=0)return null;for(e=0;e<g.x_column_id_count;e++)g.x_column_id_arr[e]=_xfu.trim(g.x_column_id_arr[e]);if(g.y_column_id_arr=c.split(","),g.y_column_id_count=g.y_column_id_arr.length,g.y_column_id_count<=0)return null;for(e=0;e<g.y_column_id_count;e++)g.y_column_id_arr[e]=_xfu.trim(g.y_column_id_arr[e]);if(g.data_column_id_arr=d.split(","),g.data_column_id_count=g.data_column_id_arr.length,g.data_column_id_count<=0)return null;for(e=0;e<g.data_column_id_count;e++)g.data_column_id_arr[e]=_xfu.trim(g.data_column_id_arr[e]);for(g.data_column_type_arr=[],e=0;e<g.data_column_id_count;e++)f=g.data_column_id_arr[e].split(":"),2==f.length?(g.data_column_id_arr[e]=f[0],g.data_column_type_arr[e]=_xfu["int"](f[1])):g.data_column_type_arr[e]=XFD_STAT_SUM;return g.x_column_index_arr=g.xf_xdataset._getcolumns(g.x_column_id_arr),null==g.x_column_index_arr?null:(g.x_column_desc_arr=g.xf_xdataset._getcolumndescs(g.x_column_index_arr),g.y_column_index_arr=g.xf_xdataset._getcolumns(g.y_column_id_arr),null==g.y_column_index_arr?null:(g.y_column_desc_arr=g.xf_xdataset._getcolumndescs(g.y_column_index_arr),g.data_column_index_arr=g.xf_xdataset._getcolumns(g.data_column_id_arr),null==g.data_column_index_arr?null:(g.data_column_desc_arr=g.xf_xdataset._getcolumndescs(g.data_column_index_arr),g)))},XF_GRID.prototype._setpivotxcolumn=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(m=[],l=0;l<a.x_column_id_count;l++)m.push({sort_order:XFD_GRID_SORT_ASC,data_type:XFD_GRID_DATA_HANGUL,xdataset_column_type:XFD_XDATASET_COLUMN_DATA,xdataset_column_index:a.xf_pivot_xdataset.getcolumn(a.x_column_id_arr[l])});for(a.xf_pivot_xdataset._multisort(m),a.header_row_count=a.x_column_id_count+1,f=[],l=0;l<a.header_row_count;l++)f.push([]);for(i=0,c=[],l=0;l<a.x_column_id_count;l++)c.push("");for(e=0;e<a.row_count;e++){for(d=!1,b=[],k=0;k<a.x_column_id_count;k++)b.push(a.xf_pivot_xdataset.getdata(e,a.x_column_index_arr[k]));for(k=0;k<a.x_column_id_count;k++)if(c[k]!=b[k])for(d=!0,h=0;h<a.x_column_id_count;h++)g=f[h],g[i]=b[h];if(d)for(j=0;j<a.data_column_id_count;j++)if(g=f[a.x_column_id_count],0==a.data_column_desc_arr[j].length?g.push(a.data_column_id_arr[j]):g.push(a.data_column_desc_arr[j]),i++,j>0)for(k=0;k<a.x_column_id_count;k++)g=f[k],g.push(g[g.length-1]);c=b}a.header_row_arr=f},XF_GRID.prototype._setpivotheadercolumn=function(a){var b,c,d,e,f;for(this.deleteallrows(),this.deleteallcolumn(!1),this.sethorzheadercount(a.header_row_count,!1),d=0;d<a.y_column_id_count;d++){for(this.addcolumn(!1),this.setcolumnhorzalign(d,1,!1),this.setcolumndatatype(d,XFD_GRID_DATA_HANGUL,!1),b=0;b<a.header_row_count-1;b++)f=a.x_column_desc_arr[b],0==f.length&&(f=a.x_column_id_arr[b]),this.setheadertext(b,d,f,!1);f=a.y_column_desc_arr[d],0==f.length&&(f=a.y_column_id_arr[d]),this.setheadertext(a.header_row_count-1,d,f,!1)}for(a.header_x_column_count=a.header_row_arr[0].length,e=0;e<a.header_x_column_count;e++)this.addcolumn(!1);for(a.header_column_count=a.y_column_id_count+a.header_x_column_count,b=0;b<a.header_row_count;b++)for(c=a.y_column_id_count;c<a.header_column_count;c++)this.setheadertext(b,c,a.header_row_arr[b][c-a.y_column_id_count],!1);this.setfixedcolumns(a.y_column_id_count,!1)},XF_GRID.prototype._setpivotheadermerge=function(a,b,c){var d,e,f,g,h,i;for(void 0===c&&(c=0),d=0;a>d;d++){for(g=c,i=[],f=0;d>=f;f++)i.push(this.getheadertext(f,c));for(e=c+1;b>e;e++)for(f=0;d>=f;f++)if(i[f]!==this.getheadertext(f,e)){for(h=e-1,h-g>0&&this.setheadermergerange(d,g,d,h,!1),g=e,i=[],f=0;d>=f;f++)i.push(this.getheadertext(f,e));break}h=b-1,h-g>0&&this.setheadermergerange(d,g,d,h,!1)}},XF_GRID.prototype._setpivotcolumnindexinfo=function(a){var b,c,d,e,f;for(b={},f=a.y_column_id_count;f<a.header_column_count;f++){for(c=[],e=0;e<a.header_row_count;e++)c.push(this.getheadertext(e,f));d=this._getpivotdatakey(c),b[d]=f}a.column_index_info=b},XF_GRID.prototype._setpivotycolumn=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(c=[],b=0;b<a.y_column_id_arr.length;b++)c.push({sort_order:XFD_GRID_SORT_ASC,data_type:XFD_GRID_DATA_HANGUL,xdataset_column_type:XFD_XDATASET_COLUMN_DATA,xdataset_column_index:a.xf_pivot_xdataset.getcolumn(a.y_column_id_arr[b])});for(a.xf_pivot_xdataset._multisort(c),e=[],i=0;i<a.y_column_id_count;i++)e.push("");for(g=[],f=0;f<a.row_count;f++){for(h=!1,d=[],i=0;i<a.y_column_id_count;i++)d.push(a.xf_pivot_xdataset.getdata(f,a.y_column_index_arr[i]));for(i=0;i<a.y_column_id_count;i++)if(e[i]!=d[i]){h=!0;break}for(h?g.push(d):d=g[g.length-1],k=0;k<a.data_column_id_count;k++){for(l=[],j=0;j<a.x_column_id_count;j++)l.push(a.xf_pivot_xdataset.getdata(f,a.x_column_index_arr[j]));0==a.data_column_desc_arr[k].length?l.push(a.data_column_id_arr[k]):l.push(a.data_column_desc_arr[k]),m=this._getpivotdatakey(l),n=a.column_index_info[m],void 0===d[n]&&(d[n]=[]),d[n].push(a.xf_pivot_xdataset.getdata(f,a.data_column_index_arr[k]))}e=d}a.data_row_arr=g,a.data_row_count=g.length},XF_GRID.prototype._getpivotdatakey=function(a){var b;return b=a.join("_"),b=b.replace(/(\s*)/g,""),"_xf_pivot_key_"+b},XF_GRID.prototype._setpivotdatacolumn=function(a){var b,c,d,e,f,g,h,i;for(b=0;b<a.data_row_count;b++){for(this.additemex(0,a.data_row_arr[b][0],!1),c=1;c<a.y_column_id_count;c++)this.setitemtextex(b,c,a.data_row_arr[b][c],!1);for(d=a.y_column_id_count;d<a.header_column_count;d++)if(void 0!==a.data_row_arr[b][d]){if(0===a.data_row_arr[b][d].length)continue;e=0,g=a.data_row_arr[b][d],f=g.length,h=(d-a.y_column_id_count)%a.data_column_id_count,i=a.data_column_type_arr[h],e=_xfu.stats(i,g,f),this.setitemtextex(b,d,e,!1)}}for(d=a.y_column_id_count;d<a.header_column_count;d++)this.setcolumnhorzalign(d,2,!1),this.setcolumndatatype(d,XFD_GRID_DATA_NUMERIC,!1),this.setcolumnpattern(d,"-ZZ,ZZZ,ZZZ,ZZZ,ZZZ,ZZZ",!1)},XF_GRID.prototype.procmenuitem=function(a){var b;switch(a){case XFD_GRID_MENU_MULTISORT:this.multisort();break;case XFD_GRID_MENU_SORTASC:b=this.getselectcolumn(),b>=0&&this.sort(b,XFD_GRID_SORT_ASC);break;case XFD_GRID_MENU_SORTDESC:b=this.getselectcolumn(),b>=0&&this.sort(b,XFD_GRID_SORT_DES);break;case XFD_GRID_MENU_SEARCH:this.xf_findbox.show();break;case XFD_GRID_MENU_MULTIFILTER:this._showmultifilterpopup(-1,-1);break;case XFD_GRID_MENU_APPLYFILTER:this.showfilter(!0);break;case XFD_GRID_MENU_RELEASEFILTER:this.releasefilter();break;case XFD_GRID_MENU_SHOWSETUPFIXEDBAR:this.on_context_click("fix_bar");break;case XFD_GRID_MENU_SHOWALLFIXEDBAR:this.xf_fixbar_row.show(!0),this.xf_fixbar_column.show(!0);break;case XFD_GRID_MENU_HIDEALLFIXEDBAR:this.xf_fixbar_row.show(!1),this.xf_fixbar_column.show(!1);break;case XFD_GRID_MENU_CELLCOPY:this.on_context_click("copy_cell");break;case XFD_GRID_MENU_ROWCOPY:this.on_context_click("copy_row");break;case XFD_GRID_MENU_ALLCOPY:this.on_context_click("copy_all");break;case XFD_GRID_MENU_READEXCEL:this.on_context_click("excel_load");break;case XFD_GRID_MENU_SAVEEXCEL:this.on_context_click("excel_save");break;case XFD_GRID_MENU_READCSV:this.on_context_click("csv_load");break;case XFD_GRID_MENU_SAVECSV:this.on_context_click("csv_save");break;case XFD_GRID_MENU_CELLMERGE:this.on_context_click("cell_merge");break;default:return!1}return!0},XF_GRID.prototype.settreelinkxdataset=function(a,b,c,d,e){var f,g,h,i,j,k,l;if(i=this.xdataset_id,l=XFD_XDATASET_NORMAL,k=window[a],null===k&&(l=XFD_XDATASET_GLOBAL,k=factory.getglobalxdataset(a),null===k))return!1;if(b.length>0&&k.getcolumn(b)<0)return!1;if(c.length>0&&k.getcolumn(c)<0)return!1;if(d.length>0&&k.getcolumn(d)<0)return!1;if(e.length>0&&k.getcolumn(e)<0)return!1;if(this.xdataset_type==XFD_XDATASET_INNER?this.xf_xdataset._remove():this.xf_xdataset._deletelinkobject(this),this.xf_xdataset=k,this.xdataset_id=a,this.xdataset_type=l,this.xf_xdataset._addlinkobject(this),this.xdataset_depth_column_id=b,this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,0==this.xdataset_depth_column_id.length&&(this.xdataset_column_type=XFD_XDATASET_COLUMN_INNER,this.xdataset_depth_column_id=_xfx.xdatasetcolumnid(this),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_depth_column_id,"",0,!1)),this.xdataset_image_column_id=c,0==this.xdataset_image_column_id.length&&(this.xdataset_image_column_id=_xfx.xdatasetcolumnid(this),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_image_column_id,"",0,!1)),this.xdataset_selimage_column_id=d,0==this.xdataset_selimage_column_id.length&&(this.xdataset_selimage_column_id=_xfx.xdatasetcolumnid(this),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_selimage_column_id,"",0,!1)),this.xdataset_key_column_id=e,0==this.xdataset_key_column_id.length&&(this.xdataset_key_column_id=_xfx.xdatasetcolumnid(this),this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_key_column_id,"",0,!1)),i!=a)for(h=this.getcolumncount(),f=0;f<this.sub_row_count;f++)for(g=0;h>g;g++)j=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,g,f),j._xdataset(),j.xf_column_data_prop.link_data="",j._xdataset_column();return this._refreshdata({is_create_grid_row_arr:!0,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),this._refreshgrid(),!0},XF_GRID.prototype.setlinkxdataset=function(a){var b,c,d,e,f,g;if(this.xdataset_id===a)return!1;if(g=XFD_XDATASET_NORMAL,f=window[a],null===f&&(g=XFD_XDATASET_GLOBAL,f=factory.getglobalxdataset(a),null===f))return!1;for(this.xdataset_type==XFD_XDATASET_INNER?this.xf_xdataset._remove():this.xf_xdataset._deletelinkobject(this),this.xf_xdataset=f,this.xdataset_id=a,this.xdataset_type=g,this.xf_xdataset._addlinkobject(this),d=this.getcolumncount(),b=0;b<this.sub_row_count;b++)for(c=0;d>c;c++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),e._xdataset(),e.xf_column_data_prop.link_data="",e._xdataset_column();return this._refreshdata({is_create_grid_row_arr:!0,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),this._refreshgrid(),!0},XF_GRID.prototype.setheight=function(a){return a=_xfu["int"](a),isNaN(a)||0>a?!1:(this.xf_prop.height=a,this._updateoriginvalue(!1,!1,!1,!0),this.xf_object.css({height:_xfu.px(a)}),this.on_object_resize(!1),!0)},XF_GRID.prototype.setwidth=function(a){return a=_xfu["int"](a),isNaN(a)||0>a?!1:(this.xf_prop.width=a,this._updateoriginvalue(!1,!1,!0,!1),this.xf_object.css({width:_xfu.px(a)}),this.on_object_resize(!1),!0)},XF_GRID.prototype.setrect=function(a,b,c,d){var e,f;return e=this.getwidth(),f=this.getheight(),a=_xfu.intval(a,XFD_MIN_VALUE,XFD_MAX_VALUE),b=_xfu.intval(b,XFD_MIN_VALUE,XFD_MAX_VALUE),c=_xfu.intval(c,XFD_MIN_VALUE,XFD_MAX_VALUE),d=_xfu.intval(d,XFD_MIN_VALUE,XFD_MAX_VALUE),a===!1||b===!1||c===!1||d===!1?!1:a>c||b>d?!1:(this.xf_prop.x=a,this.xf_prop.y=b,this.xf_prop.width=c-a,this.xf_prop.height=d-b,this._updateoriginvalue(!0,!0,!0,!0),this.xf_object.css({left:_xfu.px(a),top:_xfu.px(b),width:_xfu.px(c-a),height:_xfu.px(d-b)}),void this.on_object_resize(!1))},XF_GRID.prototype.settextmargin=function(a,b,c,d,e){var f,g,h,i;if(void 0===c&&(c=-1),void 0===d&&(d=-1),void 0===e&&(e=!0),a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),!(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))){for(this.xf_prop.text_leftmargin=a,this.xf_prop.text_rightmargin=b,g=this.getcolumncount(),h=0;g>h;h++)for(i=0;i<this.sub_row_count;i++)f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,h,i),-1===f.xf_column_data_prop.text_leftmargin&&(f.xf_column_data_prop.text_leftmargin=this.xf_prop.text_leftmargin),-1===f.xf_column_data_prop.text_rightmargin&&(f.xf_column_data_prop.text_rightmargin=this.xf_prop.text_rightmargin);this.setcelltextmargin(a,b,c,d,e,!1),this.setheadertextmargin(a,b,c,d,e,!1),e&&this.refreshcolumn()}},XF_GRID.prototype.setcelltextmargin=function(a,b,c,d,e){void 0===c&&(c=-1),void 0===d&&(d=-1),void 0===e&&(e=!0),a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||((a>=0||b>=0||c>=0||d>=0)&&void 0===this.xf_prop.cell_textmargin&&(this.xf_prop.cell_textmargin=[-1,-1,-1,-1]),a>=0&&(this.cell_textmargin[0]=a),b>=0&&(this.cell_textmargin[1]=b),c>=0&&(this.xf_prop.cell_textmargin[2]=c),d>=0&&(this.xf_prop.cell_textmargin[3]=d),this.xf_prop.cell_textmargin=this.cell_textmargin.slice(0),e&&this.refreshcolumn())},XF_GRID.prototype.setheadertextmargin=function(a,b,c,d,e){void 0===c&&(c=-1),void 0===d&&(d=-1),void 0===e&&(e=!0),a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||((a>=0||b>=0||c>=0||d>=0)&&void 0===this.xf_prop.header_textmargin&&(this.xf_prop.header_textmargin=[-1,-1,-1,-1]),a>=0&&(this.header_textmargin[0]=a),b>=0&&(this.header_textmargin[1]=b),c>=0&&(this.header_textmargin[2]=c),d>=0&&(this.header_textmargin[3]=d),this.xf_prop.header_textmargin=this.header_textmargin.slice(0),e&&this.refreshcolumn())},XF_GRID.prototype.refreshpivot=function(){return null!==this.pivot_info?void this._executepivot(this.pivot_info):void 0},XF_GRID.prototype.refresh=function(a,b){var c;void 0===a&&(a=!0),void 0===b&&(b=!0),this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:b,is_refresh_midstat_row_data:b,is_refresh_column_merge:a}),c=this._refreshautoheight(-1,-1,!0),null!=c&&c.is_refresh_grid||this._refreshgrid(a)},XF_GRID.prototype.refreshcolumn=function(){this._afterchangecolumncallback()},XF_GRID.prototype.zoom=function(a){return a=_xfu["int"](a),a>=50&&200>=a},XF_GRID.prototype.initallrowoperation=function(){this.xf_xdataset.initallrowoperation()},XF_GRID.prototype.getrowoperation=function(a){var b;return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?XFD_ROWOP_ERROR:(b=this.getxdatasetrow(a),0>b?XFD_ROWOP_ERROR:this.xf_xdataset.getrowoperation(b))},XF_GRID.prototype.setrowoperation=function(a,b){var c;return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:(c=this.getxdatasetrow(a),0>c?!1:this.xf_xdataset.setrowoperation(c,b))},XF_GRID.prototype.gettreerootdepthvalue=function(){return this.xf_prop.tree_rootdepth_value},XF_GRID.prototype.settreerootdepthvalue=function(a,b){return a=_xfu.intval(a,-1,XFD_MAX_VALUE),a===!1?!1:(this.xf_prop.tree_rootdepth_value=a,void 0!==b&&1!=b||this._refreshgrid(),!0)},XF_GRID.prototype.getmouseeventiteminfo=function(){return $.extend({},this.mouseevent_item_info)},XF_GRID.prototype.gettooltipunmask=function(){return this.xf_prop.tooltip_unmask},XF_GRID.prototype.settooltipunmask=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.tooltip_unmask=a,this._refreshgrid(),!0)},XF_GRID.prototype.getcontextmenuinfo=function(){return{menu_width:this.xf_context.xf_prop.menu_width,menu_arr:JSON.parse(JSON.stringify(this.xf_context.menu_arr))}},XF_GRID.prototype.initcontextmenuinfo=function(){this.setcontextmenuinfo(this.context_menu_info)},XF_GRID.prototype.setcontextmenuinfo=function(a){var b,c,d,e,f,g,h,i;if(null==a)return void this.xf_context.setmenu([]);if(i=JSON.parse(JSON.stringify(a)),void 0!==i.menu_width&&(this.xf_context.xf_prop.menu_width=i.menu_width),void 0===i.menu_arr)return!1;for(b=i.menu_arr,c=b.length,d=0;c>d;d++)for(e=this.xf_context.newmenu(b[d]),b[d]=e,"sort"==e.id&&0==this.xf_prop.column_sort?e.is_hidden=!0:"cell_merge"==e.id||"cell_merge_clear"==e.id?0!=this._isnormalgrid()&&0!=this.xf_prop.use_selectblock||(e.is_hidden=!0):"copy_row"!=e.id&&"copy_all"!=e.id||0!=this._isnormalgrid()||(e.is_hidden=!0),"copy_cell"!=e.id&&"copy_row"!=e.id&&"copy_all"!=e.id||1==factory_xf_param.PROTECT_COPY&&(e.is_hidden=!0),f=e.sub_menu_arr.length,g=0;f>g;g++)h=this.xf_context.newmenu(e.sub_menu_arr[g]),e.sub_menu_arr[g]=h,"sort"==h.id&&0==this.xf_prop.column_sort?h.is_hidden=!0:"cell_merge"==h.id||"cell_merge_clear"==e.id?0!=this._isnormalgrid()&&0!=this.xf_prop.use_selectblock||(h.is_hidden=!0):"copy_row"!=h.id&&"copy_all"!=h.id||0!=this._isnormalgrid()||(h.is_hidden=!0),"copy_cell"!=h.id&&"copy_row"!=h.id&&"copy_all"!=h.id||1==factory_xf_param.PROTECT_COPY&&(h.is_hidden=!0);return this.xf_context.setmenu(b),!0},XF_GRID.prototype.getstatisticshiddenitem=function(){return this.xf_prop.statistics_hiddenitem},XF_GRID.prototype.setstatisticshiddenitem=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.statistics_hiddenitem=a,this._isstatexcludehiddenitem(),this.refresh(),!0)},XF_GRID.prototype.getstatisticsmergeditem=function(){return this.xf_prop.statistics_mergeditem},XF_GRID.prototype.setstatisticsmergeditem=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.statistics_mergeditem=a,this.is_stat_exclude_merged_item=this._isstatexcludemergeditem(),this.refresh(),!0)},XF_GRID.prototype.deletecheckedrow=function(){var a,b,c;for(a=this.getrowcount(),b=a-1;b>=0;b--)this.ischeckedrow(b)!==!1&&(c=this._getxdatasetrowindex(b),this.xf_xdataset._deleterow(c,!1,!0,this),this._deletegridrow(b,c,!1,!1));return this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),this._refreshgrid(),!0},XF_GRID.prototype.getcheckedrow=function(a){var b,c;for(a=_xfu["int"](a),c=this.getrowcount(),b=a;c>b;b++)if(this.ischeckedrow(b))return b;return-1},XF_GRID.prototype.getselectedrowcount=function(){return this._getselectedrowcount(-1,-1)},XF_GRID.prototype.getcheckedrowcount=function(){return this.xf_xdataset._getcheckedrowcount()},XF_GRID.prototype.getcheckrowwithselect=function(){return this.xf_prop.checkrowwithselect},XF_GRID.prototype.setcheckrowwithselect=function(a){this.xf_prop.checkrowwithselect=a},XF_GRID.prototype.getusecheckbox=function(){return this.getusecheckrow()},XF_GRID.prototype.setusecheckbox=function(a,b){return this.setusecheckrow(a,b)},XF_GRID.prototype.getusecheckrow=function(){return this.xf_prop.use_checkrow},XF_GRID.prototype.setusecheckrow=function(a,b){return this.xf_prop.use_checkrow=a,(void 0===b||b)&&this._afterchangecolumn(),!0},XF_GRID.prototype.isitemselectedrow=function(a){return a=_xfu["int"](a),this.ismidstatrow(a)?!1:this._isitemselectedrow(a)},XF_GRID.prototype.isselectedrow=function(a){return a=_xfu["int"](a),this.ismidstatrow(a)?!1:this._isselectedrow(a)},XF_GRID.prototype.ischeckedrow=function(a){return a=_xfu["int"](a),this.ismidstatrow(a)?!1:this._ischeckedrow(a)},XF_GRID.prototype._ischeckedrow=function(a){return this.xf_xdataset._ischeckedrow(this._getxdatasetrowindex(a))},XF_GRID.prototype.setcheckedallrow=function(a,b,c){var d,e;for(void 0===b&&(b=!0),void 0===c&&(c=!0),this.is_check=a,this._refreshcheckheadfix(),e=this.getrowcount(),d=0;e>d;d++)this._ismidstatrow(d)||0==b&&this._ishiddenrow(XF_GRID.ROW_KIND_DATA,d)||0==c&&0==this.xf_data_row_arr[d].is_enable_checkrow||this.xf_xdataset._setcheckedrow(this._getxdatasetrowindex(d),a,!1);this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_CHECK,null)},XF_GRID.prototype._refreshcheckrowheadercheck=function(a,b){var c,d,e;if(0!=this.xf_prop.multi_checkrow){if(void 0===b&&(b=!0),d=this.getrowcount(),0==d)return this.is_check=this.xf_prop.column_headcheck_empty,void(a===!0&&this._refreshcheckheadfix());for(e=!0,(1==this.xf_prop.check_hidden_row||0==this.xf_prop.check_hidden_row&&1==factory_xf_param.GRID_CHECK_HIDDEN_ROW)&&(e=!1),c=0;d>c&&(this._ismidstatrow(c)||(0==e&&this._ishiddenrow(XF_GRID.ROW_KIND_DATA,c)||1==b&&0==this.xf_data_row_arr[c].is_enable_checkrow||0!=this._ischeckedrow(c)));c++);this.is_check=!1,c>=d&&(this.is_check=!0),a===!0&&this._refreshcheckheadfix()}},XF_GRID.prototype.setcheckedrow=function(a,b){return this._setcheckedrow(a,b,!0)},XF_GRID.prototype.togglecheckedrow=function(a){return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?!1:(this.ischeckedrow(a)?this._setcheckedrow(a,!1,!0):this._setcheckedrow(a,!0,!0),!0)},XF_GRID.prototype._setcheckedrow=function(a,b,c,d){var e,f;if(a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1)return!1;if(this.ismidstatrow(a))return!1;if(this.xf_xdataset._setcheckedrow(this._getxdatasetrowindex(a),b,c,d),b&&this.getmulticheckrow()===!1){for(e=this.getrowcount(),f=0;e>f;f++)f==a||this.ismidstatrow(f)||this.xf_xdataset._setcheckedrow(this._getxdatasetrowindex(f),!1,!1,null);this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_CHECK,null,null)}return this._refreshcheckrowheadercheck(!0),!0},XF_GRID.prototype.isenablecheckrow=function(){return this.is_enable_checkrow},XF_GRID.prototype.enablecheckrow=function(a){var b,c;if(this.xf_prop.use_checkrow===!1)return!1;for(this.is_enable_checkrow=a,c=this.getrowcount(),b=0;c>b;b++)this.xf_data_row_arr[b].is_enable_checkrow=a;this._displayfixtable(),this._displayviewtable(0)},XF_GRID.prototype.isenablecheckrowex=function(a){return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?!1:this.xf_data_row_arr[a].is_enable_checkrow},XF_GRID.prototype.enablecheckrowex=function(a,b,c){var d,e,f;if(a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1)return!1;if(this.xf_data_row_arr[a].is_enable_checkrow=b,void 0===c||c){if(d=this._findtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_HEAD,a,0,-2),null===d||d.length<1)return;if(e=d.find("._xf_grid_item_check"),e.length<1)return;f=this.ischeckedrow(a),this._displayitemcheck(e,f,b)}return!0},XF_GRID.prototype.isshowcheckrow=function(a){return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?!1:this.xf_data_row_arr[a].is_show_checkrow},XF_GRID.prototype.showcheckrow=function(a,b){return a=_xfu["int"](a),this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)===!1?!1:this.ismidstatrow(a)?!1:(this.xf_data_row_arr[a].is_show_checkrow=b,this._displayfixtable(),this._displayviewtable(0),!0)},XF_GRID.prototype._refreshcheckheadfix=function(){var a,b,c;a=this.xf_object.find("._xf_grid_item_check_head_fix"),a.length<=0||(c=this._isitemcheckenableded(a),b=c?this.is_check?this.xf_prop.checkrow_hd_check_image:this.xf_prop.checkrow_hd_uncheck_image:this.is_check?this.xf_prop.checkrow_hd_dis_check_image:this.xf_prop.checkrow_hd_dis_uncheck_image,
this._displayitemcheck(a,this.is_check,!0,b))},XF_GRID.prototype.getcolumncheckedcount=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.ROW_KIND_DATA,a.column_index,a.sub_row_index),b?b.getcolumncheck("count"):0},XF_GRID.prototype.getcolumncheck=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.ROW_KIND_DATA,a.column_index,a.sub_row_index),b?b.getcolumncheck("check"):!1},XF_GRID.prototype.setcolumncheck=function(){var a,b,c,d,e,f,g,h,i,j;return a=this._getcolumnapiarginfo(arguments),(b=this._getcolumndata(XF_GRID.ROW_KIND_DATA,a.column_index,a.sub_row_index))?(c=a.arg_arr[0],d=void 0===a.arg_arr[1]?!0:a.arg_arr[1],e=void 0===a.arg_arr[2]?!0:a.arg_arr[2],f=void 0===a.arg_arr[3]?!1:a.arg_arr[3],h=void 0===a.arg_arr[4]?!0:a.arg_arr[4],i=void 0===a.arg_arr[5]?!0:a.arg_arr[5],j=!0,g=!1,b.setcolumncheck(c,g,e,f,h,i,j),void 0!==d&&1!=d||this._refreshgrid(XF_GRID.REFRESH_TYPE_COLUMNHEADCHECK),!0):!1},XF_GRID.prototype.getitemcheck=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),b=this._getitemtext(XF_GRID.ROW_KIND_DATA,a.row_index,XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=this._getcolumndata(XF_GRID.ROW_KIND_DATA,a.column_index,a.sub_row_index),c?c.xf_column_data_prop.checkbox_truevalue==b:!1},XF_GRID.prototype.setitemcheck=function(){var a,b,c,d,e,f;return a=this._getitemapiarginfo(arguments),(c=this._getcolumndata(XF_GRID.ROW_KIND_DATA,a.column_index,a.sub_row_index))?(b=a.arg_arr[0]===!0?c.xf_column_data_prop.checkbox_truevalue:c.xf_column_data_prop.checkbox_falsevalue,d=a.arg_arr[1],e=a.arg_arr[2],f=a.arg_arr[3],void 0===d&&(d=!0),void 0===e&&(e=!0),void 0===f&&(f=!0),this._ismultilinegrid()?this.setitemtextex(a.row_index,a.sub_row_index,a.column_index,b,d,!0,e,f):this.setitemtextex(a.row_index,a.column_index,b,d,!0,e,f)):!1},XF_GRID.prototype.getcheckrowtitle=function(){return this.xf_prop.checkrow_title},XF_GRID.prototype.setcheckrowtitle=function(a){var b;return this.xf_prop.checkrow_title=a,b=this._findheadelement(0,-2,"title"),b&&(b.text(a),0==a.length?b.hide():b.show()),!0},XF_GRID.prototype.getcolumncellline=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a.column_index)?!1:(c=a.arg_arr[0],c=_xfu.intval(c,0,1),c===!1?!1:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),0==c?b.xf_column_data_prop.is_draw_leftline:b.xf_column_data_prop.is_draw_rightline))},XF_GRID.prototype.setcolumncellline=function(){var a,b,c,d,e,f,g;return a=this._getcolumnapiarginfo(arguments),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a.column_index)?!1:(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index-1,a.sub_row_index),e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index+1,a.sub_row_index),b=a.arg_arr[0],c=a.arg_arr[1],d=a.arg_arr[2],e.xf_column_data_prop.is_draw_leftline=b,f&&(f.xf_column_data_prop.is_draw_rightline=b),e.xf_column_data_prop.is_draw_rightline=c,g&&(g.xf_column_data_prop.is_draw_leftline=c),(void 0===d||d)&&this._refreshgrid(),!0)},XF_GRID.prototype.addcolumn=function(a){var b=this.getcolumncount();return 0==this.insertcolumn(b,a)?-1:b},XF_GRID.prototype.addcolumnex=function(a,b,c){var d=this.getcolumncount();return 0==this.insertcolumnex(d,a,b,c)?-1:d},XF_GRID.prototype.applycolumnstyle=function(){var a,b,c,d,e,f;return a=this._getcolumnapiarginfo(arguments),c=a.arg_arr[0],0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a.column_index)?!1:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b.xf_column_data_prop.style=c,0===c.length?!1:null===this.xf_parent||void 0===this.xf_parent?!1:void 0===this.xf_parent.xf_screen.global_style[c]?!1:(d=$.extend({},this.xf_parent.xf_screen.global_style[c].xf_prop),_xfx.propconv(this,b.xf_column_data_prop,d),e=b.xf_column_data_prop.width,$.extend(b.xf_column_data_prop,d),f=b.xf_column_data_prop.width,e!=f&&this._setcolumnwidth(XF_GRID.COLUMN_KIND_DATA,a.column_index,f,!0,!1),this._afterchangecolumncallback(!0,a.column_index),!0))},XF_GRID.prototype.getcolumnstyleid=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a.column_index)?"":(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b.xf_column_data_prop.style)},XF_GRID.prototype.deleteallcolumn=function(a){var b,c,d,e;for(c=this.getcolumncount(),this._resetselectedinfo(),this._deleteallheadermergeinfo(!1),this._deletealliteminfo(!1),this._deleteallitemmergeinfo(!1),this._deletecolumnmergeinfo(-1),d=c-1;d>=0;d--)for(e=0;e<this.sub_row_count;e++)b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,e),b.deletexdatasetinnercolumn();this.xf_data_column_arr=[],this.data_column_count=0,this.xf_data_row_arr=[],this.data_row_count=0,(void 0===a||a)&&this._afterchangecolumn()},XF_GRID.prototype.deletecolumn=function(a){var b,c,d,e;if(a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a))return!1;for(this._deletecolumnmergeinfo(a),this._adjustmergeinfobycolumn("delete",a),a==this.selected_column_index&&(d=this.getcolumncount(),a==d-1&&(c=this._findnextvisibleitemcolumnindex(-1,this.selected_column_index,!1),this._setselectitem(this.selected_row_index,this.selected_sub_row_index,c,!0,!1,!0))),e=0;e<this.sub_row_count;e++)b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,e),b.deletexdatasetinnercolumn();return this.xf_data_column_arr.splice(a,1),this._afterchangecolumn(),!0},XF_GRID.prototype.getautocolumnwidth=function(){return this.xf_prop.autocolumnwidth},XF_GRID.prototype.setautocolumnwidth=function(a){return a=_xfu.intval(a,0,2),a===!1?!1:(this.xf_prop.autocolumnwidth=a,0!=a&&this._refreshgrid(),!0)},XF_GRID.prototype.fitcolumnwidth=function(a){var b;b=this.xf_prop.autocolumnwidth,0==a?this.xf_prop.autocolumnwidth=1:this.xf_prop.autocolumnwidth=2,this._refreshgrid(),this.xf_prop.autocolumnwidth=b},XF_GRID.prototype.getcolumnwidthsum=function(a,b,c){return a=_xfu.intval(a,0,XFD_MAX_VALUE),b=_xfu.intval(b,0,XFD_MAX_VALUE),a===!1||b===!1?-1:this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,a,b,c,!1)},XF_GRID.prototype._getcolumnwidthsum=function(a,b,c,d,e){var f,g,h,i,j,k;if(h=0,1==e&&(k={column_width_arr:[],column_left_arr:[],column_index_arr:[],column_count:0}),a==XF_GRID.COLUMN_KIND_DATA)for(-1==c&&(c=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA)-1),f=b;c>=f;f++)i=this.xf_data_column_arr[f],i&&(i.is_hidden_column&&d||(g=this._ismultilinegrid()?this.getcolumnwidth(0,f):this.getcolumnwidth(f),1==e&&(k.column_width_arr.push(g),k.column_left_arr.push(h),k.column_index_arr.push(f),k.column_count++),h+=g));else if(a==XF_GRID.COLUMN_KIND_HEAD)1!=this.xf_prop.linenumber_show&&0!=d||(h+=this.xf_prop.linenumber_width),(this.xf_prop.use_checkrow||0==d)&&(h+=this.xf_prop.checkrow_width);else if(a==XF_GRID.COLUMN_KIND_STAT)for(-1==c&&(c=this._getcolumncount(XF_GRID.COLUMN_KIND_STAT)-1),f=0;c>=f;f++)j=this.xf_stat_column_arr[f],j.is_hidden_column||(h+=j.xf_stat_column_prop.column_width);return 0==e?h:k},XF_GRID.prototype._fitcolumnwidth=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(this.is_rwd_mode)return!1;if(0==this.xf_prop.autocolumnwidth)return!1;if(c=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),c<this.fixedcols)return!1;for(f=this.xf_center_body_view.outerWidth()-1,r=this.xf_prop.autocolumnwidth_fixedcols,0==r&&(r=factory_xf_param.GRID_AUTOCOLUMNWIDTH_FIXEDCOLS),2==r&&this.fixedcols>0&&(f+=this.xf_left_body_view.outerWidth()-1,this.xf_prop.linenumber_show&&(f-=this.xf_prop.linenumber_width),this.xf_prop.use_checkrow&&(f-=this.xf_prop.checkrow_width)),f=Math.floor(f),d=[],h=0,i=0,s=5,j=this.fixedcols,2==r&&(j=0),b=j;c>b;b++)k=this.xf_data_column_arr[b],k&&(k.is_hidden_column||(g=this._ismultilinegrid()?this.getcolumnwidth(0,b):this.getcolumnwidth(b),o=this._ismultilinegrid()?this.getcolumninitwidth(0,b):this.getcolumninitwidth(b),h+=g,i+=o,n=this._ismultilinegrid()?this.getcolumnresizable(0,b):this.getcolumnresizable(b),n&&d.push({column_index:b,column_width:g,column_init_width:o,new_column_width:g})));if(e=d.length,0==e)return!1;if(1==this.xf_prop.autocolumnwidth||2==this.xf_prop.autocolumnwidth){if(e*s>=f)return!1;for(l=Math.floor(Math.abs(f-i)/e),0>f-i&&(l=-1*l),m=Math.abs(f-i)%e,m=Math.floor(m),0>f-i&&(m=-1*m),a=0;e>a;a++)d[a].new_column_width=d[a].column_init_width+l,d[a].new_column_width<s&&(d[a].new_column_width=s);for(a=0;a<Math.abs(m);a++)d[a].new_column_width+=m/Math.abs(m),d[a].new_column_width<s&&(d[a].new_column_width=s);if(2==this.xf_prop.autocolumnwidth)for(a=0;e>a;a++)d[a].new_column_width<d[a].column_init_width&&(d[a].new_column_width=d[a].column_init_width)}else if(3==this.xf_prop.autocolumnwidth){if(q=h-d[e-1].column_width,q+s>=f)return!1;l=f-h,d[e-1].new_column_width=d[e-1].column_width+l,d[e-1].new_column_width<s&&(d[e-1].new_column_width=s)}for(p=0,a=0;e>a;a++)d[a].column_width!=d[a].new_column_width&&p++;if(0==p)return!1;for(a=0;e>a;a++)this._setcolumnwidth(XF_GRID.COLUMN_KIND_DATA,d[a].column_index,d[a].new_column_width,!1,!1);if(this.is_autorowheight_column_exist){for(a=0;e>a&&!this._isautorowheightcolumn(d[a].column_index);a++);e>a&&this._refreshautoheight(-1,d[a].column_index,!1)}return this._afterchangecolumncallback(!0,-1,XF_GRID.REFRESH_TYPE_COLUMNRESIZE),!0},XF_GRID.prototype.insertcolumn=function(a,b){return this._ismultilinegrid()?this.insertcolumnex(a,[],[],b):this.insertcolumnex(a,[],{},b)},XF_GRID.prototype.insertcolumnex=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(a=_xfu["int"](a),0>a||a>this.getcolumncount())return!1;for(e=new XF_GRID_COLUMN(this,a,!1),k=0;k<this.sub_row_count;k++)this._ismultilinegrid()?(l=void 0===c[k]?{}:$.extend({},c[k]),factory._callbackmetadata(l.meta_id,"",this.xf_parent.xf_screen.getscreenurl(),this.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_GRIDCOLUMNDATA,l),f=new XF_GRID_COLUMN_DATA(this,e,a,l)):(l=void 0===c?{}:$.extend({},c),factory._callbackmetadata(l.meta_id,"",this.xf_parent.xf_screen.getscreenurl(),this.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_GRIDCOLUMNDATA,l),f=new XF_GRID_COLUMN_DATA(this,e,a,l)),h=f.xf_column_data_prop.width,e.width=f.xf_column_data_prop.width;for(g=this.gethorzheadercount(),j=0;g>j;j++)l=void 0===b[j]?{}:$.extend({},b[j]),factory._callbackmetadata(l.meta_id,l.title,this.xf_parent.xf_screen.getscreenurl(),this.xf_parent.xf_screen.getscreenid(),XFD_OBJKIND_CONTROL,XFD_CTRLKIND_GRIDCOLUMNHEAD,l),i=new XF_GRID_COLUMN_HEAD(this,e,a,h,l);return this.xf_data_column_arr.splice(a,0,e),void 0!==d&&1!=d||this._afterchangecolumncallback(d,a),!0},XF_GRID.prototype.getcolumn=function(a){var b,c,d,e,f;if(a.length<1)return this._ismultilinegrid()?null:-1;for(d=this.getcolumncount(),b=0;d>b;b++)for(e=0;e<this.sub_row_count;e++)if(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,e),a==f.xf_column_data_prop.name){c=[],c[0]=e,c[1]=b,e=this.sub_row_count,b=d;break}return this._ismultilinegrid()?c:null==c?-1:c[1]},XF_GRID.prototype.getcolumninitbackcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"init_backcolor",[255,255,255]);return _xfu.color(a)},XF_GRID.prototype.getcolumnbackcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"backcolor",[255,255,255]);return _xfu.color(a)},XF_GRID.prototype.setcolumnbackcolor=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._ismultilinegrid()?this.setcolumnbackcolorex(a.sub_row_index,a.column_index,a.arg_arr[0],!1,a.arg_arr[1]):this.setcolumnbackcolorex(a.column_index,a.arg_arr[0],!1,a.arg_arr[1])},XF_GRID.prototype.setcolumnbackcolorex=function(){var a,b,c,d,e;return b=this._getcolumnapiarginfo(arguments),c=_xfu.rgb(b.arg_arr[0]),d=_xfx.rgbhex(c),a=this._setcolumnprop(b,"backcolor",d,!1,!0),0==a?!1:(void 0!==b.arg_arr[1]&&1==b.arg_arr[1]&&(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),e.deletecolumnitemprop(-1,"backcolor")),(void 0==b.arg_arr[2]||b.arg_arr[2])&&this.refreshcolumn(),!0)},XF_GRID.prototype.getcolumnitembackcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"item_backcolor",-1);return _xfu.color(a)},XF_GRID.prototype.setcolumnitembackcolor=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._ismultilinegrid()?this.setcolumnitembackcolorex(a.sub_row_index,a.column_index,a.arg_arr[0],!1,0,a.arg_arr[1]):this.setcolumnitembackcolorex(a.column_index,a.arg_arr[0],!1,0,a.arg_arr[1])},XF_GRID.prototype.setcolumnitembackcolorex=function(){var a,b,c,d,e;return a=this._getcolumnapiarginfo(arguments),b=_xfu["int"](a.arg_arr[0]),e=0,void 0!==a.arg_arr[2]&&(e=_xfu.intval(a.arg_arr[2],0,1),e===!1)?!1:(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===d?!1:(-1==b?d.xf_column_data_prop.item_backcolor=-1:(c=_xfu.rgb(b),d.xf_column_data_prop.item_backcolor=c),void 0!==a.arg_arr[1]&&1==a.arg_arr[1]&&(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),d.deletecolumnitemprop(-1,"backcolor")),d.xf_column_data_prop.item_backcolor_type=e,(void 0===a.arg_arr[3]||a.arg_arr[3])&&this._refreshgrid(),!0))},XF_GRID.prototype.getcolumnbargaugebackcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"bargauge_backcolor",[255,255,255]);return _xfu.color(a)},XF_GRID.prototype.setcolumnbargaugebackcolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"bargauge_backcolor",c,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnbargaugebordercolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"bargauge_bordercolor",[255,255,255]);return _xfu.color(a)},XF_GRID.prototype.setcolumnbargaugebordercolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"bargauge_bordercolor",c,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnbargaugebarbackcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"bargauge_bar_backcolor",[255,255,255]);return _xfu.color(a)},XF_GRID.prototype.setcolumnbargaugebarbackcolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"bargauge_bar_backcolor",c,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnbargaugebarbordercolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"bargauge_bar_bordercolor",[255,255,255]);return _xfu.color(a)},XF_GRID.prototype.setcolumnbargaugebarbordercolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"bargauge_bar_bordercolor",c,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnwordbreak=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"text_wordbreak",-1)},XF_GRID.prototype.setcolumnwordbreak=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._setcolumnprop(a,"text_wordbreak",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnwordellipsis=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"text_wordellipsis",-1)},XF_GRID.prototype.setcolumnwordellipsis=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._setcolumnprop(a,"text_wordellipsis",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumndatainputtype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"data_inputtype",-1)},XF_GRID.prototype.setcolumndatainputtype=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._ismultilinegrid()?this.setcolumndatainputtypeex(a.sub_row_index,a.column_index,a.arg_arr[0],!1,a.arg_arr[1]):this.setcolumndatainputtypeex(a.column_index,a.arg_arr[0],!1,a.arg_arr[1])},XF_GRID.prototype.setcolumndatainputtypeex=function(){var a,b,c,d,e;return b=this._getcolumnapiarginfo(arguments),a=_xfu.intval(b.arg_arr[0],0,1),a===!1?!1:(d=b.arg_arr[2],void 0===d&&(d=!0),void 0!==b.arg_arr[1]&&1==b.arg_arr[1]&&(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),e.deletecolumnitemprop(-1,"data_inputtype")),c=this._setcolumnprop(b,"data_inputtype",b.arg_arr[0],!1,!0),1==c&&d&&(factory_xf_param.MANDATORYCOLUMNCOLOR||factory_xf_param.MANDATORYCOLUMNFORECOLOR)&&this.refreshcolumn(),c)},XF_GRID.prototype.getcolumncalendartype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"calendar_type",-1)},XF_GRID.prototype.setcolumncalendartype=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"calendar_type",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnhlinktextstyleuse=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_textstyleuse",!1)},XF_GRID.prototype.setcolumnhlinktextstyleuse=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hyperlink_textstyleuse",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnbuttontext=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"button_text","")},XF_GRID.prototype.setcolumnbuttontext=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"button_text",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnbuttonimagenormal=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"button_imagenormal","")},XF_GRID.prototype.setcolumnbuttonimage=function(){var a,b,c,d,e;return a=this._getcolumnapiarginfo(arguments),c=a.arg_arr[0],d=a.arg_arr[1],e=a.arg_arr[2],null!=c&&(b=this._setcolumnprop(a,"button_imagenormal",c,!1,!0),0==b)?!1:null!=d&&(b=this._setcolumnprop(a,"button_imagehover",d,!1,!0),0==b)?!1:null!=e&&(b=this._setcolumnprop(a,"button_imagedisable",e,!1,!0),0==b)?!1:(void 0!==a.arg_arr[3]&&1!=a.arg_arr[3]||this._refreshgrid(),!0)},XF_GRID.prototype.getcolumnhlinkcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_color",[0,0,0]);return _xfu.color(a)},XF_GRID.prototype.setcolumnhlinkcolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"hyperlink_color",c,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnhlinkunderline=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_underline",null)},XF_GRID.prototype.setcolumnhlinkunderline=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hyperlink_underline",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnhlinkvisitedcolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_visitedcolor",[0,0,0]);return _xfu.color(a)},XF_GRID.prototype.setcolumnhlinkvisitedcolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"hyperlink_visitedcolor",c,!1,!0)},XF_GRID.prototype.getcolumnhlinkvisitedcoloruse=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_visitedcoloruse",!1)},XF_GRID.prototype.setcolumnhlinkvisitedcoloruse=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hyperlink_visitedcoloruse",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnhlinkvisitedunderline=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_visitedunderline",null)},XF_GRID.prototype.setcolumnhlinkvisitedunderline=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hyperlink_visitedunderline",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnhlinkhovercolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_hovercolor",[0,0,0]);return _xfu.color(a)},XF_GRID.prototype.setcolumnhlinkhovercolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"hyperlink_hovercolor",c,!1,!0)},XF_GRID.prototype.getcolumnhlinkhovercoloruse=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_hovercoloruse",!1)},XF_GRID.prototype.setcolumnhlinkhovercoloruse=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hyperlink_hovercoloruse",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnhlinkhoverunderline=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hyperlink_hoverunderline",!1)},XF_GRID.prototype.setcolumnhlinkhoverunderline=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hyperlink_hoverunderline",a.arg_arr[0],!1,!0)},XF_GRID.prototype.setcolumnselecttabledata=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index))?(b._selecttabledata(a.arg_arr[0],a.arg_arr[1],a.arg_arr[2]),b.xf_column_data_prop.selecttable_data.length):-1},XF_GRID.prototype.addcolumnselecttabledata=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b?this._selecttabledatadd(a.arg_arr[0],a.arg_arr[1]):!1},XF_GRID.prototype.getcolumnchecktruevalue=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b?b.xf_column_data_prop.checkbox_truevalue:""},XF_GRID.prototype.setcolumnchecktruevalue=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._setcolumnprop(a,"checkbox_truevalue",_xfu.str(a.arg_arr[0]),a.arg_arr[1],!0)},XF_GRID.prototype.getcolumncheckfalsevalue=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b?b.xf_column_data_prop.checkbox_falsevalue:""},XF_GRID.prototype.setcolumncheckfalsevalue=function(a){var b;return b=this._getcolumnapiarginfo(arguments),this._setcolumnprop(b,"checkbox_falsevalue",_xfu.str(b.arg_arr[0]),b.arg_arr[1],!0)},XF_GRID.prototype.getcolumnforecolor=function(){var a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"forecolor",[0,0,0]);return _xfu.color(a)},XF_GRID.prototype.setcolumnforecolor=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),c=_xfx.rgbhex(b),this._setcolumnprop(a,"forecolor",c,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumncbdefaultvaluetype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"combobox_defaultvalue_type",0)},XF_GRID.prototype.setcolumncbdefaultvaluetype=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"combobox_defaultvalue_type",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumncbautocodevalid=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"combobox_autocodevalid",0)},XF_GRID.prototype.setcolumncbautocodevalid=function(){var a;return a=this._getcolumnapiarginfo(arguments),this._setcolumnprop(a,"combobox_autocodevalid",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumncbexcelstyle=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"combobox_excelstyle",0)},XF_GRID.prototype.setcolumncbexcelstyle=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"combobox_excelstyle",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumncheckboxtitle=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"checkbox_title",0)},XF_GRID.prototype.setcolumncheckboxtitle=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"checkbox_title",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumncomboeditable=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"combobox_editable",!0)},XF_GRID.prototype.setcolumncomboeditable=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"combobox_editable",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumncount=function(){return this._getcolumncount(XF_GRID.COLUMN_KIND_DATA)},XF_GRID.prototype._getcolumncount=function(a){return a==XF_GRID.COLUMN_KIND_STAT?this.xf_stat_column_arr.length:this.xf_data_column_arr.length},XF_GRID.prototype.getcolumncustomprop=function(){var a=this._getcolumnapiarginfo(arguments);return this._getcolumnprop(a,a.arg_arr[0],"")},XF_GRID.prototype.setcolumncustomprop=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,a.arg_arr[0],a.arg_arr[1],!1,!0)},XF_GRID.prototype.getcolumndatatype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"data_type",1)},XF_GRID.prototype.setcolumndatatype=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=this._setcolumnprop(a,"data_type",a.arg_arr[0],!1,!1),0==b.is_success?!1:(b.xf_column_data._pattern(),c=a.arg_arr[1],(void 0===c||c)&&this._refreshgrid(),!0)},XF_GRID.prototype.getcolumndefaultvalue=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"default_value","")},XF_GRID.prototype.setcolumndefaultvalue=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"default_value",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumndescription=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"description","")},XF_GRID.prototype.setcolumndescription=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"description",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumncomboshowbutton=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"combobox_showbutton",!0)},XF_GRID.prototype.setcolumncomboshowbutton=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"combobox_showbutton",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumntooltipunmask=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"tooltip_unmask",!1)},XF_GRID.prototype.setcolumntooltipunmask=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],0,2),b===!1?!1:this._setcolumnprop(a,"tooltip_unmask",b,a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnpopbtneditable=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"editbox_popbtneditable",!1)},XF_GRID.prototype.setcolumnpopbtneditable=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"editbox_popbtneditable",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnpopbtnimage=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"editbox_popbtnimage",!1)},XF_GRID.prototype.setcolumnpopbtnimage=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"editbox_popbtnimage",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnpopbtnsize=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"editbox_popbtnsize",!1)},XF_GRID.prototype.setcolumnpopbtnesize=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"editbox_popbtnsize",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnpopbtnshow=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"editbox_popbtnshow",!1)},XF_GRID.prototype.setcolumnpopbtnshow=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"editbox_popbtnshow",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumniniteditable=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"init_editable",0)},XF_GRID.prototype.getcolumneditable=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"editable",!1)},XF_GRID.prototype.setcolumneditable=function(){var a,b,c,d,e,f;if(b=this._getcolumnapiarginfo(arguments),this._ismultilinegrid())d=this.getcolumninputtype(b.sub_row_index,b.column_index),d==XFD_GRID_INPUTCHECKBOX&&(c=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),c.setitemcheckenable(b.arg_arr[0],"relative"));else if(d=this.getcolumninputtype(b.column_index),d==XFD_GRID_INPUTCHECKBOX)for(e=0;e<this.xf_prop.header_horzcount;e++)c=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b.column_index,e),c.setitemcheckenable(b.arg_arr[0],"relative");switch(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),f.deletecolumnitemprop(-1,"editable"),d){case XFD_GRID_INPUTCHECKBOX:case XFD_GRID_INPUTRADIOBUTTON:case XFD_GRID_INPUTBUTTON:a=this._setcolumnprop(b,"editable",b.arg_arr[0],b.arg_arr[1],!1);break;default:a=this._setcolumnprop(b,"editable",b.arg_arr[0],!1,!1)}return a.is_success&&1==b.arg_arr[0]&&(a.xf_column_data.editable_status="absolute",this.non_editable_status="relative"),void 0!==b.arg_arr[1]&&1!=b.arg_arr[1]||(factory_xf_param.PROTECTCOLUMNCOLOR||factory_xf_param.MANDATORYCOLUMNCOLOR)&&this.refreshcolumn(),a.is_success},XF_GRID.prototype.getcolumnencrypt=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"encrypt_type",0)},XF_GRID.prototype.setcolumnencrypt=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"encrypt_type",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnexcelrw=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"excel_rw",!0)},XF_GRID.prototype.setcolumnexcelrw=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"excel_rw",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnhorzalign=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"text_horzalign",0)},XF_GRID.prototype.setcolumnhorzalign=function(){var a=this._getcolumnapiarginfo(arguments),b=a.arg_arr[1];return void 0===b&&(b=!0),this._setcolumnprop(a,"text_horzalign",a.arg_arr[0],b,!0)},XF_GRID.prototype.getcolumnimage=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"image",!0)},XF_GRID.prototype.setcolumnimage=function(){var a=this._getcolumnapiarginfo(arguments);return 0==$.isArray(a.arg_arr[0])?this._setcolumnprop(a,"image",a.arg_arr[0],a.arg_arr[1],!0):this._setcolumnprop(a,"image_list",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnimageindex=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"image_index_list",!0)},XF_GRID.prototype.setcolumnimageindex=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"image_index_list",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumnimagehorzalign=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"image_horzalign",0)},XF_GRID.prototype.setcolumnimagehorzalign=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"image_horzalign",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumnimageshow=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"image_show",!0)},XF_GRID.prototype.setcolumnimageshow=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"image_show",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumnimemode=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"imemode",0)},XF_GRID.prototype.setcolumnimemode=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"imemode",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumninputtype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"input_type",0)},XF_GRID.prototype.setcolumninputtype=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"input_type",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumndatetype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"calendar_datetype",0)},XF_GRID.prototype.setcolumndatetype=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],0,7),b===!1?!1:this._setcolumnprop(a,"calendar_datetype",b,a.arg_arr[1],!0);
},XF_GRID.prototype.getcolumnmakecase=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"make_case",0)},XF_GRID.prototype.setcolumnmakecase=function(){var a,b;return b=this._getcolumnapiarginfo(arguments),a=_xfu.intval(b.arg_arr[0],0,2),a===!1?!1:this._setcolumnprop(b,"make_case",a,b.arg_arr[1],!0)},XF_GRID.prototype.getcolumnminlength=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"min_length",10)},XF_GRID.prototype.setcolumnminlength=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"min_length",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnmaxlength=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"max_length",10)},XF_GRID.prototype.setcolumnmaxlength=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"max_length",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnmaxvalue=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"max_value",0)},XF_GRID.prototype.setcolumnmaxvalue=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"max_value",a.arg_arr[0],!1,!0)},XF_GRID.prototype.setcolumnfont=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=[],c=!0,b.push(a.arg_arr[0]),b.push(a.arg_arr[1]),b.push(a.arg_arr[2]?"1":"0"),b.push(a.arg_arr[3]?"1":"0"),b.push(a.arg_arr[4]?"1":"0"),void 0===a.arg_arr[5]?(b.push("0"),c=a.arg_arr[5]):(b.push(a.arg_arr[5]?"1":"0"),c=a.arg_arr[6]),this._setcolumnprop(a,"font",b.join(","),c,!0)},XF_GRID.prototype.getcolumnmetamax=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"meta_maxlength",0)},XF_GRID.prototype.setcolumnmetamax=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"meta_maxlength",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnmidstattype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"midstatistics_type",0)},XF_GRID.prototype.setcolumnmidstattype=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._setcolumnprop(a,"midstatistics_type",a.arg_arr[0],!1,!0),0==b?!1:(this._deletemidstatrow(-1,!1),this._refreshmidstatrowdata(-1),!0)},XF_GRID.prototype.getcolumnminvalue=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"min_value",0)},XF_GRID.prototype.setcolumnminvalue=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"min_value",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnmousecursor=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"mouse_cursor",0)},XF_GRID.prototype.setcolumnmousecursor=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"mouse_cursor",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumnmultilineedit=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"editbox_multiline",!1)},XF_GRID.prototype.setcolumnmultilineedit=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"editbox_multiline",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnname=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"name","")},XF_GRID.prototype.setcolumnname=function(){var a=this._getcolumnapiarginfo(arguments);return this.getcolumn(a.arg_arr[0])>=0?!1:this._setcolumnprop(a,"name",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnpattern=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"pattern","")},XF_GRID.prototype.setcolumnpattern=function(){var a,b,c;return b=this._getcolumnapiarginfo(arguments),c=this._setcolumnprop(b,"pattern",b.arg_arr[0],!1,!1),0==c.is_success?!1:(c.xf_column_data._pattern(),a=b.arg_arr[1],(void 0===a||a)&&this._refreshgrid(),!0)},XF_GRID.prototype.getcolumnmaskinglength=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"masking_length",0)},XF_GRID.prototype.setcolumnmaskinglength=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],0,XFD_MAX_VALUE),b===!1?!1:this._setcolumnprop(a,"masking_length",a.arg_arr[0],a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnlocaleseparator=function(){return[this._getcolumnprop(this._getcolumnapiarginfo(arguments),"decimal_separator",""),this._getcolumnprop(this._getcolumnapiarginfo(arguments),"thousands_separator","")]},XF_GRID.prototype.setcolumnlocaleseparator=function(){var a,b;return b=this._getcolumnapiarginfo(arguments),b.arg_arr.length<2?!1:(b.arg_arr[0].length>0&&this._setcolumnprop(b,"decimal_separator",b.arg_arr[0],!1,!1),b.arg_arr[1].length>0&&this._setcolumnprop(b,"thousands_separator",b.arg_arr[1],!1,!1),a=b.arg_arr[2],(void 0===a||a)&&this._refreshgrid(),!0)},XF_GRID.prototype.getcolumnpatternmask=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"pattern_mask","")},XF_GRID.prototype.setcolumnpatternmask=function(){var a,b,c;return b=this._getcolumnapiarginfo(arguments),c=this._setcolumnprop(b,"pattern_mask",b.arg_arr[0],!1,!1),0==c.is_success?!1:(c.xf_column_data._patternmask(),a=b.arg_arr[1],(void 0===a||a)&&this._refreshgrid(),!0)},XF_GRID.prototype.getcolumnpatternapply=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===b?!1:b.is_pattern_apply},XF_GRID.prototype.setcolumnpatternapply=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===b?!1:(b.is_pattern_apply=a.arg_arr[0],b.pattern.length>0&&this._refreshgrid(),!0)},XF_GRID.prototype.togglecolumnpatternapply=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===b?!1:(0==b.is_pattern_apply?b.is_pattern_apply=!0:b.is_pattern_apply=!1,(b.pattern.length>0||b.xf_column_data_prop.expr_func.length>0)&&this._refreshgrid(),!0)},XF_GRID.prototype.getcolumnpicklist=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"picklist","")},XF_GRID.prototype.setcolumnpicklist=function(){var a,b,c;return b=this._getcolumnapiarginfo(arguments),a=factory._callbackpicklisturl(b.arg_arr[0]),this._setcolumnprop(b,"picklist",a,!0,!0),(c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index))?(c.xf_picklist=new XF_PICKLIST(this,{make_case:c.xf_column_data_prop.make_case,grid_row_index:-1,grid_sub_row_index:b.sub_row_index,grid_column_index:b.column_index,picklist_type:XF_PICKLIST.PICKLIST_TYPE_GRIDCOLUMN,picklist_async:!1,picklist_linkdata:"",picklist:a,picklist_filter_type:c.xf_column_data_prop.picklist_filter_type,picklist_selstyle:c.xf_column_data_prop.picklist_selstyle,on_picklist_load:$.proxy(this.on_picklist_load,this)}),c.xf_picklist.loaddata(),2==factory_xf_param.GRID_PICKLIST_SETMAXLENGTH&&c.xf_column_data_prop.picklist.length>0&&(c.xf_column_data_prop.max_length=c.xf_picklist.getcodemaxlength()),!0):!1},XF_GRID.prototype.getcolumnpicklistfilter=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"picklist_filter","")},XF_GRID.prototype.setcolumnpicklistfilter=function(){var a,b,c,d;return a=this._getcolumnapiarginfo(arguments),b=a.arg_arr[0],d=a.arg_arr[1],void 0===d&&(d=!1),c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===c?!1:(c.xf_picklist.setpicklistfilter(b,d,!0),1==d?c.xf_column_data_prop.picklist_filter=b:(c.xf_column_data_prop.picklist_filter.length>0&&";"!=c.xf_column_data_prop.picklist_filter[c.xf_column_data_prop.picklist_filter.length-1]&&(c.xf_column_data_prop.picklist_filter+=";"),c.xf_column_data_prop.picklist_filter+=b),!0)},XF_GRID.prototype.getcolumnpicklistselstyle=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"picklist_selstyle",0)},XF_GRID.prototype.setcolumnpicklistselstyle=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=_xfu["int"](a.arg_arr[0]),isNaN(b)||0>b||b>2?!1:(c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===c?!1:(c.xf_picklist.setselstyle(b),this._setcolumnprop(a,"picklist_selstyle",b,!0,!0)))},XF_GRID.prototype.getcolumnpicklistviewstyle=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"picklist_viewstyle",1)},XF_GRID.prototype.setcolumnpicklistviewstyle=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"picklist_viewstyle",a.arg_arr[0],!1,!0)},XF_GRID.prototype.setcolumnpicklistxdataset=function(){var a,b,c,d,e,f,g;return a=this._getcolumnapiarginfo(arguments),b=a.arg_arr[0],c=a.arg_arr[1],d=a.arg_arr[2],e=a.arg_arr[3],f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===f?!1:(g=f.xf_picklist.setxdataset(b,c,d,e),g&&this._refreshgrid(),g)},XF_GRID.prototype.getcolumnprintprefix=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"print_prefix","")},XF_GRID.prototype.setcolumnprintprefix=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"print_prefix",a.arg_arr[0],!1,!0)},XF_GRID.prototype.getcolumnradioinfo=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"radio_info",null)},XF_GRID.prototype.setcolumnradioinfo=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"radio_info",a.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumnresizable=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"resizable",!0)},XF_GRID.prototype.setcolumnresizable=function(){var a,b,c;return b=this._getcolumnapiarginfo(arguments),c=this._setcolumnprop(b,"resizable",b.arg_arr[0],!1,!1),0==c.is_success?!1:(a=this._getcolumnresize(b.column_index),a.setresizebarenable(b.column_index,b.arg_arr[0]),!0)},XF_GRID.prototype.getlinenumberresizable=function(){return this.xf_prop.linenumber_resizable},XF_GRID.prototype.setlinenumberresizable=function(a){var b;return this.xf_prop.linenumber_resizable=a,b=this._getcolumnresize(-2),b.setresizebarenable(-2,a),!0},XF_GRID.prototype.getcheckrowresizable=function(){return this.xf_prop.checkrow_resizable},XF_GRID.prototype.setcheckrowresizable=function(a){var b;return this.xf_prop.checkrow_resizable=a,b=this._getcolumnresize(-1),b.setresizebarenable(-1,a),!0},XF_GRID.prototype.setcolumntext=function(a,b,c){var d,e;return d=this._getcolumnapiarginfo(arguments),e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d.column_index,d.sub_row_index),e?e.setcolumntext(d.arg_arr[0],d.arg_arr[1],d.arg_arr[2],d.arg_arr[3]):!1},XF_GRID.prototype.setcolumns=function(a){var b,c,d;if(a=_xfu["int"](a),isNaN(a)||0>a)return!1;if(b=this.getcolumncount(),b==a)return!0;if(b>a)for(c=b-1;c>=a;c--)this.deletecolumn(c);else for(d=0;a-b>d;d++)this.addcolumn();return!0},XF_GRID.prototype.getcolumnuserdata=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0==b?"":void 0==b.user_data_info[a.arg_arr[0]]?"":b.user_data_info[a.arg_arr[0]]},XF_GRID.prototype.setcolumnuserdata=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0==b?"":(b.user_data_info[a.arg_arr[0]]=a.arg_arr[1],!0)},XF_GRID.prototype.getcolumnsortfunc=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"sort_func","")},XF_GRID.prototype.setcolumnsortfunc=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),c=a.arg_arr[0],c.length>0&&!_xfu.isfunction(window[c])?!1:(b=this._setcolumnprop(a,"sort_func",a.arg_arr[0],!1,!1),0==b.is_success?!1:(this._updatecolumnsoftinfo(a.column_index,a.sub_row_index),this._executecolumnsort(),!0))},XF_GRID.prototype.getcolumnstatrowtype=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"statisticsrow_type",0)},XF_GRID.prototype.setcolumnstatrowtype=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._setcolumnprop(a,"statisticsrow_type",a.arg_arr[0],!1,!1),0==b.is_success?!1:(this._refreshstatrowdata(a.column_index),!0)},XF_GRID.prototype.getcolumnvertalign=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"text_vertalign",1)},XF_GRID.prototype.setcolumnvertalign=function(){var a,b;return b=this._getcolumnapiarginfo(arguments),a=_xfu.intval(b.arg_arr[0],0,2),a===!1?!1:this._setcolumnprop(b,"text_vertalign",b.arg_arr[0],!0,!0)},XF_GRID.prototype.getcolumninitwidth=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"init_width",0)},XF_GRID.prototype.getcolumnwidth=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"width",0)},XF_GRID.prototype.setcolumnwidth=function(a,b,c){return this._setcolumnwidth(XF_GRID.COLUMN_KIND_DATA,a,b,!0,c)},XF_GRID.prototype.getcolumnhinttext=function(){return this._getcolumnprop(this._getcolumnapiarginfo(arguments),"hint_text",!1)},XF_GRID.prototype.setcolumnhinttext=function(){var a=this._getcolumnapiarginfo(arguments);return this._setcolumnprop(a,"hint_text",a.arg_arr[0],!1,!0)},XF_GRID.prototype.setstatcolumnwidth=function(a,b){return this._setcolumnwidth(XF_GRID.COLUMN_KIND_STAT,a,!0,b)},XF_GRID.prototype._setcolumnwidth=function(a,b,c,d,e){var f,g,h;if(b=_xfu["int"](b),c=_xfu["int"](c),0==this._isvalidcolumn(a,b))return!1;for(f=0;f<this.sub_row_count;f++)g=this._getcolumndata(a,b,f),a==XF_GRID.COLUMN_KIND_DATA?(g.xf_column_data_prop.width=c,1==d&&(g.xf_column_data_prop.init_width=c),g.xf_column.width=c):g.xf_stat_column_data_prop.column_width=c;return(void 0===e||e)&&(h=this,setTimeout(function(){h._afterchangecolumncallback(!0,b,XF_GRID.REFRESH_TYPE_COLUMNRESIZE)},0)),!0},XF_GRID.prototype.getcolumnplaces=function(){var a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index);return b.number_pattern_info.places},XF_GRID.prototype.getcolumnallowminus=function(){var a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index);return b.number_pattern_info.allow_minus},XF_GRID.prototype.getcolumnxdatasetcolumnid=function(){var a,b;return a=this._getcolumnprop(this._getcolumnapiarginfo(arguments),"link_data",""),0==a.length?"":(b=a.split(":")[1],void 0===b?"":b)},XF_GRID.prototype.setcolumnxdataset=function(){var a,b,c,d;return a=this._getcolumnapiarginfo(arguments),b=a.arg_arr[2],this.xdataset_type==XFD_XDATASET_INNER?!1:this.xdataset_id!=a.arg_arr[0]?!1:(d=this.xf_xdataset.getcolumn(a.arg_arr[1]),-1==d?!1:(c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index))?(c._xdataset(),c.xf_column_data_prop.link_data=this.xdataset_id+":"+a.arg_arr[1],c._xdataset_column(),void 0!==b&&1!=b||this.refresh(),!0):!1)},XF_GRID.prototype.ishiddencolumn=function(a){var b;return b={sub_row_index:0,column_index:_xfu["int"](a)},this._getcolumnprop(b,"hidden",!1)},XF_GRID.prototype.setcolumnhidden=function(a,b,c){var d,e;if(a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a))return!1;for(d=0;d<this.sub_row_count;d++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,d),e.xf_column_data_prop.hidden=b,e.xf_column.is_hidden_column=b;return void 0!==c&&1!=c||this._afterchangecolumn(),!0},XF_GRID.prototype.movecolumn=function(a,b,c,d){var e,f,g;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a)?!1:0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,b)?!1:a==b?!0:(e=this.xf_data_column_arr.splice(a,1),f=e[0],this.xf_data_column_arr.splice(b,0,f),this._adjustmergeinfobycolumn("insert",b),this._adjustmergeinfobycolumn("delete",a),(void 0===c||c)&&this._afterchangecolumncallback(),void 0!==d&&1!=d||(g=-1,a==this.selected_column_index?g=b:a<this.selected_column_index&&b>=this.selected_column_index?g=this._findnextvisibleitemcolumnindex(-1,this.selected_column_index,!1,!1):a>this.selected_column_index&&b<=this.selected_column_index&&(g=this._findnextvisibleitemcolumnindex(1,this.selected_column_index,!1,!1)),-1!=g&&this._setselectitem(this.selected_row_index,this.selected_sub_row_index,g,!0,!1,!0,!1)),!0)},XF_GRID.prototype.registercolumnevent=function(){var a,b,c,d,e;return a=this._getcolumnapiarginfo(arguments),b=a.arg_arr[0],c=a.arg_arr[1],d=_xfx.funcname(c),0==this._isvalidsubrow(a.sub_row_index)?!1:0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a.column_index)?!1:(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===e.xf_column_data_prop[b]?!1:(e.xf_column_data_prop[b]=d,!0))},XF_GRID.prototype.setcolumnautowidth=function(){var a,b,c,d,e;return a=this._getcolumnapiarginfo(arguments),b=a.sub_row_index,c=a.column_index,d=!0,e=a.arg_arr[0],this._setcolumnautowidth(b,c,d,e)},XF_GRID.prototype.setcolumnautowidthex=function(){var a,b,c,d,e;return a=this._getcolumnapiarginfo(arguments),b=a.sub_row_index,c=a.column_index,d=a.arg_arr[0],e=a.arg_arr[1],this._setcolumnautowidth(b,c,d,e)},XF_GRID.prototype._setcolumnautowidth=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(0==this._isvalidsubrow(a))return!1;if(0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,b))return!1;if(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,a),0!=e.xf_column_data_prop.input_type&&1!=e.xf_column_data_prop.input_type&&2!=e.xf_column_data_prop.input_type&&3!=e.xf_column_data_prop.input_type&&6!=e.xf_column_data_prop.input_type)return!1;if(i=0,l=0,g=this.getrowcount(),this._istreecolumn(b))for(f=0;g>f;f++)j=e.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_DATA,f,!0,XF_GRID.FILE_TYPE_GRID),n=0==e.xf_column_data_prop.font.length?_xfj.textsize(j,this.xf_prop.font,["_xfd_grid_text_size"]):_xfj.textsize(j,e.xf_column_data_prop.font,["_xfd_grid_text_size"]),h=e.getcolumntreeitemtextleftsum(f),i=Math.max(i,n.width+h);else{for(f=0;g>f;f++)j=e.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_DATA,f,!0,XF_GRID.FILE_TYPE_GRID),m=_xfu.bytelen(j,0,factory_xf_param.HANGUL_BYTE_LENGTH),m>l&&(l=m,k=j);n=0==e.xf_column_data_prop.font.length?_xfj.textsize(k,this.xf_prop.font,["_xfd_grid_text_size"]):_xfj.textsize(k,e.xf_column_data_prop.font,["_xfd_grid_text_size"]),i=n.width,0==e.xf_column_data_prop.input_type?1==e.xf_column_data_prop.editbox_popbtnshow&&(i+=e.xf_column_data_prop.editbox_popbtnsize):1==e.xf_column_data_prop.input_type?i+=13:2==e.xf_column_data_prop.input_type?1==e.xf_column_data_prop.combobox_showbutton&&(i+=e.xf_column_data_prop.combobox_buttonsize):3==e.xf_column_data_prop.input_type?1==e.xf_column_data_prop.calendar_showbutton&&(i+=e.xf_column_data_prop.calendar_buttonsize):6==e.xf_column_data_prop.input_type&&1==e.xf_column_data_prop.spinnumber_showbutton&&(i+=e.xf_column_data_prop.spinnumber_buttonsize)}if(c)if(this._ismultilinegrid())r=this._headercontentwidth(a,b,!0,!0),i=Math.max(i,r);else for(p=this.gethorzheadercount(),q=0;p>q;q++)r=this._headercontentwidth(q,b,!0,!0),i=Math.max(i,r);return this._istreecolumn(b)?(s=0,t=0):(s=2,t=2,e.cell_textmargin&&(s=e.cell_textmargin[0],t=e.cell_textmargin[1])),o=i+s+t+2,o=Math.ceil(o),this.setcolumnwidth(b,o,d),!0},XF_GRID.prototype._setcolumnwidthbygap=function(a,b,c){var d,e;return a==XF_GRID.COLUMN_TABLE_LEFT?(d=this.xf_data_column_arr[b],this._setcolumnwidth(XF_GRID.COLUMN_KIND_DATA,b,d.width+c,!0,!0)):a==XF_GRID.COLUMN_TABLE_CENTER?(d=this.xf_data_column_arr[b],this._setcolumnwidth(XF_GRID.COLUMN_KIND_DATA,b,d.width+c,!0,!0)):a==XF_GRID.COLUMN_TABLE_RIGHT?(c=-1*c,e=this.xf_stat_column_arr[b],this._setcolumnwidth(XF_GRID.COLUMN_KIND_STAT,b,e.xf_stat_column_prop.column_width+c,!0,!0)):void 0},XF_GRID.prototype.setlinenumberwidthbygap=function(a){this.setlinenumberwidth(this.xf_prop.linenumber_width+a,!0)},XF_GRID.prototype.getlinenumberwidth=function(){return this.xf_prop.linenumber_width},XF_GRID.prototype.setlinenumberwidth=function(a,b){return a=_xfu.intval(a,0,200),a===!1?!1:(this.xf_prop.linenumber_width=a,void 0!==b&&1!=b||this._afterchangecolumn(),!0)},XF_GRID.prototype.setcheckrowwidthbygap=function(a){this.setcheckrowwidth(this.xf_prop.checkrow_width+a,!0)},XF_GRID.prototype.getcheckrowwidth=function(){return this.xf_prop.checkrow_width},XF_GRID.prototype.setcheckrowwidth=function(a,b){return a=_xfu.intval(a,0,200),a===!1?!1:(this.xf_prop.checkrow_width=a,void 0!==b&&1!=b||this._afterchangecolumn(),!0)},XF_GRID.prototype._getcolumnapiarginfo=function(a,b){var c,d,e;if(e={sub_row_index:0,column_index:-1,arg_arr:[]},void 0==b&&(b=!0),d=a.length,this._ismultilinegrid())for(b?(e.sub_row_index=_xfu["int"](a[0]),e.column_index=_xfu["int"](a[1])):(e.sub_row_index=_xfu["int"](a[1]),e.column_index=_xfu["int"](a[0])),c=2;d>c;c++)e.arg_arr.push(a[c]);else for(e.column_index=_xfu["int"](a[0]),c=1;d>c;c++)e.arg_arr.push(a[c]);return e},XF_GRID.prototype._getcolumnpropbyindex=function(a,b,c,d){var e,f;return null==b||isNaN(b)?d:(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,a))?(f=e.xf_column_data_prop[c],void 0===f?d:f):d},XF_GRID.prototype._getcolumnprop=function(a,b,c){var d,e;return null==a?c:null==a.column_index||isNaN(a.column_index)?c:(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===d?c:(e=d.xf_column_data_prop[b],void 0===e?c:e))},XF_GRID.prototype._setcolumnprop=function(a,b,c,d,e){var f;return void 0==d&&(d=!0),void 0==e&&(e=!0),f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),void 0===f?e?!1:{is_success:!1,xf_column_data:null}:("image_list"===b?f.xf_column_data_prop[b]=c:f.xf_column_data_prop[b]=_xfx.propvalue(this,f.xf_column_data_prop,b,c),"text_wordbreak"===b&&this._updateautorowheightcolumnexist(),d&&this._refreshgrid(),e?!0:{is_success:!0,xf_column_data:f})},XF_GRID.prototype._clearallcolumnheadercheck=function(){var a,b,c,d;for(this.setcheckrowheadercheck(!1,!1,!1),b=this.gethorzheadercount(),d=this.getcolumncount(),a=0;b>a;a++)for(c=0;d>c;c++)this.setheadercheck(a,c,!1,!1)},XF_GRID.prototype.getcolumnpatternsymbol=function(){var a=this._getcolumnapiarginfo(arguments);return 0==a.arg_arr[0]?this._getcolumnprop(this._getcolumnapiarginfo(arguments),"pattern_front_symbol",""):this._getcolumnprop(this._getcolumnapiarginfo(arguments),"pattern_rear_symbol","")},XF_GRID.prototype.setcolumnpatternsymbol=function(){var a=this._getcolumnapiarginfo(arguments);return 0==a.arg_arr[0]?this._setcolumnprop(a,"pattern_front_symbol",a.arg_arr[1],a.arg_arr[2],!0):this._setcolumnprop(a,"pattern_rear_symbol",a.arg_arr[1],a.arg_arr[2],!0)},XF_GRID.prototype._updatechartcolumnexist=function(){var a,b,c,d;for(this.is_chart_column_exist=!1,c=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),a=0;a<this.sub_row_count;a++)for(b=0;c>b;b++)if(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,a),d.xf_column_data_prop.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHART){this.is_chart_column_exist=!0;break}},XF_GRID.prototype.addcombostringtocolumn=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b.xf_picklist.addstring(a.arg_arr[0])},XF_GRID.prototype.deletecombostringtocolumn=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b.xf_picklist.deletestring(a.arg_arr[0]),this._refreshgrid(),!0},XF_GRID.prototype.deleteallcombostringtocolumn=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b.xf_picklist.removeall(),this._refreshgrid(),!0},XF_GRID.prototype.getcolumncbcount=function(){var a,b;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b&&b.xf_picklist?b.xf_picklist.getcount():0},XF_GRID.prototype.getcolumncbdata=function(){var a,b,c;return a=this._getcolumnapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b&&b.xf_picklist?(c=b.xf_picklist.getcodeinfo("index",a.arg_arr[0]),c.code+":"+c.comment):""},XF_GRID.prototype._getitemxfpicklist=function(a,b,c){var d;return d=this._getitempropbyarg(a,"xf_picklist",null),null==d&&c&&(d=new XF_PICKLIST(this,{make_case:b.xf_column_data_prop.make_case,grid_row_index:a.row_index,grid_sub_row_index:a.sub_row_index,grid_column_index:a.column_index,picklist_type:XF_PICKLIST.PICKLIST_TYPE_GRIDITEM,picklist_async:!1,picklist_linkdata:"",picklist:"",picklist_filter_type:b.xf_column_data_prop.picklist_filter_type,picklist_selstyle:b.xf_column_data_prop.picklist_selstyle,on_picklist_load:$.proxy(this.on_picklist_load,this)}),this._setitempropbyarg(a,"xf_picklist",d,!1)),d},XF_GRID.prototype.copycolumncombodatatoitem=function(){var a,b,c,d,e,f;for(a=this._getitemapiarginfo(arguments),d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b=d.xf_picklist,c=this._getitemxfpicklist(a,d,!0),c.removeall(),f=b.getcount(),e=0;f>e;e++)c.xf_xdataset._addrow(XFD_XDATASET_COLUMN_DATA,-1,"",!0,this),c.setcode(e,b.getcode(e),!1),c.setcomment(e,b.getcomment(e),!1),c.sethidden(e,b.gethidden(e),!1);return!0},XF_GRID.prototype.addcombostringtoitem=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index))?(c=this._getitemxfpicklist(a,b,!0),c.addstring(a.arg_arr[0]),this._refreshitembyarginfo(!0,a,3,4),!0):!1},XF_GRID.prototype.deleteallcombostringtoitem=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=this._getitempropbyarg(a,"xf_picklist",null),null==b?!1:(b.removeall(),this._refreshitembyarginfo(!0,a,2,3),!0)},XF_GRID.prototype.deletecombostringtoitem=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=this._getitempropbyarg(a,"xf_picklist",null),null==b?!1:(b.deletestring(a.arg_arr[0]),this._refreshitembyarginfo(!0,a,3,4),!0)},XF_GRID.prototype.findcbitem=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=this._getitempropbyarg(a,"xf_picklist",b.xf_picklist),null==c?-1:c.finditem(a.arg_arr[0],_xfu["int"](a.arg_arr[1]),a.arg_arr[2])},XF_GRID.prototype.getitemcbcomment=function(){var a,b,c,d,e,f,g,h,i,j,k;if(a=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=b.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,a.row_index),d=this._getitempropbyarg(a,"xf_picklist",b.xf_picklist),null==d)return"";for(e=this._getitempropbyarg(this._getitemapiarginfo(arguments),"combobox_valuedelimiter",b.xf_column_data_prop.combobox_valuedelimiter),f=this._getitempropbyarg(this._getitemapiarginfo(arguments),"combobox_displaydelimiter",b.xf_column_data_prop.combobox_displaydelimiter),k=[],i=c.split(e),j=i.length,g=0;j>g;g++)h=d.getcodeinfo("code",i[g]),k.push(h.comment);return k.join(f)},XF_GRID.prototype.setitemcbselectedindex=function(){var a,b,c,d,e;return a=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=this._getitempropbyarg(a,"xf_picklist",b.xf_picklist),null==c?!1:(d=c.getcodeinfo("index",a.arg_arr[0]),-1==d.index?!1:(e=a.arg_arr[1],void 0===e&&(e=!0),this._ismultilinegrid()?this.setitemtextex(a.row_index,a.sub_row_index,a.column_index,d.code,e,!0,a.arg_arr[2],a.arg_arr[3]):this.setitemtextex(a.row_index,a.column_index,d.code,e,!0,a.arg_arr[2],a.arg_arr[3]),!0))},XF_GRID.prototype.getitemcbcount=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=this._getitempropbyarg(this._getitemapiarginfo(arguments),"xf_picklist",b.xf_picklist),null==c?-1:c.getcount()},XF_GRID.prototype.getitemcbdata=function(){var a,b,c,d;return a=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=this._getitempropbyarg(a,"xf_picklist",b.xf_picklist),null==c?"":(d=c.getcodeinfo("index",a.arg_arr[0]),d.code+":"+d.comment)},XF_GRID.prototype.showcomboselectbox=function(a){var b,c;return null==this.xf_item_edit_div?!1:(b=this._getitemeditdivinfo(),null==b?"":(c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),null==c.xf_combobox?!1:(c.xf_combobox.showselectbox(a),!0)))},XF_GRID.prototype.getcelldividecolor=function(){return _xfu.color(this.xf_prop.cell_dividecolor)},XF_GRID.prototype.setcelldividecolor=function(a){return this.xf_prop.cell_dividecolor=_xfu.rgb(a),_xfc.deletecss(this.class_tr_divide),this._writecss_trdivide(),this._refreshgrid(),!0},XF_GRID.prototype.getcelldividecoloruse=function(){return this.xf_prop.cell_dividecolor_use},XF_GRID.prototype.setcelldividecoloruse=function(a){return this.xf_prop.cell_dividecolor_use=a,_xfc.deletecss(this.class_tr_divide),this._writecss_trdivide(),this._refreshgrid(),!0},XF_GRID.prototype.getcelldividerowcount=function(){return this.xf_prop.cell_dividerowcount},XF_GRID.prototype.setcelldividerowcount=function(a){return a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1?!1:(this.xf_prop.cell_dividerowcount=a,_xfc.deletecss(this.class_tr_divide),this._writecss_trdivide(),this._refreshgrid(),!0)},XF_GRID.prototype.getcelllinecolor=function(){return _xfu.color(this.xf_prop.cell_linecolor)},XF_GRID.prototype.setcelllinecolor=function(a){return this.xf_prop.cell_linecolor=_xfu.rgb(a),this._refreshgrid(),!0},XF_GRID.prototype.gethoverrowbackcolor=function(){return _xfu.color(this.xf_prop.hoverrow_backcolor)},XF_GRID.prototype.sethoverrowbackcolor=function(a){return this.xf_prop.hoverrow_backcolor=_xfu.rgb(a),!0},XF_GRID.prototype.gethoverrowcolor=function(){return this.xf_prop.hoverrowcolor},XF_GRID.prototype.sethoverrowcolor=function(a){return a=_xfu["int"](a),0>a||a>2?!1:(this.xf_prop.hoverrowcolor=a,!0)},XF_GRID.prototype.getselectrowbackcolor=function(){return _xfu.color(this.xf_prop.selectrow_backcolor)},XF_GRID.prototype.setselectrowbackcolor=function(a){return this.xf_prop.selectrow_backcolor=_xfu.rgb(a),_xfc.deletecss(this.class_tr_selected),_xfc.deletecss(this.class_td_selected),this._writecss_selectrow(),this._writecss_selecttd(),!0},XF_GRID.prototype.getselectrowforecolor=function(){return _xfu.color(this.xf_prop.selectrow_forecolor)},XF_GRID.prototype.setselectrowforecolor=function(a){return this.xf_prop.selectrow_forecolor=_xfu.rgb(a),_xfc.deletecss(this.class_tr_selected),_xfc.deletecss(this.class_td_selected),this._writecss_selectrow(),this._writecss_selecttd(),!0},XF_GRID.prototype.getselectrowbordercolor=function(){return _xfu.color(this.xf_prop.selectrow_bordercolor)},XF_GRID.prototype.setselectrowbordercolor=function(a){this.xf_prop.selectrow_bordercolor=_xfu.rgb(a),this._refreshgrid()},XF_GRID.prototype.gethorzscrollbarstyle=function(){return this.xf_prop.horzscrollbar_style},XF_GRID.prototype.sethorzscrollbarstyle=function(a){return this.setscrollbarstyle(a,-1)},XF_GRID.prototype.getselectrowstyle=function(){return this.xf_prop.selectrow_style},XF_GRID.prototype.setselectrowstyle=function(a){return a=_xfu["int"](a),0>a||a>4?!1:(this.xf_prop.selectrow_style=a,_xfc.deletecss(this.class_tr_selected),_xfc.deletecss(this.class_td_selected),0!=this.xf_prop.selectrow_style&&this._writecss_selectrow(),this._writecss_selecttd(),!0)},XF_GRID.prototype.getvertscrollbarstyle=function(){return this.xf_prop.vertscrollbar_style},XF_GRID.prototype.setvertscrollbarstyle=function(a){return this.setscrollbarstyle(-1,a)},XF_GRID.prototype.setscrollbarstyle=function(a,b){return a=_xfu.intval(a,-1,2),a===!1?!1:(b=_xfu.intval(b,-1,2),b===!1?!1:(-1!=a&&(this.xf_prop.horzscrollbar_style=a,this.xf_grid_scroll.sethorzscrollbarstyle(this.xf_prop.horzscrollbar_style)),-1!=b&&(this.xf_prop.vertscrollbar_style=b,this.xf_grid_scroll.setvertscrollbarstyle(this.xf_prop.vertscrollbar_style)),this._refreshgrid(),!0))},XF_GRID.prototype.getexcelsheetcount=function(a){var b=1;return b},XF_GRID.prototype.readtxt=function(){return this._readfile(XF_GRID.FILE_TYPE_TEXT)},XF_GRID.prototype.readcsv=function(){
return this._readfile(XF_GRID.FILE_TYPE_CSV)},XF_GRID.prototype._readfile=function(a,b,c,d,e){var f,g,h,i;return i=factory._userlang("파일 로드","Load"),a==XF_GRID.FILE_TYPE_CSV?i=factory._userlang("CSV 파일 로드","CSV Load"):a==XF_GRID.FILE_TYPE_TEXT&&(i=factory._userlang("TEXT 파일 불러오기","TEXT Load")),void 0===b&&(b=1),void 0===c&&(c=this.sub_row_count),d=",",void 0===d&&(a==XF_GRID.FILE_TYPE_CSV?d=this.xf_prop.csvfile_data_delimiter:a==XF_GRID.FILE_TYPE_TEXT&&(d=this.xf_prop.textfile_data_delimiter)),void 0===e&&(e=!1),h={file_type:a,file_load_type:XF_GRID.FILE_LOADSAVE_TYPE_LOCAL,row_no:b,column_name:"A",file_row_count_per_grid_row:c,data_delimiter:d,is_append_mode:e},this._updatefileloadstartitem(h),f=new XF_GRID_POPUP_LOAD(this,h),g=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:i,url:"",xf_content:f.xf_object,padding:0,is_center:!0,top:this.gettop(),width:400,height:202}),f.xf_modalbox=g,g.show(),""},XF_GRID.prototype.readcsvex=function(a,b,c,d,e){return void 0===c&&(c=!1),this._readcsv("",a,!0,b,!0,c,d,e),!0},XF_GRID.prototype.readtxtex=function(a,b,c,d,e){return void 0===c&&(c=!1),this._readtext("",a,!0,b,!0,c,d,e),!0},XF_GRID.prototype._readcsv=function(a,b,c,d,e,f,g,h){return this.csv_file_info.start_row_no=_xfu["int"](b),this.csv_file_info.is_show_progress=c,this.csv_file_info.row_count_per_grid_row=_xfu["int"](d),this.csv_file_info.is_append_mode=f,this.csv_file_info.data_delimiter=this.xf_prop.csvfile_data_delimiter,void 0!==g&&g.length>0&&(this.csv_file_info.data_delimiter=g),"tab"==this.csv_file_info.data_delimiter.toLowerCase()&&(this.csv_file_info.data_delimiter="	"),h===!0?this._readfile(XF_GRID.FILE_TYPE_CSV,this.csv_file_info.start_row_no,this.csv_file_info.row_count_per_grid_row,this.csv_file_info.data_delimiter,this.csv_file_info.is_append_mode):(e?this.xf_csv_file.trigger("click"):this._readdatafile(XF_GRID.FILE_TYPE_CSV,this.load_file_info.file_obj,null),!0)},XF_GRID.prototype._readtext=function(a,b,c,d,e,f,g,h){return this.text_file_info.start_row_no=_xfu["int"](b),this.text_file_info.is_show_progress=c,this.text_file_info.row_count_per_grid_row=_xfu["int"](d),this.text_file_info.is_append_mode=f,this.text_file_info.data_delimiter=this.xf_prop.textfile_data_delimiter,void 0!==g&&g.length>0&&(this.text_file_info.data_delimiter=g),"tab"==this.text_file_info.data_delimiter.toLowerCase()&&(this.text_file_info.data_delimiter="	"),h===!0?this._readfile(XF_GRID.FILE_TYPE_TEXT,this.text_file_info.start_row_no,this.text_file_info.row_count_per_grid_row,this.text_file_info.data_delimiter,this.text_file_info.is_append_mode):(e?this.xf_text_file.trigger("click"):this._readdatafile(XF_GRID.FILE_TYPE_TEXT,this.load_file_info.file_obj,null),!0)},XF_GRID.prototype.readexcel=function(){var a;return a=void 0!==arguments[0]?arguments[0]:"",this.excel_info.excel_start_row_no=void 0!==arguments[1]?_xfu["int"](arguments[1]):1,this.excel_info.excel_start_column_name=void 0!==arguments[2]?arguments[2]:"A",this.excel_info.is_show_progress=void 0!==arguments[3]?arguments[3]:!0,this._readexcel(a,1,1,this.excel_info.excel_start_row_no,this.excel_info.excel_start_column_name,this.excel_info.is_show_progress,this.sub_row_count,!0)},XF_GRID.prototype.readexcelex=function(a,b,c,d){return this._readexcel(a,1,1,b,c,d,this.sub_row_count,!0)},XF_GRID.prototype.readexcelrange=function(a,b,c,d,e,f){return this._readexcel(a,b,c,d,e,f,this.sub_row_count,!0)},XF_GRID.prototype._readexcel=function(a,b,c,d,e,f,g,h){return this.excel_info.excel_start_sheet_no=_xfu["int"](b),this.excel_info.excel_end_sheet_no=_xfu["int"](c),this.excel_info.excel_start_row_no=_xfu["int"](d),this.excel_info.excel_start_column_name=e.toUpperCase(),this.excel_info.excel_start_column_no=factory.toexcelcolumnno(this.excel_info.excel_start_column_name),this.excel_info.is_show_progress=f,this.excel_info.excel_row_count_per_grid_row=_xfu["int"](g),h?(this.xf_excel_file.trigger("click"),a):void this._readexcelfile(this.load_file_info.file_obj,null)},XF_GRID.prototype.downloadexcel=function(a){return this.downloadexcelex(a,!0,!0,!1,!0,!0,!1,!0,!1,!1)},XF_GRID.prototype.downloadexcelex=function(a,b,c,d,e,f,g,h,i,j,k,l,m){void 0===k&&(k=!1),void 0===l&&(l=!1),void 0===m&&(m=!1),b?this._showsavepopup({file_name:a,file_type:XF_GRID.FILE_TYPE_EXCEL,file_save_type:XF_GRID.FILE_LOADSAVE_TYPE_SERVER,is_save_onerow:c,is_include_pattern:d,is_include_header:e,is_include_statdata:f,is_include_border:g,is_include_align:h,is_include_backcolor:i,is_include_font:j,is_include_forecolor:k,is_include_itemstyle:l,is_include_itemmerge:m,excel_password:""}):this._downloadexcelfile(a,null,{is_save_onerow:c,is_include_pattern:d,is_include_header:e,is_include_statdata:f,is_include_border:g,is_include_align:h,is_include_backcolor:i,is_include_font:j,is_include_forecolor:k,is_include_itemstyle:l,is_include_itemmerge:m,excel_password:""})},XF_GRID.prototype.uploadexcel=function(a){var b,c,d;void 0===a&&(a=!1),d={file_type:XF_GRID.FILE_TYPE_EXCEL,file_load_type:XF_GRID.FILE_LOADSAVE_TYPE_SERVER,row_no:1,column_name:"A",file_row_count_per_grid_row:this.sub_row_count,is_append_mode:a},this._updatefileloadstartitem(d),b=new XF_GRID_POPUP_LOAD(this,d),c=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:"EXCEL UPLOAD",url:"",xf_content:b.xf_object,padding:0,is_center:!0,top:this.gettop(),width:400,height:202}),b.xf_modalbox=c,c.show()},XF_GRID.prototype.uploadexcelex=function(a,b,c,d,e,f,g){var h,i,j,k,l,m;if(void 0===g&&(g=""),this.excel_info.excel_start_sheet_no=_xfu["int"](a),this.excel_info.excel_end_sheet_no=_xfu["int"](b),this.excel_info.excel_start_row_no=_xfu["int"](c),this.excel_info.excel_start_column_name=d.toUpperCase(),this.excel_info.excel_start_column_no=factory.toexcelcolumnno(this.excel_info.excel_start_column_name),this.excel_info.excel_row_count_per_grid_row=_xfu["int"](e),this.excel_info.is_show_progress=!0,this.excel_info.is_append_mode=f,this.excel_info.excel_password=g,factory_xf_param.CALLBACK_EXCEL_UPLOAD){for(h={},h.START_SHEET_INDEX=this.excel_info.excel_start_sheet_no-1,h.END_SHEET_INDEX=this.excel_info.excel_end_sheet_no-1,h.START_ROW_INDEX=this.excel_info.excel_start_row_no-1,h.START_COLUMN_INDEX=this.excel_info.excel_start_column_no-1,h.EXCEL_ROW_COUNT_PER_GRID_ROW=this.excel_info.excel_row_count_per_grid_row,h.EXCEL_PASSWORD=this.excel_info.excel_password,h.IS_APPEND_MODE=this.excel_info.is_append_mode,h.GRID_SUB_ROW_COUNT=this.sub_row_count,i=0,j=this.getcolumncount(),k=0;j>k;k++)for(l=0;l<this.sub_row_count;l++)m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,l),m.xf_column_data_prop.excel_rw&&i++;h.DATASET_COLUMN_COUNT=i,factory._callbackexcelupload(this,h)}else this.xf_excel_upload_file.trigger("click")},XF_GRID.prototype.savetxt=function(){return this._showsavepopup({file_name:"",file_type:XF_GRID.FILE_TYPE_TEXT,is_include_pattern:!0,is_include_header:!0,is_include_statdata:!0,data_delimiter:this.xf_prop.textfile_data_delimiter}),!0},XF_GRID.prototype.savecsv=function(){return this._showsavepopup({file_name:"",file_type:XF_GRID.FILE_TYPE_CSV,is_include_pattern:!0,is_include_header:!0,is_include_statdata:!0,data_delimiter:this.xf_prop.csvfile_data_delimiter}),!0},XF_GRID.prototype.savexml=function(){return this._showsavepopup({file_name:"",file_type:XF_GRID.FILE_TYPE_XML,is_include_pattern:!0,is_include_header:!0,is_include_statdata:!0}),!0},XF_GRID.prototype.savejson=function(){return this._showsavepopup({file_name:"",file_type:XF_GRID.FILE_TYPE_JSON,is_include_pattern:!0,is_include_header:!0,is_include_statdata:!0}),!0},XF_GRID.prototype.savetxtex=function(a,b,c,d,e,f,g,h){return this.text_file_info.is_after_open_file=e,this.text_file_info.is_prompt_overwrite=f,this._savefileex(XF_GRID.FILE_TYPE_TEXT,a,b,c,!0,!1,g,h)},XF_GRID.prototype.savecsvex=function(a,b,c,d,e,f,g,h){return this._savecsvex(XF_GRID.FILE_TYPE_CSV,a,b,c,d,e,f,g,h)},XF_GRID.prototype._savecsvex=function(a,b,c,d,e,f,g,h,i){return this.csv_file_info.is_after_open_file=f,this.csv_file_info.is_prompt_overwrite=g,this._savefileex(a,b,c,d,!0,!1,h,i)},XF_GRID.prototype.savexmlex=function(a,b,c,d,e,f){return this._savefileex(XF_GRID.FILE_TYPE_XML,a,b,c,e,d,f)},XF_GRID.prototype.savejsonex=function(a,b,c,d,e,f){return this._savefileex(XF_GRID.FILE_TYPE_JSON,a,b,c,e,d,f)},XF_GRID.prototype._savefileex=function(a,b,c,d,e,f,g,h){return g?(void 0===h&&(a==XF_GRID.FILE_TYPE_CSV?h=this.xf_prop.csvfile_data_delimiter:a==XF_GRID.FILE_TYPE_TEXT&&(h=this.xf_prop.textfile_data_delimiter)),this._showsavepopup({file_name:b,file_type:a,is_include_pattern:c,is_include_header:d,is_include_statdata:e,is_save_onerow:f,data_delimiter:h})):this._writedatafile(a,b,null,{is_include_pattern:c,is_include_header:d,is_include_statdata:e,is_save_onerow:f,data_delimiter:h}),!0},XF_GRID.prototype.saveexcel=function(){return this.saveexcelex("no_name.xlsx",!0,!0,!0,!0,1,!0)},XF_GRID.prototype.saveexcelex=function(a,b,c,d,e,f,g){var h,i;h=a,i=a.lastIndexOf("\\"),i>0&&(h=a.substr(i+1)),i=a.lastIndexOf("/"),i>0&&(h=a.substr(i+1)),g?this._showsavepopup({file_name:h,file_type:XF_GRID.FILE_TYPE_EXCEL,is_include_pattern:b,is_include_header:c,is_include_statdata:!0}):this._writeexcelfile(h,null,{is_include_pattern:b,is_include_header:c,is_include_statdata:!0,is_save_onerow:!1})},XF_GRID.prototype.saveexceldirect=function(a,b,c,d,e,f){return this.saveexceldirectex(a,b,c,!0,d,e,f)},XF_GRID.prototype.showexcel=function(a,b,c,d){return this.saveexceldirectex("no_name.xlsx",a,b,c,!0,!0,d)},XF_GRID.prototype.saveexceldirectex=function(a,b,c,d,e,f,g){var h,i;h=a,i=a.lastIndexOf("\\"),i>0&&(h=a.substr(i+1)),i=a.lastIndexOf("/"),i>0&&(h=a.substr(i+1)),g?this._showsavepopup({file_name:h,file_type:XF_GRID.FILE_TYPE_EXCEL,is_include_pattern:b,is_include_header:c,is_include_statdata:!0}):this._writeexcelfile(h,null,{is_include_pattern:b,is_include_header:c,is_include_statdata:!0,is_save_onerow:!1})},XF_GRID.prototype._showsavepopup=function(a){var b,c,d,e,f,g;if(b=new XF_GRID_POPUP_SAVE(this,a),g=310,g=this._ismultilinegrid()?136:310,c=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:factory._userlang("파일 저장","Save"),url:"",xf_content:b.xf_object,padding:0,is_center:!0,top:this.gettop(),width:470,height:g}),b.setmodalbox(c),c.show(),!this._ismultilinegrid())for(e=this.getcolumncount(),f=0;e>f;f++)d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,0),0!=d.xf_column_data_prop.excel_rw&&b._addrow(f,this._showsavepopupcolumnheadtext(f))},XF_GRID.prototype._showsavepopupcolumnheadtext=function(a){var b,c,d;for(d=[],c=this.gethorzheadercount(),b=0;c>b;b++)d.push(this.getheadertext(b,a).replace(_xfp.expr_newline,""));return d.join(" > ")},XF_GRID.prototype._getexcelrange=function(a){var b,c;return c={start_column_name:"",end_column_name:"",start_row_no:-1,end_row_no:-1,start_column_no:-1,end_column_no:-1,row_count:-1,column_count:-1},b=a.split(":"),c.start_row_no=parseInt(b[0].replace(/[A-Z]/g,""),10),c.start_column_name=b[0].replace(/[0-9]/g,""),c.end_row_no=parseInt(b[1].replace(/[A-Z]/g,""),10),c.end_column_name=b[1].replace(/[0-9]/g,""),c.start_column_no=factory.toexcelcolumnno(c.start_column_name),c.end_column_no=factory.toexcelcolumnno(c.end_column_name),c.row_count=c.end_row_no-c.start_row_no+1,c.column_count=c.end_column_no-c.start_column_no+1,c},XF_GRID.prototype._setcolumnvaluearr=function(a,b,c,d,e){var f,g,h,i,j,k;for(void 0===d&&(d=!1),void 0===e&&(e=XFD_ROWOP_INSERT),f=0;f<this.sub_row_count;f++)for(k=a[f],h=k.length,j=c[f],g=0;h>g;g++){if(1==k[g].xf_column_data_prop.make_case)for(i=0;b>i;i++)j[g][i]=j[g][i].toUpperCase();else if(2==k[g].xf_column_data_prop.make_case)for(i=0;b>i;i++)j[g][i]=j[g][i].toLowerCase();d?this.xf_xdataset._addcolumnvaluearr(k[g].xdataset_column_type,k[g].xdataset_column_id,j[g]):this.xf_xdataset._setcolumnvaluearr(k[g].xdataset_column_type,k[g].xdataset_column_id,j[g])}d?this.xf_xdataset._adddatarowcount(b,e):this.xf_xdataset._setdatarowcount(b,e)},XF_GRID.prototype._makefiledatatargetinfo=function(a,b,c){var d,e,f,g,h,i,j;if(null==a)for(e=this.getcolumncount(),a=[],f=0;f<this.sub_row_count;f++){for(null!=c&&(g=[]),h=[],d=0;e>d;d++)i=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,f),i.xf_column_data_prop.excel_rw&&(a.push(d),h.push(i),null!=c&&g.push([]));b.push(h),null!=c&&c.push(g)}else{for(j=a.length,h=[],d=0;j>d;d++)h.push(this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a[d],0));b.push(h)}return a},XF_GRID.prototype._readdatafile=function(a,b,c){var d,e,f;return"undefined"==typeof FileReader?void alert("This browser does not support HTML5."):(this.xf_protect.showprotect(),f=this,e=new FileReader,d=$(e),this.load_file_name=b.name,d.on("load",function(b){f._readfiledata(b.target.result,a),null!=c&&c.val(""),f.xf_protect.hideprotect(!0)}),void e.readAsText(b))},XF_GRID.prototype._readexcelfile=function(a,b){var c,d,e;return"undefined"==typeof FileReader?void alert("This browser does not support HTML5."):(this.xf_protect.showprotect(),e=this,d=new FileReader,c=$(d),c.on("load",function(a){var c,f,g,h;if(d.readAsBinaryString)e._readexceldata(a.target.result);else{for(f=new Uint8Array(a.target.result),g=f.length,h=[],c=0;c!=g;c++)h[c]=String.fromCharCode(f[c]);e._readexceldata(h.join(""))}null!=b&&b.val(""),e.xf_ingbox.hide()}),void(d.readAsBinaryString?d.readAsBinaryString(a):d.readAsArrayBuffer(a)))},XF_GRID.prototype._uploadexcelfile=function(a,b){var c,d,e,f,g,d,h,e,i,j,k,l,m,n;for(this.excel_info.upload_result=1,this.excel_info.error_grid_sub_row_index=-1,this.excel_info.error_grid_column_index=-1,this.excel_info.error_grid_column_title="",this.excel_info.error_data_row_offset=-1,this.excel_info.error_data="",this.excel_info.error_code="",this.excel_info.error_message="",f=new XMLHttpRequest,f.withCredentials=!0,g=$(f),d=factory.getexceluploadurl(),h=!0,this.xf_protect.showprotect(),e=this,c=new FormData,c.append("START_SHEET_INDEX",this.excel_info.excel_start_sheet_no-1),c.append("END_SHEET_INDEX",this.excel_info.excel_end_sheet_no-1),c.append("START_ROW_INDEX",this.excel_info.excel_start_row_no-1),c.append("START_COLUMN_INDEX",this.excel_info.excel_start_column_no-1),c.append("EXCEL_ROW_COUNT_PER_GRID_ROW",this.excel_info.excel_row_count_per_grid_row),this.excel_info.file_name=a.name,n=this.excel_info.file_name.split(".")[1],void 0!==n&&n.length>0&&(n=n.toLowerCase(),"xls"==n&&(this.excel_info.excel_password="")),c.append("EXCEL_PASSWORD",this.excel_info.excel_password),c.append("GRID_SUB_ROW_COUNT",this.sub_row_count),i=0,j=this.getcolumncount(),k=0;j>k;k++)for(l=0;l<this.sub_row_count;l++)m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,l),m.xf_column_data_prop.excel_rw&&i++;c.append("DATASET_COLUMN_COUNT",i),c.append("fileData",a),f.open("POST",d,h),g.on("load",$.proxy(this.on_excelupload_load,this)),g.on("error",$.proxy(this.on_excelupload_error,this)),g.on("abort",$.proxy(this.on_excelupload_abort,this)),g.on("timeout",$.proxy(this.on_excelupload_timeout,this));try{f.send(c)}catch(o){alert("["+o.name+"] "+o.message)}this.xf_protect.hideprotect(),null!=b&&b.val("")},XF_GRID.prototype._readfiledata=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(void 0===b&&(b=XF_GRID.FILE_TYPE_CSV),i=[],h=[],this._makefiledatatargetinfo(null,h,i),n=a.split("\n"),m=n.length,0==n[m-1].length&&(n.splice(m-1,1),m-=1),v=",",e=1,g=!1,b==XF_GRID.FILE_TYPE_CSV?(v=this.csv_file_info.data_delimiter,e=this.csv_file_info.row_count_per_grid_row,f=this.csv_file_info.start_row_no,g=this.csv_file_info.is_append_mode):b==XF_GRID.FILE_TYPE_TEXT&&(v=this.text_file_info.data_delimiter,e=this.text_file_info.row_count_per_grid_row,f=this.text_file_info.start_row_no,g=this.text_file_info.is_append_mode),"tab"==v.toLowerCase()&&(v="	"),k=0,e==this.sub_row_count)for(l=f-1;m>l;){for(d=0;d<this.sub_row_count;d++)for(o=b==XF_GRID.FILE_TYPE_CSV?_xfp.csvtoarray(n[l],v):n[l].split(v),p=o.length,l++,j=i[d],q=0;p>q&&!(q>=j.length);q++)j[q][k]=o[q];k++}else for(l=f-1;m>l;){for(o=[],t=0;e>t;t++)b==XF_GRID.FILE_TYPE_CSV?(u=_xfp.csvtoarray(n[l],v),o=o.concat(u)):o=n[l].split(v),l++;for(p=o.length,q=0,d=0;d<this.sub_row_count&&!(q>=p);d++)for(j=i[d],r=h[d],s=r.length,c=0;s>c&&!(q>=p);c++)j[c][k]=o[q],q++;k++}if(this._setcolumnvaluearr(h,k,i,g),b==XF_GRID.FILE_TYPE_CSV?this.xf_csv_file.val(""):b==XF_GRID.FILE_TYPE_TEXT&&this.xf_text_file.val(""),this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null),w=!1,1==factory_xf_param.GRID_FILELOAD_DATA_VALIDATION)for(d=0;d<this.sub_row_count;d++)for(r=h[d],s=r.length,j=i[d],c=0;s>c;c++)if(0==r[c].xf_column_data_prop.data_type)for(k=0;s>k;k++)if(j[c][k].length>0&&isNaN(_xfu["float"](j[c][k]))){w=!0,x=d,y=r[c].column_index,A=j[c][k],d=this.sub_row_count,c=s;break}0==w?factory._fireevent({xf_component:this,event_name:"on_fileload",is_fire_async:!0},this,1,"","",this.load_file_name):(z=[],z.push("Data Row Index = "+k),z.push("File Data = "+A),this._ismultilinegrid()&&z.push("Grid Sub Row Index = "+x),z.push("Grid Column Title = "+this.getheadertext(x,y)),z.push("Grid Column Index = "+y),factory_xf_param.GRID_FILELOAD_ERROR_SHOWALERT&&screen.alert("[DataType Error]\n"+z.join("\n")),factory._fireevent({xf_component:this,event_name:"on_fileload",is_fire_async:!0},this,0,"DataType Error",z.join(","),this.load_file_name))},XF_GRID.prototype._readexceldata=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,q=[];for(o=[],this._makefiledatatargetinfo(null,o,q),f=XLSX.read(a,{type:"binary"}),d=f.SheetNames.length,l=0,e=this.excel_info.excel_start_sheet_no-1;e<this.excel_info.excel_end_sheet_no&&!(e>=d)&&(g=f.SheetNames[e],void 0!=g)&&(h=f.Sheets[g],void 0!=h);e++)if(i=this._getexcelrange(h["!ref"]),this.excel_info.excel_row_count_per_grid_row==this.sub_row_count)for(m=this.excel_info.excel_start_row_no;m<=i.row_count;){for(n=0;n<this.sub_row_count;n++){for(r=q[n],p=o[n],b=p.length,s=this.excel_info.excel_start_column_no,c=0;b>c;c++)j=factory.toexcelcolumnname(s)+m,k="",void 0!=h[j]&&(k=h[j].v),r[c][l]=k,s++;m++}l++}else for(m=this.excel_info.excel_start_row_no;m<=i.row_count;){for(s=this.excel_info.excel_start_column_no,t=[],v=0;v<this.excel_info.excel_row_count_per_grid_row;v++){for(n=0;n<this.sub_row_count;n++)for(p=o[n],b=p.length,c=0;b>c;c++)j=factory.toexcelcolumnname(s)+(m+v),k="",void 0!=h[j]&&(k=h[j].v),t.push(k),s++;m++}for(u=0,n=0;n<this.sub_row_count;n++)for(r=q[n],p=o[n],b=p.length,c=0;b>c;c++)r[c][l]=t[u],u++;l++}this._setcolumnvaluearr(o,l,q),this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null),this.xf_excel_file.val("")},XF_GRID.prototype._downloadexcelfile=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;factory_xf_param.CALLBACK_EXCEL_DOWNLOAD&&(v={}),c.is_include_statdata===!0&&this.is_stat_exclude_merged_item===!0&&this.getstatrowcount()>0&&this.getstatcolumncount()>0&&(c.is_include_itemmerge=!0),j="_iframe_for_xf_grid_excel_download",k=document.getElementById(j),null==k&&(i=[],i.push('<iframe id="'+j+'" name="'+j+'" style="display:none;"></iframe>'),$(i.join("")).appendTo("body")),d=[],b=this._makefiledatatargetinfo(b,d,null),e={},g=this._makefilewriteinfo(d,c,!0,XF_GRID.FILE_TYPE_EXCEL),e.column_head_meta_arr_arr=g.column_meta_arr_arr,e.column_head_value_arr_arr=g.column_value_arr_arr_arr,f=this._makefilewriteinfo(d,c,!1,XF_GRID.FILE_TYPE_EXCEL),e.column_data_meta_arr_arr=f.column_meta_arr_arr,e.column_data_value_arr_arr_arr=f.column_value_arr_arr_arr,e.item_meta_arr_arr_arr=f.item_meta_arr_arr_arr,l=g.column_meta_arr_arr.length,m=f.column_value_arr_arr_arr[0][0].length,o=f.column_value_arr_arr_arr.length,n=f.column_value_arr_arr_arr[0].length,this.xf_protect.showprotect(),h=[],p=factory.getexceldownloadurl(),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD||h.push('<form action="'+p+'" method="POST" target="'+j+'">'),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.COLUMN_HEAD_META_ARR_ARR=e.column_head_meta_arr_arr,v.COLUMN_HEAD_VALUE_ARR_ARR=e.column_head_value_arr_arr,v.COLUMN_DATA_META_ARR_ARR=e.column_data_meta_arr_arr,v.COLUMN_DATA_VALUE_ARR_ARR_ARR=e.column_data_value_arr_arr_arr,v.ITEM_META_ARR_ARR_ARR=e.item_meta_arr_arr_arr,v.EXCEL_TITLE_INFO_ARR=this.excel_title_info_arr):(h.push('<input type="hidden" name="COLUMN_HEAD_META_ARR_ARR" value="'+encodeURIComponent(JSON.stringify(e.column_head_meta_arr_arr))+'"/>'),h.push('<input type="hidden" name="COLUMN_HEAD_VALUE_ARR_ARR" value="'+encodeURIComponent(JSON.stringify(e.column_head_value_arr_arr))+'"/>'),h.push('<input type="hidden" name="COLUMN_DATA_META_ARR_ARR" value="'+encodeURIComponent(JSON.stringify(e.column_data_meta_arr_arr))+'"/>'),h.push('<input type="hidden" name="COLUMN_DATA_VALUE_ARR_ARR_ARR" value="'+encodeURIComponent(JSON.stringify(e.column_data_value_arr_arr_arr))+'"/>'),h.push('<input type="hidden" name="ITEM_META_ARR_ARR_ARR" value="'+encodeURIComponent(JSON.stringify(e.item_meta_arr_arr_arr))+'"/>'),h.push('<input type="hidden" name="EXCEL_TITLE_INFO_ARR" value="'+encodeURIComponent(JSON.stringify(this.excel_title_info_arr))+'"/>')),s=this.xf_prop.header_font.slice(0),t=this.xf_prop.font.slice(0),s[1]=_xfu.str(s[1]),0==s[2]?s[2]=!1:s[2]=!0,t[1]=_xfu.str(t[1]),0==t[2]?t[2]=!1:t[2]=!0,factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.HEAD_FONT=s,v.DATA_FONT=t):(h.push('<input type="hidden" name="HEAD_FONT" value="'+encodeURIComponent(JSON.stringify(s))+'"/>'),h.push('<input type="hidden" name="DATA_FONT" value="'+encodeURIComponent(JSON.stringify(t))+'"/>')),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.IS_INCLUDE_BACKCOLOR=c.is_include_backcolor?1:0,v.IS_INCLUDE_FONT=c.is_include_font?1:0,v.IS_INCLUDE_BORDER=c.is_include_border?1:0,v.IS_INCLUDE_ALIGN=c.is_include_align?1:0,v.IS_INCLUDE_PATTERN=c.is_include_pattern?1:0):(h.push('<input type="hidden" name="IS_INCLUDE_BACKCOLOR" value="'),void 0!==c.is_include_backcolor&&c.is_include_backcolor?h.push("1"):h.push("0"),h.push('"/>'),h.push('<input type="hidden" name="IS_INCLUDE_FONT" value="'),void 0!==c.is_include_font&&c.is_include_font?h.push("1"):h.push("0"),h.push('"/>'),h.push('<input type="hidden" name="IS_INCLUDE_BORDER" value="'),void 0!==c.is_include_border&&c.is_include_border?h.push("1"):h.push("0"),h.push('"/>'),h.push('<input type="hidden" name="IS_INCLUDE_ALIGN" value="'),void 0!==c.is_include_align&&c.is_include_align?h.push("1"):h.push("0"),h.push('"/>'),h.push('<input type="hidden" name="IS_INCLUDE_PATTERN" value="'),void 0!==c.is_include_pattern&&c.is_include_pattern?h.push("1"):h.push("0"),h.push('"/>'),h.push('<input type="hidden" name="IS_INCLUDE_FORECOLOR" value="'),void 0!==c.is_include_forecolor&&c.is_include_forecolor?h.push("1"):h.push("0"),h.push('"/>'),h.push('<input type="hidden" name="IS_INCLUDE_ITEMSTYLE" value="'),void 0!==c.is_include_itemstyle&&c.is_include_itemstyle?h.push("1"):h.push("0"),h.push('"/>')),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?v.EXCEL_FILE_NAME=a:h.push('<input type="hidden" name="EXCEL_FILE_NAME" value="'+encodeURIComponent(a)+'"/>'),w=c.is_include_header?0==c.is_save_onerow?l:1:0,factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?v.EXCEL_HEAD_ROW_COUNT=w:h.push('<input type="hidden" name="EXCEL_HEAD_ROW_COUNT" value="'+w+'"/>'),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.EXCEL_DATA_ROW_COUNT=m,v.EXCEL_DATA_SUB_ROW_COUNT=o,v.EXCEL_COLUMN_COUNT=n,v.EXCEL_HEAD_HEIGHT=this.xf_prop.header_height,v.EXCEL_DATA_HEIGHT=this.xf_prop.cell_height):(h.push('<input type="hidden" name="EXCEL_DATA_ROW_COUNT" value="'+m+'"/>'),h.push('<input type="hidden" name="EXCEL_DATA_SUB_ROW_COUNT" value="'+o+'"/>'),h.push('<input type="hidden" name="EXCEL_COLUMN_COUNT" value="'+n+'"/>'),h.push('<input type="hidden" name="EXCEL_HEAD_HEIGHT" value="'+this.xf_prop.header_height+'"/>'),h.push('<input type="hidden" name="EXCEL_DATA_HEIGHT" value="'+this.xf_prop.cell_height+'"/>')),c.is_include_header&&0==c.is_save_onerow?(q=this._makeexcelheadermergeinfo(b),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.HEAD_MERGE_INFO_ARR=q,v.HEAD_MERGE_INFO_COUNT=q.length):(h.push('<input type="hidden" name="HEAD_MERGE_INFO_ARR" value="'+encodeURIComponent(JSON.stringify(q))+'"/>'),h.push('<input type="hidden" name="HEAD_MERGE_INFO_COUNT" value="'+q.length+'"/>'))):factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.HEAD_MERGE_INFO_ARR=[],v.HEAD_MERGE_INFO_COUNT=0):(h.push('<input type="hidden" name="HEAD_MERGE_INFO_ARR" value="'+encodeURIComponent(JSON.stringify([]))+'"/>'),h.push('<input type="hidden" name="HEAD_MERGE_INFO_COUNT" value="0"/>')),c.is_include_itemmerge===!0&&0==this._ismultilinegrid()?(r=this._makeexcelitemmergeinfo(b,c,e.column_data_value_arr_arr_arr),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.DATA_MERGE_INFO_ARR=r,v.DATA_MERGE_INFO_COUNT=r.length):(h.push('<input type="hidden" name="DATA_MERGE_INFO_ARR" value="'+encodeURIComponent(JSON.stringify(r))+'"/>'),h.push('<input type="hidden" name="DATA_MERGE_INFO_COUNT" value="'+r.length+'"/>'))):factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?(v.DATA_MERGE_INFO_ARR=[],v.DATA_MERGE_INFO_COUNT=0):(h.push('<input type="hidden" name="DATA_MERGE_INFO_ARR" value="'+encodeURIComponent(JSON.stringify([]))+'"/>'),h.push('<input type="hidden" name="DATA_MERGE_INFO_COUNT" value="0"/>')),u=a.split(".")[1],void 0!==u&&u.length>0&&(u=u.toLowerCase(),"xls"==u&&(c.excel_password="")),void 0===c.excel_password&&(c.excel_password=""),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?v.EXCEL_PASSWORD=c.excel_password:h.push('<input type="hidden" name="EXCEL_PASSWORD" value="'+c.excel_password+'"/>'),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD||h.push("</form>"),factory_xf_param.CALLBACK_EXCEL_DOWNLOAD?factory._callbackexceldownload(this,v):$(h.join("")).appendTo("body").submit().remove(),this.xf_protect.hideprotect()},XF_GRID.prototype._makeexcelheadermergeinfo=function(a){var b,c,d,e,f,g,h,i;if(void 0===a||null==a||0==a.length)return this.header_merge_info_arr;if(0==this.header_merge_info_arr.length)return this.header_merge_info_arr;for(h=a.length,c=this.getcolumncount(),d=[],g=0;c>g;g++){for(b=0;h>b&&g!=a[b];b++);b==h&&d.push(g)}return 0==d.length?this.header_merge_info_arr:(i=this.gethorzheadercount(),f=[],e=this._getdisplaymergeinfo(i,c,this.header_merge_info_arr,d,f,!0))},XF_GRID.prototype._makeexcelitemmergeinfo=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;if(void 0===a||null==a||0==a.length)return[];for(B=this.getcolumncount(),z=this._getrowcount(XF_GRID.ROW_KIND_DATA),y=this._getrowcount(XF_GRID.ROW_KIND_STAT),s=0,t=z-1,1==b.is_include_statdata&&0==this.xf_prop.statistics_row_pos&&(s+=y,t+=y),A=[],(this.item_merge_info_count>0||this.statrow_merge_info_arr.length>0&&b.is_include_statdata)&&(A=this._getexcelhiddencolumnarr(a,b,B)),w=this._getexceldatarowitemmergeinfoarr(z,y,B,b,A),x=w.length,l=this.column_merge_info_arr.length,g=a.length,d=[],m=0;l>m;m++){for(i=this.column_merge_info_arr[m],h=0;g>h&&i.column_index!=a[h];h++);if(h!=g){for(n={column_index:h,merge_base_column_name_arr:JSON.parse(JSON.stringify(i.merge_base_column_name_arr)),merge_base_column_index_arr:[],merge_range_info_arr:[]},d.push(n),o=n.merge_base_column_name_arr.length,p=0;o>p;p++)n.merge_base_column_index_arr.push(this.getcolumn(n.merge_base_column_name_arr[p]));for(n.merge_base_column_index_arr.push(i.column_index),o=n.merge_base_column_index_arr.length,p=o-1;p>=0;p--){for(q=n.merge_base_column_index_arr,h=0;g>h;h++)if(q[p]==a[h]){q[p]=h;break}h==g&&q.splice(p,1)}for(n.merge_range_info_arr=this._getexcelcolumnmergerangeinfo(n,c,s,t),n.merge_range_info_count=n.merge_range_info_arr.length,j=n.merge_range_info_count-1;j>=0;j--)k=n.merge_range_info_arr[j],k.end_row_index-k.start_row_index<1&&n.merge_range_info_arr.splice(j,1);n.merge_range_info_count=n.merge_range_info_arr.length,x>0&&this._mergeitemcolumnmergeinfo(n,w)}}for(e=d.length,f=0;e>f;f++)for(n=d[f],n.merge_range_info_count=n.merge_range_info_arr.length,j=n.merge_range_info_count-1;j>=0;j--)k=n.merge_range_info_arr[j],w.push({start_row_index:k.start_row_index,end_row_index:k.end_row_index,start_column_index:n.column_index,end_column_index:n.column_index});for(u=this._getexcelstatrowitemmergeinfoarr(z,y,B,b,A),r=u.length,v=0;r>v;v++)w.push(u[v]);return w},XF_GRID.prototype._getexcelcolumnmergerangeinfo=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,j,q,r;if(l=[],void 0===c&&(c=0),void 0===d&&(d=this.getrowcount()-1),g=d-c+1,2>g)return l;if(f=a.merge_base_column_index_arr.length,m=a.merge_base_column_index_arr,1==m.length&&1==this._istreecolumn(m[0]))for(h=c,n=this._treegriditemdepth(h),q=this._istreegridhaschild(g,h,n),p=b[0][m[0]][h],k={start_row_index:c,end_row_index:c},h=c+1;d>=h;h++)o=this._treegriditemdepth(h),r=this._istreegridhaschild(g,h,o),j=b[0][m[0]][h],1!=q&&1!=r&&o==n&&p==j||(n=o,p=j,k.end_row_index=h-1,l.push(k),k={start_row_index:h,end_row_index:0});else{for(i=[],h=c,e=0;f>e;e++)i.push(b[0][m[e]][h]);if(k={start_row_index:c,end_row_index:c},1==factory_xf_param.GRID_COLUMNMERGE_BLANKVALUE){for(h=c+1;d>=h;h++)for(e=0;f>e;e++)if(j=b[0][m[e]][h],j!=i[e]){for(e=0;f>e;e++)i[e]=b[0][m[e]][h];k.end_row_index=h-1,l.push(k),k={start_row_index:h,end_row_index:0};break}}else for(h=c+1;d>=h;h++)for(e=0;f>e;e++)if(j=b[0][m[e]][h],j!=i[e]||0==j.length&&0==i[e].length){for(e=0;f>e;e++)i[e]=b[0][m[e]][h];k.end_row_index=h-1,l.push(k),k={start_row_index:h,end_row_index:0};break}}return k.end_row_index=d,l.push(k),l},XF_GRID.prototype._getexcelhiddencolumnarr=function(a,b,c){var d,e,f,g;for(g=[],void 0===c&&(c=this.getcolumncount()),d=0;c>d;d++)g.push(d);for(f=a.length,e=0;f>e;e++)g[a[e]]=-1;for(d=c-1;d>=0;d--)-1==g[d]&&g.splice(d,1);return g},XF_GRID.prototype._getexcelstatrowitemmergeinfoarr=function(a,b,c,d,e){var f,g,h,i,j;if(f=[],b>0&&d.is_include_statdata&&this.statrow_merge_info_arr.length>0&&(h=[],f=this._getdisplaymergeinfo(b,c,this.statrow_merge_info_arr,e,h,!0),g=f.length,1==this.xf_prop.statistics_row_pos))for(j=0;g>j;j++)i=f[j],i.start_row_index+=a,i.end_row_index+=a;return f},XF_GRID.prototype._getexceldatarowitemmergeinfoarr=function(a,b,c,d,e){var f,g,h,i,j,k;if(f=[],this.item_merge_info_count>0){if(i=[],0==d.is_include_statdata||d.is_include_hiddenrow===!1)for(h=0;a>h;h++)this._ismidstatrow(h)&&1==d.is_include_statdata?i.push(h):1!=this._ishiddenrow(XF_GRID.ROW_KIND_DATA,h)||d.is_include_hiddenrow!==!1||i.push(h);f=this._getdisplaymergeinfo(a,c,this.item_merge_info_arr,e,i,!0)}if(0==this.xf_prop.statistics_row_pos&&1==d.is_include_statdata)for(g=f.length,k=0;g>k;k++)j=f[k],j.start_row_index+=b,j.end_row_index+=b;return f},XF_GRID.prototype._refreshdisplayheadermergeinfo=function(a){var b,c,d,e,f,g;if(a==XF_GRID.MERGE_INFO_HEADER){if(0==this.header_merge_info_arr.length)return this.display_header_merge_info_arr=this.header_merge_info_arr,void(this.display_header_merge_info_count=this.display_header_merge_info_arr.length)}else if(a==XF_GRID.MERGE_INFO_STATROW&&0==this.statrow_merge_info_arr.length)return this.display_statrow_merge_info_arr=this.statrow_merge_info_arr,void(this.display_statrow_merge_info_count=this.display_statrow_merge_info_arr.length);for(b=this.getcolumncount(),c=[],e=0;b>e;e++)this.ishiddencolumn(e)&&c.push(e);if(f=this._gethiddenrowcount(XF_GRID.ROW_KIND_HEAD,0,-1),a==XF_GRID.MERGE_INFO_HEADER){if(0==c.length&&0==f)return this.display_header_merge_info_arr=this.header_merge_info_arr,void(this.display_header_merge_info_count=this.display_header_merge_info_arr.length)}else if(a==XF_GRID.MERGE_INFO_STATROW&&0==c.length)return this.display_statrow_merge_info_arr=this.statrow_merge_info_arr,void(this.display_statrow_merge_info_count=this.display_statrow_merge_info_arr.length);a==XF_GRID.MERGE_INFO_HEADER?(d=this.gethorzheadercount(),g=this.gethiddenheaderrowindex(),this.display_header_merge_info_arr=this._getdisplaymergeinfo(d,b,this.header_merge_info_arr,c,g,!1),this.display_header_merge_info_count=this.display_header_merge_info_arr.length):a==XF_GRID.MERGE_INFO_STATROW&&(d=this.getstatrowcount(),g=[],this.display_statrow_merge_info_arr=this._getdisplaymergeinfo(d,b,this.statrow_merge_info_arr,c,g,!1),this.display_statrow_merge_info_count=this.display_statrow_merge_info_arr.length);
},XF_GRID.prototype._writedatafile=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(p=a==XF_GRID.FILE_TYPE_CSV?this.xf_prop.csvfile_data_delimiter:a==XF_GRID.FILE_TYPE_TEXT?this.xf_prop.textfile_data_delimiter:",",void 0!==d.data_delimiter&&(p=d.data_delimiter),"tab"==p.toLowerCase()&&(p="	"),a==XF_GRID.FILE_TYPE_CSV?(d.is_after_open_file=this.csv_file_info.is_after_open_file,d.is_prompt_overwrite=this.csv_file_info.is_prompt_overwrite):a==XF_GRID.FILE_TYPE_TEXT&&(d.is_after_open_file=this.text_file_info.is_after_open_file,d.is_prompt_overwrite=this.text_file_info.is_prompt_overwrite),void 0===d.is_save_onerow&&(d.is_save_onerow=!1),e=[],this._makefiledatatargetinfo(c,e,null),f=this._makefilewriteinfo(e,d,!0,a),g=f.column_meta_arr_arr,h=f.column_value_arr_arr_arr,i=this._makefilewriteinfo(e,d,!1,a),j=i.column_meta_arr_arr,k=i.column_value_arr_arr_arr,l=f.column_meta_arr_arr.length,m=i.column_value_arr_arr_arr[0][0].length,n=i.column_value_arr_arr_arr.length,o=i.column_value_arr_arr_arr[0].length,z={header:[],data:[]},q=0;l>q;q++)for(x=[],z.header.push(x),t=0;o>t;t++)x.push(h[q][t]);for(r=0;m>r;r++)for(s=0;n>s;s++)for(x=[],z.data.push(x),t=0;o>t;t++)x.push(k[s][t][r]);if(a===XF_GRID.FILE_TYPE_CSV){for(w=[],A=0;A<z.header.length;A++){for(B=0;B<z.header[A].length;B++)z.header[A][B]=_xfp.escapecsv(z.header[A][B].replace(_xfp.expr_newline,""));w.push(z.header[A].join(p))}for(A=0;A<z.data.length;A++){for(B=0;B<z.data[A].length;B++)z.data[A][B]=_xfp.escapecsv(z.data[A][B].replace(_xfp.expr_newline,""));w.push(z.data[A].join(p))}if(u=w.join("\n"),v=this._writefile(a,b,u,d),1==v)return;y=new Blob([u],{type:"text/csv;charset=utf-8"})}else if(a===XF_GRID.FILE_TYPE_TEXT){for(w=[],A=0;A<z.header.length;A++){for(B=0;B<z.header[A].length;B++)z.header[A][B]=z.header[A][B].replace(_xfp.expr_newline,"");w.push(z.header[A].join(p))}for(A=0;A<z.data.length;A++){for(B=0;B<z.data[A].length;B++)z.data[A][B]=z.data[A][B].replace(_xfp.expr_newline,"");w.push(z.data[A].join(p))}if(u=w.join("\n"),v=this._writefile(a,b,u,d),1==v)return;y=new Blob([u],{type:"text/plain;charset=utf-8"})}else if(a===XF_GRID.FILE_TYPE_XML){for(w=[],w.push('<?xml version="1.0" encoding="UTF-8"?>'),w.push("<grid>"),w.push("<header>"),A=0;A<z.header.length;A++){for(w.push("<row>"),B=0;B<z.header[A].length;B++)w.push("<item>"+_xfp.escapexml(z.header[A][B])+"</item>");w.push("</row>")}for(w.push("</header>"),w.push("<data>"),A=0;A<z.data.length;A++){for(w.push("<row>"),B=0;B<z.data[A].length;B++)w.push("<item>"+_xfp.escapexml(z.data[A][B])+"</item>");w.push("</row>")}if(w.push("</data>"),w.push("</grid>"),u=JSON.stringify(w.join("\n")),v=this._writefile(a,b,u,d,d.is_after_open_file),1==v)return;y=new Blob([u],{type:"text/xml;charset=utf-8"})}else if(a===XF_GRID.FILE_TYPE_JSON){if(u=JSON.stringify(z),v=this._writefile(a,b,u,d,d.is_after_open_file),1==v)return;y=new Blob([u],{type:"application/json;charset=utf-8"})}this._savefile(y,b)},XF_GRID.prototype._writefile=function(a,b,c,d){var e,f,g,h;return h=0,factory_xf_param.CALLBACK_FILE_DOWNLOAD&&(h=factory._callbackfiledownload(this,a,b,c,d),1===h)?!0:window._xf5_xplus?(e=b.lastIndexOf("\\"),f=b.lastIndexOf("/"),0>e&&0>f?!1:d.is_prompt_overwrite&&(g=factory.filefind(b),1==g&&(g=window.confirm(factory._userlang("파일이 존재합니다. 덮어쓰시겠습니까?","The file exists. Do you want to overwrite it?")),0==g))?!0:(g=window._xf5_xplus("filewrite",b,c,XFD_FILEWRITE_OVERWRITE,"UTF8",!0),1==g&&d.is_after_open_file&&factory.winexec(b,!0),!0)):!1},XF_GRID.prototype._savefile=function(a,b){var c,d,e,f;return f=b.lastIndexOf("\\"),f>0&&(b=b.substr(f+1)),f=b.lastIndexOf("/"),f>0&&(b=b.substr(f+1)),c="./xf5/ext/lib/FileSaver.min.js",void 0!==_xf_param.FILESAVER_JS_URL&&(c=_xf_param.FILESAVER_JS_URL),this.xf_parent.xf_screen.isjsloaded(c)?void saveAs(a,b):(e=this,d=_xfj.element("script",c),this.xf_protect.showprotect(0,!1),void $(d).on("load",function(d){e.xf_protect.hideprotect(),e.xf_parent.xf_screen._addloadedjsurl(c),saveAs(a,b)}))},XF_GRID.prototype._writeexcelfile=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(s={SheetNames:[],Sheets:{}},v="Sheet1",t={},d=[],this._makefiledatatargetinfo(b,d,null),e=this._makefilewriteinfo(d,c,!0,XF_GRID.FILE_TYPE_EXCEL),f=e.column_meta_arr_arr,g=e.column_value_arr_arr_arr,h=this._makefilewriteinfo(d,c,!1,XF_GRID.FILE_TYPE_EXCEL),i=h.column_meta_arr_arr,j=h.column_value_arr_arr_arr,k=e.column_meta_arr_arr.length,l=h.column_value_arr_arr_arr[0][0].length,m=h.column_value_arr_arr_arr.length,n=h.column_value_arr_arr_arr[0].length,D=0,o=0;k>o;o++){for(r=0;n>r;r++)x=XLSX.utils.encode_cell({c:r,r:D}),w={v:g[o][r],t:"s"},t[x]=w;D++}for(p=0;l>p;p++)for(q=0;m>q;q++){for(r=0;n>r;r++)x=XLSX.utils.encode_cell({c:r,r:D}),w={v:j[q][r][p],t:"s"},t[x]=w;D++}for(u={s:{c:0,r:0},e:{c:n-1,r:D-1}},t["!ref"]=XLSX.utils.encode_range(u),s.SheetNames.push(v),s.Sheets[v]=t,y=XLSX.write(s,{bookType:"xlsx",bookSST:!1,type:"binary"}),z=y.length,A=new ArrayBuffer(z),B=new Uint8Array(A),E=0;z>E;E++)B[E]=y.charCodeAt(E);C=new Blob([A],{type:"application/octet-stream"}),this.savefile(C,a)},XF_GRID.prototype.on_csvfile_change=function(a){var b;b=this.xf_csv_file.val(),0!=b.length&&this._readdatafile(XF_GRID.FILE_TYPE_CSV,this.xf_csv_file[0].files[0],this.xf_csv_file)},XF_GRID.prototype.on_textfile_change=function(a){var b;b=this.xf_text_file.val(),0!=b.length&&this._readdatafile(XF_GRID.FILE_TYPE_TEXT,this.xf_text_file[0].files[0],this.xf_text_file)},XF_GRID.prototype.on_excelfile_change=function(a){var b;return b=this.xf_excel_file.val(),0!=b.length?this._readexcelfile(this.xf_excel_file[0].files[0],this.xf_excel_file):void 0},XF_GRID.prototype.on_exceluploadfile_change=function(a){var b;return b=this.xf_excel_upload_file.val(),0!=b.length?this._uploadexcelfile(this.xf_excel_upload_file[0].files[0],this.xf_excel_upload_file):void 0},XF_GRID.prototype.on_excelupload_abort=function(a){this._exceluploaderror("ABORT","ABORT")},XF_GRID.prototype.on_excelupload_error=function(a){this._exceluploaderror("ERROR","ERROR")},XF_GRID.prototype.on_excelupload_timeout=function(a){this._exceluploaderror("TIMEOUT","TIMEOUT")},XF_GRID.prototype._exceluploaderror=function(a,b){this.excel_info.upload_result=0,this.excel_info.error_code=a,this.excel_info.error_message=b,factory._callbackgridexcelload(this),factory_xf_param.GRID_FILELOAD_ERROR_SHOWALERT&&alert("Load Excel Error, ["+a+"]"+b),factory._fireevent({xf_component:this,event_name:"on_fileload",is_fire_async:!0},this,0,a,b)},XF_GRID.prototype.on_excelupload_load=function(a){var b,c;b=a.target,c=window.JSON.parse(b.responseText),this.uploadexceljsondata(c)},XF_GRID.prototype.uploadexceljsondata=function(a){var b,c,d,e,f,g,h,i,j,k,l;if(1!=a.header.result)return void this._exceluploaderror(a.header.msg_code,a.header.msg_content);if(1!=a.datasets.length)return void this._exceluploaderror("NO_DATA","NO_DATA");for(b=a.datasets[0],c=0,void 0===this.excel_info.is_append_mode&&(this.excel_info.is_append_mode=!1),0==this.excel_info.is_append_mode&&this.xf_xdataset._initxdataset(!1,!1),g=this.getcolumncount(),f=0;g>f;f++)for(h=0;h<this.sub_row_count;h++)if(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,h),0!=e.xf_column_data_prop.excel_rw&&!(c>=b.column_count)){if(1==e.xf_column_data_prop.make_case)for(d=0;d<b.row_count;d++)b.column_data_arr[c][d]=b.column_data_arr[c][d].toUpperCase();else if(2==e.xf_column_data_prop.make_case)for(d=0;d<b.row_count;d++)b.column_data_arr[c][d]=b.column_data_arr[c][d].toLowerCase();this.excel_info.is_append_mode?this.xf_xdataset._addcolumnvaluearr(e.xdataset_column_type,e.xdataset_column_id,b.column_data_arr[c]):this.xf_xdataset._setcolumnvaluearr(e.xdataset_column_type,e.xdataset_column_id,b.column_data_arr[c]),c++}if(this.excel_info.is_append_mode?this.xf_xdataset._adddatarowcount(b.row_count,XFD_ROWOP_INSERT):this.xf_xdataset._setdatarowcount(b.row_count,XFD_ROWOP_INSERT),this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_LOAD),k=!1,1==factory_xf_param.GRID_FILELOAD_DATA_VALIDATION)for(c=0,f=0;g>f;f++)for(h=0;h<this.sub_row_count;h++)if(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,h),0!=e.xf_column_data_prop.excel_rw&&!(c>=b.column_count)){if(0==e.xf_column_data_prop.data_type)for(j=b.column_data_arr[c].length,i=0;i<b.column_data_arr[c].length;i++)if(b.column_data_arr[c][i].length>0&&isNaN(_xfu["float"](b.column_data_arr[c][i]))){k=!0,this.excel_info.upload_result=0,this.excel_info.error_grid_sub_row_index=h,this.excel_info.error_grid_column_index=f,this.excel_info.error_grid_column_title=this.getheadertext(h,f),this.excel_info.error_data_row_offset=i,this.excel_info.error_data=b.column_data_arr[c][i],this.excel_info.error_code="INVALID_DATA_TYPE",this.excel_info.error_message="invalid data type",h=this.sub_row_count,f=g;break}c++}factory._callbackgridexcelload(this),0==k?factory._fireevent({xf_component:this,event_name:"on_fileload",is_fire_async:!0},this,1,"",""):(l=[],l.push("Error Data Row Offset = "+this.excel_info.error_data_row_offset),l.push("Error Data = "+this.excel_info.error_data),this._ismultilinegrid()&&l.push("Grid Sub Row Index = "+this.excel_info.error_grid_sub_row_index),l.push("Grid Column Title = "+this.excel_info.error_grid_column_title),l.push("Grid Column Index = "+this.excel_info.error_grid_column_index),factory_xf_param.GRID_FILELOAD_ERROR_SHOWALERT&&screen.alert("[DataType Error]\n"+l.join("\n")),factory._fireevent({xf_component:this,event_name:"on_fileload",is_fire_async:!0},this,0,"DataType Error",l.join(", ")))},XF_GRID.prototype.getexceluploadresultinfo=function(){return{upload_result:this.excel_info.upload_result,grid_sub_row_index:this.excel_info.error_grid_sub_row_index,grid_column_index:this.excel_info.error_grid_column_index,grid_column_title:this.getheadertext(this.excel_info.error_grid_sub_row_index,this.excel_info.error_grid_column_index),grid_append_mode:this.excel_info.is_append_mode,excel_file_name:this.excel_info.file_name,excel_start_row_no:this.excel_info.excel_start_row_no,excel_start_column_name:this.excel_info.excel_start_column_name,error_data_row_offset:this.excel_info.error_data_row_offset,error_data:this.excel_info.error_data,error_code:this.excel_info.error_code,error_message:this.excel_info.error_message}},XF_GRID.prototype.on_exceldownload_abort=function(a){alert("excel download abort")},XF_GRID.prototype.on_exceldownload_error=function(a){alert("excel download error")},XF_GRID.prototype.on_exceldownload_timeout=function(a){alert("excel download timeout")},XF_GRID.prototype.on_exceldownload_load=function(a){alert("excel download load")},XF_GRID.prototype._makefilewriteinfo=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(q={},b.is_include_hiddenrow=!0,(1==this.xf_prop.excel_hidden_row||0==this.xf_prop.excel_hidden_row&&1==factory_xf_param.GRID_EXCEL_HIDDEN_ROW)&&(b.is_include_hiddenrow=!1),k=c?this.gethorzheadercount():this.sub_row_count,r=0,0==c&&(r=a[0].length,1==b.is_include_statdata&&(s=this.getstatcolumncount(),r+=s)),g=[],f=[],t=[],q.column_meta_arr_arr=g,q.column_value_arr_arr_arr=f,0==c&&(q.item_meta_arr_arr_arr=t),c&&0==b.is_include_header)return q;for(l=0;k>l;l++){for(e=c?this._ismultilinegrid()?a[l]:a[0]:a[l],i=e.length,0!=l&&0!=b.is_save_onerow||(o=[],p=[],0==c&&(u=[]),g.push(o),f.push(p),0==c&&t.push(u)),j=0;i>j;j++)c?(h=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,e[j].column_index,l),o.push(this._getfilewritecolumnmetavalue(h.xf_column_head_prop,XF_GRID.ROW_TABLE_HEAD,XF_GRID.COLUMN_KIND_DATA)),n=h.xf_column_head_prop.title,m=this._callexprfunc(XF_GRID.ROW_KIND_HEAD,h.xf_column_head_prop.expr_func,h.sub_row_index,h.sub_row_index,h.column_index,n),m&&(void 0!==m.itemtext&&(n=m.itemtext),m.hidden===!0&&(n="")),p.push(n)):(e[j].excel_item_info_arr=JSON.parse(JSON.stringify(e[j].item_info_arr)),e[j].excel_statrow_item_info_arr=JSON.parse(JSON.stringify(e[j].statrow_item_info_arr)),o.push(this._getfilewritecolumnmetavalue(e[j].xf_column_data_prop,XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA)),p.push(this._getfilewritecolumnvalueaarr(e[j],b,d)),d==XF_GRID.FILE_TYPE_EXCEL&&u.push(this._getfilewriteitemmetavaluearr(e[j],b,r,j)));0==b.is_save_onerow&&b.is_include_statdata&&this._addfilewritestatcolumnmetaandvalue(o,p,c,l,b,d)}if(b.is_save_onerow&&b.is_include_statdata)for(o=g[0],p=f[0],l=0;k>l;l++)this._addfilewritestatcolumnmetaandvalue(o,p,c,l,b,d);return q},XF_GRID.prototype._addfilewritestatcolumnmetaandvalue=function(a,b,c,d,e,f){var g,h,i,j,k;for(g=this._getcolumncount(XF_GRID.COLUMN_KIND_STAT),h=0;g>h;h++)c?(i=this._getcolumnhead(XF_GRID.COLUMN_KIND_STAT,h,d),k=JSON.parse(JSON.stringify(i.xf_stat_column_head_prop)),k.backcolor=k.header_backcolor.slice(0),k.horz_align=k.header_horzalign,k.vert_align=k.header_vertalign,a.push(this._getfilewritecolumnmetavalue(k,XF_GRID.ROW_TABLE_HEAD,XF_GRID.COLUMN_KIND_STAT)),b.push(i.xf_stat_column_head_prop.title)):(j=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,h,d),k=JSON.parse(JSON.stringify(j.xf_stat_column_data_prop)),k.forecolor=k.fore_color.slice(0),k.backcolor=k.back_color.slice(0),k.text_horzalign=k.horz_align,k.text_vertalign=k.vert_align,a.push(this._getfilewritecolumnmetavalue(k,XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_STAT)),b.push(this._getfilewritecolumnvalueaarr(j,e,f)))},XF_GRID.prototype._getfilewritecolumnmetavalue=function(a,b,c){var d;return d=$.extend({},a),d._row_type=b,d._column_type=c,JSON.stringify(d)},XF_GRID.prototype._getfilewriteitemmetavaluearr=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(f=[],l=0,b.is_include_statdata&&0==this.xf_prop.statistics_row_pos){for(e=a.excel_statrow_item_info_arr,h=e.length,j=0;h>j;j++)i=e[j],void 0!==i&&null!=i&&(g=this._getfilewriteitemmeta(a,b,i,c,j,d),null!=g&&f.push(g));l=this.getstatrowcount()}for(e=a.excel_item_info_arr,h=e.length,k=0,j=0;h>j;j++)this._ismidstatrow(j)&&1!=b.is_include_statdata?k++:1!=this._ishiddenrow(XF_GRID.ROW_KIND_DATA,j)||b.is_include_hiddenrow!==!1?(i=e[j],void 0!==i&&null!=i&&(g=this._getfilewriteitemmeta(a,b,i,c,l+j-k,d),null!=g&&f.push(g))):k++;if(b.is_include_statdata&&1==this.xf_prop.statistics_row_pos)for(l=this.getrowcount()-k,e=a.excel_statrow_item_info_arr,h=e.length,j=0;h>j;j++)i=e[j],void 0!==i&&null!=i&&(g=this._getfilewriteitemmeta(a,b,i,c,l+j,d),null!=g&&f.push(g));return f},XF_GRID.prototype._getfilewriteitemmeta=function(a,b,c,d,e,f){var g,h;return h=null,null==c?h:((c.item_prop.data_type||c.item_prop.input_type||c.item_prop.pattern||c.item_prop.pattern_rear_symbol||c.item_prop.pattern_front_symbol)&&(h={},void 0!==c.item_prop.data_type&&(h.data_type=c.item_prop.data_type),void 0!==c.item_prop.input_type&&(h.input_type=c.item_prop.input_type),void 0!==c.item_prop.pattern&&(h.pattern=c.item_prop.pattern),void 0!==c.item_prop.pattern_rear_symbol&&(h.pattern_rear_symbol=c.item_prop.pattern_rear_symbol),void 0!==c.item_prop.pattern_front_symbol&&(h.pattern_front_symbol=c.item_prop.pattern_front_symbol)),b.is_include_itemstyle===!0&&(c.item_prop.forecolor||c.item_prop.backcolor||c.item_prop.font)&&(null==h&&(h={}),c.item_prop.forecolor&&(h.forecolor=c.item_prop.forecolor),c.item_prop.backcolor&&(h.backcolor=c.item_prop.backcolor),c.item_prop.font&&(g=c.item_prop.font.slice(0),g[1]=_xfu.str(g[1]),0==g[2]?g[2]=!1:g[2]=!0,h.font=g)),null!=h&&(h.row_index=e,h.sub_row_index=a.sub_row_index,h.column_index=f,this._ismultilinegrid()&&1==b.is_save_onerow&&(h.sub_row_index=0,h.column_index=d*a.sub_row_index+f)),h)},XF_GRID.prototype._getfilewritecolumnvalueaarr=function(a,b,c){var d,e,f,g;if(g=[],b.is_include_statdata&&0==this.xf_prop.statistics_row_pos)for(f=this._getrowcount(XF_GRID.ROW_KIND_STAT),e=0;f>e;e++)g.push(a.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_STAT,e,b.is_include_pattern,c));for(d=this._getrowcount(XF_GRID.ROW_KIND_DATA),e=0;d>e;e++)this._ismidstatrow(e)&&1!=b.is_include_statdata||1==this._ishiddenrow(XF_GRID.ROW_KIND_DATA,e)&&b.is_include_hiddenrow===!1||g.push(a.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_DATA,e,b.is_include_pattern,c));if(b.is_include_statdata&&1==this.xf_prop.statistics_row_pos)for(f=this._getrowcount(XF_GRID.ROW_KIND_STAT),e=0;f>e;e++)g.push(a.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_STAT,e,b.is_include_pattern,c));return g},XF_GRID.prototype._fillblankexceltitleinfo=function(a){var b;for(b=0;a>b;b++)void 0===this.excel_title_info_arr[b]&&(this.excel_title_info_arr[b]={excel_row_no:b+1,vert_align:1,horz_align:1,fore_color:this.xf_prop.fore_color.slice(0),back_color:this.xf_prop.back_color.slice(0),title_font:this.xf_prop.font.slice(0),title_text:""})},XF_GRID.prototype.deleteexceltitle=function(a){return void 0===a&&(a=-1),a=_xfu["int"](a),isNaN(a)?!1:(0>=a?this.excel_title_info_arr=[]:this.excel_title_info_arr.splice(a-1,1),!0)},XF_GRID.prototype.setexceltitlealign=function(a,b,c){return a=_xfu.intval(a,1,XFD_MAX_VALUE),b=_xfu.intval(b,0,2),c=_xfu.intval(c,0,2),a===!1||b===!1||c===!1?!1:(this._fillblankexceltitleinfo(a),this.excel_title_info_arr[a-1].vert_align=b,this.excel_title_info_arr[a-1].horz_align=c,!0)},XF_GRID.prototype.setexceltitlecolor=function(a,b,c){return a=_xfu.intval(a,1,XFD_MAX_VALUE),b=_xfu["int"](b),c=_xfu["int"](c),a===!1?!1:(this._fillblankexceltitleinfo(a),this.excel_title_info_arr[a-1].fore_color=_xfu.rgb(b),this.excel_title_info_arr[a-1].back_color=_xfu.rgb(c),!0)},XF_GRID.prototype.setexceltitlefont=function(a,b,c,d,e,f,g){return a=_xfu.intval(a,1,XFD_MAX_VALUE),a===!1?!1:(this._fillblankexceltitleinfo(a),void 0===g&&(g=!1),this.excel_title_info_arr[a-1].title_font=[b,c,d,e,f,g],!0)},XF_GRID.prototype.setexceltitletext=function(a,b){return a=_xfu.intval(a,1,XFD_MAX_VALUE),a===!1?!1:(this._fillblankexceltitleinfo(a),this.excel_title_info_arr[a-1].title_text=b,!0)},XF_GRID.prototype.setcsvfiledatadelimiter=function(a){return a.length<=0?!1:(this.xf_prop.csvfile_data_delimiter=a,"tab"==this.xf_prop.csvfile_data_delimiter.toLowerCase()&&(this.xf_prop.csvfile_data_delimiter="	"),!0)},XF_GRID.prototype.settextfiledatadelimiter=function(a){return a.length<=0?!1:(this.xf_prop.textfile_data_delimiter=a,"tab"==this.xf_prop.textfile_data_delimiter.toLowerCase()&&(this.xf_prop.textfile_data_delimiter="	"),!0)},XF_GRID.prototype.applyfilter=function(){var a,b,c;if(2==arguments.length)c=0,a=arguments[0],b=arguments[1];else{if(3!=arguments.length)return!1;c=arguments[0],a=arguments[1],b=arguments[2]}return this._applyfilter(a,c,XFD_FILTER_TEXT,b,!0)},XF_GRID.prototype.applyfilterex=function(){var a,b,c,d,e;return 4==arguments.length?(b=0,a=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3]):(b=arguments[0],a=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4]),d?this._applyfilter(a,b,XFD_FILTER_EXIST,c,e):this._applyfilter(a,b,XFD_FILTER_TEXT,c,e)},XF_GRID.prototype._applyfilter=function(a,b,c,d,e){0==e?this.showfilter(!1):this.showfilter(!0),a=_xfu["int"](a),b=_xfu["int"](b),this._addcolumnfilterinfo({column_index:a,sub_row_index:b,filter_type:c,compare_type:"=",compare_value:d,compare_and:!0,is_show_button:e}),this._executecolumnfilter(this.filter_info_arr,!0)},XF_GRID.prototype.applymultifilter=function(a,b){var c,d,e,f,g,h,i,j,k;for(void 0===b&&(b=!0),c=a.split(","),d=c.length,e=0;d>e;e++)f=c[e].split(":"),this._ismultilinegrid()?(h=_xfu["int"](f[0]),g=_xfu["int"](f[1]),i=f[2],j=f[3],k=f[4]):(h=0,g=_xfu["int"](f[0]),i=f[1],j=f[2],k=f[3]),j.length>0&&(j=j.substr(1,j.length-2)),k="&"==k,this._addcolumnfilterinfo({column_index:g,sub_row_index:h,filter_type:XFD_FILTER_TEXT,compare_type:i,compare_value:j,compare_and:k,is_show_button:b});this._executecolumnfilter(this.filter_info_arr,!0),0==b?this.showfilter(!1):this.showfilter(!0)},XF_GRID.prototype.getcolumnfilterinfos=function(){var a,b,c,d;for(a=this._getcolumnapiarginfo(arguments),d=[],c=this.filter_info_arr.length,b=0;c>b;b++)this.filter_info_arr[b].column_index==a.column_index&&this.filter_info_arr[b].sub_row_index==a.sub_row_index&&d.push({bnotempty:this.filter_info_arr[b].filter_type==XFD_FILTER_EXIST,strfiltertext:this.filter_info_arr[b].compare_value,stroperator:this.filter_info_arr[b].compare_type,bfilterand:this.filter_info_arr[b].compare_and,bshowbutton:this.filter_info_arr[b].is_show_button});return d},XF_GRID.prototype.getfiltercolumns=function(){var a,b,c;for(c=[],b=this.filter_info_arr.length,a=0;b>a;a++)c.push(this.filter_info_arr[a].column_index);return c},XF_GRID.prototype.getfiltersave=function(){return this.is_filter_save},XF_GRID.prototype.setfiltersave=function(a){this.is_filter_save=a},XF_GRID.prototype.isshowfilter=function(){return this.is_filter_show},XF_GRID.prototype.refreshfilter=function(){this._executecolumnfilter(this.filter_info_arr,!0)},XF_GRID.prototype.releasecolumnfilter=function(){var a,b,c,d;for(a=this._getcolumnapiarginfo(arguments),c=this.filter_info_arr.length,b=c-1;b>=0;b--)this.filter_info_arr[b].column_index==a.column_index&&this.filter_info_arr[b].sub_row_index==a.sub_row_index&&(d=this._getcolumndata(XF_GRID.ROW_KIND_DATA,this.filter_info_arr[b].column_index,this.filter_info_arr[b].sub_row_index),d.setcolumnfilterapplied(!1),this.filter_info_arr.splice(b,1));this.refreshfilter()},XF_GRID.prototype.releasefilter=function(){return this._releasefilter(!0)},XF_GRID.prototype._releasefilter=function(a){var b,c;for(this._resetcolumnfilter(),1!=this.xf_prop.column_filter_disp&&this.showfilter(!1),c=this._getrowcount(XF_GRID.ROW_KIND_DATA),b=0;c>b;b++)this.xf_data_row_arr[b].is_hidden_row=!1;this.is_rowheight_mode&&this._updategridrowbottom(0),(void 0===a||a)&&this._refreshgrid()},XF_GRID.prototype.showfilter=function(a){this.is_filter_show=a,a?(this.xf_left_body_head_table.find("._xf_grid_head_btn_filter").css("display","block"),this.xf_center_body_head_table.find("._xf_grid_head_btn_filter").css("display","block")):(this.xf_left_body_head_table.find("._xf_grid_head_btn_filter").css("display","none"),this.xf_center_body_head_table.find("._xf_grid_head_btn_filter").css("display","none"))},XF_GRID.prototype._showfindpopup=function(){var a,b;a=new XF_GRID_POPUP_FIND(this),b=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:factory._userlang("검색","Find"),url:"",xf_content:a.xf_object,padding:0,is_center:!0,top:this.gettop(),width:470,height:280}),a.setmodalbox(b),b.show()},XF_GRID.prototype._showmultifilterpopup=function(a,b){var c,d,e,f;if(c=new XF_GRID_POPUP_FILTER(this),d=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:factory._userlang("다중 칼럼 필터","Multi-Column Filter"),url:"",xf_content:c.xf_object,padding:0,is_center:!0,top:this.gettop(),width:470,height:310}),c.setmodalbox(d),d.show(),-1==a)for(f=this.filter_info_arr.length,e=0;f>e;e++)c._addrow(this.filter_info_arr[e].column_index,this.filter_info_arr[e].sub_row_index,this.filter_info_arr[e].compare_type,this.filter_info_arr[e].compare_value,this.filter_info_arr[e].compare_and);else c._addrow(a,b,"=","",!0),c.setsinglerowmode()},XF_GRID.prototype._getcolumnfilterinfoarrarr=function(a,b,c){var d,e,f,g,h,i;for(void 0===b&&(b=-1),void 0===c&&(c=-1),d=[],e={},f=a.length,h=0;f>h;h++)b==a[h].column_index&&c==a[h].sub_row_index||(i=a[h].column_index+"_"+a[h].sub_row_index,void 0===e[i]&&(g=[],e[i]=g,d.push(g)),e[i].push(a[h]));return d},XF_GRID.prototype._setrowhiddenbycolumnfilter=function(a,b,c,d){var e,f,g,h,i,j,k,l;for(this.is_statcheck_hiddenitem=!0,g=0;c>g;g++)d[g].is_hidden_row=!1;for(e=0;a>e;e++)for(h=b[e],i=h.length,g=0;c>g;g++)if(!d[g].is_hidden_row)if(this.ismidstatrow(g))d[g].is_hidden_row=!0;else{for(f=0;i>f&&(j=h[f],k=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,j.column_index,j.sub_row_index),!(l=_xfx.ismatchtofilter(j.filter_type,j.compare_type,j.regexp,j.compare_value,k.xf_column_data_prop.data_type,k.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,g))));f++);f==i&&(d[g].is_hidden_row=!0)}this.is_rowheight_mode&&this._updategridrowbottom(0)},XF_GRID.prototype._getcolumnfiltervaluearr=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;for(j=this._getcolumnfilterinfoarrarr(c,a,b),k=j.length,g=this._getrowcount(XF_GRID.ROW_KIND_DATA),f=new Array(g),h=0;g>h;h++)f[h]={is_hidden_row:!1};for(this._setrowhiddenbycolumnfilter(k,j,g,f),i=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,b),e={},h=0;g>h;h++)if(!f[h].is_hidden_row&&!this.ismidstatrow(h)){switch(o=i.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,h),l=i.getcolumniteminfo(h,this.sub_row_index),m=this._getitempropbyitem(l,"input_type",i.xf_column_data_prop.input_type),n=o,m){case 0:n=i.getitemformatvalue(l,o);break;case 2:n=i.getcolumncomboboxtext(l,o);break;case 3:n=i.getitemformatvalue(l,o);case 4:n=o;break;case 5:n=o;break;default:n=o}e[o]={filter_value:o,filter_fmt_value:n}}d=[];for(o in e)d.push(e[o]);return d},XF_GRID.prototype._executecolumnandfilter=function(a){var b,c,d,e,f,g;for(d=a.length,c=0;d>c;c++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a[c].column_index,a[c].sub_row_index),e.setcolumnfilterapplied(!0);f=this._getcolumnfilterinfoarrarr(a,-1,-1),g=f.length,b=this._getrowcount(XF_GRID.ROW_KIND_DATA),this._setrowhiddenbycolumnfilter(g,f,b,this.xf_data_row_arr),this.xf_grid_scroll.setscrollpos(XFD_SB_VERT,0),this.xf_grid_scroll.setscrollpos(XFD_SB_HORZ,0),this._resetselectedinfo(),1==this._isstatexcludehiddenitem()?this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0,is_refresh_column_merge_info:!0}):this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!1,is_refresh_midstat_row_data:!1,is_refresh_column_merge_info:!0}),this._refreshgrid(),factory._fireevent({xf_component:this,event_name:"on_filtercomplete",is_fire_async:!0},this)},XF_GRID.prototype._executecolumnfilter=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(this.is_statcheck_hiddenitem=!0,j=a.length,g=0;j>g;g++)m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a[g].column_index,a[g].sub_row_index),m.setcolumnfilterapplied(!0);for(c=[],d=[],g=0;j>g;g++)a[g].compare_and?c.push(a[g]):d.push(a[g]);for(h=c.length,i=d.length,e=this._getrowcount(XF_GRID.ROW_KIND_DATA),f=0;e>f;f++)if(this.xf_data_row_arr[f].is_hidden_row=!1,!this.ismidstatrow(f)){if(h>0){for(g=0;h>g&&(k=c[g],m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k.column_index,k.sub_row_index),l=_xfx.ismatchtofilter(k.filter_type,k.compare_type,k.regexp,k.compare_value,m.xf_column_data_prop.data_type,m.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,f)),0!=l);g++);if(g!=h){this.xf_data_row_arr[f].is_hidden_row=!0;continue}}if(i>0){for(g=0;i>g&&(k=d[g],m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k.column_index,k.sub_row_index),!(l=_xfx.ismatchtofilter(k.filter_type,k.compare_type,k.regexp,k.compare_value,m.xf_column_data_prop.data_type,m.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,f))));g++);g==i&&(this.xf_data_row_arr[f].is_hidden_row=!0)}}this.xf_grid_scroll.setscrollpos(XFD_SB_VERT,0),this.xf_grid_scroll.setscrollpos(XFD_SB_HORZ,0),this._resetselectedinfo(),this.is_rowheight_mode&&this._updategridrowbottom(0),1==this._isstatexcludehiddenitem()&&this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),(void 0===b||b)&&this._refreshgrid(),factory._fireevent({xf_component:this,event_name:"on_filtercomplete",is_fire_async:!0},this)},XF_GRID.prototype._addcolumnfilterinfo=function(a){"="==a.compare_type&&(a.regexp=_xfx.regexp(a.compare_value)),a.filter_type==XFD_FILTER_ALL?this._deletecolumnfilterinfo(a.column_index,a.sub_row_index):this.filter_info_arr.push(a)},XF_GRID.prototype._checkcolumnfilterinfo=function(a,b,c){var d,e,f;if(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,b),0==f.is_filter_applied)return!0;for(d=this.filter_info_arr.length,e=0;d>e;e++)if(this.filter_info_arr[e].column_index==a&&this.filter_info_arr[e].sub_row_index==b&&this.filter_info_arr[e].compare_value==c)return!0;return!1},XF_GRID.prototype._resetcolumnfilter=function(){var a,b,c,d;for(this.filter_info_arr=[],a=this.getcolumncount(),b=0;a>b;b++)for(c=0;c<this.sub_row_count;c++)d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,c),d.setcolumnfilterapplied(!1)},XF_GRID.prototype._deletecolumnfilterinfo=function(a,b){var c,d,e;for(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,b),e.setcolumnfilterapplied(!1),c=this.filter_info_arr.length,d=c-1;d>=0;d--)this.filter_info_arr[d].column_index==a&&this.filter_info_arr[d].sub_row_index==b&&this.filter_info_arr.splice(d,1)},XF_GRID.prototype._on_filterbutton_click=function(a,b,c){var d,e,f,g,h;this.xf_filterbox.is_box_show&&(this.xf_filterbox.hide(),this.xf_filterbox.column_index==b.column_index&&this.xf_filterbox.sub_row_index==b.sub_row_index)||(h=0,this._ismultilinegrid()&&(h=b.sub_row_index),d=this._getcolumndata(b.column_kind_type,b.column_index,h),e=this._getcolumnfiltervaluearr(b.column_index,h,this.filter_info_arr),f=c.offset(),g=c.outerHeight(),this.xf_filterbox.show(Math.floor(f.left),Math.floor(f.top)+g,d.column_index,d.sub_row_index,d.xf_column_data_prop.width+1,e))},XF_GRID.prototype._getcolumngroupinfoarr=function(a){var b,c,d,e,f;for(b=[],d=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),c=0;d>c;c++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,0),e.xf_column_data_prop.group_id==a&&(f=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,c,0),b.push({column_title:f.xf_column_head_prop.title,column_index:c,sub_row_index:0,group_id:a}));return b},XF_GRID.prototype._applycolumngroup=function(a,b){var c,d;for(d=a.length,c=0;d>c;c++)a[c].column_index==b?this.setcolumnhidden(a[c].column_index,!1,!1):this.setcolumnhidden(a[c].column_index,!0,!1);this._afterchangecolumn()},XF_GRID.prototype._on_groupbutton_click=function(a,b,c){var d,e,f,g,h,i;this.xf_groupbox.is_box_show&&(this.xf_groupbox.hide(),this.xf_groupbox.column_index==b.column_index&&this.xf_groupbox.sub_row_index==b.sub_row_index)||(h=0,this._ismultilinegrid()&&(h=b.sub_row_index),d=this._getcolumndata(b.column_kind_type,b.column_index,h),i=d.xf_column_data_prop.group_id,void 0!==i&&0!=i.length&&(e=this._getcolumngroupinfoarr(i),f=c.offset(),g=c.outerHeight(),this.xf_groupbox.show(Math.floor(f.left),Math.floor(f.top)+g,d.column_index,d.sub_row_index,d.xf_column_data_prop.width+1,e)))},XF_GRID.prototype.getfixedcolumns=function(){return this.fixedcols},XF_GRID.prototype.setfixedcolumns=function(a,b){a=_xfu["int"](a),this.fixedcols!=a&&(this.fixedcols=a,1==this.is_column_scroll_mode&&(this.view_left_column_index=this.fixedcols,this.view_start_column_index=this.fixedcols),0==this.fixedcols?this._offevent_mousehover():this._event_mousehover(),(void 0===b||b)&&this._afterchangecolumncallback())},XF_GRID.prototype.getfixedrows=function(){return this.fixedrows},XF_GRID.prototype.setfixedrows=function(a){return this.setfixedrowsex(a,!0)},XF_GRID.prototype.setfixedrowsex=function(a,b){a=_xfu["int"](a),this.fixedrows!=a&&(this.fixedrows=a,b&&this._afterchangecolumncallback())},XF_GRID.prototype.getnonfixedleftcolumn=function(){return this.fixedcols},XF_GRID.prototype.isshowfixedbar=function(a){return a=_xfu["int"](a),a==XFD_GRID_FIXEDBAR_ROW?this.xf_fixbar_row.isshow():a==XFD_GRID_FIXEDBAR_COLUMN?this.xf_fixbar_column.isshow():a==XFD_GRID_FIXEDBAR_ALL?0==this.xf_fixbar_row.isshow()?!1:0!=this.xf_fixbar_column.isshow():!1},XF_GRID.prototype.initfixedbar=function(a){var b=!1;if(a=_xfu["int"](a),a==XFD_GRID_FIXEDBAR_ROW){if(this.fixedrows==this.xf_prop.fixedrows)return;b=!0,this.fixedrows=this.xf_prop.fixedrows}else if(a==XFD_GRID_FIXEDBAR_COLUMN){if(this.fixedcols==this.xf_prop.fixedcols)return;b=!0,this.fixedcols=this.xf_prop.fixedcols}else a==XFD_GRID_FIXEDBAR_ALL&&(this.fixedrows!=this.xf_prop.fixedrows&&(b=!0,this.fixedrows=this.xf_prop.fixedrows),this.fixedcols!=this.xf_prop.fixedcols&&(b=!0,this.fixedcols=this.xf_prop.fixedcols));0==this.fixedcols?this._offevent_mousehover():this._event_mousehover(),b&&this._afterchangecolumncallback()},XF_GRID.prototype.showfixedbar=function(a,b){switch(b=_xfu["int"](b)){case XFD_GRID_FIXEDBAR_ALL:this.xf_fixbar_row.show(a),this.xf_fixbar_column.show(a);break;case XFD_GRID_FIXEDBAR_ROW:this.xf_fixbar_row.show(a);break;case XFD_GRID_FIXEDBAR_COLUMN:this.xf_fixbar_column.show(a)}},XF_GRID.prototype.showfixedbarselectcell=function(a){
var b;if(a=_xfu["int"](a),0>a||a>2)return!1;if(b=this._finddatatd(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index),null==b)return!1;if(0==this._isvalidfixedrow(this.selected_row_index)&&(a==XFD_GRID_FIXEDBAR_ROW||a==XFD_GRID_FIXEDBAR_ALL))return!1;if(0==this._isvalidfixedcolumn(this.selected_column_index)&&(a==XFD_GRID_FIXEDBAR_COLUMN||a==XFD_GRID_FIXEDBAR_ALL))return!1;switch(a){case XFD_GRID_FIXEDBAR_ROW:this.fixedrows=this.selected_row_index;break;case XFD_GRID_FIXEDBAR_COLUMN:this.fixedcols=this.selected_column_index;break;case XFD_GRID_FIXEDBAR_ALL:this.fixedrows=this.selected_row_index,this.fixedcols=this.selected_column_index}return this._afterchangecolumncallback(),a!=XFD_GRID_FIXEDBAR_ROW&&a!=XFD_GRID_FIXEDBAR_ALL||this.xf_fixbar_row.show(!0),a!=XFD_GRID_FIXEDBAR_COLUMN&&a!=XFD_GRID_FIXEDBAR_ALL||this.xf_fixbar_column.show(!0),!0},XF_GRID.prototype.getcheckrowheadercheck=function(){var a;return a=this._findheadelement(0,-2,"check"),null==a?!1:!(!a.hasClass("_xf_grid_item_check_on")&&!a.hasClass("_xf_grid_item_check_on_dis"))},XF_GRID.prototype.setcheckrowheadercheck=function(a,b,c){var d;if(0!=this.xf_prop.use_checkrow&&0!=this.xf_prop.multi_checkrow)return d=this._findheadelement(0,-2,"check"),null==d?!1:(this._displayitemcheck(d,a),b&&this.setcheckedallrow(a),c&&factory._fireevent({xf_component:this,event_name:"on_checkrowclick",is_fire_async:!0},this,-1,a?1:0),!0)},XF_GRID.prototype.applyheaderstyle=function(a,b,c){var d,e;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?!1:(d=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),d.xf_column_head_prop.style=c,0===c.length?!1:null===this.xf_parent||void 0===this.xf_parent?!1:void 0===this.xf_parent.xf_screen.global_style[c]?!1:(e=$.extend({},this.xf_parent.xf_screen.global_style[c].xf_prop),_xfx.propconv(this,d.xf_column_head_prop,e),$.extend(d.xf_column_head_prop,e),this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL),!0))},XF_GRID.prototype.getheaderwordbreak=function(a,b){return this._headerprop(a,b,"text_wordbreak",void 0,!1)},XF_GRID.prototype.setheaderwordbreak=function(a,b,c){return this._headerprop(a,b,"text_wordbreak",c)},XF_GRID.prototype.getheaderwordellipsis=function(a,b){return this._headerprop(a,b,"text_wordellipsis",void 0,!1)},XF_GRID.prototype.setheaderwordellipsis=function(a,b,c){return this._headerprop(a,b,"text_wordellipsis",c)},XF_GRID.prototype.getheaderimage=function(a,b){return this._headerimage(a,b,void 0)},XF_GRID.prototype.setheaderimage=function(a,b,c){return this._headerimage(a,b,c)},XF_GRID.prototype._headerimage=function(a,b,c){var d;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?void 0===c?"":!1:(d=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===c?d.xf_column_head_prop.image:(d.xf_column_head_prop.image=c,this._refreshheadtd(a,b),!0))},XF_GRID.prototype.getheaderimagehorzalign=function(a,b){return this._headerimagehorzalign(a,b,void 0)},XF_GRID.prototype.setheaderimagehorzalign=function(a,b,c){return this._headerimagehorzalign(a,b,c)},XF_GRID.prototype._headerimagehorzalign=function(a,b,c){var d;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?void 0===c?0:!1:(d=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===c?d.xf_column_head_prop.image_horzalign:(c=_xfu["int"](c),isNaN(c)?!1:c<XFD_HORZALIGN_LEFT||c>XFD_HORZALIGN_OVERLAPTEXT?!1:(d.xf_column_head_prop.image_horzalign=c,this._refreshheadtd(a,b),!0)))},XF_GRID.prototype.getheaderstyleid=function(a,b){var c;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?"":(c=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),c.xf_column_head_prop.style)},XF_GRID.prototype.getheaderbackcolor=function(a,b){return this._headercolor(a,b,!1,void 0)},XF_GRID.prototype.setheaderbackcolor=function(a,b,c){return this._headercolor(a,b,!1,c)},XF_GRID.prototype.getheaderforecolor=function(a,b){return this._headercolor(a,b,!0,void 0)},XF_GRID.prototype.setheaderforecolor=function(a,b,c){return this._headercolor(a,b,!0,c)},XF_GRID.prototype._headercolor=function(a,b,c,d){var e,f;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?void 0===d?0:!1:(e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===d?c?_xfu.color(e.xf_column_head_prop.forecolor):_xfu.color(e.xf_column_head_prop.backcolor):(c?e.xf_column_head_prop.forecolor=_xfu.rgb(d):e.xf_column_head_prop.backcolor=_xfu.rgb(d),f=this._findheadtd(a,b),null==f||f.length<1?!1:(c?_xfc.css("color",_xfu.rgbfunc(e.xf_column_head_prop.forecolor),!0,f):_xfc.css("background-color",_xfu.rgbfunc(e.xf_column_head_prop.backcolor),!0,f),!0)))},XF_GRID.prototype.getheadercheck=function(a,b){return this._headercheck(a,b,void 0,void 0)},XF_GRID.prototype.setheadercheck=function(a,b,c,d,e,f){return this._headercheck(a,b,c,d,e,f)},XF_GRID.prototype._headercheck=function(a,b,c,d,e,f){var g,h,i,j,k,l;if(a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b))return!1;if(h=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===c)return h.is_check;if(0==d){if(g=this._findheadelement(a,b,"check"),null==g)return!1;h.is_check=c,i=h.getcolumncheckimage(),this._displayitemcheck(g,c,h.is_enable,i)}return d&&(j=!0,k=!1,l=!1,this._ismultilinegrid()?this.setcolumncheck(a,b,c,j,k,l,e,f):this.setcolumncheck(b,c,j,k,l,e,f)),!0},XF_GRID.prototype.refreshheadercheck=function(a,b){var c;if(a=_xfu["int"](a),b=_xfu["int"](b),0>a&&0>b)return this._refreshallheadercheck();if(b>=0&&0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,b))return!1;if(a>=0&&0==this._isvalidheadrow(a))return!1;if(a>=0&&b>=0)return this._refreshheadercheck(a,b,null);if(0>a){if(this._ismultilinegrid())for(a=0;a<this.sub_row_count;a++)this._refreshheadercheck(a,b,null);else this._refreshheadercheck(0,b,null);return!0}if(0>b){if(c=this.getcolumncount(),this._ismultilinegrid())for(b=0;c>b;b++)this._refreshheadercheck(a,b,null);else for(b=0;c>b;b++)this._refreshheadercheck(0,b,null);return!0}return!0},XF_GRID.prototype._refreshallheadercheck=function(){var a,b,c;if(this._refreshcheckrowheadercheck(!0),c=this.getcolumncount(),this._ismultilinegrid())for(a=0;a<this.sub_row_count;a++)for(b=0;c>b;b++)this._refreshheadercheck(a,b,null);else for(b=0;c>b;b++)this._refreshheadercheck(0,b,null);return!0},XF_GRID.prototype._refreshheadercheck=function(a,b,c){var d,e,f,g,h,i;if(h=0,this._ismultilinegrid()){if(e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),!e)return!1;if(0==e.xf_column_head_prop.checkbox_show)return!1}else{for(d=0;d<this.xf_prop.header_horzcount;d++)e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,d),e&&0!=e.xf_column_head_prop.checkbox_show&&h++;if(0==h)return!1}if(g=this._ismultilinegrid()?this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,a):this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,0),void 0!==c&&null!==c||(c=g.getcolumncheck("check",void 0,!0)),this._ismultilinegrid()){if(e.is_check=c,i=e.getcolumncheckimage(),f=this._findheadelement(a,b,"check"),null==f)return!1;this._displayitemcheck(f,e.is_check,e.is_enable,i)}else for(d=0;d<this.xf_prop.header_horzcount;d++)e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,d),e&&(e.is_check=c,i=e.getcolumncheckimage(),f=this._findheadelement(d,b,"check"),null!=f&&this._displayitemcheck(f,e.is_check,e.is_enable,i));return!0},XF_GRID.prototype.getheaderclicksort=function(){return this.xf_prop.header_clicksort},XF_GRID.prototype.setheaderclicksort=function(a){this.xf_prop.header_clicksort=a},XF_GRID.prototype.getheaderfont=function(){return _xfx.getfont(this.xf_prop.header_font)},XF_GRID.prototype.setheaderfont=function(a,b,c,d,e){this.xf_prop.header_font=[a,_xfu["int"](b),c,d,e],_xfc.basic("header_font",this.xf_prop.header_font,!0,this.xf_center_body_head),_xfc.basic("header_font",this.xf_prop.header_font,!0,this.xf_left_body_head),_xfc.basic("header_font",this.xf_prop.header_font,!0,this.xf_right_body_head),this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL)},XF_GRID.prototype.gethiddenheaderrowindex=function(){var a,b;for(b=[],a=0;a<this.xf_prop.header_horzcount;a++)this._ishiddenrow(XF_GRID.ROW_KIND_HEAD,a)&&b.push(a);return b},XF_GRID.prototype.ishiddenheaderrow=function(a){return a=_xfu["int"](a),0==this._isvalidheadrow(a)?!1:this._ishiddenrow(XF_GRID.ROW_KIND_HEAD,a)},XF_GRID.prototype.setheaderrowhidden=function(a,b){var c,d;if(a=_xfu["int"](a),-1!=a&&0==this._isvalidheadrow(a))return!1;if(-1==a)for(d=this.gethorzheadercount(),c=0;d>c;c++)this.xf_header_row_arr[c].is_hidden_row=b;else this.xf_header_row_arr[a].is_hidden_row=b;return this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_HEADER),this._refreshheadtable(),!0},XF_GRID.prototype.getheaderheight=function(){return this.xf_prop.header_height},XF_GRID.prototype.setheaderheight=function(a){return this.xf_prop.header_height=_xfu["int"](a),this._refreshheadtable(),!0},XF_GRID.prototype.getheaderrowheight=function(a){return a=_xfu["int"](a),0==this._isvalidheadrow(a)?-1:this.xf_header_row_arr[a].row_height},XF_GRID.prototype.setheaderrowheight=function(a,b){return a=_xfu["int"](a),0==this._isvalidheadrow(a)?!1:(this.xf_header_row_arr[a].row_height=b,this._refreshheadtable(),!0)},XF_GRID.prototype.getheaderhorzalign=function(a,b){return this._headeralign(a,b,!0,void 0)},XF_GRID.prototype.setheaderhorzalign=function(a,b,c){return this._headeralign(a,b,!0,c)},XF_GRID.prototype.getheadervertalign=function(a,b){return this._headeralign(a,b,!1,void 0)},XF_GRID.prototype.setheadervertalign=function(a,b,c){return this._headeralign(a,b,!1,c)},XF_GRID.prototype._headeralign=function(a,b,c,d){var e,f,g;if(a=_xfu["int"](a),b=_xfu["int"](b),d=_xfu["int"](d),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b))return void 0===d?0:!1;if(e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===d)return c?e.xf_column_head_prop.horz_align:e.xf_column_head_prop.vert_align;if(c?e.xf_column_head_prop.horz_align=d:e.xf_column_head_prop.vert_align=d,c){if(f=this._findheadelement(a,b,"item"),null==f)return!1;_xfc.justifycontent(f,e.xf_column_head_prop.horz_align)}else{if(g=this._findheadtd(a,b),null==g)return!1;_xfc.basic("vert_align",d,!0,g)}return!0},XF_GRID.prototype.getheadermetaid=function(a,b){return this._headermetaid(a,b,void 0)},XF_GRID.prototype.setheadermetaid=function(a,b,c){return this._headermetaid(a,b,c)},XF_GRID.prototype._headermetaid=function(a,b,c){var d;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?void 0===c?"":!1:(d=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===c?d.xf_column_head_prop.meta_id:(d.xf_column_head_prop.meta_id=c,!0))},XF_GRID.prototype.getheaderstyle=function(){return this.xf_prop.header_style},XF_GRID.prototype.setheaderstyle=function(a){this.xf_prop.header_style=_xfu["int"](a)},XF_GRID.prototype.getheadertext=function(a,b){return this._headertext(a,b,void 0)},XF_GRID.prototype.setheadertext=function(a,b,c,d){return this._headertext(a,b,c,d)},XF_GRID.prototype._headertext=function(a,b,c,d){var e,f,g,h,i;if(a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b))return void 0===c?"":!1;if(e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===c)return e.xf_column_head_prop.title;if(f=this.isheadermerge(a,b))for(g=this.getheadermergerange(a,b),h=g[0];h<=g[2];h++)for(i=g[1];i<=g[3];i++)e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,i,h),e.xf_column_head_prop.title=c,(void 0===d||d)&&this._headertextrefresh(e,h,i);else e.xf_column_head_prop.title=c,(void 0===d||d)&&this._headertextrefresh(e,a,b);return!0},XF_GRID.prototype._headertextrefresh=function(a,b,c){var d,e;return d=this._findheadelement(b,c,"title"),null==d?!1:(d.text(a.xf_column_head_prop.title),a.xf_column_head_prop.checkbox_show&&(e=this._findheadelement(b,c,"check"),a.xf_column_head_prop.title.length>0?e.css("margin-right","2px"):e.css("margin-right","0px")),!0)},XF_GRID.prototype._headercontentwidth=function(a,b,c,d){var e,f,g,h,i,j,k,l;return k=this.getheadertext(a,b),l=_xfj.textsize(k,this.xf_prop.header_font,["_xfd_grid_text_size"]),j=l.width,e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),c&&e.xf_column_head_prop.checkbox_show&&(f=this._findheadelement(a,b,"check"),f&&(j+=f.outerWidth(!0))),d&&e.xf_column_head_prop.image.length>0&&(3!=e.xf_column_head_prop.image_horzalign&&4!=e.xf_column_head_prop.image_horzalign||(g=this._findheadelement(a,b,"image"),g&&(j+=g.outerWidth(!0)))),i=this._findheadelement(a,b,"sort"),i&&"none"!=i.css("display")&&(j+=1==e.xf_column_head_prop.horz_align?2*i.outerWidth(!0):i.outerWidth(!0)),h=this._findheadelement(a,b,"filter"),h&&"none"!=h.css("display")&&(j+=1==e.xf_column_head_prop.horz_align?2*h.outerWidth(!0):h.outerWidth(!0)),j},XF_GRID.prototype.getheadertooltiptext=function(a,b){return this._headertooltiptext(a,b)},XF_GRID.prototype.setheadertooltiptext=function(a,b,c){return this._headertooltiptext(a,b,c)},XF_GRID.prototype._headertooltiptext=function(a,b,c){var d,e;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?void 0===c?"":!1:(d=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===c?d.xf_column_head_prop.tooltip:(d.xf_column_head_prop.tooltip=c,e=this._findheadelement(a,b,"item"),null==e?!1:(e.prop("title",c),!0)))},XF_GRID.prototype.gethorzheadercount=function(){return this.xf_prop.header_horzcount},XF_GRID.prototype.sethorzheadercount=function(a,b){var c,d,e,f,g;if(a=_xfu["int"](a),isNaN(a))return!1;if(this.xf_prop.header_horzcount==a)return!0;if(c=this.xf_prop.header_horzcount,this.xf_prop.header_horzcount=a,f=this.getcolumncount(),c>a){for(e=0;f>e;e++)this.xf_data_column_arr[e].xf_column_head_arr.splice(a,c-a),this._ismultilinegrid()&&this.xf_data_column_arr[e].xf_column_data_arr.splice(a,c-a);this.xf_header_row_arr.splice(a,c-a)}else if(a>c){for(e=0;f>e;e++)for(d=0;a-c>d;d++)new XF_GRID_COLUMN_HEAD(this,this.xf_data_column_arr[e],e,this.xf_data_column_arr[e].column_width,{}),this._ismultilinegrid()&&new XF_GRID_COLUMN_DATA(this,this.xf_data_column_arr[e],e,{width:_xfu.str(this.xf_data_column_arr[e].column_width)});for(g=c;a>g;g++)this.xf_header_row_arr.push({row_height:this.xf_prop.header_height,is_hidden_row:!1})}this._clearinvalidmergeinfo(XF_GRID.MERGE_INFO_HEADER),this._resetheadcolumnsubrowindex(),this._ismultilinegrid()&&(this.sub_row_count=a),(void 0===b||b)&&this.refreshcolumn()},XF_GRID.prototype.getmulticheckrow=function(){return this.xf_prop.multi_checkrow},XF_GRID.prototype.setmulticheckrow=function(a){this.xf_prop.multi_checkrow=a,0==this.xf_prop.multi_checkrow&&this.setcheckedallrow(!1),this.xf_prop.use_checkrow&&this.usemulticheckrowheader(this.xf_prop.multi_checkrow)},XF_GRID.prototype.getvertheaderstylecount=function(){return this.xf_prop.headerstyle_vertcount},XF_GRID.prototype.getvertheadercount=function(){return this.xf_prop.header_vertcount},XF_GRID.prototype.setvertheadercount=function(a){this.xf_prop.header_vertcount=_xfu["int"](a)},XF_GRID.prototype.inserthorzheader=function(a,b){var c,d;if(a=_xfu["int"](a),isNaN(a))return!1;for(a>=this.xf_prop.header_horzcount&&(a=this.xf_prop.header_horzcount),this.xf_prop.header_horzcount++,d=this.getcolumncount(),c=0;d>c;c++)this.xf_data_column_arr[c].xf_column_head_arr.splice(a,0,new XF_GRID_COLUMN_HEAD(this,this.xf_data_column_arr[c],c,this.xf_data_column_arr[c].column_width,{is_append_mode:!1}));return this._resetheadcolumnsubrowindex(),(void 0===b||b)&&this.refreshcolumn(),!0},XF_GRID.prototype.isshowheadercheckbox=function(a,b){var c,d,e;return 0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?!1:(c=this._findheadelement(_xfu["int"](a),_xfu["int"](b),"check"),null==c?(e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),e.xf_column_head_prop.checkbox_show):(d=c.css("display"),"none"!=d))},XF_GRID.prototype.showheadercheckbox=function(a,b,c){var d,e;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_HEAD,a,XF_GRID.COLUMN_KIND_DATA,b)?!1:(e=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),e.xf_column_head_prop.checkbox_show=c,d=this._findheadelement(a,b,"check"),null==d?!1:(c?d.show():d.hide(),!0))},XF_GRID.prototype.setheadercheckboxenable=function(a,b,c){var d;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_HEAD,a,XF_GRID.COLUMN_KIND_DATA,b)?!1:(d=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),d.setitemcheckenable(c,"absolute"),!0)},XF_GRID.prototype.usemulticheckrowheader=function(a){var b,c;return this.xf_prop.chechrow_hd_show=a,b=this._findheadelement(0,-2,"check"),null==b?!1:(c=this._getheadcheckrowshow(),c?b.show():b.hide(),!0)},XF_GRID.prototype._findheadelement=function(a,b,c){var d,e;if(d=this._findheadtd(a,b),null==d)return null;switch(c){case"check":e=d.find("._xf_grid_item_check");break;case"title":e=d.find("._xf_grid_item_span_title");break;case"sort":e=d.find("._xf_grid_head_btn_sort");break;case"filter":e=d.find("._xf_grid_head_btn_filter");break;case"item":e=d.find("._xf_grid_item");break;case"image":e=d.find("img");break;default:return null}return e.length<1?null:e},XF_GRID.prototype._resetheadcolumnsubrowindex=function(){var a,b,c;for(b=this.getcolumncount(),a=0;b>a;a++)for(c=0;this.xf_prop.header_horzcount<this.xf_prop.header_horzcount;c)this.xf_data_column_arr[a].xf_column_head_arr[c].sub_row_index=c},XF_GRID.prototype._headerprop=function(a,b,c,d,e){var f;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidheadrowcolumn(a,XF_GRID.COLUMN_KIND_DATA,b)?e:(f=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),void 0===d?f.xf_column_head_prop[c]:(f.xf_column_head_prop[c]=d,this._refreshheadtd(a,b),!0))},XF_GRID.prototype._refreshheadtable=function(){var a;this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL),this._size(),a=this.xf_grid_scroll.refresh(),a&&this._size(),this._setviewmaxrowcount(),this._refreshfixbar(),this.xf_grid_scroll.syncbar(XFD_SB_BOTH)},XF_GRID.prototype.getitembackcolor=function(){var a=this._getitempropbyarg(this._getitemapiarginfo(arguments),"backcolor",-1);return-1==a?-1:_xfu.color(a)},XF_GRID.prototype.setitembackcolor=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),c=_xfu["int"](a.arg_arr[0]),-1==c?this._deleteitempropbyarg(a,"backcolor",a.arg_arr[1]):(b=_xfu.rgb(a.arg_arr[0]),this._setitempropbyarg(a,"backcolor",b,a.arg_arr[1]))},XF_GRID.prototype.setstatrowitembackcolor=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]),this._setstatrowitempropbyarg(a,"backcolor",b,a.arg_arr[1])},XF_GRID.prototype.setstatrowitemhorzalign=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],0,2),b===!1?!1:this._setstatrowitempropbyarg(a,"text_horzalign",b,a.arg_arr[1])},XF_GRID.prototype.setstatrowitemfont=function(){var a,b,c,d,e,f,g;return a=this._getitemapiarginfo(arguments),b=a.arg_arr[0],c=_xfu["int"](a.arg_arr[1],10),d=a.arg_arr[2],e=a.arg_arr[3],f=a.arg_arr[4],g=a.arg_arr[5],this._setstatrowitempropbyarg(a,"font",[b,c,d,e,f,g],a.arg_arr[6])},XF_GRID.prototype.setitembackcolorrange=function(a,b,c,d,e,f){return this._setitemcolorrange("backcolor",a,b,c,d,e,f)},XF_GRID.prototype.setitemfont=function(){var a,b,c,d,e,f,g;return a=this._getitemapiarginfo(arguments),b=a.arg_arr[0],c=_xfu["int"](a.arg_arr[1],10),d=a.arg_arr[2],e=a.arg_arr[3],f=a.arg_arr[4],g=a.arg_arr[5],this._setitempropbyarg(a,"font",[b,c,d,e,f,g],a.arg_arr[6])},XF_GRID.prototype.setitemfontrange=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n;if(0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,b))return!1;if(0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,c,XF_GRID.COLUMN_KIND_DATA,d))return!1;for(a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),f=_xfu["int"](f),l={row_index:0,sub_row_index:0,column_index:0},m=a;c>=m;m++)for(l.row_index=m,n=b;d>=n;n++)l.column_index=n,this._setitempropbyarg(l,"font",[e,f,g,h,i,j],!1);return(void 0===k||k)&&this._refreshgrid(),!0},XF_GRID.prototype.getitemforecolor=function(){var a=this._getitempropbyarg(this._getitemapiarginfo(arguments),"forecolor",-1);return-1==a?-1:_xfu.color(a)},XF_GRID.prototype.setitemforecolor=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),b=_xfu["int"](a.arg_arr[0]),-1==b?this._deleteitempropbyarg(a,"forecolor",a.arg_arr[1]):(c=_xfu.rgb(a.arg_arr[0]),this._setitempropbyarg(a,"forecolor",c,a.arg_arr[1]))},XF_GRID.prototype.setstatrowitemforecolor=function(){var a=this._getitemapiarginfo(arguments),b=_xfu.rgb(a.arg_arr[0]);return this._setstatrowitempropbyarg(a,"forecolor",b,!0)},XF_GRID.prototype.setitemforecolorrange=function(a,b,c,d,e,f){return this._setitemcolorrange("forecolor",a,b,c,d,e,f)},XF_GRID.prototype.getitemdisplaytext=function(){var a=this._getitemapiarginfo(arguments);return this._getitemdisplaytext(a.row_index,a.sub_row_index,a.column_index,!0,XF_GRID.FILE_TYPE_GRID)},XF_GRID.prototype._getitemdisplaytext=function(a,b,c,d,e){var f;return 0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,c)?"":(0>b&&(b=0),f=this._getcolumndata(XF_GRID.ROW_KIND_DATA,c,b),f.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_DATA,a,d,e))},XF_GRID.prototype.getitembuttonimagenormal=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"button_imagenormal","")},XF_GRID.prototype.setitembuttonimage=function(){var a,b,c,d,e;return a=this._getitemapiarginfo(arguments),c=a.arg_arr[0],d=a.arg_arr[1],e=a.arg_arr[2],null!=c&&(b=""==c?this._deleteitempropbyarg(a,"button_imagenormal",a.arg_arr[3]):this._setitempropbyarg(a,"button_imagenormal",c,a.arg_arr[3]),0==b)?!1:null!=d&&(b=""==c?this._deleteitempropbyarg(a,"button_imagehover",!1):this._setitempropbyarg(a,"button_imagehover",d,!1),0==b)?!1:null==e||(b=""==c?this._deleteitempropbyarg(a,"button_imagedisable",!1):this._setitempropbyarg(a,"button_imagedisable",e,!1),0!=b)},XF_GRID.prototype.getitempicklistselstyle=function(){var a=this._getitemapiarginfo(arguments);return this._getitempropbyarg(a,"picklist_selstyle",-1,a.arg_arr[1])},XF_GRID.prototype.setitempicklistselstyle=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],-1,2),b===!1?!1:-1==b?this._deleteitempropbyarg(a,"picklist_selstyle",a.arg_arr[1]):this._setitempropbyarg(a,"picklist_selstyle",b,a.arg_arr[1],!0)},XF_GRID.prototype.getitempicklistviewstyle=function(){var a=this._getitemapiarginfo(arguments);return this._getitempropbyarg(a,"picklist_viewstyle",-1,a.arg_arr[1])},XF_GRID.prototype.setitempicklistviewstyle=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],-1,2),b===!1?!1:-1==b?this._deleteitempropbyarg(a,"picklist_viewstyle",a.arg_arr[1]):this._setitempropbyarg(a,"picklist_viewstyle",b,!1,!0)},XF_GRID.prototype.getitemimageindex=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"image_index_list",[])},XF_GRID.prototype.setitemimageindex=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"image_index_list",a.arg_arr[0],!0)},XF_GRID.prototype.getitemmakecase=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"make_case",-1)},XF_GRID.prototype.setitemmakecase=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"make_case",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitempatternsymbol=function(){var a,b;return a=this._getitemapiarginfo(arguments),b="pattern_front_symbol",1==a.arg_arr[0]&&(b="pattern_rear_symbol"),this._getitempropbyarg(a,b,null,a.arg_arr[1],"")},XF_GRID.prototype.setitempatternsymbol=function(){var a,b;return a=this._getitemapiarginfo(arguments),b="pattern_front_symbol",1==a.arg_arr[0]&&(b="pattern_rear_symbol"),null==a.arg_arr[1]?this._deleteitempropbyarg(a,b,a.arg_arr[2]):this._setitempropbyarg(a,b,a.arg_arr[1],a.arg_arr[2])},XF_GRID.prototype.getitempatternfrontsymbol=function(){var a=this._getitemapiarginfo(arguments);return this._getitempropbyarg(a,"pattern_front_symbol",null,a.arg_arr[0],"")},XF_GRID.prototype.setitempatternfrontsymbol=function(){var a=this._getitemapiarginfo(arguments);return null==a.arg_arr[0]?this._deleteitempropbyarg(a,"pattern_front_symbol",a.arg_arr[1]):this._setitempropbyarg(a,"pattern_front_symbol",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitempatternrearsymbol=function(){var a=this._getitemapiarginfo(arguments);return this._getitempropbyarg(a,"pattern_rear_symbol",null,a.arg_arr[0],"")},XF_GRID.prototype.setitempatternrearsymbol=function(){var a=this._getitemapiarginfo(arguments);return null==a.arg_arr[0]?this._deleteitempropbyarg(a,"pattern_rear_symbol",a.arg_arr[1]):this._setitempropbyarg(a,"pattern_rear_symbol",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitemmaskinglength=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"masking_length",-1)},XF_GRID.prototype.setitemmaskinglength=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=_xfu.intval(a.arg_arr[0],0,XFD_MAX_VALUE),b===!1?!1:this._setitempropbyarg(a,"masking_length",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitemroundtype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"round_type",-1)},XF_GRID.prototype.setitemroundtype=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"round_type",_xfu["int"](a.arg_arr[0]),!0)},XF_GRID.prototype.getitemradioinfo=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"radio_info",null)},XF_GRID.prototype.setitemradioinfo=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"radio_info",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitemselectedindex=function(){var a,b,c,d,e,f,g,h,i,j;if(a=this._getitemapiarginfo(arguments),d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),!d)return-1;if(j=this._getitempropbyarg(this._getitemapiarginfo(arguments),"input_type",d.xf_column_data_prop.input_type),2!=j)return-1;if(b=this._getitemtext(XF_GRID.ROW_KIND_DATA,a.row_index,XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),0==b.length)return-1;if(c=this._getitemxfpicklist(a,d,!1),null==c&&(c=d.xf_picklist),g=[],1==d.xf_column_data_prop.combobox_maxselectcount)return e=c.getcodeinfo("code",b),e.index;for(f=b.split(d.xf_column_data_prop.combobox_valuedelimiter),i=f.length,h=0;i>h;h++)e=c.getcodeinfo("code",f[h]),g.push(e.index);return g},XF_GRID.prototype.getitemtext=function(){var a=this._getitemapiarginfo(arguments);return this._getitemtext(XF_GRID.ROW_KIND_DATA,a.row_index,XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index)},XF_GRID.prototype.setitemtext=function(){var a;return a=this._getitemapiarginfo(arguments),this._ismultilinegrid()?this.setitemtextex(a.row_index,a.sub_row_index,a.column_index,a.arg_arr[0],!0,!0,!0,!0):this.setitemtextex(a.row_index,a.column_index,a.arg_arr[0],!0,!0,!0,!0)},XF_GRID.prototype.setitemformattext=function(){var a;return a=this._getitemapiarginfo(arguments),0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a.row_index,XF_GRID.COLUMN_KIND_DATA,a.column_index)?!1:this._ismultilinegrid()?this.setitemtextex(a.row_index,a.sub_row_index,a.column_index,a.arg_arr[0],a.arg_arr[1],a.arg_arr[2],a.arg_arr[3],a.arg_arr[4],!0):this.setitemtextex(a.row_index,a.column_index,a.arg_arr[0],a.arg_arr[1],a.arg_arr[2],a.arg_arr[3],a.arg_arr[4],!0)},XF_GRID.prototype.setitemtextex=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(b=this._getitemapiarginfo(arguments),0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,b.row_index,XF_GRID.COLUMN_KIND_DATA,b.column_index))return!1;if(this._ismultilinegrid()){if(0==this._isvalidsubrow(b.sub_row_index))return!1;g=b.arg_arr[2],e=b.arg_arr[3],f=b.arg_arr[4],n=b.arg_arr[5]}else g=b.arg_arr[2],e=b.arg_arr[3],f=b.arg_arr[4],n=b.arg_arr[5];if(void 0===b.arg_arr[1]&&(b.arg_arr[1]=!0),void 0===e&&(e=!0),void 0===f&&(f=!0),void 0===n&&(n=!1),1==e&&(c=this._ismultilinegrid()?this.getitemtext(b.row_index,b.sub_row_index,b.column_index):this.getitemtext(b.row_index,b.column_index)),r=!1,1==e&&c==b.arg_arr[0])return this._isdisplayrow(b.row_index)&&(1!=n&&1!=this._getitempropbyarg(b,"_is_format_value",!1)||(r=!0)),1==n?this._setitempropbyarg(b,"_is_format_value",!0,!1):this._deleteitempropbyarg(b,"_is_format_value",!1),r&&this._refreshdatatd(b.row_index,b.sub_row_index,b.column_index),!0;if(1==n?this._setitempropbyarg(b,"_is_format_value",!0,!1):(l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),l.deletecolumnitemprop(b.row_index,"_is_format_value")),o=b.row_index,p=b.sub_row_index,q=b.column_index,this._ismultilinegrid()){if(h=this.getheadermergerange(b.sub_row_index,b.column_index),void 0!==h&&null!==h&&4==h.length)for(p=h[0],q=h[1],j=h[0];j<=h[2];j++)for(k=h[1];k<=h[3];k++)j==p&&k==q||(a=this._setitemtext(XF_GRID.ROW_KIND_DATA,b.row_index,XF_GRID.COLUMN_KIND_DATA,k,b.arg_arr[0],!1,j))}else if(void 0===g||1==g){if(l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b.column_index,b.sub_row_index),m=l.getcolumnitemmergeinfo(XF_GRID.ROW_TABLE_VIEW,b.row_index,!0),o=m.start_row_index,q=m.start_column_index,1==m.is_merge)for(i=m.start_row_index;i<=m.end_row_index;i++)for(k=m.start_column_index;k<=m.end_column_index;k++)i==o&&k==q||(a=this._setitemtext(XF_GRID.ROW_KIND_DATA,i,XF_GRID.COLUMN_KIND_DATA,k,b.arg_arr[0],!1,b.sub_row_index));l.edit_complete_info&&(l.edit_complete_info.edit_item_merge_info=m)}return a=this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,q,b.arg_arr[0],b.arg_arr[1],p),void 0!==e&&1!=e||(d=this._ismultilinegrid()?this.getitemtext(b.row_index,b.sub_row_index,b.column_index):this.getitemtext(b.row_index,b.column_index),c!=d&&this.on_item_editchanged(b.row_index,b.sub_row_index,b.column_index,c,d,f)),a},XF_GRID.prototype.getitemdatainputtype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"data_inputtype",-1)},XF_GRID.prototype.setitemdatainputtype=function(){var a,b;return b=this._getitemapiarginfo(arguments),a=_xfu.intval(b.arg_arr[0],-1,1),a===!1?!1:(factory_xf_param.MANDATORYCOLUMNCOLOR||(b.arg_arr[1]=!1),-1==a?this._deleteitempropbyarg(b,"data_inputtype",b.arg_arr[1]):this._setitempropbyarg(b,"data_inputtype",a,b.arg_arr[1]))},XF_GRID.prototype.getitemcalendartype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"calendar_type",-1)},XF_GRID.prototype.setitemcalendartype=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"calendar_type",_xfu["int"](a.arg_arr[0]),!1)},XF_GRID.prototype.getitemcalendardatetype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"calendar_datetype",-1)},XF_GRID.prototype.setitemcalendardatetype=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"calendar_datetype",_xfu["int"](a.arg_arr[0]),!1)},XF_GRID.prototype.getitemcharttype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"chart_type",-1)},XF_GRID.prototype.setitemcharttype=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"chart_type",_xfu["int"](a.arg_arr[0]),a.arg_arr[1])},XF_GRID.prototype.getitemcheckboxtitle=function(){var a,b;return a=this._getitemapiarginfo(arguments),a.arg_arr[0]===!0?(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),b?this._getitempropbyarg(a,"checkbox_title",b.xf_column_data_prop.checkbox_title):this._getitempropbyarg(a,"checkbox_title","")):this._getitempropbyarg(a,"checkbox_title","")},XF_GRID.prototype.setitemcheckboxtitle=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"checkbox_title",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitemmaxvalue=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"max_value",-1)},XF_GRID.prototype.setitemmaxvalue=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"max_value",_xfu["int"](a.arg_arr[0]),a.arg_arr[1]);
},XF_GRID.prototype.getitempopbtneditable=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"editbox_popbtneditable",-1)},XF_GRID.prototype.setitempopbtneditable=function(){var a;return a=this._getitemapiarginfo(arguments),this._setitempropbyarg(a,"editbox_popbtneditable",a.arg_arr[0],!1)},XF_GRID.prototype.getitemeditable=function(){var a,b;return b=this._getitemapiarginfo(arguments),a=this._getitempropbyarg(b,"editable",-1),-1==a?this._ismultilinegrid()?this.getcolumneditable(b.sub_row_index,b.column_index):this.getcolumneditable(b.column_index):a},XF_GRID.prototype.setitemeditable=function(){var a,b;switch(b=this._getitemapiarginfo(arguments),a=this._getitempropbyarg(b,"input_type",-1),-1==a&&(a=this._getcolumnprop(b,"input_type",0)),1==b.arg_arr[0]&&(this.non_editable_status="relative"),a){case XFD_GRID_INPUTCHECKBOX:case XFD_GRID_INPUTRADIOBUTTON:case XFD_GRID_INPUTBUTTON:return this._setitempropbyarg(b,"editable",b.arg_arr[0],b.arg_arr[1]);default:return factory_xf_param.PROTECTCOLUMNCOLOR?this._setitempropbyarg(b,"editable",b.arg_arr[0],b.arg_arr[1]):this._setitempropbyarg(b,"editable",b.arg_arr[0],!1)}},XF_GRID.prototype.setitemeditsel=function(a,b){var c;return c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.selected_column_index,this.selected_sub_row_index),c?c.xf_input?c.xf_input.setsel(a,b):c.xf_combobox?c.xf_combobox.setsel(a,b):c.xf_date?c.xf_date.setsel(a,b):c.xf_spinnumber?c.xf_spinnumber.setsel(a,b):!1:!1},XF_GRID.prototype.setitemeditstart=function(){return this._ismultilinegrid()?this._setitemeditstartex(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):this._setitemeditstartex(arguments[0],0,arguments[1],arguments[2],!1)},XF_GRID.prototype.setitemeditstartex=function(){return this._ismultilinegrid()?this._setitemeditstartex(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):this._setitemeditstartex(arguments[0],0,arguments[1],arguments[2],arguments[3])},XF_GRID.prototype._setitemeditstartex=function(a,b,c,d,e){var f,g,h,i;if(this.editcomplete(),0==d)return this._removeitemeditdiv(),this._setselectitem(a,b,c,!0,!1),!0;if(a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),void 0===e||1==e)i=this,setTimeout(function(){return h=i._setselectitem(a,b,c,!0,!1),0==h?!1:(g=i._finddatatd(a,b,c),null==g?!1:(f=i._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),void f.showedit(g,a)))},0);else{if(h=this._setselectitem(a,b,c,!0,!1),0==h)return!1;if(g=this._finddatatd(a,b,c),null==g)return!1;f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),f.showedit(g,a)}return!0},XF_GRID.prototype.getitemeditingtext=function(a){return null==this.xf_item_edit_component?"":(void 0===a&&(a=!0),a?this.xf_item_edit_component.getdisplaytext():void this.xf_item_edit_component.gettext())},XF_GRID.prototype.setitemeditingtext=function(a){return null==this.xf_item_edit_component?!1:(this.xf_item_edit_component.settext(a),!0)},XF_GRID.prototype.getitemeditselend=function(){var a,b;return a=this._getitemeditdivinfo(),null==a?0:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),null==b.xf_input?0:b.xf_input.getselend())},XF_GRID.prototype.getitemeditselstart=function(){var a,b;return a=this._getitemeditdivinfo(),null==a?0:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),null==b.xf_input?0:b.xf_input.getselstart())},XF_GRID.prototype.getitemhorzalign=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"text_horzalign",-1)},XF_GRID.prototype.setitemhorzalign=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"text_horzalign",_xfu["int"](a.arg_arr[0]),!0)},XF_GRID.prototype.getitemvertalign=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"text_vertalign",-1)},XF_GRID.prototype.setitemvertalign=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"text_vertalign",_xfu["int"](a.arg_arr[0]),!0)},XF_GRID.prototype.getitemimage=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"image","")},XF_GRID.prototype.setitemimage=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"image",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getitemimagehorzalign=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"image_horzalign",-1)},XF_GRID.prototype.setitemimagehorzalign=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"image_horzalign",_xfu["int"](a.arg_arr[0]),!0)},XF_GRID.prototype.getitemimageshow=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"image_show",-1)},XF_GRID.prototype.setitemimageshow=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"image_show",a.arg_arr[0],!0)},XF_GRID.prototype.getitemdatatype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"data_type",-1)},XF_GRID.prototype.setitemdatatype=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"data_type",_xfu["int"](a.arg_arr[0]),a.arg_arr[1])},XF_GRID.prototype.getitemhlinktextstyleuse=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"hyperlink_textstyleuse",-1)},XF_GRID.prototype.setitemhlinktextstyleuse=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"hyperlink_textstyleuse",a.arg_arr[0],a.arg_arr[1])},XF_GRID.prototype.getiteminputtype=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"input_type",-1)},XF_GRID.prototype.setiteminputtype=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"input_type",_xfu["int"](a.arg_arr[0]),a.arg_arr[1])},XF_GRID.prototype.getitemmaxlength=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"max_length",-1)},XF_GRID.prototype.setitemmaxlength=function(){var a,b;return a=this._getitemapiarginfo(arguments),0==this.isediting()?b=this._setitempropbyarg(a,"max_length",_xfu["int"](a.arg_arr[0]),a.arg_arr[1]):(b=this._setitempropbyarg(a,"max_length",_xfu["int"](a.arg_arr[0]),!1),this.xf_item_edit_component&&this.xf_item_edit_component.setmaxlength&&this.xf_item_edit_component.setmaxlength(_xfu["int"](a.arg_arr[0]))),b},XF_GRID.prototype.isitemmerge=function(a,b){return a=_xfu["int"](a),b=_xfu["int"](b),null!=this.getitemmergerange(a,b)},XF_GRID.prototype.getitemmergerange=function(a,b){var c;for(a=_xfu["int"](a),b=_xfu["int"](b),c=0;c<this.item_merge_info_count;c++)if(a>=this.item_merge_info_arr[c].start_row_index&&a<=this.item_merge_info_arr[c].end_row_index&&b>=this.item_merge_info_arr[c].start_column_index&&b<=this.item_merge_info_arr[c].end_column_index)return[this.item_merge_info_arr[c].start_row_index,this.item_merge_info_arr[c].start_column_index,this.item_merge_info_arr[c].end_row_index,this.item_merge_info_arr[c].end_column_index];return null},XF_GRID.prototype.insertitemtext=function(){var a,b,c,d;return this._ismultilinegrid()?(a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[2],this.insertitemtextex(a,b,c,d,!0,!0)):(a=arguments[0],c=arguments[1],d=arguments[2],this.insertitemtextex(a,c,d,!0,!0))},XF_GRID.prototype.insertitemtextex=function(){var a,b,c,d,e,f,g,h,i,j;return this._ismultilinegrid()?(e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],i=arguments[4],j=arguments[5]):(e=arguments[0],f=0,g=arguments[1],h=arguments[2],i=arguments[3],j=arguments[4]),e=_xfu["int"](e),0>e&&(e=this.getrowcount()),void 0===i&&(i=!0),void 0===j&&(j=!0),f=_xfu["int"](f),g=_xfu["int"](g),d=XFD_XDATASET_COLUMN_DATA,c=-1,b=this._getxdatasetrowindex(e),f>=0&&g>=0&&(a=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,g,f),d=a.xdataset_column_type,c=a.xf_xdataset._getcolumn(d,a.xdataset_column_id)),this.xf_xdataset._insertrow(b,d,c,h,!0,1==i?null:this),i||this._insertgridrow(e,b,!1,!1,!0,!1),j&&(this._ismultilinegrid()?this._setrowinitvalue(e,f,g,i):this._setrowinitvalue(e,-1,g,i)),!0},XF_GRID.prototype.releaseitemmerge=function(a,b,c,d,e){var f;for(void 0===e&&(e=!0),a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),f=0;f<this.item_merge_info_count;f++)if(a==this.item_merge_info_arr[f].start_row_index&&c==this.item_merge_info_arr[f].end_row_index&&b==this.item_merge_info_arr[f].start_column_index&&d==this.item_merge_info_arr[f].end_column_index)return this.item_merge_info_arr.splice(f,1),this.item_merge_info_count--,1==e&&1==this.is_stat_exclude_merged_item&&this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),1==e&&this._refreshgrid(),!0;return!1},XF_GRID.prototype.setitemmergerange=function(){return this._istreegrid()?this.setitemmergerangeex(arguments[0],arguments[1],arguments[2],!0):this._ismultilinegrid()?this.setitemmergerangeex(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],!0):this.setitemmergerangeex(arguments[0],arguments[1],arguments[2],arguments[3],!0)},XF_GRID.prototype.setitemmergerangeex=function(){var a,b,c,d,e,f,g,h,i,j;if(this._istreegrid())a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[0]),d=_xfu["int"](arguments[2]),i=arguments[3];else{if(this._ismultilinegrid())return e=_xfu["int"](arguments[0]),g=_xfu["int"](arguments[1]),b=_xfu["int"](arguments[2]),h=_xfu["int"](arguments[3]),d=_xfu["int"](arguments[4]),i=arguments[5],!0;a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2]),d=_xfu["int"](arguments[3]),i=arguments[4]}if(a>c||b>d)return!1;if(1>c-a&&1>d-b)return!1;if(0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,b))return!1;if(0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,c,XF_GRID.COLUMN_KIND_DATA,d))return!1;if(this._isnormalgrid()||this._istreegrid()){if(0==this._isvalidmergerange(this.item_merge_info_arr,a,b,c,d))return!1;for(this.item_merge_info_arr.push({start_row_index:a,start_column_index:b,end_row_index:c,end_column_index:d}),this.item_merge_info_count++,j=this._getitemtext(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,b,0),e=a;c>=e;e++)for(f=b;d>=f;f++)this._setitemtext(XF_GRID.ROW_KIND_DATA,e,XF_GRID.COLUMN_KIND_DATA,f,j,!1,0)}return this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),i&&this._refreshgrid(),!0},XF_GRID.prototype.getitemmousecursor=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"mouse_cursor",-1)},XF_GRID.prototype.setitemmousecursor=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"mouse_cursor",_xfu["int"](a.arg_arr[0]),a.arg_arr[1])},XF_GRID.prototype.getitempattern=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"pattern","")},XF_GRID.prototype.setitempattern=function(){var a,b,c,d,e,f,g,h,i,i,j,k;return e=this._getitemapiarginfo(arguments),a=e.arg_arr[0],b=e.arg_arr[1],g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e.column_index,e.sub_row_index),j=g.getcolumniteminfo(e.row_index,e.sub_row_index),h=this._getitempropbyitem(j,"data_type",g.xf_column_data_prop.data_type),0==this._setitempropbyarg(e,"pattern_type",void 0,!1)?!1:0==this._setitempropbyarg(e,"xf_regexp",void 0,!1)?!1:0==this._setitempropbyarg(e,"pattern",void 0,!1)?!1:0==this._setitempropbyarg(e,"number_pattern_info",void 0,!1)?!1:0==this._setitempropbyarg(e,"int_value_pattern_max_length",void 0,!1)?!1:0==this._setitempropbyarg(e,"value_pattern_max_length",void 0,!1)?!1:(h==XFD_GRID_DATA_NUMERIC?(2==factory_xf_param.INVALID_VALUE_BY_API&&a.length>0&&(i=_xfu.numberpatterninfo(a),i.int_max_length>0&&(this._setitempropbyarg(e,"int_value_pattern_max_length",i.int_max_length,!1),this._setitempropbyarg(e,"max_length",i.max_length,!1))),""==a?(a=_xfu.numberpattern(g.xf_column_data_prop.max_length,factory_xf_param.BLANK_PATTERN_ALLOW_MINUS),c=XFD_PATTERN_TYPE_NUMBER):c=a.substring(0,2)=="9"+factory_xf_param.SCREEN_DECIMAL_SEPARATOR?XFD_PATTERN_TYPE_NUMBER:_xfp.type(a,XFD_PATTERN_TYPE_NUMBER,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR),c==XFD_PATTERN_TYPE_CUSTOM?(d=_xfp.regexp(a),this._setitempropbyarg(e,"xf_regexp",d,!1)):(i=_xfp.numberpatterninfo(a,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR),this._setitempropbyarg(e,"number_pattern_info",i,!1))):(c=XFD_PATTERN_TYPE_CUSTOM,h==XFD_GRID_DATA_NUMERIC?h=XFD_DATA_NUMBER:h==XFD_GRID_DATA_ALPHANUM?h=XFD_DATA_ALPHANUM:h==XFD_GRID_DATA_HANGUL&&(h=XFD_DATA_HANGUL),d=_xfp.regexp(a,h),this._setitempropbyarg(e,"xf_regexp",d,!1),k=a.replace(d.delimiter_char_regexp,"").length,this._setitempropbyarg(e,"value_pattern_max_length",k,!1)),f=this._setitempropbyarg(e,"pattern_type",c,!1),0==f?!1:(0==this.isediting()?f=this._setitempropbyarg(e,"pattern",a,e.arg_arr[2]):(f=this._setitempropbyarg(e,"pattern",a,!1),this.xf_item_edit_component&&this.xf_item_edit_component.setpattern&&this.xf_item_edit_component.setpattern(e.arg_arr[0])),f))},XF_GRID.prototype.getitemlocaleseparator=function(){return[this._getitempropbyarg(this._getitemapiarginfo(arguments),"decimal_separator",""),this._getitempropbyarg(this._getitemapiarginfo(arguments),"thousands_separator","")]},XF_GRID.prototype.setitemlocaleseparator=function(){var a,b;return a=this._getitemapiarginfo(arguments),b=a.arg_arr[2],void 0===b&&(b=!0),a.arg_arr[0].length>0&&a.arg_arr[1].length>0?(this._setitempropbyarg(a,"decimal_separator",a.arg_arr[0],!1),this._setitempropbyarg(a,"thousands_separator",a.arg_arr[1],b)):(a.arg_arr[0].length>0&&this._setitempropbyarg(a,"decimal_separator",a.arg_arr[0],b),a.arg_arr[1].length>0&&this._setitempropbyarg(a,"thousands_separator",a.arg_arr[1],b)),!0},XF_GRID.prototype.getitempatternmask=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"pattern_mask","")},XF_GRID.prototype.setitempatternmask=function(){var a,b,c,d,e;if(b=this._getitemapiarginfo(arguments),a=b.arg_arr[0],this._setitempropbyarg(b,"pattern_mask",a,!1),d=_xfp.mask_range(a),e=d.length,c=this._setitempropbyarg(b,"mask_range_count",e,!1),0==c)return!1;if(0==this.isediting()){if(c=this._setitempropbyarg(b,"mask_range_arr",d,b.arg_arr[1]),0==c)return!1}else c=this._setitempropbyarg(b,"mask_range_arr",d,!1),this.xf_item_edit_component&&this.xf_item_edit_component.setpatternmask&&this.xf_item_edit_component.setpatternmask(b.arg_arr[0]);return c},XF_GRID.prototype.getitempicklist=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"picklist","")},XF_GRID.prototype.setitempicklist=function(){var a,b,c,d,e;return c=this._getitemapiarginfo(arguments),e=factory._callbackpicklisturl(c.arg_arr[0]),d=this._setitempropbyarg(c,"picklist",e,!1),0==d?!1:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),a=new XF_PICKLIST(this,{make_case:b.xf_column_data_prop.make_case,grid_row_index:c.row_index,grid_sub_row_index:c.sub_row_index,grid_column_index:c.column_index,picklist_type:XF_PICKLIST.PICKLIST_TYPE_GRIDITEM,picklist_async:!1,picklist_linkdata:"",picklist:e,picklist_filter_type:b.xf_column_data_prop.picklist_filter_type,picklist_selstyle:b.xf_column_data_prop.picklist_selstyle,on_picklist_load:$.proxy(this.on_picklist_load,this)}),this._setitempropbyarg(c,"xf_picklist",a,!1),a.loaddata(),2==factory_xf_param.GRID_PICKLIST_SETMAXLENGTH&&e.length>0&&this._setitempropbyarg(c,"max_length",a.getcodemaxlength(),!1),!0)},XF_GRID.prototype.setitempicklistxdataset=function(){var a,b,c;return c=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),a=new XF_PICKLIST(this,{make_case:b.xf_column_data_prop.make_case,grid_row_index:c.row_index,grid_sub_row_index:c.sub_row_index,grid_column_index:c.column_index,picklist_type:XF_PICKLIST.PICKLIST_TYPE_GRIDITEM,picklist_async:!1,picklist_linkdata:c.arg_arr.join(":"),picklist:"",picklist_filter_type:b.xf_column_data_prop.picklist_filter_type,picklist_selstyle:b.xf_column_data_prop.picklist_selstyle,on_picklist_load:$.proxy(this.on_picklist_load,this)}),a.loaddata(),this._setitempropbyarg(c,"xf_picklist",a,!0),!0},XF_GRID.prototype.getitemplaces=function(){var a,b,c;return a=this._getitemapiarginfo(arguments),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a.column_index,a.sub_row_index),c=this._getitempropbyarg(this._getitemapiarginfo(arguments),"number_pattern_info",b.number_pattern_info),c.places},XF_GRID.prototype.getitemuserdata=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"user_data","")},XF_GRID.prototype.setitemuserdata=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"user_data",a.arg_arr[0],!1)},XF_GRID.prototype.getitemtextbyname=function(a,b){var c;return c=this.getcolumn(b),this._ismultilinegrid()?null==c?"":this.getitemtext(a,c[0],c[1]):0>c?"":this.getitemtext(a,c)},XF_GRID.prototype.setitemtextbyname=function(a,b,c,d){var e;return void 0===d&&(d=!0),e=this.getcolumn(b),this._ismultilinegrid()?null==e?!1:this.setitemtextex(a,e[0],e[1],c,d,!0,!0,!0):0>e?!1:this.setitemtextex(a,e,c,d,!0,!0,!0)},XF_GRID.prototype.getitemtooltiptext=function(){return this._getitempropbyarg(this._getitemapiarginfo(arguments),"tooltip","")},XF_GRID.prototype.setitemtooltiptext=function(){var a=this._getitemapiarginfo(arguments);return this._setitempropbyarg(a,"tooltip",a.arg_arr[0],!0)},XF_GRID.prototype.resetselectitem=function(a){var b,c,d,e;b=this.selected_row_index,c=this.selected_sub_row_index,d=this.selected_column_index,this._resetselectedinfo(),this.xf_selected_item=null,0!=a&&(e=!1,this._ismultilinegrid()?b==this.selected_row_index&&c==this.selected_sub_row_index&&d==this.selected_column_index||(e=!0):b==this.selected_row_index&&d==this.selected_column_index||(e=!0),e&&this._fireevent("on_itemselchange",XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,b,c,d,!0,this.selected_row_index,this.selected_sub_row_index,this.selected_column_index))},XF_GRID.prototype.setselectitem=function(){var a,b,c,d;return this.is_next_item_editable=!1,this._istreegrid()?(a=_xfu["int"](arguments[0]),b=0,c=_xfu["int"](arguments[1]),d=arguments[2]):this._ismultilinegrid()?(a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2]),d=!0):(a=_xfu["int"](arguments[0]),b=0,c=_xfu["int"](arguments[1]),d=!0),1==this._ishiddenrow(XF_GRID.ROW_KIND_DATA,a)?!1:1==this.ishiddencolumn(c)?!1:this._setselectitem(a,b,c,!0,!1,d)},XF_GRID.prototype.setselectitemex=function(){var a,b,c,d;return this.is_next_item_editable=!1,this._ismultilinegrid()?(a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2]),d=arguments[3]):(a=_xfu["int"](arguments[0]),b=0,c=_xfu["int"](arguments[1]),d=arguments[2]),1==this._ishiddenrow(XF_GRID.ROW_KIND_DATA,a)?!1:1==this.ishiddencolumn(c)?!1:this._setselectitem(a,b,c,!0,!1,d)},XF_GRID.prototype.setitemprop=function(a,b,c,d,e,f){var g=this._getitemapiarginfo(arguments);return this._setitemprop(g.row_index,g.sub_row_index,g.column_index,g.arg_arr[0],g.arg_arr[1],!0)},XF_GRID.prototype.setitempropex=function(){var a=this._getitemapiarginfo(arguments);return this._setitemprop(a.row_index,a.sub_row_index,a.column_index,a.arg_arr[0],a.arg_arr[1],a.arg_arr[2])},XF_GRID.prototype._getitemapiarginfo=function(a){var b,c,d={row_index:-1,sub_row_index:0,column_index:-1,arg_arr:[]};if(c=a.length,this._ismultilinegrid())for(d.row_index=_xfu["int"](a[0]),d.sub_row_index=_xfu["int"](a[1]),d.column_index=_xfu["int"](a[2]),b=3;c>b;b++)d.arg_arr.push(a[b]);else for(d.row_index=_xfu["int"](a[0]),d.column_index=_xfu["int"](a[1]),b=2;c>b;b++)d.arg_arr.push(a[b]);return d},XF_GRID.prototype._deleteallheadermergeinfo=function(a){this.header_merge_info_arr=[],this.header_merge_info_count=0,this.display_header_merge_info_arr=[],this.display_header_merge_info_count=0,a&&this._refreshgrid()},XF_GRID.prototype._deleteallitemmergeinfo=function(a){this.item_merge_info_arr=[],this.item_merge_info_count=0,a&&this._refreshgrid()},XF_GRID.prototype._deletealliteminfo=function(a){var b,c,d,e;for(d=this.getcolumncount(),b=0;d>b;b++)for(c=0;c<this.sub_row_count;c++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,c),e.item_info_arr=[];this.item_merge_info_arr=[],this.item_merge_info_count=0,a&&this._refreshgrid()},XF_GRID.prototype._deleteiteminfo=function(a,b){var c,d,e,f;for(a=_xfu["int"](a),e=this.getcolumncount(),c=0;e>c;c++)for(d=0;d<this.sub_row_count;d++)f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,d),f.deletecolumniteminfo(a);b&&this._refreshgrid()},XF_GRID.prototype._insertblankiteminfo=function(a,b){var c,d,e,f;for(a=_xfu["int"](a),e=this.getcolumncount(),c=0;e>c;c++)for(d=0;d<this.sub_row_count;d++)f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,d),f.insertblankcolumniteminfo(a);b&&this._refreshgrid()},XF_GRID.prototype._setiteminforowindex=function(a,b,c){var d,e,f,g;for(f=this.getcolumncount(),d=0;f>d;d++)for(e=0;e<this.sub_row_count;e++)g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,e),g.setcolumniteminforowindex(a,b);c&&this._refreshgrid()},XF_GRID.prototype._moveiteminfo=function(a,b,c){var d,e,f,g;for(f=this.getcolumncount(),d=0;f>d;d++)for(e=0;e<this.sub_row_count;e++)g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,e),g.movecolumniteminfo(a,b);c&&this._refreshgrid()},XF_GRID.prototype._getiteminfo=function(a,b,c){var d;return d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),d?d.getcolumniteminfo(a,b):null},XF_GRID.prototype._getitempropbyitem=function(a,b,c,d,e,f,g){var h;return null==a?d===!0?this._getcolumnpropbyindex(f,g,b,e):c:(h=a.item_prop[b],void 0===h?d===!0?this._getcolumnpropbyindex(f,g,b,e):c:h)},XF_GRID.prototype._getitempropbyarg=function(a,b,c,d,e){var f;return f=this._getiteminfo(a.row_index,a.sub_row_index,a.column_index),f?this._getitempropbyitem(f,b,c,d,e,a.sub_row_index,a.column_index):d===!0?this._getcolumnprop(a,b,e):c},XF_GRID.prototype._getitempropbyindex=function(a,b,c,d,e,f,g){var h;return h=this._getiteminfo(a,b,c),h?this._getitempropbyitem(h,d,e,f,g,b,c):f===!0?this._getcolumnpropbyindex(b,c,d,g):e},XF_GRID.prototype._setitemprop=function(a,b,c,d,e,f){var g;return this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,c)?(g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),g.setcolumnitemprop(a,b,d,e),void 0===f&&(f=!0),f&&this._isdisplayrow(a)&&this._refreshdatatd(a,b,c),!0):!1},XF_GRID.prototype._deleteitemprop=function(a,b,c,d,e){var f;return this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,c)?(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),f.deletecolumnitemprop(a,d),void 0===e&&(e=!0),e&&this._isdisplayrow(a)&&this._refreshdatatd(a,b,c),!0):!1},XF_GRID.prototype._setstatrowitemprop=function(a,b,c,d,e,f){var g;return this._isvalidrowcolumn(XF_GRID.ROW_KIND_STAT,a,XF_GRID.COLUMN_KIND_DATA,c)?(g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),g.setcolumnstatrowitemprop(a,d,e),void 0===f&&(f=!0),f&&this._refreshtd(XF_GRID.ROW_KIND_STAT,XF_GRID.COLUMN_KIND_DATA,a,b,c),!0):!1},XF_GRID.prototype._setitempropbyarg=function(a,b,c,d){return this._setitemprop(a.row_index,a.sub_row_index,a.column_index,b,c,d)},XF_GRID.prototype._deleteitempropbyarg=function(a,b,c){return this._deleteitemprop(a.row_index,a.sub_row_index,a.column_index,b,c)},XF_GRID.prototype._setstatrowitempropbyarg=function(a,b,c,d){return this._setstatrowitemprop(a.row_index,a.sub_row_index,a.column_index,b,c,d)},XF_GRID.prototype._setitemcolorrange=function(a,b,c,d,e,f,g){var h,i,f,j,k;if(0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,b,XF_GRID.COLUMN_KIND_DATA,c))return!1;if(0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,d,XF_GRID.COLUMN_KIND_DATA,e))return!1;for(b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),e=_xfu["int"](e),f=_xfu["int"](f),j=_xfu.rgb(f),k={row_index:0,sub_row_index:0,column_index:0},h=b;d>=h;h++)for(k.row_index=h,i=c;e>=i;i++)k.column_index=i,-1==f?this._deleteitempropbyarg(k,a,!1):this._setitempropbyarg(k,a,j,!1);return(void 0===g||g)&&this._refreshgrid(),!0},XF_GRID.prototype._getitemtext=function(a,b,c,d,e){var f;return 0==this._isvalidrowcolumn(a,b,c,d)?"":(f=this._getcolumndata(c,d,e),f.getcolumnitemtext(a,b))},XF_GRID.prototype._setitemtext=function(a,b,c,d,e,f,g){var h;return 0==this._isvalidrowcolumn(a,b,c,d)?!1:(h=this._getcolumndata(c,d,g),h.setcolumnitemtext(a,b,e,f))},XF_GRID.prototype._setrowinitvalue=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;for(g=this.getcolumncount(),e=0;e<this.sub_row_count;e++)for(f=0;g>f;f++){if(-1==b){if(f==c)continue}else if(e==b&&f==c)continue;if(h=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,e),0!=h.xf_column_data_prop.default_value.length){if(j=h.xf_column_data_prop.default_value,h.xf_column_data_prop.input_type==XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX&&1!=h.xf_column_data_prop.combobox_defaultvalue_type&&(i=this._getitempropbyindex(a,e,f,"xf_picklist",h.xf_picklist),null!=i)){for(k=j.split(h.xf_column_data_prop.combobox_valuedelimiter),l=k.length,o=[],m=0;l>m;m++)0==h.xf_column_data_prop.combobox_defaultvalue_type?(n=i.getcodeinfo("index",k[m]),n.index>=0&&o.push(n.code)):2==h.xf_column_data_prop.combobox_defaultvalue_type&&(n=i.getcodeinfo("comment",k[m]),n.index>=0&&o.push(n.code));j=o.join(h.xf_column_data_prop.combobox_valuedelimiter)}h.setcolumnitemtext(XF_GRID.ROW_KIND_DATA,a,j,d)}}},XF_GRID.prototype._isusevertscrollviewtable=function(){return 0==this.use_vertscroll_viewtable?!1:0==this._isnormalgrid()||1==this.is_rowheight_mode?!1:1!=this.is_mobile_mode},XF_GRID.prototype._displayorscrollvertviewtable=function(a,b,c){var d,e,f;return 0==this._isusevertscrollviewtable()?void this._displayviewtable(0,!1,!0):(d=this._findnextvisibleitemrowindex(-1,a-1,!0),d==this.view_end_row_index?void this._displayviewtable(0,!1,!0):(void 0!==c&&null!==c||(e=this._getviewstartrowindex(a),c=e-b,f=this._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,Math.min(b,e),Math.max(b,e)),c>0?c-=f:0>c&&(c+=f)),void(Math.abs(c)>3?this._displayviewtable(0,!1,!0):this._scrollvertviewtable(a,c,!0))))},XF_GRID.prototype._updatehorzscrollviewtable=function(a,b){this.is_horzscroll_viewtable=!1,0!=this.use_horzscroll_viewtable&&(Math.abs(a)>1||0==Math.abs(b-this.view_display_column_count)&&(this.is_horzscroll_viewtable=!0))},XF_GRID.prototype._setselectitem=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return void 0===f&&(f=!0),void 0===g&&(g=!0),0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_DATA,c)?!1:(this.selectblock_info.start_row_index=-1,s=this.selected_row_index,t=this.selected_sub_row_index,u=this.selected_column_index,0!=this.xf_prop.multi_selectrow&&1!=g||this._resetselectedinfo(),k=this.getrowcount(),1==this._isusevertscrollviewtable()&&(z=this._getviewstartrowindex(k)),1==this.is_column_scroll_mode&&c>=this.view_left_column_index&&(c<this.view_start_column_index||c>this.view_end_column_index)&&(c<this.view_start_column_index?this.xf_grid_scroll.setscrollleftcolumn(c):c>this.view_end_column_index&&this.setscrollrightcolumn(c)),s>=0&&this._getrowheight(s)>=this._gettableheight(XF_GRID.ROW_TABLE_VIEW)&&(this.view_end_row_index=this.view_start_row_index),a>=this.view_top_row_index&&(a<this.view_start_row_index||a>this.view_end_row_index)?a<this.view_start_row_index?(h=this._calcviewcontenttop(a),this._setviewcontenttop(h,!0),0==this.is_mobile_mode&&this._displayorscrollvertviewtable(k,z)):a>this.view_end_row_index&&(this.is_rowheight_mode?(h=this._getrowheightsum(this.view_top_row_index,a-1),h-=this._gettableheight(XF_GRID.ROW_TABLE_VIEW),this._getrowheight(a)<this._gettableheight(XF_GRID.ROW_TABLE_VIEW)&&(h+=this.getrowheight(a)),h=-1*h):h=0==this.view_row_count?-1*(a-this.fixedrows)*(this.xf_prop.cell_height*this.sub_row_count):-1*(a-this.fixedrows-(this.view_row_count-1))*(this.xf_prop.cell_height*this.sub_row_count),Math.abs(h)<1&&(h=0),this._setviewcontenttop(h,!0),0==this.is_mobile_mode&&this._displayorscrollvertviewtable(k,z)):(h=this._getviewcontenttop(),1==this.is_rowheight_mode&&(h=this._getrowheightsum(this.view_start_row_index,a),h>this._gettableheight(XF_GRID.ROW_TABLE_VIEW)&&(h=this._getrowheightsum(this.view_top_row_index,a-1),h-=this._gettableheight(XF_GRID.ROW_TABLE_VIEW),h+=this.getrowheight(a),h=-1*h,Math.abs(h)<1&&(h=0),this._setviewcontenttop(h,!0),0==this.is_mobile_mode&&this._displayorscrollvertviewtable(k,z)))),this.selected_row_index=a,this.selected_sub_row_index=b,this.selected_column_index=c,i=this._displayselectitem(a,b,c,!0,!0),this.xf_selected_item=i,this._setselectedrowinfo(!0,a,a),d&&this.xf_xdataset._moveat(this._getxdatasetrowindex(a),!0,this),null!=i&&i.length>0&&(a==this.view_end_row_index&&0==this.is_mobile_mode&&this._getrowheight(a)<this._gettableheight(XF_GRID.ROW_TABLE_VIEW)&&this.view_row_count<this.view_max_row_count&&this.view_max_row_count==this.view_display_row_count&&this.view_row_count>0&&(h-=this._getrowheight(a),this._setviewcontenttop(h,!0),0==this.is_mobile_mode&&(this._displayorscrollvertviewtable(k,z),i=this._displayselectitem(a,b,c,!0,!0),this.xf_selected_item=i)),1==this.is_mobile_mode&&(v=this.xf_center_body_view_table.position().top,w=this.xf_center_body_view.height(),x=this.xf_selected_item.position().top+v,h=this._getviewcontenttop(),x<=Math.abs(h)?x<Math.abs(h)&&(h=-x,this._setviewcontenttop(h,!0)):x>=Math.abs(h)+w?(h=this._ismultilinegrid()?-(x-w+this._getrowheight(this.selected_row_index)):-(x-w+this._getrowheight(this.selected_row_index)),this._setviewcontenttop(h,!0)):(y=this._ismultilinegrid()?x+this._getrowheight(this.selected_row_index)+1:x+this._getrowheight(this.selected_row_index)+1,y>=Math.abs(h)+w&&(r=y-(Math.abs(h)+w),h-=r,x<=Math.abs(h)?x<Math.abs(h)&&(h=-x,this._setviewcontenttop(h,!0)):this._setviewcontenttop(h,!0)))),this.selected_column_index>=this.fixedcols&&1==this.xf_prop.horzscrollbar_type&&(n=this.xf_center_body_view_table.position().left,o=this.xf_center_body_view.width(),p=this.xf_selected_item.position().left+n,m=this._getviewcontentleft(),1==this.is_column_scroll_mode&&0==factory.ismobile()&&a>=this.view_top_row_index&&(p+=this._getviewcolumnleftsum(this.view_start_column_index)),p<=Math.abs(m)?p<Math.abs(m)&&(m=-p,this._setviewcontentleft(m,!0)):p>=Math.abs(m)+o?(m=this._ismultilinegrid()?-(p-o+this.getcolumnwidth(b,c)):-(p-o+this.getcolumnwidth(c)),this._setviewcontentleft(m,!0)):(this._ismultilinegrid()?this.xf_selected_item?(l=this._gettdcolumnspan(this.xf_selected_item),q=p+this._getcolumnwidthsumbycolumnspan(c,l)+1):q=p+this.getcolumnwidth(b,c)+1:q=p+this.getcolumnwidth(c)+1,q>=Math.abs(m)+o&&(r=q-(Math.abs(m)+o),m-=r,p<=Math.abs(m)?p<Math.abs(m)&&(m=-p,this._setviewcontentleft(m,!0)):1==this.is_column_scroll_mode?(this._ismultilinegrid()&&l>1&&(c=this._getcolumnindexbycolumnspan(c,l)),this.setscrollrightcolumn(c)):this._setviewcontentleft(m,!0))))),e&&this.setfocus(),0==f?!0:(j=!1,this._ismultilinegrid()?s==this.selected_row_index&&t==this.selected_sub_row_index&&u==this.selected_column_index||(j=!0):s==this.selected_row_index&&u==this.selected_column_index||(j=!0),j&&this._fireevent("on_itemselchange",XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,s,t,u,!0,this.selected_row_index,this.selected_sub_row_index,this.selected_column_index),!0))},XF_GRID.prototype._displayselectitem=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(f=this._finddatatd(a,b,c),i=[],this.is_rwd_mode?i.push({row_table_type:XF_GRID.ROW_TABLE_RWD,column_table_type:XF_GRID.COLUMN_TABLE_RWD,table_tbody:this.xf_rwd_body_view_table_tbody}):a<this.view_top_row_index?(i.push({row_table_type:XF_GRID.ROW_TABLE_FIX,column_table_type:XF_GRID.COLUMN_TABLE_LEFT,table_tbody:this.xf_left_body_fix_table_tbody}),i.push({row_table_type:XF_GRID.ROW_TABLE_FIX,column_table_type:XF_GRID.COLUMN_TABLE_CENTER,table_tbody:this.xf_center_body_fix_table_tbody}),this.xf_prop.selectrow_statcolumn&&i.push({row_table_type:XF_GRID.ROW_TABLE_FIX,column_table_type:XF_GRID.COLUMN_TABLE_RIGHT,table_tbody:this.xf_right_body_fix_table_tbody})):(i.push({row_table_type:XF_GRID.ROW_TABLE_VIEW,column_table_type:XF_GRID.COLUMN_TABLE_LEFT,table_tbody:this.xf_left_body_view_table_tbody}),i.push({
row_table_type:XF_GRID.ROW_TABLE_VIEW,column_table_type:XF_GRID.COLUMN_TABLE_CENTER,table_tbody:this.xf_center_body_view_table_tbody}),this.xf_prop.selectrow_statcolumn&&i.push({row_table_type:XF_GRID.ROW_TABLE_VIEW,column_table_type:XF_GRID.COLUMN_TABLE_RIGHT,table_tbody:this.xf_right_body_view_table_tbody})),j=0;j<i.length;j++)h=i[j].table_tbody,g=this._findtrarr(i[j].row_table_type,h,a),k=i[j].column_table_type==XF_GRID.COLUMN_TABLE_LEFT?1==this.xf_prop.linenumber_style&&1==this.xf_prop.checkrow_style?"td":1==this.xf_prop.linenumber_style&&0==this.xf_prop.checkrow_style?'td:not("._xf_grid_td_checkrow")':0==this.xf_prop.linenumber_style&&1==this.xf_prop.checkrow_style?'td:not("._xf_grid_td_linenumber")':'td:not("._xf_grid_td_linenumber,._xf_grid_td_checkrow")':"td",e?(l=g.find(k),l.addClass(this.class_tr_selected),this._displayselectrowmergeditem(e,l,h)):(l=g.find(k),l.removeClass(this.class_tr_selected)),0==e&&1==this.xf_prop.multi_selectrow&&g.find("td").removeClass(this.class_td_selected);return(void 0===d||d)&&e&&(1==this.xf_prop.multi_selectrow&&this.xf_object.find("."+this.class_td_selected).removeClass(this.class_td_selected),null!==f&&f.length>0&&("none"!=f[0].style.display?f.addClass(this.class_td_selected):(f=this._findmergestartitem(f),f.addClass(this.class_td_selected),this._ismultilinegrid()&&f&&(m=this._gettdinfo(f),this.selected_row_index=m.row_index,this.selected_column_index=m.column_index)))),f},XF_GRID.prototype._findmergestartitem=function(a){var b,c,d,e,f,g,h,i,j,k;for(e=a.index(),f=a.parent("tr"),h=f.index(),b=f.parent("tbody"),g=b.find("tr"),d=[],i=0;h>=i;i++)f=$(g[i]),d.push(f.find("td"));for(;;){for(i=h,c=e;c>=0;c--)if("none"!=d[i].get(c).style.display){if(k=this._gettdcolumnspanbydom(d[i].get(c)),1==k)break;return $(d[i].get(c))}for(c=e,i=h;i>=0;i--)if("none"!=d[i].get(c).style.display){if(j=this._gettdrowspanbydom(d[i].get(c)),1==j)break;return $(d[i].get(c))}if(e--,h--,0>e&&0>h)break}return a},XF_GRID.prototype._displayselectrowmergeditem=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(e=b.length,d=0;e>d;d++)if("none"==b[d].style.display)for(f=$(b[d]),g=f.index(),h=f.parent("tr"),i=h.index();;){if(i-=1,0>i)break;if(j=c.find("tr").eq(i),j.length<1)break;if(k=j.find("td").eq(g),k.length<1)break;if(l=this._gettdrowspan(k),l>1){k.addClass(this.class_tr_selected);break}}},XF_GRID.prototype.getlinenumberbackcolor=function(){return _xfu.color(this.xf_prop.linenumber_backcolor)},XF_GRID.prototype.setlinenumberbackcolor=function(a){void 0!==a&&(isNaN(_xfu["int"](a))||(this.xf_prop.linenumber_backcolor=_xfu.rgb(a),this._refreshgrid()))},XF_GRID.prototype.getlinenumberforecolor=function(){return _xfu.color(this.xf_prop.linenumber_forecolor)},XF_GRID.prototype.setlinenumberforecolor=function(a){void 0!==a&&(isNaN(_xfu["int"](a))||(this.xf_prop.linenumber_forecolor=_xfu.rgb(a),this._refreshgrid()))},XF_GRID.prototype.getlinenumberoffset=function(){return this.xf_prop.linenumber_offset},XF_GRID.prototype.setlinenumberoffset=function(a){this.xf_prop.linenumber_offset=_xfu["int"](a),this._refreshgrid()},XF_GRID.prototype.getlinenumbershow=function(){return this.xf_prop.linenumber_show},XF_GRID.prototype.setlinenumbershow=function(a,b){return this.xf_prop.linenumber_show=a,(void 0===b||b)&&this._afterchangecolumn(),!0},XF_GRID.prototype.getlinenumbertitle=function(){return this.xf_prop.linenumber_title},XF_GRID.prototype.setlinenumbertitle=function(a){this.xf_prop.linenumber_title=a,this._displayheadtable(XF_GRID.COLUMN_TABLE_LEFT)},XF_GRID.prototype.isshowlinenumber=function(){return this.xf_prop.linenumber_show},XF_GRID.prototype.showlinenumber=function(a){this.xf_prop.linenumber_show!=a&&(this.xf_prop.linenumber_show=a,this._afterchangecolumn())},XF_GRID.prototype.getcolumnmerge=function(a){var b;return a=_xfu["int"](a),b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,0),b.xf_column_data_prop.cellmerge},XF_GRID.prototype.setcolumnmerge=function(a,b,c){var d,e,f,g,h,i;if(a=_xfu["int"](a),e=[],b&&void 0!==c&&c.length>0)for(e=c.split(","),g=e.length,f=0;g>f;f++)e[f]=_xfu.trim(e[f]);if(-1==a)for(i=this.getcolumncount(),h=0;i>h;h++){if(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,h,0),!d)return!1;d.setcolumnmerge(b,e)}else{if(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,0),!d)return!1;d.setcolumnmerge(b,e)}return this._updateallcolumnmergeinfo(),this._refreshgrid(),!0},XF_GRID.prototype.getheadermergerange=function(a,b){return this._getheadermergerange(XF_GRID.MERGE_INFO_HEADER,a,b)},XF_GRID.prototype.getstatrowmergerange=function(a,b){return this._getheadermergerange(XF_GRID.MERGE_INFO_STATROW,a,b)},XF_GRID.prototype._getheadermergerange=function(a,b,c){var d,e;return d=[],b=_xfu["int"](b),c=_xfu["int"](c),e=this._getheadermergeinfo(a,b,c),e.is_merge?[e.start_row_index,e.start_column_index,e.end_row_index,e.end_column_index]:d},XF_GRID.prototype.setheadermergerange=function(a,b,c,d,e){return this._setheadermergerange(XF_GRID.MERGE_INFO_HEADER,a,b,c,d,e)},XF_GRID.prototype.setstatrowmergerange=function(a,b,c,d,e){return this._setheadermergerange(XF_GRID.MERGE_INFO_STATROW,a,b,c,d,e)},XF_GRID.prototype.setsubitemmerge=function(a,b,c,d,e){var f,g,h,i,j,e,k;if(-1==this.subitem_merge_info_count&&(this.subitem_merge_info_arr=JSON.parse(JSON.stringify(this.header_merge_info_arr)),this.subitem_merge_info_count=this.header_merge_info_count),f=this._setheadermergerange(XF_GRID.MERGE_INFO_SUBITEM,a,b,c,d,!1),0==f)return!1;for(h=a,j=this.getrowcount(),g=0;j>g;g++)for(k=this._getitemtext(XF_GRID.ROW_KIND_DATA,g,XF_GRID.COLUMN_KIND_DATA,b,h),i=b;d>=i;i++)this._setitemtext(XF_GRID.ROW_KIND_DATA,g,XF_GRID.COLUMN_KIND_DATA,i,k,!1,h);return this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),void 0!==e&&1!=e||this._refreshgrid(),!0},XF_GRID.prototype._setheadermergerange=function(a,b,c,d,e,f){var g;return b=_xfu["int"](b),c=_xfu["int"](c),d=_xfu["int"](d),e=_xfu["int"](e),g=this._getheadermergeinfo(a,b,c),g.is_merge?!1:(g={start_row_index:b,start_column_index:c,end_row_index:d,end_column_index:e},a==XF_GRID.MERGE_INFO_HEADER?(1==this._ismultilinegrid()&&-1==this.subitem_merge_info_count&&(this.subitem_merge_info_arr=JSON.parse(JSON.stringify(this.header_merge_info_arr)),this.subitem_merge_info_count=this.header_merge_info_count),this.header_merge_info_arr.push(g),this.header_merge_info_count=this.header_merge_info_arr.length,this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_HEADER)):a==XF_GRID.MERGE_INFO_STATROW?(this.statrow_merge_info_arr.push(g),this.statrow_merge_info_count=this.statrow_merge_info_arr.length,this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_STATROW)):a==XF_GRID.MERGE_INFO_SUBITEM&&(this.subitem_merge_info_arr.push(g),this.subitem_merge_info_count=this.subitem_merge_info_arr.length),(void 0===f||f)&&(a==XF_GRID.MERGE_INFO_HEADER?this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL):a==XF_GRID.MERGE_INFO_STATROW?this._displaystattable(XF_GRID.COLUMN_TABLE_ALL):a==XF_GRID.MERGE_INFO_SUBITEM&&this._refreshgrid()),!0)},XF_GRID.prototype.gettreemerge=function(){var a;return 0==this._istreegrid()?!1:(a=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.xf_prop.treecolumn_index,0),a?a.xf_column_data_prop.treemerge:!1)},XF_GRID.prototype.settreemerge=function(a){var b,c;return 0==this._istreegrid()?!1:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.xf_prop.treecolumn_index,0))?(c=[],b.xf_column_data_prop.treemerge=a,b.setcolumnmerge(a,c),this._updateallcolumnmergeinfo(),this._refreshgrid(),!0):!1},XF_GRID.prototype._clearinvalidmergeinfo=function(a){var b,c,d,e;if(d=this.getcolumncount(),a==XF_GRID.MERGE_INFO_HEADER){if(0==this.header_merge_info_arr.length)return;for(e=this.gethorzheadercount(),b=this.header_merge_info_count-1;b>=0;b--)c=this.header_merge_info_arr[b],(c.start_row_index>=e||c.end_row_index>=e||c.start_column_index>=d||c.end_column_index>=d)&&this.header_merge_info_arr.splice(b,1);this.header_merge_info_count=this.header_merge_info_arr.length}},XF_GRID.prototype._adjustitemmergeinfobyrow=function(a,b){var c,d;if(1!=this._ismultilinegrid()&&0!=this.item_merge_info_count){for(c=this.item_merge_info_count-1;c>=0;c--)d=this.item_merge_info_arr[c],b<d.start_row_index?"delete"==a?(d.start_row_index-=1,d.end_row_index-=1):"insert"==a&&(d.start_row_index+=1,d.end_row_index+=1):b>=d.start_row_index&&b<=d.end_row_index&&("delete"==a?d.end_row_index-=1:"insert"==a&&(b==d.start_row_index?(d.start_row_index+=1,d.end_row_index+=1):this.item_merge_info_arr.splice(c,1)));this.item_merge_info_count=this._clearinvalidmergeinfo(this.item_merge_info_arr)}},XF_GRID.prototype._adjustmergeinfobycolumn=function(a,b){var c,d,e,f,g;for(c=0;2>c;c++)if(0==c?(g=this.item_merge_info_count,f=this.item_merge_info_arr):(g=this.header_merge_info_count,f=this.header_merge_info_arr),0!=g){for(d=g-1;d>=0;d--)e=f[d],b<e.start_column_index?"delete"==a?(e.start_column_index-=1,e.end_column_index-=1):"insert"==a&&(e.start_column_index+=1,e.end_column_index+=1):(b>=e.start_column_index||b<=e.end_column_index)&&("delete"==a?e.end_column_index-=1:"insert"==a&&(b==e.start_column_index?(e.start_column_index+=1,e.end_column_index+=1):f.splice(i,1)));0==c?this.item_merge_info_count=this._clearinvalidmergeinfo(this.item_merge_info_arr):this.header_merge_info_count=this._clearinvalidmergeinfo(this.header_merge_info_arr)}},XF_GRID.prototype._clearinvalidmergeinfo=function(a){var b,c,d;if(d=a.length,0==d)return 0;for(b=d-1;b>=0;b--)c=a[b],c.end_row_index-c.start_row_index<=0&&c.end_column_index-c.start_column_index<=0&&a.splice(b,1);return a.length},XF_GRID.prototype.isheadermerge=function(a,b){return this._isheadermerge(XF_GRID.MERGE_INFO_HEADER,a,b)},XF_GRID.prototype.isstatrowmerge=function(a,b){return this._isheadermerge(XF_GRID.MERGE_INFO_STATROW,a,b)},XF_GRID.prototype._isheadermerge=function(a,b,c){var d;return b=_xfu["int"](b),c=_xfu["int"](c),d=this._getheadermergeinfo(a,b,c),d.is_merge},XF_GRID.prototype.refreshcolumnmerge=function(a){return a=_xfu["int"](a),this._refreshgrid(),!0},XF_GRID.prototype.releaseheadermergerange=function(a,b,c,d,e){return this._releaseheadermergerange(XF_GRID.MERGE_INFO_HEADER,this.header_merge_info_arr,a,b,c,d,e)},XF_GRID.prototype.releasestatrowmergerange=function(a,b,c,d,e){return this._releaseheadermergerange(XF_GRID.MERGE_INFO_HEADER,this.statrow_merge_info_arr,a,b,c,d,e)},XF_GRID.prototype.releasesubitemmerge=function(a,b,c,d,e){return-1==this.subitem_merge_info_count&&(this.subitem_merge_info_arr=JSON.parse(JSON.stringify(this.header_merge_info_arr)),this.subitem_merge_info_count=this.header_merge_info_count),this._releaseheadermergerange(XF_GRID.MERGE_INFO_SUBITEM,this.subitem_merge_info_arr,a,b,c,d,e)},XF_GRID.prototype._releaseheadermergerange=function(a,b,c,d,e,f,g){var h,i,j,k;for(c=_xfu["int"](c),d=_xfu["int"](d),e=_xfu["int"](e),f=_xfu["int"](f),j=b.length,k=!1,h=0;j>h;h++)if(i=b[h],i.start_row_index==c&&i.start_column_index==d&&i.end_row_index==e&&i.end_column_index==f){b.splice(h,1),k=!0;break}return 0==k?!1:a==XF_GRID.MERGE_INFO_HEADER?(this.header_merge_info_count--,this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_HEADER),void 0!==g&&1!=g||this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL),!0):a==XF_GRID.MERGE_INFO_SUBITEM?(this.subitem_merge_info_count--,void 0!==g&&1!=g||this._refreshgrid(),!0):a==XF_GRID.MERGE_INFO_STATROW?(this.statrow_merge_info_count--,this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_STATROW),void 0!==g&&1!=g||this._displaystattable(XF_GRID.COLUMN_TABLE_ALL),!0):!1},XF_GRID.prototype._setheadermegeinfo=function(a){var b,c,d,e,f;if(!(a.length<=0)){for(b=a.split(":"),f=b.length,e=0;f>e;e++)c=b[e],c.length<=0||(d=c.split(","),4==d.length&&this.header_merge_info_arr.push({start_row_index:_xfu["int"](d[0]),start_column_index:_xfu["int"](d[1]),end_row_index:_xfu["int"](d[2]),end_column_index:_xfu["int"](d[3])}));this.header_merge_info_count=this.header_merge_info_arr.length}},XF_GRID.prototype._updateallcolumnmergeinfo=function(){var a,b,c,d,e;if(d=this.column_merge_info_arr.length,0==d)return!1;for(a=0;d>a;a++){for(c=this.column_merge_info_arr[a],c.merge_base_column_index_arr=[],e=c.merge_base_column_name_arr.length,b=0;e>b;b++)c.merge_base_column_index_arr.push(this.getcolumn(c.merge_base_column_name_arr[b]));c.merge_base_column_index_arr.push(c.column_index),c.merge_range_info_arr=this._getcolumnmergerangeinfo(c),this._mergeitemcolumnmergeinfo(c,this.item_merge_info_arr)}return!0},XF_GRID.prototype._mergeitemcolumnmergeinfo=function(a,b){var c,d,e,f,g,h,i,j,k;for(void 0===b&&(b=this.item_merge_info_arr),e=0,null!=b&&(e=b.length),c=0;e>c;c++)if(d=b[c],!(a.column_index<d.start_column_index||a.column_index>d.end_column_index)){for(g=a.merge_range_info_arr.length,f=g-1;f>=0;f--)h=a.merge_range_info_arr[f],h.start_row_index>d.end_row_index||h.end_row_index<d.start_row_index||(h.is_invalid_info=!0,k=f,i=h.start_row_index,j=d.start_row_index-1,j>i&&(a.merge_range_info_arr.splice(k,0,{start_row_index:i,end_row_index:j}),k++),i=d.end_row_index+1,j=h.end_row_index,j>i&&a.merge_range_info_arr.splice(k,0,{start_row_index:i,end_row_index:j}));for(g=a.merge_range_info_arr.length,f=g-1;f>=0;f--)a.merge_range_info_arr[f].is_invalid_info===!0&&a.merge_range_info_arr.splice(f,1)}},XF_GRID.prototype._getcolumnmergerangeinfo=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(i=[],e=this._getrowcount(XF_GRID.ROW_KIND_DATA),2>e)return i;if(d=a.merge_base_column_index_arr.length,j=a.merge_base_column_index_arr,1==j.length&&1==this._istreecolumn(j[0]))for(f=0,l=this._treegriditemdepth(f),p=this._istreegridhaschild(e,f,l),n=this._getitemtext(XF_GRID.ROW_KIND_DATA,f,XF_GRID.COLUMN_KIND_DATA,j[0],0),h={start_row_index:0,end_row_index:0},f=1;e>f;f++)m=this._treegriditemdepth(f),q=this._istreegridhaschild(e,f,m),o=this._getitemtext(XF_GRID.ROW_KIND_DATA,f,XF_GRID.COLUMN_KIND_DATA,j[0],0),1!=p&&1!=q&&m==l&&n==o||(l=m,n=o,h.end_row_index=f-1,h.end_row_index-h.start_row_index>0&&i.push(h),h={start_row_index:f,end_row_index:0});else{for(r=this.midstat_info_arr.length,f=0;e>f;f++){if(r>0&&this._ismidstatrow(f)){if(k=this._getmidstatinfo(f),c=$.inArray(a.column_index,k.column_index_arr),-1==c)continue;break}break}for(g=this._getrowvaluearr(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,f,0,d,j),h={start_row_index:f,end_row_index:0},f=h.start_row_index+1;e>f;f++)if(r>0&&this._ismidstatrow(f)&&(k=this._getmidstatinfo(f),c=$.inArray(a.column_index,k.column_index_arr),-1==c)){for(h.end_row_index=f-1,h.end_row_index-h.start_row_index>0&&i.push(h),s=f+1;e>s&&this._ismidstatrow(s);s++);g=this._getrowvaluearr(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,s,0,d,j),h={start_row_index:s,end_row_index:0},f=s}else for(b=0;d>b;b++)if(o=this._getitemtext(XF_GRID.ROW_KIND_DATA,f,XF_GRID.COLUMN_KIND_DATA,j[b],0),t=!0,1==factory_xf_param.GRID_COLUMNMERGE_BLANKVALUE?o!=g[b]&&(t=!1):(o!=g[b]||0==o.length&&0==g[b].length)&&(t=!1),0==t){g=this._getrowvaluearr(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,f,0,d,j),h.end_row_index=f-1,h.end_row_index-h.start_row_index>0&&i.push(h),h={start_row_index:f,end_row_index:0};break}}return h.end_row_index=e-1,h.end_row_index-h.start_row_index>0&&i.push(h),i},XF_GRID.prototype._getrowvaluearr=function(a,b,c,d,e,f){var g,h;for(h=[],g=0;e>g;g++)h[g]=this._getitemtext(a,c,b,f[g],d);return h},XF_GRID.prototype._getcolumnmergeinfo=function(a,b,c,d){var e=0;return void 0!==a.merge_range_info_arr&&null!==a.merge_range_info_arr&&(e=a.merge_range_info_arr.length),this._getmergeinfo(b,c,e,a.merge_range_info_arr,XF_GRID.MERGE_INFO_COLUMN,d)},XF_GRID.prototype._getitemmergeinfo=function(a,b,c){return this._getmergeinfo(a,b,this.item_merge_info_count,this.item_merge_info_arr,XF_GRID.MERGE_INFO_ITEM,c)},XF_GRID.prototype._getheadermergeinfo=function(a,b,c){return a==XF_GRID.MERGE_INFO_HEADER?this._getmergeinfo(b,c,this.header_merge_info_count,this.header_merge_info_arr,XF_GRID.MERGE_INFO_HEADER):a==XF_GRID.MERGE_INFO_SUBITEM?this._getmergeinfo(b,c,this.subitem_merge_info_count,this.subitem_merge_info_arr,XF_GRID.MERGE_INFO_HEADER):a==XF_GRID.MERGE_INFO_STATROW?this._getmergeinfo(b,c,this.statrow_merge_info_count,this.statrow_merge_info_arr,XF_GRID.MERGE_INFO_HEADER):void 0},XF_GRID.prototype._getmergeinfo=function(a,b,c,d,e,f){var g,h,i,j,k,l;if(void 0===f&&(f=!1),a=_xfu["int"](a),b=_xfu["int"](b),k={is_merge:!1,start_row_index:a,end_row_index:a,start_column_index:b,end_column_index:b,row_span:1,column_span:1},0>=c)return k;if(l=XF_GRID.ROW_KIND_DATA,e==XF_GRID.MERGE_INFO_HEADER&&(l=XF_GRID.ROW_KIND_HEAD),e==XF_GRID.MERGE_INFO_COLUMN){if(a<d[0].start_row_index)return k;if(a>d[c-1].end_row_index)return k}for(g=0;c>g;g++)if(h=d[g],!(a<h.start_row_index||a>h.end_row_index||e!==XF_GRID.MERGE_INFO_COLUMN&&(b<h.start_column_index||b>h.end_column_index))){if(k.is_merge=!0,k.start_row_index=h.start_row_index,k.end_row_index=h.end_row_index,e!==XF_GRID.MERGE_INFO_COLUMN&&(k.start_column_index=h.start_column_index,k.end_column_index=h.end_column_index),a==k.start_row_index&&b==k.start_column_index){if(k.row_span=k.end_row_index-k.start_row_index+1,k.column_span=k.end_column_index-k.start_column_index+1,1==f)return k;this._adjustrowcolumnspan(e,k,!0),this._adjustrowcolumnspan(e,k,!1),1==k.row_span&&1==k.column_span&&(k.is_merge=!1)}else{if(1==f)return k;if(e==XF_GRID.MERGE_INFO_STATROW){if(this.ishiddencolumn(b))return k;if(this.ishiddencolumn(k.start_column_index)&&b>k.start_column_index&&b<=k.end_column_index){for(j=b-1;j>=k.start_column_index&&0!=this.ishiddencolumn(j);j--);if(!(j<k.start_column_index))break;k.start_column_index=b,k.column_span=k.end_column_index-k.start_column_index+1,this._adjustrowcolumnspan(e,k,!1)}}else{if(this._ishiddenrow(l,a))return k;if(this.ishiddencolumn(b))return k;if(this._ishiddenrow(l,k.start_row_index)||this.ishiddencolumn(k.start_column_index)){if(this.ishiddencolumn(k.start_column_index)&&b>k.start_column_index&&b<=k.end_column_index){for(j=b-1;j>=k.start_column_index&&0!=this.ishiddencolumn(j);j--);if(j<k.start_column_index)k.start_column_index=b,k.column_span=k.end_column_index-k.start_column_index+1,this._adjustrowcolumnspan(e,k,!1);else if(0==this._ishiddenrow(l,k.start_row_index))break}if(this._ishiddenrow(l,k.start_row_index)&&a>k.start_row_index&&a<=k.end_row_index){for(i=a-1;i>=k.start_row_index&&0!=this._ishiddenrow(l,i);i--);if(!(i<k.start_row_index))break;k.start_row_index=a,k.row_span=k.end_row_index-k.start_row_index+1,this._adjustrowcolumnspan(e,k,!0)}1==k.row_span&&1==k.column_span&&(k.is_merge=!1)}}}break}return k},XF_GRID.prototype._adjustrowcolumnspan=function(a,b,c){var d,e;c?(d=0,b.row_span>1&&(a!=XF_GRID.MERGE_INFO_HEADER&&a!=XF_GRID.MERGE_INFO_STATROW?d=this._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,b.start_row_index,b.end_row_index):a==XF_GRID.MERGE_INFO_HEADER&&(d=this._gethiddenrowcount(XF_GRID.ROW_KIND_HEAD,b.start_row_index,b.end_row_index)),b.row_span=b.row_span-d,b.row_span<1&&(b.row_span=1))):b.column_span>1&&(e=this._gethiddencolumncount(b.start_column_index,b.end_column_index),b.column_span=b.column_span-e,b.column_span<1&&(b.column_span=1))},XF_GRID.prototype._deletecolumnmergeinfo=function(a){var b;if(void 0===a||-1==a)return this.column_merge_info_arr=[],void(this.column_merge_info_count=0);for(a=_xfu["int"](a),b=0;b<this.column_merge_info_count;b++)if(this.column_merge_info_arr[b].column_index==a)return this.column_merge_info_arr.splice(b,1),this.column_merge_info_count--,!0;return!1},XF_GRID.prototype._showmergepopup=function(){var a,b,c,d;for(a=new XF_GRID_POPUP_MERGE(this),b=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:factory._userlang("셀 병합","Cell Merge"),url:"",xf_content:a.xf_object,padding:0,is_center:!0,top:this.gettop(),width:470,height:310}),a.setmodalbox(b),b.show(),d=this.item_merge_info_arr.length,c=0;d>c;c++)a._addrow(this.item_merge_info_arr[c].start_row_index,this.item_merge_info_arr[c].start_column_index,this.item_merge_info_arr[c].end_row_index,this.item_merge_info_arr[c].end_column_index)},XF_GRID.prototype._getdisplaymergeinfo=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(v=[],h=c.length,k=d.length,m=e.length,0==h||0==a)return v;if(0==k&&0==m)return JSON.parse(JSON.stringify(c));for(w=0,x=0,y=0,z=0,g=0;h>g;g++)i=c[g],w=Math.min(i.start_row_index,w),x=Math.max(i.end_row_index,x),y=Math.min(i.start_column_index,y),z=Math.max(i.end_column_index,z);for(u=[],r=w;x>=r;r++)u[r]=[];for(g=0;h>g;g++)for(i=c[g],r=i.start_row_index;r<=i.end_row_index;r++)for(s=i.start_column_index;s<=i.end_column_index;s++)u[r][s]=g;for(k=d.length,g=k-1;g>=0;g--)for(j=d[g],r=w;x>=r;r++)f?u[r].splice(j,1):u[r][j]=void 0;for(g=m-1;g>=0;g--)if(l=e[g],f)u.splice(l,1);else for(s=y;z>=s;s++)u[l][s]=void 0;for(r=w;x>=r;r++)for(s=y;z>=s;s++)if(t=u[r][s],void 0!==t&&!(r>0&&u[r-1][s]==t||s>0&&u[r][s-1]==t)){for(n=r,o=r,g=n+1;x>=g&&u[g][s]==t;g++)o++;for(p=s,q=s,g=p+1;z>=g&&u[r][g]==t;g++)q++;n==o&&p==q||v.push({start_row_index:n,start_column_index:p,end_row_index:o,end_column_index:q})}return v},XF_GRID.prototype.additem=function(a){return this._ismultilinegrid()?this.additemex(-1,-1,"",!0,!0,a):this.additemex(-1,"",!0,!0,a)},XF_GRID.prototype.additemex=function(){var a,b,c,d,e,f,g,h,i,j,k;return this._ismultilinegrid()?(a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5]):(a=0,b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3],f=arguments[4]),void 0===f&&(f=!0),i=this.getrowcount(),h=XFD_XDATASET_COLUMN_DATA,a=_xfu["int"](a),b=_xfu["int"](b),k=-1,a>=0&&b>=0&&(g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,a),h=g.xdataset_column_type,k=g.xf_xdataset._getcolumn(h,g.xdataset_column_id)),j=this.xf_xdataset._addrow(h,k,c,!0,1==d?null:this),d||this._insertgridrow(i,j,!1,!1,!0,!1),f&&(this._ismultilinegrid()?this._setrowinitvalue(i,a,b,d):this._setrowinitvalue(i,-1,b,d)),i},XF_GRID.prototype.addrow=function(){return this.additem()},XF_GRID.prototype.deleteall=function(){return this.deleteallrows()},XF_GRID.prototype.deleteallrows=function(){return this.xf_xdataset.deleteallrows()},XF_GRID.prototype.deleterow=function(a,b){var c,d,e;if(void 0===b&&(b=!0),a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a))return!1;if(this._istreegrid()){for(c=this._getchildrowcount(a),d=a+c;d>a;d--)e=this._getxdatasetrowindex(d),this.xf_xdataset._deleterow(e,!1,!0,this),this._deletegridrow(d,e,!1,!1);e=this._getxdatasetrowindex(a),b?this.xf_xdataset._deleterow(e,!1,!0):(this.xf_xdataset._deleterow(e,!1,!0,this),this._deletegridrow(a,e,!1,!1))}else e=this._getxdatasetrowindex(a),b?this.xf_xdataset._deleterow(e,!1,!0):(this.xf_xdataset._deleterow(e,!1,!0,this),this._deletegridrow(a,e,!1,!1));return!0},XF_GRID.prototype.moverow=function(a,b,c){var d,e,f;return a=_xfu["int"](a),b=_xfu["int"](b),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,b)?!1:a==b?!1:(d=this._getxdatasetrowindex(a),e=this._getxdatasetrowindex(b),this.xf_xdataset._moverow(d,e,c,this),f=this.xf_data_row_arr[a],a>b?(this.xf_data_row_arr.splice(a,1),this.xf_data_row_arr.splice(b,0,f)):(this.xf_data_row_arr.splice(b,0,f),this.xf_data_row_arr.splice(a,1)),this._moveiteminfo(a,b,!1),this._resetgridxdatasetrowindex(),this._adjustitemmergeinfobyrow("insert",b),this._adjustitemmergeinfobyrow("delete",a),this.is_rowheight_mode&&this._updategridrowbottom(0),(void 0===c||c)&&this._refreshgrid(),!0)},XF_GRID.prototype.getitemheight=function(){return this.xf_prop.cell_height},XF_GRID.prototype.setitemheight=function(a){this.xf_prop.cell_height=_xfu["int"](a),this._after_set_column()},XF_GRID.prototype.getnonfixedtoprow=function(){var a,b;return a=this._getviewcontenttop(),b=Math.floor(Math.abs(a)/(this.xf_prop.cell_height*this.sub_row_count)),b+this.fixedrows},XF_GRID.prototype.setvisibletoprow=function(a){var b,c;return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:(c=this._getrowcount(XF_GRID.ROW_KIND_DATA),c-a<this.view_max_row_count&&(a-=this.view_max_row_count-(c-a)),b=-1*a*(this.xf_prop.cell_height*this.sub_row_count),this._setviewcontenttop(b,!0),0==this.is_mobile_mode&&this._displayviewtable(0),!0)},XF_GRID.prototype.getrowcount=function(){return this._getrowcount(XF_GRID.ROW_KIND_DATA)},XF_GRID.prototype._getrowcount=function(a){return a==XF_GRID.ROW_KIND_STAT?this.stat_row_count:a==XF_GRID.ROW_KIND_HEAD?this.xf_prop.header_horzcount:this.data_row_count},XF_GRID.prototype.getsubrowcount=function(){return this.sub_row_count},XF_GRID.prototype.getrowautoheight=function(){return this.xf_prop.row_autoheight},XF_GRID.prototype.setrowautoheight=function(a,b){return this.xf_prop.row_autoheight=a,this._updateautorowheightcolumnexist(),b!==!1&&this._refreshautoheight(-1,-1,!0),!0},XF_GRID.prototype.getrowautoheightmargin=function(){return this.xf_prop.row_autoheightmargin},XF_GRID.prototype.setrowautoheightmargin=function(a,b){return a=_xfu.intval(a),a===!1?!1:(this.xf_prop.row_autoheightmargin=a,b!==!1&&this._refreshautoheight(-1,-1,!0),!0)},XF_GRID.prototype.getrowautominheight=function(){return this.xf_prop.row_autoheightmargin},XF_GRID.prototype.setrowautominheight=function(a,b){return a=_xfu.intval(a),a===!1?!1:(this.xf_prop.row_autominheight=a,b!==!1&&this._refreshautoheight(-1,-1,!0),!0)},XF_GRID.prototype.getrowheight=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?-1:this._getrowheight(a)},XF_GRID.prototype._getrowheight=function(a){var b;return void 0===this.xf_data_row_arr[a]?-1:(b=this.xf_data_row_arr[a].row_height,void 0!==b&&-1!=b||(b=this.xf_prop.cell_height),b)},XF_GRID.prototype.setrowheight=function(a,b,c){return a=_xfu["int"](a),b=_xfu["int"](b),void 0===c&&(c=!0),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:isNaN(b)||0>b?!1:(b=Math.max(this.xf_prop.row_autominheight,b),this.xf_data_row_arr[a].row_height=b,0==this.is_rowheight_mode?(this.is_rowheight_mode=!0,this._updategridrowbottom(0)):this._updategridrowbottom(a),a<this.view_top_row_index?this._afterchangecolumncallback():(this._setviewmaxrowcount(),c&&this._refreshgrid()),!0)},XF_GRID.prototype.setrowbottomcellline=function(a,b,c){return a=_xfu["int"](a),void 0===c&&(c=!0),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:(this.xf_data_row_arr[a].is_draw_bottomline=b,this.is_rowcellline_mode=!0,c&&this._refreshgrid(),!0)},XF_GRID.prototype.getrowuserdata=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?"":this.xf_data_row_arr[a].user_data},XF_GRID.prototype.setrowuserdata=function(a,b){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:(this.xf_data_row_arr[a].user_data=b,!0)},XF_GRID.prototype.ishiddenrow=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:this._ishiddenrow(XF_GRID.ROW_KIND_DATA,a)},XF_GRID.prototype._ishiddenrow=function(a,b){return a==XF_GRID.ROW_KIND_DATA?this.xf_data_row_arr[b].is_hidden_row:a==XF_GRID.ROW_KIND_HEAD?this.xf_header_row_arr[b].is_hidden_row:!1},XF_GRID.prototype.setrowhidden=function(a,b,c){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:this._setrowhidden(a,b,c)},XF_GRID.prototype._setrowhidden=function(a,b,c){return this.xf_data_row_arr[a].is_hidden_row=b,this.is_rowheight_mode&&this._updategridrowbottom(a),1==b&&(this.is_statcheck_hiddenitem=!0),1==this._isstatexcludehiddenitem()&&this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),(void 0===c||c)&&this._refreshgrid(),!0},XF_GRID.prototype.ismidstatrow=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:this._ismidstatrow(a)},XF_GRID.prototype._ismidstatrow=function(a){return a>=this.xf_data_row_arr.length?!1:this.xf_data_row_arr[a].is_midstat_row},XF_GRID.prototype._updateautorowheightcolumnexist=function(){var a,b;if(this.is_autorowheight_column_exist=!1,this.xf_prop.row_autoheight&&!this._ismultilinegrid())for(b=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),a=0;b>a;a++)if(this._isautorowheightcolumn(a))return void(this.is_autorowheight_column_exist=!0)},XF_GRID.prototype._getrowcontentheight=function(a,b){var c,d,e,f,a=_xfu["int"](a);if(0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a))return this.xf_prop.cell_height;if(void 0===b&&(b=-1),d=0,b>=0&&0==this._isautorowheightcolumn(b))return this.getrowheight(a);for(e=this.xf_prop.cell_height,c=this.getcolumncount(),b=0;c>b;b++)f=this._getitemcontentheight(a,d,b),e=Math.max(e,f);return e},XF_GRID.prototype._getcolumnitemcontentheight=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(f=[],d=this.getcolumncount(),b=this.getrowcount(),c=0;d>c;c++)if(0!=this._isautorowheightcolumn(c)&&(h=this.getcolumnwidth(c),0!=h))for(g=[],f.push(g),m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,0),k=0,this._istreecolumn(c)?(n=0,o=0):(n=2,o=2,m.cell_textmargin&&(n=m.cell_textmargin[0],o=m.cell_textmargin[1]),p=h-n-o-2-k),l={},l.width=_xfu.px(p),0==m.xf_column_data_prop.font.length?_xfc.font(null,this.xf_prop.font,l):_xfc.font(null,m.xf_column_data_prop.font,l),i=m.xf_column_data_prop.line_height,0>i&&(i=this.xf_prop.line_height),0==i?l.lineHeight="inherit":i>0&&(l.lineHeight=_xfu.px(i)),this.xf_item_span_size.css(l),a=0;b>a;a++)this._istreecolumn(c)&&(k=0,n=0,o=0,k=m.getcolumntreeitemtextleftsum(a),p=h-n-o-2-k,l.width=_xfu.px(p)),0>p?g.push(this.xf_prop.cell_height):(j=this.getitemdisplaytext(a,c),0==j.length?this.xf_item_span_size.text(" "):this.xf_item_span_size.text(j),e=this.xf_item_span_size.outerHeight(),e+=this.xf_prop.row_autoheightmargin,e=Math.max(this.xf_prop.row_autominheight,e),this.xf_prop.row_automaxheight>0&&(e=Math.min(this.xf_prop.row_automaxheight,e)),e+=m.cell_textmargin[2]+m.cell_textmargin[3],g.push(e));return f},XF_GRID.prototype._getitemcontentheight=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;return f=this.xf_prop.cell_height,this._isautorowheightcolumn(c)?(d=this.getcolumnwidth(c),0==d?f:(j=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),h=0,this._istreecolumn(c)?(k=0,l=0,h=j.getcolumntreeitemtextleftsum(a)):(k=2,l=2,j.cell_textmargin&&(k=j.cell_textmargin[0],l=j.cell_textmargin[1])),m=d-k-l-2-h,0>m?f=this.xf_prop.cell_height:(i={},i.width=_xfu.px(m),0==j.xf_column_data_prop.font.length?_xfc.font(null,this.xf_prop.font,i):_xfc.font(null,j.xf_column_data_prop.font,i),e=j.xf_column_data_prop.line_height,0>e&&(e=this.xf_prop.line_height),0==e?i.lineHeight="inherit":e>0&&(i.lineHeight=_xfu.px(e)),this.xf_item_span_size.css(i),g=this.getitemdisplaytext(a,c),0==g.length?this.xf_item_span_size.text(" "):this.xf_item_span_size.text(g),f=this.xf_item_span_size.outerHeight()),f+=this.xf_prop.row_autoheightmargin,f=Math.max(this.xf_prop.row_autominheight,f),this.xf_prop.row_automaxheight>0&&(f=Math.min(this.xf_prop.row_automaxheight,f)),f+=j.cell_textmargin[2]+j.cell_textmargin[3])):f},XF_GRID.prototype._isautorowheightcolumn=function(a){return this._ismultilinegrid()?!1:this.ishiddencolumn(a)?!1:0!=this.getcolumninputtype(a)?!1:!!this.getcolumnwordbreak(a)},XF_GRID.prototype.refreshautoheight=function(){this._refreshautoheight(-1,-1,!0)},XF_GRID.prototype._refreshautoheight=function(a,b,c){var d,e,f,g,h,i,j;if(!this.is_autorowheight_column_exist)return null;if(b>=0&&!this._isautorowheightcolumn(b))return null;if(d={is_refresh_grid:!1,is_row_height_change:!1,first_row_index:-1},a>=0){if(f=this.getrowheight(a),e=this._getrowcontentheight(a,b),f==e)return this.xf_data_row_arr[a].row_height=f,d;d.is_row_height_change=!0,d.first_row_index=a,this.xf_data_row_arr[a].row_height=e}else if(g=this.getrowcount(),g>0)for(h=this._getcolumnitemcontentheight(),j=h.length,a=0;g>a;a++){for(f=this.getrowheight(a),e=0,i=0;j>i;i++)e=Math.max(e,h[i][a]);f!=e?(d.is_row_height_change||(d.is_row_height_change=!0,d.first_row_index=a),this.xf_data_row_arr[a].row_height=e):this.xf_data_row_arr[a].row_height=f}return this.is_rowheight_mode=!0,d.is_row_height_change?(this._updategridrowbottom(d.first_row_index),c&&(d.is_refresh_grid=!0,d.first_row_index<this.fixedrows?this._afterchangecolumncallback():this._refreshgrid()),
d):(this._updategridrowbottom(0),d)},XF_GRID.prototype._updateautorowheightmerge=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(!this.xf_prop.row_autoheight)return!1;if(this._ismultilinegrid())return!1;if(0==this.getrowcount())return!1;for(y=this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW],w=!1,this.getstatcolumncount()>0&&(w=!0,c=this.xf_right_body_view_table_tbody.find("tr")),g=-1,x=!1,(this.xf_prop.use_checkrow||this.xf_prop.linenumber_show||this.fixedcols>0)&&(x=!0,g=0,this.xf_prop.use_checkrow&&g++,this.xf_prop.linenumber_show&&g++,b=this.xf_left_body_view_table_tbody.find("tr")),a=this.xf_center_body_view_table_tbody.find("tr"),i=a.length,z=0,h=0;i>h;h++){if(m=[],e=null,x)for(e=$(b[h]),k=e.find("td"),o=g;o<k.length;o++)m.push(k[o]);for(d=null,d=$(a[h]),j=d.find("td"),o=0;o<j.length;o++)m.push(j[o]);for(p=m.length,u=0,t=0,o=0;p>o;o++)n=$(m[o]),q=this._gettdrowspan(n),r=n.find("._xf_grid_item_span"),r.length<=0||(s=r.outerHeight(),s+=this.xf_prop.row_autoheightmargin,this.xf_prop.row_automaxheight>0&&(s=Math.min(this.xf_prop.row_automaxheight,s)),u=s-q*this.xf_prop.cell_height,t=Math.max(t,u));if(0>=t&&(t=0),this.xf_prop.cell_height+t!=y[h].row_height){if(z+=y[h].row_height-(this.xf_prop.cell_height+t),v=[],e=null,x)for(e=$(b[h]),k=e.find("td"),o=0;o<k.length;o++)v.push(k[o]);for(o=0;o<j.length;o++)v.push(j[o]);if(f=null,w)for(f=$(c[h]),l=f.find("td"),o=0;o<l.length;o++)v.push(l[o]);this._settrrowheight(e,d,f,v,t)}}return z>0&&(this.view_content_height=this.view_content_height-z),!0},XF_GRID.prototype._settrrowheight=function(a,b,c,d,e){var f,g,h,i,j;for(a&&a.height(this.xf_prop.cell_height+e),b&&b.height(this.xf_prop.cell_height+e),c&&c.height(this.xf_prop.cell_height+e),g=d.length,f=0;g>f;f++)h=$(d[f]),i=h.find("._xf_grid_item"),j=h.attr("rowspan"),void 0===j&&(j=1),i.height(this.xf_prop.cell_height*j-1+e)},XF_GRID.prototype.getcolumnsortorder=function(){var a,b,c;if(1==arguments.length)c=0,b=_xfu["int"](arguments[0]);else{if(2!=arguments.length)return XFD_GRID_SORT_NONE;c=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1])}return 0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,b)?XFD_GRID_SORT_NONE:(a=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,c),a.sort_order)},XF_GRID.prototype.getmultisort=function(){var a,b,c;for(a=[],b=this.sort_info_arr.length,c=0;b>c;c++)this.sort_info_arr[c].sort_order==XFD_GRID_SORT_ASC?a.push(this.sort_info_arr[c].column_index+":ASC"):a.push(this.sort_info_arr[c].column_index+":DESC");return a.join(",")},XF_GRID.prototype.getsortcolumns=function(){var a,b,c;for(a=[],b=this.sort_info_arr.length,c=0;b>c;c++)a.push(this.sort_info_arr[c].column_index);return a},XF_GRID.prototype.multisort=function(){this._showmultisortpopup(this.sort_info_arr)},XF_GRID.prototype._showmultisortpopup=function(a){var b,c,d,e;for(b=new XF_GRID_POPUP_SORT(this),c=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:factory._userlang("다중 칼럼 정렬","Multi-Column Sort"),url:"",xf_content:b.xf_object,padding:0,is_center:!0,top:this.gettop(),width:470,height:270}),b.setmodalbox(c),c.show(),d=a.length,e=0;d>e;e++)b._addrow(a[e].column_index,a[e].sub_row_index,a[e].sort_order)},XF_GRID.prototype.multisortex=function(a,b){var c,d,e,f,g,h,i,j,k;for(g=[],c=a.split(","),d=c.length,e=0;d>e;e++){if(f=c[e].split(":"),2==f.length)k=0,j=_xfu["int"](f[0]),i=f[1];else{if(3!=f.length)continue;k=_xfu["int"](f[0]),j=_xfu["int"](f[1]),i=f[2]}"ASC"==i?i=XFD_GRID_SORT_ASC:"DESC"==i?i=XFD_GRID_SORT_DES:"TOGGLE"==i&&(i=this._gettogglesortorder(j,k)),h=this._createsortinfo(j,k,i),null!==h&&g.push(h)}return b?void this._showmultisortpopup(g):(this._resetcolumnsort(),this.sort_info_arr=g,void this._executecolumnsort())},XF_GRID.prototype.sort=function(){var a,b,c;if(2==arguments.length)a=0,b=_xfu["int"](arguments[0]),c=arguments[1];else{if(3!=arguments.length)return!1;a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=arguments[2]}return 0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,b)?!1:(this._resetcolumnsort(),this._addcolumnsortinfo(b,a,_xfu["int"](c)),void this._executecolumnsort())},XF_GRID.prototype._displaycolumnsort=function(){var a,b,c,d,e,f,g,h,i;for(i=this.gethorzheadercount(),a=this.sort_info_arr.length,b=0;a>b;b++)if(c=this.sort_info_arr[b],e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),e.sort_order=c.sort_order,c.column_index!=c.display_column_index&&(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.display_column_index,c.sub_row_index),e.sort_order=c.sort_order),1==this._ismultilinegrid())f=this._findheadelement(c.sub_row_index,c.display_column_index,"sort"),this._displaycolumnsortbutton(a,b,c,f);else for(h=0;i>h;h++)d=this._findheadtd(h,c.display_column_index),d&&(g=_xfj.spaninfo(d),0==this._iscolumnbuttonshow(h,c.display_column_index,g.row_span,g.column_span))||(f=this._findheadelement(h,c.display_column_index,"sort"),this._displaycolumnsortbutton(a,b,c,f))},XF_GRID.prototype._iscolumnbuttonshow=function(a,b,c,d){return 1==this._ismultilinegrid()?!0:!(this.xf_prop.header_horzcount>1&&a+c<this.xf_prop.header_horzcount)},XF_GRID.prototype._displaycolumnsortbutton=function(a,b,c,d){if(d){switch(d.removeClass("_xf_grid_head_btn_sort_wide"),d.removeClass("_xf_grid_head_btn_sort_up _xf_grid_head_btn_sort_down"),d.text(""),c.sort_order){case XFD_GRID_SORT_ASC:d.addClass("_xf_grid_head_btn_sort_up");break;case XFD_GRID_SORT_DES:d.addClass("_xf_grid_head_btn_sort_down")}a>1&&(d.addClass("_xf_grid_head_btn_sort_wide"),d.html('<span class="_xf_grid_head_btn_sort_text">'+(b+1)+"</span>")),c.sort_order==XFD_GRID_SORT_NONE?0==this.xf_prop.column_sort_disp&&d.hide():d.show()}},XF_GRID.prototype._executecolumnsort=function(){var a,b,c;if(this._displaycolumnsort(),this._istreegrid()){for(this._deletemidstatrow(-1),b=this._createtreegridsortrangearr(),c=b.length,a=0;c>a;a++)this.xf_xdataset._multisort(this.sort_info_arr,b[a]),this._on_xdataset_rangesort(XFD_DATA_CHANGE_BY_API),this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_RANGESORT,null,this);this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!1,is_refresh_midstat_row_data:!0}),this._refreshgrid()}else this.xf_xdataset._multisort(this.sort_info_arr,null),this._on_xdataset_sort(XFD_DATA_CHANGE_BY_API);factory._fireevent({xf_component:this,event_name:"on_sortcomplete",is_fire_async:!0},this)},XF_GRID.prototype._createsortinfo=function(a,b,c,d){var e;return a=_xfu["int"](a),b=_xfu["int"](b),c=_xfu["int"](c),void 0===d&&(d=a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a)?null:0==this._isvalidsubrow(b)?null:isNaN(c)||c<XFD_GRID_SORT_ASC||c>XFD_GRID_SORT_TOGGLE?null:(c==XFD_GRID_SORT_TOGGLE&&(c=this._gettogglesortorder(a,b)),e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,b),{xf_grid:this,sort_order:c,sort_func:e.xf_column_data_prop.sort_func,data_type:e.xf_column_data_prop.data_type,xdataset_column_type:e.xdataset_column_type,xdataset_column_index:e.xdataset_column_index,display_column_index:d,column_index:a,sub_row_index:b})},XF_GRID.prototype._updatecolumnsoftinfo=function(a,b){var c,d,e;for(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,b),d=this.sort_info_arr.length,c=0;d>c;c++)if(this.sort_info_arr[c].column_index==a&&this.sort_info_arr[c].sub_row_index==b)return this.sort_info_arr[c].sort_func=e.xf_column_data_prop.sort_func,this.sort_info_arr[c].data_type=e.xf_column_data_prop.data_type,this.sort_info_arr[c].xdataset_column_type=e.xdataset_column_type,this.sort_info_arr[c].xdataset_column_index=e.xdataset_column_index,!0;return!1},XF_GRID.prototype._addcolumnsortinfo=function(a,b,c,d){var e,f,g;if(0==this._ismultilinegrid()&&(b=0),e=this._createsortinfo(a,b,c,d),null!=e){for(f=this.sort_info_arr.length,g=0;f>g;g++)if(this.sort_info_arr[g].column_index==a&&this.sort_info_arr[g].sub_row_index==b){this.sort_info_arr[g]=e;break}g==f&&this.sort_info_arr.push(e)}},XF_GRID.prototype._gettogglesortorder=function(a,b){var c;return a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,a)?XFD_GRID_SORT_ASC:(c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,b),c.sort_order==XFD_GRID_SORT_ASC?XFD_GRID_SORT_DES:XFD_GRID_SORT_ASC)},XF_GRID.prototype._resetcolumnsort=function(){var a,b,c,d,e;for(this.sort_info_arr=[],a=this.getcolumncount(),c=0;a>c;c++)for(b=0;b<this.sub_row_count;b++)d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),d.sort_order=XFD_GRID_SORT_NONE;e=this.xf_left_body_head_table_tbody.find("._xf_grid_head_btn_sort"),e.removeClass("_xf_grid_head_btn_sort_wide _xf_grid_head_btn_sort_up _xf_grid_head_btn_sort_down"),e.text(""),0==this.xf_prop.column_sort_disp&&e.css("display","none"),e=this.xf_center_body_head_table_tbody.find("._xf_grid_head_btn_sort"),e.removeClass("_xf_grid_head_btn_sort_wide _xf_grid_head_btn_sort_up _xf_grid_head_btn_sort_down"),e.text(""),0==this.xf_prop.column_sort_disp&&e.css("display","none")},XF_GRID.prototype._createtreegridsortrangearr=function(){var a,b,c,d,e,f,g;for(g=[],a=this.getrowcount(),c=-1,b=0;a>b;b++)f=this.ishaschildren(b),e=this._treegriditemdepth(b),0==f?-1==c&&(c=b):(d=b-1,c>=0&&(d-c>0&&g.push({start_row_index:c,end_row_index:d}),c=-1));return d=b-1,c>=0&&d-c>0&&g.push({start_row_index:c,end_row_index:d}),g},XF_GRID.prototype._on_sortbutton_click=function(a,b,c,d){var e,f,g;return void 0===d&&(d=!0),d&&!this.xf_prop.header_clicksort?void this._setfocus(_XFD_FOCUSTYPE_CLICK):(g=b.column_index,e=this._ismultilinegrid()?this._getcolumndata(b.column_kind_type,g,b.sub_row_index):this._getcolumndata(b.column_kind_type,g,0),e.xf_column_data_prop.sorting?(f=e.xf_column_data_prop.sort_base_column_name.length>0?this.getcolumn(e.xf_column_data_prop.sort_base_column_name):b.column_index,1==factory.xf_param.GRID_HEADERCLICKSORT_CHECKMERGE&&1==d&&0==this._ismultilinegrid()&&this.item_merge_info_arr.length>0?void this._showsortmergepopup({alert_type:XF_GRID_POPUP_ALERT.ALERT_TYPE_SORTMERGE,row_index:-1,sub_row_index:b.sub_row_index,column_index:b.column_index,xf_column_data:e,is_headerclick:d,ctrl_key:a.ctrlKey,sort_column_index:f,sort_order:c}):(d&&0!=a.ctrlKey||this._resetcolumnsort(),this._addcolumnsortinfo(f,b.sub_row_index,c,g),void this._executecolumnsort())):void this._setfocus(_XFD_FOCUSTYPE_CLICK))},XF_GRID.prototype._showsortmergepopup=function(a){var b,c;b=new XF_GRID_POPUP_ALERT(this,a),c=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:factory._userlang("정렬","Sort"),url:"",xf_content:b.xf_object,padding:0,is_center:!0,top:this.gettop(),width:420,height:100}),b.xf_modalbox=c,c.show()},XF_GRID.prototype._on_xdataset_sort=function(a){var b,c,d,e,f,g,h;if(b=this.xf_xdataset._getsortinfo(),this._deletemidstatrow(-1),b.is_range_sort){for(g=b.range_info.end_row_index-b.range_info.start_row_index+1,f=[],d=0;g>d;d++)h=this.xf_data_row_arr[b.row_value_info_arr[d].row_index],h.xdataset_row_index=d+b.range_info.start_row_index,f[d]=h;for(d=0;g>d;d++)this.xf_data_row_arr[d+b.range_info.start_row_index]=f[d];this._sortcolumniteminfo(g,b)}else{for(c=this.xf_xdataset.getrowcount(),f=[],e=0;c>e;e++)h=this.xf_data_row_arr[b.row_value_info_arr[e].row_index],h.xdataset_row_index=e,f[e]=h;this.xf_data_row_arr=f,this._sortcolumniteminfo(c,b)}!this.is_rwd_mode&&this.is_rowheight_mode&&this._updategridrowbottom(0),this.selected_row_index=this.xf_xdataset.getpos(),this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!1,is_refresh_midstat_row_data:!0}),this._refreshgrid(),a!=XFD_DATA_CHANGE_BY_XDATASET&&this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_SORT,null,this)},XF_GRID.prototype._sortcolumniteminfo=function(a,b){var c,d,e,f,g,h,i,j;for(e=[],i=this.getcolumncount(),d=0;d<this.sub_row_count;d++)for(f=[],e.push(f),h=0;i>h;h++)for(g=[],f.push(g),j=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,h,d),c=0;a>c;c++)g[c]=j.item_info_arr[b.row_value_info_arr[c].row_index];for(d=0;d<this.sub_row_count;d++)for(f=e[d],h=0;i>h;h++)for(g=f[h],j=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,h,d),c=0;a>c;c++)j.item_info_arr[c+b.range_info.start_row_index]=g[c]},XF_GRID.prototype._on_xdataset_rangesort=function(a){var b,c,d,e,f;for(b=this.xf_xdataset._getrangesortinfo(),a==XFD_DATA_CHANGE_BY_XDATASET&&this._deletemidstatrow(-1),e=b.range_info.end_row_index-b.range_info.start_row_index+1,d=[],c=0;e>c;c++)f=this.xf_data_row_arr[b.row_value_info_arr[c].row_index],f.xdataset_row_index=c+b.range_info.start_row_index,d[c]=f;for(c=0;e>c;c++)this.xf_data_row_arr[c+b.range_info.start_row_index]=d[c];this._sortcolumniteminfo(e,b),this.selected_row_index=this.xf_xdataset.getpos(),a==XFD_DATA_CHANGE_BY_XDATASET&&(this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!1,is_refresh_midstat_row_data:!0}),this._refreshgrid())},XF_GRID.prototype.getstatmidtitle=function(a){return a=_xfu["int"](a),0>a||a>=this.midstat_info_arr.length?"":this.midstat_info_arr[a].title},XF_GRID.prototype.setstatmidtitle=function(a,b,c){var d,e,f;if(a=_xfu["int"](a),0>a||a>=this.midstat_info_arr.length)return!1;if(f=this.midstat_info_arr[a],f.title=b,f.title_arr=[],void 0===c||1==c){for(e=this.getrowcount(),d=e-1;d>=0;d--)this.xf_data_row_arr[d].is_midstat_row&&this.xf_data_row_arr[d].midstat_index==a&&this._updatemidstatrowdata(d,f.title_column_index,f.title,0);this._refreshgrid()}return!0},XF_GRID.prototype.deletestatmidrowtitle=function(a){var b;return a=_xfu["int"](a),isNaN(a)||0>a||a>=this.midstat_info_arr.length?!1:(b=this.midstat_info_arr[a],b.title_arr=[],this.setstatmidtitle(a,b.title,!0),!0)},XF_GRID.prototype.getstatmidrowtitle=function(a,b){var c;return a=_xfu["int"](a),isNaN(a)||0>a||a>=this.midstat_info_arr.length?null:(c=this.midstat_info_arr[a],b=_xfu["int"](a),isNaN(b)||0>b||b>=c.title_arr.length?null:c.title_arr[b])},XF_GRID.prototype.setstatmidrowtitle=function(a,b,c,d){var e,f,g,h;if(a=_xfu["int"](a),isNaN(a)||0>a||a>=this.midstat_info_arr.length)return!1;for(g=this.midstat_info_arr[a],g.title_arr[b]=c,h=0,f=this.getrowcount(),e=0;f>e;e++)if(this.xf_data_row_arr[e].is_midstat_row&&this.xf_data_row_arr[e].midstat_index==a){if(b==h){this._updatemidstatrowdata(e,g.title_column_index,c,0);break}h++}return void 0!==d&&1!=d||this._refreshgrid(),!0},XF_GRID.prototype.addstatmid=function(a,b,c,d,e,f){var g;g=this._addmidstatinfo(a,b,c,d,e,f),this._refreshmidstatrowdata(g)},XF_GRID.prototype.clearallstatuserrow=function(){var a,b,c,d;for(c=this.getcolumncount(),b=this.getstatrowcount(),a=0;b>a;a++)d=this.xf_stat_row_arr[a],d.xf_stat_row_prop.operation!=XFD_GRID_STAT_USER&&d.xf_stat_row_prop.operation!=XFD_GRID_STAT_COLUMN||this._clearstatuserrow(d,a,c);return this._displaystattable(),!0},XF_GRID.prototype.clearstatuserrow=function(a){var b,c;return a=_xfu["int"](a),b=this.getcolumncount(),c=this.xf_stat_row_arr[a],void 0==c?!1:c.xf_stat_row_prop.operation!=XFD_GRID_STAT_USER&&c.xf_stat_row_prop.operation==XFD_GRID_STAT_COLUMN?!1:(this._clearstatuserrow(c,a,b),this._displaystattable(),!0)},XF_GRID.prototype._clearstatuserrow=function(a,b,c){var d,e;for(d=0;c>d;d++)a.xf_stat_row_prop.operation==XFD_GRID_STAT_USER?(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,0),e.setcolumnitemtext(XF_GRID.ROW_KIND_STAT,b,"",!1)):a.xf_stat_row_prop.operation==XFD_GRID_STAT_COLUMN&&(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,0),e.xf_column_data_prop.statisticsrow_type==XFD_GRID_COLUMN_STAT_USER&&e.setcolumnitemtext(XF_GRID.ROW_KIND_STAT,b,"",!1))},XF_GRID.prototype.deleteallstatmid=function(){0!=this.midstat_info_arr.length&&(this.midstat_info_arr=[],this._deletemidstatrow(-1,!0),this._refreshgrid())},XF_GRID.prototype.deletestatmid=function(a){var b,c,d,e;if(a=_xfu["int"](a),0>a||a>=this.midstat_info_arr.length)return!1;for(this._deletemidstatrow(a,!0),this.midstat_info_arr.splice(a,1),c=this.midstat_info_arr.length,b=a;c>b;b++){for(e=this.getrowcount(),d=e-1;d>=0;d--)0!=this.xf_data_row_arr[d].is_midstat_row&&this.xf_data_row_arr[d].midstat_index==this.midstat_info_arr[b].midstat_index&&(this.xf_data_row_arr[d].midstat_index=b);this.midstat_info_arr[b].midstat_index=b}return!0},XF_GRID.prototype.getstatcolumncount=function(){return this._getcolumncount(XF_GRID.COLUMN_KIND_STAT)},XF_GRID.prototype.getstatrowtitleshow=function(){return this.xf_prop.statistics_row_titleshow},XF_GRID.prototype.setstatrowtitleshow=function(a){return a=_xfu.intval(a,0,1),a===!1?!1:(this.xf_prop.statistics_row_titleshow=a,this._displaystattable(),!0)},XF_GRID.prototype.getstatcolumnmetaid=function(a){var b;return a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_STAT,a)?"":(b=this.xf_stat_column_arr[a],b.xf_stat_column_prop.meta_id)},XF_GRID.prototype.setstatcolumnmetaid=function(a,b){var c;return a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_STAT,a)?!1:(c=this.xf_stat_column_arr[a],c.xf_stat_column_prop.meta_id=b,!0)},XF_GRID.prototype.getstatcolumntitle=function(a){var b;return a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_STAT,a)?"":(b=this.xf_stat_column_arr[a],b.xf_stat_column_prop.title)},XF_GRID.prototype.setstatcolumntitle=function(a,b){var c;return a=_xfu["int"](a),0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_STAT,a)?!1:(c=this.xf_stat_column_arr[a],c.xf_stat_column_prop.title=b,this._displayheadtable(XF_GRID.COLUMN_TABLE_RIGHT),!0)},XF_GRID.prototype.getstatofstattext=function(){var a,b,c;if(a=_xfu["int"](arguments[0]),2==arguments.length)b=0,c=_xfu["int"](arguments[1]);else{if(3!=arguments.length)return"";b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2])}return this._getitemtext(XF_GRID.ROW_KIND_STAT,a,XF_GRID.COLUMN_KIND_STAT,c,b)},XF_GRID.prototype.setstatofstattext=function(){var a,b,c,d,e,f,g,h;if(3==arguments.length)b=_xfu["int"](arguments[0]),c=0,d=_xfu["int"](arguments[1]),e=arguments[2];else{if(4!=arguments.length)return!1;b=_xfu["int"](arguments[0]),c=_xfu["int"](arguments[1]),d=_xfu["int"](arguments[2]),e=arguments[3]}return 0==this._isvalidrow(XF_GRID.ROW_KIND_STAT,b)?!1:0==this._isvalidsubrow(c)?!1:0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_STAT,d)?!1:(h=!1,(f=this.xf_stat_row_arr[b])&&(g=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,d,c))?(f.xf_stat_row_prop.operation==XFD_GRID_STAT_USER?h=!0:f.xf_stat_row_prop.operation==XFD_GRID_STAT_COLUMN&&g.xf_stat_column_data_prop.operation==XFD_GRID_COLUMN_STAT_USER&&(h=!0),1==h?(a=this._setitemtext(XF_GRID.ROW_KIND_STAT,b,XF_GRID.COLUMN_KIND_STAT,d,e,!1,c),0==a?!1:(this._refreshtd(XF_GRID.ROW_KIND_STAT,XF_GRID.COLUMN_KIND_STAT,b,c,d),!0)):!1):!1)},XF_GRID.prototype.getstatmidcount=function(){return this.midstat_info_arr.length},XF_GRID.prototype.getstatrowcount=function(){return this._getrowcount(XF_GRID.ROW_KIND_STAT)},XF_GRID.prototype.getstatmidrowfirst=function(a){return this._getmidstatrowindex(!0,a)},XF_GRID.prototype.getstatmidrownext=function(a){return this._getmidstatrowindex(!1,a)},XF_GRID.prototype.getstatrowmetaid=function(a){return this.xf_stat_row_arr[_xfu["int"](a)].xf_stat_row_prop.meta_id},XF_GRID.prototype.setstatrowmetaid=function(a,b){this.xf_stat_row_arr[_xfu["int"](a)].xf_stat_row_prop.meta_id=b},XF_GRID.prototype.getstatrowtitle=function(a){return this.xf_stat_row_arr[_xfu["int"](a)].xf_stat_row_prop.title},XF_GRID.prototype.setstatrowtitle=function(a,b){this.xf_stat_row_arr[_xfu["int"](a)].xf_stat_row_prop.title=b,this._displaystattable()},XF_GRID.prototype.getstatrowtitlecolumn=function(a){return this.xf_stat_row_arr[_xfu["int"](a)].xf_stat_row_prop.column_showtitle},XF_GRID.prototype.setstatrowtitlecolumn=function(a,b){this.xf_stat_row_arr[_xfu["int"](a)].xf_stat_row_prop.column_showtitle=_xfu["int"](b),this._displaystattable()},XF_GRID.prototype.getstatisticscoltext=function(){var a,b,c;if(a=_xfu["int"](arguments[0]),2==arguments.length)b=0,c=_xfu["int"](arguments[1]);else{if(3!=arguments.length)return"";b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2])}return this._getitemtext(XF_GRID.ROW_KIND_DATA,a,XF_GRID.COLUMN_KIND_STAT,c,b)},XF_GRID.prototype.setstatusercolumntext=function(){var a,b,c,d,e,f;if(f=!1,3==arguments.length)b=_xfu["int"](arguments[0]),c=0,d=_xfu["int"](arguments[1]),e=arguments[2];else{if(4!=arguments.length)return!1;b=_xfu["int"](arguments[0]),c=_xfu["int"](arguments[1]),d=_xfu["int"](arguments[2]),e=arguments[3]}return 0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,b)?!1:0==this._isvalidsubrow(c)?!1:0==this._isvalidcolumn(XF_GRID.COLUMN_KIND_STAT,d)?!1:(a=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,d,c))?(a.xf_stat_column_data_prop.operation==XFD_GRID_STAT_USER&&(f=!0),f?(a.setcolumnitemtext(XF_GRID.ROW_KIND_DATA,b,e,!1),this._refreshtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_STAT,b,c,d),!0):!1):!1},XF_GRID.prototype.getstatisticsrowdisplaytext=function(){return 2==arguments.length?this._getstatisticsrowtext(arguments[0],0,arguments[1],!0):3==arguments.length?this._getstatisticsrowtext(arguments[0],arguments[1],arguments[2],!0):""},XF_GRID.prototype.getstatisticsrowtext=function(){return 2==arguments.length?this._getstatisticsrowtext(arguments[0],0,arguments[1],!1):3==arguments.length?this._getstatisticsrowtext(arguments[0],arguments[1],arguments[2],!1):""},XF_GRID.prototype._getstatisticsrowtext=function(a,b,c,d){var e,f,g;return 0==this._isvalidrowcolumn(XF_GRID.ROW_KIND_STAT,a,XF_GRID.COLUMN_KIND_DATA,c)?"":0==this._isvalidsubrow(b)?"":(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),f=e.getcolumnstatrowitemdisplaytext(a,!0,XF_GRID.FILE_TYPE_GRID),d?f:(g=new RegExp("[^0-9^\\-^\\"+e.xf_column_data_prop.decimal_separator+"]","g"),f=f.replace(g,""),isNaN(f)&&(f=""),f))},XF_GRID.prototype.getstatuserrowtext=function(){var a,b,c,d,e;return 2==arguments.length?(a=_xfu["int"](arguments[0]),b=0,c=_xfu["int"](arguments[1])):(a=_xfu["int"](arguments[0]),b=_xfu["int"](arguments[1]),c=_xfu["int"](arguments[2])),e=this.xf_stat_row_arr[a],d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),e.xf_stat_row_prop.operation==XFD_GRID_STAT_USER?d.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,a):e.xf_stat_row_prop.operation==XFD_GRID_STAT_COLUMN?d.xf_column_data_prop.statisticsrow_type!=XFD_GRID_COLUMN_STAT_USER?"":d.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,a):""},XF_GRID.prototype.setstatuserrowtext=function(){var a,b,c,d,e,f,g;if(g=!1,3==arguments.length)c=_xfu["int"](arguments[0]),d=0,e=_xfu["int"](arguments[1]),f=arguments[2];else{if(4!=arguments.length)return!1;c=_xfu["int"](arguments[0]),d=_xfu["int"](arguments[1]),e=_xfu["int"](arguments[2]),f=arguments[3]}return b=this.xf_stat_row_arr[c],a=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e,d),b.xf_stat_row_prop.operation==XFD_GRID_STAT_USER?g=!0:b.xf_stat_row_prop.operation==XFD_GRID_STAT_COLUMN&&a.xf_column_data_prop.statisticsrow_type==XFD_GRID_COLUMN_STAT_USER&&(g=!0),g?(a.setcolumnitemtext(XF_GRID.ROW_KIND_STAT,c,f,!1),this._refreshtd(XF_GRID.ROW_KIND_STAT,XF_GRID.COLUMN_KIND_DATA,c,d,e),!0):!1},XF_GRID.prototype.getmidstatbackcolor=function(){return _xfu.color(this.xf_midstat_prop.back_color)},XF_GRID.prototype.setmidstatbackcolor=function(a){var b,c;for(this.xf_midstat_prop.back_color=_xfu.rgb(a),c=this.midstat_info_arr.length,b=0;c>b;b++)this.midstat_info_arr[b].is_default_backcolor&&(this.midstat_info_arr[b].back_color=this.xf_midstat_prop.back_color);return this._refreshgrid(),!0},XF_GRID.prototype.getmidstatistics=function(){return this.xf_midstat_prop.midstat_type},XF_GRID.prototype.setmidstatistics=function(a){return this.xf_midstat_prop.midstat_type=_xfu["int"](a),0==this.midstat_info_arr.length?!1:(this.midstat_info_arr[0].midstat_type=_xfu["int"](a),this._deletemidstatrow(-1,!1),this._refreshmidstatrowdata(-1),this._refreshgrid(),!0)},XF_GRID.prototype._refreshtreemidstatrowdata=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(0==this.xf_prop.folder_midstatistics)return this._refreshstatcolumndata(XF_GRID.ROW_KIND_DATA,-1),!1;for(f=[],a=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),b=0;a>b;b++)c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,0),0==c.xf_column_data_prop.data_type&&0!=c.xf_column_data_prop.statistics_show&&f.push(b);if(g=f.length,0==g)return this._refreshstatcolumndata(XF_GRID.ROW_KIND_DATA,-1),!1;if(d=this._getrowcount(XF_GRID.ROW_KIND_DATA),1>d)return this._refreshstatcolumndata(XF_GRID.ROW_KIND_DATA,-1),!1;for(h=0;g>h;h++)for(b=f[h],m=!0,n=[],o=[],c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,b,0),e=d-1;e>=0;e--)if(l=this._treegriditemdepth(e),i=this._istreegridhaschild(d,e,l)){switch(1==this.xf_prop.folder_midstatistics||4==this.xf_prop.folder_midstatistics||5==this.xf_prop.folder_midstatistics?j=n[l+1]:2==this.xf_prop.folder_midstatistics?j=n[l+1]/o[l+1]:3==this.xf_prop.folder_midstatistics&&(j=o[l+1]),this.xf_prop.folder_midstatistics){case 4:j==Number.MAX_VALUE&&(m=!1);break;case 5:j==Number.MIN_VALUE&&(m=!1)}switch(m&&this.xf_xdataset._setdata(e,c.xdataset_column_type,c.xdataset_column_index,_xfu.str(j),!1),q=0,this.xf_prop.folder_midstatistics){case 4:q=Number.MAX_VALUE;break;case 5:q=Number.MIN_VALUE}this._cleardepthstatarr(n,l+1,q),this._cleardepthstatarr(o,l+1,0)}else{if(k=this.getitemtext(e,b),3!=this.xf_prop.folder_midstatistics&&(k=parseFloat(k),isNaN(k)))continue;switch(this.xf_prop.folder_midstatistics){case 1:case 2:case 3:if(1==this.xf_prop.folder_midstatistics||2==this.xf_prop.folder_midstatistics)for(void 0===n[l]&&(n[l]=0),n[l]+=k,p=l-1;p>=0;p--)void 0===n[p]&&(n[p]=0),n[p]+=k;if(2==this.xf_prop.folder_midstatistics||3==this.xf_prop.folder_midstatistics)for(void 0===o[l]&&(o[l]=0),o[l]+=1,p=l-1;p>=0;p--)void 0===o[p]&&(o[p]=0),o[p]+=1;break;case 4:for(void 0===n[l]&&(n[l]=Number.MAX_VALUE),k<n[l]&&(n[l]=k),p=l-1;p>=0;p--)void 0===n[p]&&(n[p]=Number.MAX_VALUE),k<n[p]&&(n[p]=k);break;case 5:for(void 0===n[l]&&(n[l]=Number.MIN_VALUE),k>n[l]&&(n[l]=k),p=l-1;p>=0;p--)void 0===n[p]&&(n[p]=Number.MIN_VALUE),k>n[p]&&(n[p]=k)}}return this._refreshstatcolumndata(XF_GRID.ROW_KIND_DATA,-1),!0},XF_GRID.prototype._cleardepthstatarr=function(a,b,c){var d,e;for(e=a.length,d=b;e>d;d++)a[d]=c},XF_GRID.prototype._refreshmidstatrowdata=function(a){var b,c,d;if(d=this.midstat_info_arr.length,d>0)if(this._deletemidstatrow(a,!1),-1==a)for(b=0;d>b;b++)this._updatemidstatdata(b,!1);else this._updatemidstatdata(a,!1);return 0==this.is_stat_exclude_merged_item&&(c=this._refreshstatcolumndata(XF_GRID.ROW_KIND_DATA)),!!(d>0||c)},XF_GRID.prototype._getmidstatinfo=function(a){var b;return void 0==this.xf_data_row_arr[a]?null:(b=this.midstat_info_arr[this.xf_data_row_arr[a].midstat_index],void 0==b?null:b)},XF_GRID.prototype._addmidstatinfo=function(a,b,c,d,e,f){var g,h,i,j,k,l;for(k=!1,l=!1,void 0!==c&&null!==c||(c=this.xf_midstat_prop.title),d=void 0===d||-1==d?this.xf_midstat_prop.title_column_index:_xfu["int"](d),void 0===e||-1==e?(k=!0,e=this.xf_midstat_prop.fore_color):e=_xfu.rgb(e),void 0===f||-1==f?(l=!0,f=this.xf_midstat_prop.back_color):f=_xfu.rgb(f),b=_xfu.str(b),h=b.split(","),i=h.length,g=0;i>g;g++)h[g]=_xfu["int"](h[g]);return j={midstat_type:_xfu["int"](a),midstat_index:this.midstat_info_arr.length,column_index_arr:h,column_index_count:i,title:c,title_column_index:_xfu["int"](d),title_arr:[],fore_color:e,back_color:f,midstat_search_row_index:-1,is_default_forecolor:k,is_default_backcolor:l},this.midstat_info_arr.push(j),j.midstat_index},XF_GRID.prototype._updatemidstatdata=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(c=this.midstat_info_arr[_xfu["int"](a)],void 0==c)return!1;if(n=c.title_arr.length,g=this._getrowcount(XF_GRID.ROW_KIND_DATA),1>g)return!0;if(j=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),1>j)return!0;for(h=[],d=0;d<c.column_index_count;d++)i=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index_arr[d],r),h.push(this.xf_xdataset._getxdatasetcolumn(i.xdataset_column_type,i.xdataset_column_index));for(l=this.xf_xdataset._getmidstatrangeinfo(h),k=l.length,t=this._isstatexcludehiddenitem(),d=0;k>d;d++)for(m=l[d],g=this._getrowcount(XF_GRID.ROW_KIND_DATA),r=0;r<this.sub_row_count;r++){if(0==r){if(o=this._getrowcount(XF_GRID.ROW_KIND_DATA),0==this.xf_prop.mid_statistics_pos){for(f=m.start_row_index;g>f;f++)if(this._getxdatasetrowindex(f)==m.start_row_index){for(o=f;;){if(0>=o)break;if(0==this.ismidstatrow(o-1))break;o--}break}o>=g&&(o=0)}else{for(f=m.end_row_index;g>f;f++)if(this._getxdatasetrowindex(f)==m.end_row_index){for(o=f+1;;){if(0==this.ismidstatrow(o))break;if(o++,o>g)break}break}o>g&&(o=g)}this._insertmidstatrow(o,c.midstat_index,b),1==this.is_stat_exclude_merged_item&&(this.xf_data_row_arr[o].midstat_dataset_start_row_index=m.start_row_index,this.xf_data_row_arr[o].midstat_dataset_end_row_index=m.end_row_index)}for(e=0;j>e;e++)if(i=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e,r),e!=c.title_column_index)if(q=c.midstat_type,c.midstat_type==XFD_GRID_MIDSTAT_COLUMN&&(q=i.xf_column_data_prop.midstatistics_type+1),s=i.xf_column_data_prop.midstatistics_show,1==s&&(s=i.iscalcstatvalue(q-1)),0!=s)if(1!=this.is_stat_exclude_merged_item){switch(q!=XFD_GRID_MIDSTAT_SUM&&q!=XFD_GRID_MIDSTAT_AVER&&q!=XFD_GRID_MIDSTAT_COUNT||(p=0),q){case XFD_GRID_MIDSTAT_SUM:case XFD_GRID_MIDSTAT_AVER:case XFD_GRID_MIDSTAT_COUNT:case XFD_GRID_MIDSTAT_MIN:case XFD_GRID_MIDSTAT_MAX:1==t?(u=this._getstatrangeinfoarr(this._getgridrowindex(m.start_row_index),this._getgridrowindex(m.end_row_index)),v=u.length,p=this._getcolumnstatfromstatrangearr(i,q-1,u)):(p=this.xf_xdataset._columnstat(q-1,i.xdataset_column_type,i.xdataset_column_index,m.start_row_index,m.end_row_index),q==XFD_GRID_MIDSTAT_COUNT&&2==factory_xf_param.GRID_STATISTICS_COUNTTYPE&&(p-=this.xf_xdataset._blankvaluecount(i.xdataset_column_type,i.xdataset_column_index,m.start_row_index,m.end_row_index)));break;default:p=""}this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,p,!1,r)}else this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,"",!1,r);else i.xf_column_data_prop.cellmerge&&e<c.title_column_index&&this.xf_prop.mid_statistics_cellmerge&&(0==this.xf_prop.mid_statistics_pos?this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,this._getitemtext(XF_GRID.ROW_KIND_DATA,o+1,XF_GRID.COLUMN_KIND_DATA,e),!1):this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,this._getitemtext(XF_GRID.ROW_KIND_DATA,o-1,XF_GRID.COLUMN_KIND_DATA,e),!1));else 0==c.title_arr.length?this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,c.title,!1):n>d?this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,c.title_arr[d],!1):this._setitemtext(XF_GRID.ROW_KIND_DATA,o,XF_GRID.COLUMN_KIND_DATA,e,c.title,!1)}return!0},XF_GRID.prototype._refreshstatcolumndata=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(c=this._getcolumncount(XF_GRID.COLUMN_KIND_STAT),0==c)return!1;if(j=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),0>=j)return!0;for(g=this._isstatexcludehiddenitem(!0),l=0;l<this.sub_row_count;l++){for(h=[],k=0;j>k;k++)if(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,l),f.xf_column_data_prop.input_type==XF_GRID.COLUMN_INPUT_TYPE_EDITBOX&&f.xf_column_data_prop.data_type==XFD_GRID_DATA_NUMERIC&&1==f.xf_column_data_prop.statistics_show){if(1==g&&1==this.ishiddencolumn(k))continue;h.push(k)}if(i=h.length,0!=i)for(d=0;c>d;d++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,d,l),e.refreshdata(i,h,a,b)}return!0},XF_GRID.prototype._isstatexcludemergeditem=function(){return 0==this._isnormalgrid()?!1:void 0===factory_xf_param.GRID_STATISTICS_MERGEDITEM?!1:1!=this.xf_prop.statistics_mergeditem&&(0!=this.xf_prop.statistics_mergeditem||1!==factory_xf_param.GRID_STATISTICS_MERGEDITEM)},XF_GRID.prototype._isstatexcludehiddenitem=function(a){return void 0===a&&(a=!1),1==this._istreegrid()?!1:0==a&&0==this.is_statcheck_hiddenitem?!1:2==this.xf_prop.statistics_hiddenitem||0==this.xf_prop.statistics_hiddenitem&&2===factory_xf_param.GRID_STATISTICS_HIDDENITEM},XF_GRID.prototype._refreshstatrowdata=function(a){var b,c,d;if(this.stat_range_info_arr=[],this.stat_range_info_count=0,c=this._getrowcount(XF_GRID.ROW_KIND_STAT),0==c)return!1;for(1==this._isstatexcludehiddenitem()&&(this.stat_range_info_arr=this._getstatrangeinfoarr(-1,-1),this.stat_range_info_count=this.stat_range_info_arr.length),d=0;c>d;d++)b=this.xf_stat_row_arr[d],b.refreshdata(a);
return this._refreshstatcolumndata(XF_GRID.ROW_KIND_STAT),!0},XF_GRID.prototype._getstatrangeinfoarr=function(a,b){var c,d,e,f,g,h;if(c=[],e=this._getrowcount(),0>=e)return c;for(void 0!==a&&-1!=a||(a=0),(void 0===b||-1==b||b>=e)&&(b=e-1),g=-1,h=-1,d=a;b>=d;d++)1!=this._ismidstatrow(d)?(f=this._ishiddenrow(XF_GRID.ROW_KIND_DATA,d),1==f?-1!=g&&(h=d-1,c.push({grid_start_row_index:g,grid_end_row_index:h,start_row_index:this._getxdatasetrowindex(g),end_row_index:this._getxdatasetrowindex(h)}),g=-1,h=-1):-1==g&&(g=d)):-1!=g&&(h=d-1,c.push({grid_start_row_index:g,grid_end_row_index:h,start_row_index:this._getxdatasetrowindex(g),end_row_index:this._getxdatasetrowindex(h)}),g=-1,h=-1);return-1!=g&&(h=d-1,c.push({grid_start_row_index:g,grid_end_row_index:h,start_row_index:this._getxdatasetrowindex(g),end_row_index:this._getxdatasetrowindex(h)})),c},XF_GRID.prototype._getmidstatrowindex=function(a,b){var c,d;return d=this.getstatmidcount(),1>d?-1:void 0==b||0==b.length?(a&&(this.midstat_search_row_index=-1),this.midstat_search_row_index=this._searchmidstatrowindex(this.midstat_search_row_index),this.midstat_search_row_index):(b=_xfu["int"](b),c=this.midstat_info_arr[b],void 0==c?-1:(a&&(c.midstat_search_row_index=-1),c.midstat_search_row_index=this._searchmidstatrowindex(c.midstat_search_row_index,c.midstat_index),c.midstat_search_row_index))},XF_GRID.prototype._deletemidstatrow=function(a,b){var c,d;if(a=_xfu["int"](a),d=this._getrowcount(XF_GRID.ROW_KIND_DATA),-1==a)for(c=d-1;c>=0;c--)this.xf_data_row_arr[c].is_midstat_row&&(this._deletestatcolumnrow(c),this.xf_data_row_arr.splice(c,1),this.data_row_count--,void 0!==b&&1!=b||this._deleteiteminfo(c,!1));else for(c=d-1;c>=0;c--)this.xf_data_row_arr[c].is_midstat_row&&this.xf_data_row_arr[c].midstat_index==a&&(this._deletestatcolumnrow(c),this.xf_data_row_arr.splice(c,1),this.data_row_count--,void 0!==b&&1!=b||this._deleteiteminfo(c,!1));return!0},XF_GRID.prototype._deletestatcolumnrow=function(a){var b,c,d,e;if(c=this.getstatcolumncount(),0!=c)for(d=0;d<this.sub_row_count;d++)for(b=0;c>b;b++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,b,d),e.data_value_arr.splice(a,1)},XF_GRID.prototype._searchmidstatrowindex=function(a,b){var c,d;for(d=this.getrowcount(),c=a+1;d>c;c++)if(0!=this.xf_data_row_arr[c].is_midstat_row){if(void 0===b)return c;if(this.xf_data_row_arr[c].midstat_index==b)return c}return-1},XF_GRID.prototype._insertmidstatrow=function(a,b,c){var d,e,f,g,h;if(a=_xfu["int"](a),0>a||a>this.data_row_count)return!1;if(void 0!==c&&1!=c||this._insertblankiteminfo(a),d=this._creategridrow(-1),d.is_midstat_row=!0,d.midstat_index=b,d.is_enable_checkrow=!1,d.is_show_checkrow=!1,this.filter_info_arr.length>0&&(d.is_hidden_row=!0),this.xf_data_row_arr.splice(a,0,d),this.data_row_count++,this.is_rowheight_mode&&this._updategridrowbottom(a),g=this.getstatcolumncount(),g>0)for(h=0;h<this.sub_row_count;h++)for(f=0;g>f;f++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,f,h),e.data_value_arr.splice(a,0,"");return!0},XF_GRID.prototype._getcolumnstatfromstatrangearr=function(a,b,c){var d,e,f,g,h,i;for(d=0,g=c.length,i=this.xf_xdataset._getcolumn(a.xdataset_column_type,a.xdataset_column_id),f=0;g>f;f++)switch(h=c[f],e=this.xf_xdataset._columnstat(b,a.xdataset_column_type,i,h.start_row_index,h.end_row_index),b){case XFD_GRID_STAT_SUM:case XFD_GRID_STAT_AVER:d+=e;break;case XFD_GRID_STAT_COUNT:2==factory_xf_param.GRID_STATISTICS_COUNTTYPE&&(e-=this.xf_xdataset._blankvaluecount(a.xdataset_column_type,i,c[f].start_row_index,c[f].end_row_index)),d+=e;break;case XFD_GRID_STAT_MIN:d=""==d?e:Math.min(d,e);break;case XFD_GRID_STAT_MAX:d=""==d?e:Math.max(d,e)}switch(b){case XFD_GRID_STAT_AVER:d/=g}return d},XF_GRID.prototype.deleteallitems=function(){return this.deleteall()},XF_GRID.prototype.deleteitem=function(a){return this.deleterow(a)},XF_GRID.prototype.expandrow=function(a,b,c){return a=_xfu["int"](a),b=_xfu["int"](b),isNaN(b)||0>b||b>3?!1:0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:this._expandtreegriditem(a,b,c)},XF_GRID.prototype.expanddepth=function(a,b,c){return a=_xfu["int"](a),b=_xfu["int"](b),isNaN(b)||0>b||b>3?!1:this._expandtreegriddepth(a,b,c)},XF_GRID.prototype.isrowexpanded=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:this._isexpandedrow(a)},XF_GRID.prototype.findtreeitem=function(a){var b,c,d;if(void 0===a)return-1;if(null===a||0==a.length)return-1;for(c=this.xf_xdataset.getrowcount(),b=0;c>b;b++)if(d=this._treegriditemkey(b),a==d)return b;return-1},XF_GRID.prototype.getitemdepth=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?-1:this._treegriditemdepth(a)},XF_GRID.prototype.settreeitemprop=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n;if(a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a))return!1;if(k=this._treegriditemdepth(a),f=_xfu.intval(f,0,XFD_MAX_VALUE),this._settreegriditemprop(a,b,f,c,d,e),n=this._gettreeitemparentinfo(a,f),-1==n.row_index?this.xf_data_row_arr[a].is_hidden_row=!1:0==n.is_hidden_row&&1==n.is_expanded_row?this.xf_data_row_arr[a].is_hidden_row=!1:this.xf_data_row_arr[a].is_hidden_row=!0,1==g)for(l=f-k,j=this.getrowcount(),i=a+1;j>i&&(m=this._treegriditemdepth(i),!(k>=m));i++)this._treegriditemdepth(i,m+l);return void 0!==h&&1!=h||this._refreshgrid(),!0},XF_GRID.prototype.getitemkey=function(a){return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?"":this._treegriditemkey(a)},XF_GRID.prototype.getnextsiblingrow=function(a){var b,c,d,e;if(a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a))return-1;if(b=this.xf_xdataset.getrowcount(),a==b-1)return-1;for(d=this._treegriditemdepth(a),c=a+1;b>c&&(e=this._treegriditemdepth(c),!(d>e));c++)if(e==d)return c;return-1},XF_GRID.prototype.getparentrow=function(a){var b;return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?-1:(b=this._gettreeitemparentinfo(a,this._treegriditemdepth(a)),b.row_index)},XF_GRID.prototype._inserttreegridrow=function(a,b,c){a=_xfu["int"](a),b&&this.xf_xdataset._insertrow(a,this.xdataset_column_type,-1,0,c,this),this.xf_data_row_arr.splice(a,0,{is_hidden_row:!1,is_expanded_row:!0}),this.data_row_count++},XF_GRID.prototype._settreegriditemprop=function(a,b,c,d,e,f){var g,h;return(g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,0,0))?(h=g.xdataset_column_id,null!=b&&this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,h,b,!1),c>=0&&this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_depth_column_id,c,!1),d>=0&&this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_image_column_id,d,!1),e>=0&&this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_selimage_column_id,e,!1),null!=f&&this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_key_column_id,f,!1),!0):!1},XF_GRID.prototype._inserttreegriditemex=function(a,b,c,d,e,f,g,h){var i,j;this.xf_xdataset._insertrow(a,this.xdataset_column_type,-1,"",!1),this._settreegriditemprop(a,c,b,d,e,f),i=!1,g>=0&&(j=this.xf_data_row_arr[g],1!=j.is_hidden_row&&0!=j.is_expanded_row||(i=!0)),h?(this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_ROW_INSERT,{xdataset_row_index:a},this),this._insertgridrow(a,a,!1,i,!0,!1),this._refreshgrid()):(this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_ROW_INSERT,{xdataset_row_index:a},this),this._insertgridrow(a,a,!1,i,!0,!1))},XF_GRID.prototype.insertitem=function(a,b,c,d,e,f){return void 0===f&&(f=""),this.insertitemex(a,b,c,d,e,f,!0)},XF_GRID.prototype.insertitemex=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;if(void 0===g&&(g=!0),j=this.xf_xdataset._getdatabyname(0,this.xdataset_column_type,this.xdataset_depth_column_id),j=0==j.length?0:_xfu["int"](j),isNaN(j)&&(j=0),h=this.xf_xdataset.getrowcount(),p=this.findtreeitem(d),-1!=p)return p;if(k=this.findtreeitem(e),l=this.findtreeitem(f),-1==k)return i=h,this._inserttreegriditemex(i,j,a,b,c,d,-1,g),i;if(-1==l){for(m=this._treegriditemdepth(k),n=k+1;h>n&&(o=this._treegriditemdepth(n),!(m>=o));n++);return i=n,this._inserttreegriditemex(i,m+1,a,b,c,d,k,g),i}return j=this._treegriditemdepth(l),i=l+1,this._inserttreegriditemex(i,j,a,b,c,d,k,g),i},XF_GRID.prototype.inserttreeitem=function(a,b,c,d,e,f,g,h){var i,j;return f=_xfu.intval(f,-1,XFD_MAX_VALUE),f===!1?!1:(void 0===h&&(h=!0),i=a-1,-1==i||f==this.xf_prop.tree_rootdepth_value?(-1==f&&(f=this.xf_prop.tree_rootdepth_value),this._inserttreegriditemex(a,f,b,c,d,e,-1,h),!0):(-1==f?(j=this._treegriditemdepth(i),g?this._inserttreegriditemex(a,j+1,b,c,d,e,i,h):this._inserttreegriditemex(a,j,b,c,d,e,i,h)):this._inserttreegriditemex(a,f,b,c,d,e,i,h),!0))},XF_GRID.prototype.addtreeitem=function(a,b,c,d,e,f,g){var h,i;return i=this.xf_xdataset.getrowcount(),h=this.inserttreeitem(i,a,b,c,d,e,f,g),1==h?i:-1},XF_GRID.prototype.ishaschildren=function(a){var b;return a=_xfu["int"](a),0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?!1:(b=this.xf_xdataset.getrowcount(),this._istreegridhaschild(b,a,this._treegriditemdepth(a)))},XF_GRID.prototype.setfoldermidstat=function(a){return a=_xfu["int"](a),isNaN(a)?!1:0>a||a>5?!1:(a!=this.xf_prop.folder_midstatistics&&(this.xf_prop.folder_midstatistics=a,this._refreshtreemidstatrowdata(),this._refreshgrid()),!0)},XF_GRID.prototype.getitemtreeimage=function(a){var b,c;return c={strimageurl:"",nimageindex:-1,nselectedimageindex:-1},a=_xfu["int"](a),isNaN(a)?c:0==this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)?c:(b=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,0,0),c.strimageurl=b.xf_column_data_prop.image,c.nimageindex=_xfu._treegriditemimage(a),c.nselectedimageindex=_xfu._treegriditemselimage(a),c)},XF_GRID.prototype.setitemtreeimage=function(a,b){return this.setitemtreeimageex(a,b,!0)},XF_GRID.prototype.setitemtreeimageex=function(a,b,c){var d;a=_xfu["int"](a),isNaN(a)||0!=this._isvalidrow(XF_GRID.ROW_KIND_DATA,a)&&(void 0!==b.strimageurl&&b.strimageurl.length>0&&(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,0,0),d.xf_column_data_prop.image=b.strimageurl),void 0!==b.nimageindex&&(b.nimageindex=_xfu["int"](b.nimageindex),0==isNaN(b.nimageindex)&&b.nimageindex>=0&&this._treegriditemimage(a,b.nimageindex,c)),void 0!==b.nselectedimageindex&&(b.nselectedimageindex=_xfu["int"](b.nselectedimageindex),0==isNaN(b.nselectedimageindex)&&b.nselectedimageindex>=0&&this._treegriditemselimage(a,b.nselectedimageindex,c)))},XF_GRID.prototype._expandtreegriddepth=function(a,b,c){var d,e,f,g;if(f=this.getrowcount(),b==XFD_TREEITEM_TOGGLE){for(e=0;f>e;e++)if(g=this._treegriditemdepth(e),g==a){d=this._isexpandedrow(e)?XFD_TREEITEM_COLLAPSE:XFD_TREEITEM_EXPAND;break}if(e==f)return!1}else d=b;if(d==XFD_TREEITEM_COLLAPSE)for(e=f-1;e>=0;e--)g=this._treegriditemdepth(e),g>a?(this._setrowhidden(e,!0,!1),this._setexpandedrow(e,!1)):(this._setrowhidden(e,!1,!1),g==a?this._setexpandedrow(e,!1):this._setexpandedrow(e,!0));else if(d==XFD_TREEITEM_EXPAND)for(e=f-1;e>=0;e--)g=this._treegriditemdepth(e),g>a+1?(this._setrowhidden(e,!0,!1),this._setexpandedrow(e,!1)):g==a+1?(this._setrowhidden(e,!1,!1),this._setexpandedrow(e,!1)):(this._setrowhidden(e,!1,!1),this._setexpandedrow(e,!0));return(void 0===c||c)&&this._refreshgrid(),!0},XF_GRID.prototype._expandtreegriditem=function(a,b,c){var d;return d=b==XFD_TREEITEM_TOGGLE?this._isexpandedrow(a)?XFD_TREEITEM_COLLAPSE:XFD_TREEITEM_EXPAND:b,d==XFD_TREEITEM_COLLAPSE?(this._setexpandedrow(a,!1),this._setchildrowhidden(this.getrowcount(),a,this._treegriditemdepth(a),!0)):d==XFD_TREEITEM_EXPAND&&(this._setexpandedrow(a,!0),this._setchildrowhidden(this.getrowcount(),a,this._treegriditemdepth(a),!1)),(void 0===c||c)&&this._refreshgrid(),!0},XF_GRID.prototype._gettreegriditeminfo=function(a){var b;return b={depth:-1,is_expanded_row:!1,is_checked_row:!1,xf_item:null,xf_button:null,xf_text:null},a=_xfu["int"](a),b.xf_text=this.xf_object.find('._xf_grid_treeitem_text[data-row="'+a+'"]'),0==b.xf_text.length?b:(b.depth=this._treegriditemdepth(a),b.is_expanded_row=this._isexpandedrow(a),b.is_checked_row=this.xf_xdataset.ischeckedrow(a),b.xf_item=b.xf_text.parent(),b.xf_button=b.xf_item.find("._xf_grid_treeitem_button_action"),b)},XF_GRID.prototype._gettreeitemimagepos=function(a,b){var c;return c=_xfu["int"](a)*b,0==c?"0 center":"-"+c.toString(10)+"px center"},XF_GRID.prototype._gettreeitemparentinfo=function(a,b){var c,d;for(c=a-1;c>=0;c--)if(d=_xfu["int"](this.xf_xdataset._getdatabyname(c,this.xdataset_column_type,this.xdataset_depth_column_id)),d==b-1)return{row_index:c,is_expanded_row:this.xf_data_row_arr[c].is_expanded_row,is_hidden_row:this.xf_data_row_arr[c].is_hidden_row};return{row_index:-1,is_expanded_row:!0,is_hidden_row:!1}},XF_GRID.prototype._gettreeitemparentinfobyparentdepth=function(a,b){var c,d;for(c=a-1;c>=0;c--)if(d=_xfu["int"](this.xf_xdataset._getdatabyname(c,this.xdataset_column_type,this.xdataset_depth_column_id)),b>=d)return{row_index:c,is_expanded_row:this.xf_data_row_arr[c].is_expanded_row,is_hidden_row:this.xf_data_row_arr[c].is_hidden_row};return{row_index:-1,is_expanded_row:!1,is_hidden_row:!1}},XF_GRID.prototype._setchildrowhidden=function(a,b,c,d){var e,f,g;if(g=_xfu["int"](this.xf_xdataset._getdatabyname(b+1,this.xdataset_column_type,this.xdataset_depth_column_id)),1==d)for(e=b+1;a>e&&(f=_xfu["int"](this.xf_xdataset._getdatabyname(e,this.xdataset_column_type,this.xdataset_depth_column_id)),!(c>=f));e++)this.xf_data_row_arr[e].is_hidden_row=d;else for(e=b+1;a>e&&(f=_xfu["int"](this.xf_xdataset._getdatabyname(e,this.xdataset_column_type,this.xdataset_depth_column_id)),!(c>=f));e++)f==g&&(this.xf_data_row_arr[e].is_hidden_row=d,1==this.xf_data_row_arr[e].is_expanded_row&&this._setchildrowhidden(a,e,f,d));this.is_rowheight_mode&&this._updategridrowbottom(b)},XF_GRID.prototype._getchildrowcount=function(a){var b,c,d,e,f;for(f=0,c=this.getrowcount(),e=this._treegriditemdepth(a),b=a+1;c>b&&(d=_xfu["int"](this.xf_xdataset._getdatabyname(b,this.xdataset_column_type,this.xdataset_depth_column_id)),!(e>=d));b++)f++;return f},XF_GRID.prototype._istreegridhaschild=function(a,b,c){var d;return b==a-1?!1:(d=this._treegriditemdepth(b+1),d>=c+1)},XF_GRID.prototype._treegriditemdepth=function(a,b){var c;return 1==arguments.length?(c=this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.xdataset_depth_column_id),_xfu["int"](c)):void this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_depth_column_id,b)},XF_GRID.prototype._treegriditemtext=function(a,b){return 1==arguments.length?this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.xdataset_text_column_id):void this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_text_column_id,b)},XF_GRID.prototype._treegriditemdata=function(a,b){return 1==arguments.length?this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.xdataset_data_column_id):void this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_data_column_id,b)},XF_GRID.prototype._treegriditemimage=function(a,b,c){return 1==arguments.length?this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.xdataset_image_column_id):void(c?this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_image_column_id,b,c,null):this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_image_column_id,b,c,this))},XF_GRID.prototype._treegriditemselimage=function(a,b,c){return 1==arguments.length?this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.xdataset_selimage_column_id):void(c?this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_selimage_column_id,b,c,null):this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_selimage_column_id,b,c,this))},XF_GRID.prototype._treegriditemkey=function(a,b){return 1==arguments.length?this.xf_xdataset._getdatabyname(a,this.xdataset_column_type,this.xdataset_key_column_id):void this.xf_xdataset._setdatabyname(a,this.xdataset_column_type,this.xdataset_key_column_id,b)},XF_GRID.prototype.groupby=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(e=screen.getxdataset(a),null==e)return!1;if(f=b.split(","),g=c.split(","),h=f.length,i=g.length,0==f.length||0==g.length)return!1;for(q=[],j=0;h>j;j++)q.push(e.getcolumn(f[j]));for(r=[],j=0;i>j;j++)r.push(e.getcolumn(g[j]));for(m=this.getcolumncount(),l=m-1;l>0;l--)this.deletecolumn(l);for(this.deleteallrows(),j=1;i>j;j++)j==i-1?this.addcolumn(!0):this.addcolumn(!1);for(m=this.getcolumncount(),j=0;m>j;j++)this.setheadertext(0,j,e.getcolumndesc(r[j]));for(v=[],w=[],j=1;i>j;j++)v.push(this._getcolumndataxdatasetcolumnid(XF_GRID.COLUMN_KIND_DATA,j,0)),w.push(this.xf_xdataset._getcolumn(XFD_XDATASET_COLUMN_INNER,v[j-1]));for(t=0,u=this._getcolumndataxdatasetcolumnid(XF_GRID.COLUMN_KIND_DATA,0,0),o=[],k=0;h>k;k++)o.push("");for(n=e.getrowcount(),s=0;n>s;s++){for(p=[],j=0;h>j;j++)p.push(e.getdata(s,q[j]));for(j=0;h>j;j++)if(o[j]!=p[j]){for(k=j+1;h>k;k++)o[k]="";this.xf_xdataset._insertrow(t,0,-1,"",!1,null),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_depth_column_id,j,!1,this),0==j?(this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_image_column_id,"0",!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_selimage_column_id,"0",!1,this)):(this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_image_column_id,"1",!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_selimage_column_id,"2",!1,this)),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_key_column_id,"",!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,u,p[j],!1,this),t++}for(this.xf_xdataset._insertrow(t,0,-1,"",!1,null),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_depth_column_id,j,!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_image_column_id,"3",!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_selimage_column_id,"3",!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,this.xdataset_key_column_id,"",!1,this),this.xf_xdataset._setdatabyname(t,XFD_XDATASET_COLUMN_INNER,u,e.getdata(s,r[0]),!1,this),j=1;i>j;j++)this.xf_xdataset._setdata(t,XFD_XDATASET_COLUMN_INNER,w[j-1],e.getdata(s,r[j]),!1,this);t++,o=p}return this.xf_xdataset._fireevent(XFD_XDATASET_EVENT_DATA_LOAD,null,null),!0},XF_GRID_COLUMN.prototype._init=function(a,b){this.xf_grid=a,this.column_index=b,this.enable_status="relative"},XF_GRID_COLUMN.prototype._member=function(){this.xf_column_head_arr=[],this.xf_column_data_arr=[],this.is_hidden_column=!1,this.width=80},XF_GRID_COLUMN.prototype._create=function(){this.xf_grid._addcolumn(this)},XF_GRID_COLUMN.prototype.addcolumndata=function(a){return this.xf_column_data_arr.push(a),this.xf_column_data_arr.length-1},XF_GRID_COLUMN.prototype.addcolumnhead=function(a){return this.xf_column_head_arr.push(a),this.xf_column_head_arr.length-1},XF_GRID_COLUMN.prototype.setcolumnindex=function(a){var b,c;for(this.column_index=a,b=this.xf_column_head_arr.length,c=0;b>c;c++)this.xf_column_head_arr[c].column_index=a;for(b=this.xf_column_data_arr.length,c=0;b>c;c++)this.xf_column_data_arr[c].column_index=a},XF_GRID_COLUMN_HEAD.prototype._init=function(a,b,c,d){this.xf_grid=a,this.xf_column=b,this.column_index=c,this.column_width=d,this.row_index=0,this.sub_row_index=0,this.xf_object=null,this.is_check=this.xf_grid.xf_prop.column_headcheck_empty,this.is_enable=!0,this.header_textmargin=[2,2,0,0],this.text_padding_css="",this.header_forecolor_css="",this.enable_status="relative",1==factory_xf_param.GRID_HEADERCHECK_INITENABLE&&1==this.xf_grid.xf_prop.editable&&(this.enable_status="absolute")},XF_GRID_COLUMN_HEAD.prototype._prop=function(a){this.xf_column_head_prop={meta_id:"",title:"제목없음",tooltip:"",horz_align:1,vert_align:1,text_wordbreak:!1,text_wordellipsis:!0,style:"",forecolor:[0,0,0],backcolor:[210,210,210],gradient_effect:0,gradient_startcolor:[255,255,255],gradient_endcolor:[225,225,225],image:"",image_horzalign:0,text_leftmargin:-1,text_rightmargin:-1,header_textmargin:[0,0,0,0],expr_func:"",checkbox_show:!1,check_image:"",uncheck_image:"",dis_check_image:"",dis_uncheck_image:"",check_width:0,check_height:0,check_click_action:0,line_height:-1,checkbox_enable:!0},_xfx.style(this.xf_grid,a),_xfx.propconv(this.xf_grid,this.xf_column_head_prop,a),$.extend(this.xf_column_head_prop,a),void 0===a.header_textmargin?(this.xf_column_head_prop.header_textmargin=void 0,-1==this.xf_column_head_prop.text_leftmargin&&-1==this.xf_column_head_prop.text_rightmargin?this.header_textmargin=this.xf_grid.header_textmargin:(-1!=this.xf_column_head_prop.text_leftmargin&&(this.header_textmargin[0]=this.xf_column_head_prop.text_leftmargin),-1!=this.xf_column_head_prop.text_rightmargin&&(this.header_textmargin[1]=this.xf_column_head_prop.text_rightmargin))):this.header_textmargin=this.xf_column_head_prop.header_textmargin,this.text_padding_css=this.xf_grid._textpaddinghtml(this.header_textmargin),void 0===a.forecolor&&(this.xf_column_head_prop.forecolor=this.xf_grid.xf_prop.header_forecolor),this.header_forecolor_css=_xfc.forecolor(this.xf_column_head_prop.forecolor,this.xf_grid.xf_prop.header_forecolor,null),void 0===a.backcolor&&(this.xf_column_head_prop.backcolor=this.xf_grid.xf_prop.header_backcolor),this.xf_column_head_prop.title=this.xf_column_head_prop.title.replace(/\r/g,"")},XF_GRID_COLUMN_HEAD.prototype._create=function(){this.sub_row_index=this.xf_column.addcolumnhead(this)},XF_GRID_COLUMN_HEAD.prototype.getcolumnhtml=function(a,b){var c,d,e,f,g,h,i,j,k;if(c=[],d=this.xf_grid._getmergeinfo(this.sub_row_index,this.column_index,this.xf_grid.header_merge_info_count,this.xf_grid.header_merge_info_arr,XF_GRID.MERGE_INFO_HEADER),f=!1,d.is_merge&&1==d.row_span&&1==d.column_span&&(f=!0),b.is_hidden=f,f)return XF_GRID.HIDDEN_TD_HTML;for(c.push("<td"),this.xf_grid._spanhtml(d.row_span,d.column_span,c),b.row_span=d.row_span,b.column_span=d.column_span,c.push(' class="_xf_grid_td '+this.xf_grid.class_td_border),this.xf_grid._tdborderinnerhorzclass(this.sub_row_index,d.row_span,c),0==this.xf_column_head_prop.gradient_effect&&c.push(" "+this.xf_grid.class_head_gradient),c.push('"'),c.push(' style="'),c.push(this.header_forecolor_css),this.sub_row_index>0&&0==_xfu.isequalarray(this.xf_column_head_prop.backcolor,this.xf_column.xf_column_head_arr[0].xf_column_head_prop.backcolor)&&c.push(_xfc.backcolor(null,!1,this.xf_column_head_prop.backcolor,void 0)),i=!1,j=this.xf_column_head_prop.title,h=this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_HEAD,this.xf_column_head_prop.expr_func,this.sub_row_index,this.sub_row_index,this.column_index,j),h&&(void 0!==h.css&&h.css.length>0&&c.push(h.css),void 0!==h.itemtext&&(j=h.itemtext),void 0!==h.hidden&&(i=h.hidden)),0!=this.xf_column_head_prop.gradient_effect&&c.push(_xfc.gradient(null,this.xf_column_head_prop.gradient_effect,this.xf_column_head_prop.gradient_startcolor,this.xf_column_head_prop.gradient_endcolor)),k=this.xf_grid.getcolumnwidthsum(d.start_column_index,d.end_column_index,!0),c.push("max-width:"+_xfu.px(k)+";"),c.push('">'),e=0,g=d.start_row_index;g<=d.end_row_index;g++)e+=this.xf_grid.getheaderrowheight(g);return 0==i&&c.push(this.getcolumnitemhtml(e,j,d)),c.push("</td>"),c.join("")},XF_GRID_COLUMN_HEAD.prototype.setitemcheckenable=function(a,b){var c,d;return this.is_enable=a,this.enable_status=b,this.xf_column_head_prop.checkbox_show?(c=this.xf_grid._findheadelement(this.sub_row_index,this.column_index,"check"))?(d=this.getcolumncheckimage(),this.xf_grid._displayitemcheck(c,this.is_check,this.is_enable,d),!0):!1:!0},XF_GRID_COLUMN_HEAD.prototype.getitemcheckenable=function(){var a,b;return"absolute"==this.enable_status?this.is_enable:(b=this.xf_grid._ismultilinegrid()?this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.column_index,this.sub_row_index):this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.column_index,0),a=b.getcolumneditableinfo(),a.is_editable)},XF_GRID_COLUMN_HEAD.prototype.getcolumnitemhtml=function(a,b,c){var d,e,f,g,h,i;return d=[],void 0===b&&(b=this.xf_column_head_prop.title),d.push('<div class="_xf_grid_item"'),d.push(' title="'+_xfu.quot(this.xf_column_head_prop.tooltip)+'"'),this.xf_grid.xf_prop.column_moveable&&d.push(' draggable="true"'),d.push(' style="'),c.row_span>1&&factory.isapple()&&(d.push("height:"+(this.xf_grid.getheaderrowheight(this.sub_row_index)-1)+"px;"),d.push("max-")),d.push("height:"+(a-1)+"px;"),i=this.xf_column_head_prop.line_height,0>i&&(i=this.xf_grid.xf_prop.line_height),i>0&&d.push("line-height:"+_xfu.px(i)+";"),1!=this.xf_column_head_prop.vert_align&&d.push(_xfc.alignitems(null,this.xf_column_head_prop.vert_align)),1!=this.xf_column_head_prop.horz_align&&d.push(_xfc.justifycontent(null,this.xf_column_head_prop.horz_align)),this.xf_column_head_prop.image.length>0&&(0==this.xf_column_head_prop.image_horzalign?(d.push("background-image:"+_xfx.imageurlfunc(this.xf_column_head_prop.image)+";"),d.push("background-position:left center;"),d.push("background-repeat:no-repeat;")):1==this.xf_column_head_prop.image_horzalign?(d.push("background-image:"+_xfx.imageurlfunc(this.xf_column_head_prop.image)+";"),d.push("background-position:center center;"),d.push("background-repeat:no-repeat;")):2==this.xf_column_head_prop.image_horzalign?(d.push("background-image:"+_xfx.imageurlfunc(this.xf_column_head_prop.image)+";"),d.push("background-position:right center;"),d.push("background-repeat:no-repeat;")):5==this.xf_column_head_prop.image_horzalign&&(d.push("background-image:"+_xfx.imageurlfunc(this.xf_column_head_prop.image)+";"),d.push("background-position:left left;"),d.push("background-repeat:no-repeat;"))),d.push('">'),this.xf_column_head_prop.image.length>0&&3==this.xf_column_head_prop.image_horzalign&&(d.push('<img src="'+_xfx.imageurl(this.xf_column_head_prop.image)+'" style="'),d.push("border:none;"),d.push("margin:0px;"),d.push("padding:0px;"),d.push("vertical-align:middle;"),d.push('"></img>')),h=0,b.length>0&&(h=XF_GRID.ITEM_DEFAULT_PADDING),this.is_enable=this.getitemcheckenable(),d.push(this.xf_grid._getitemcheckhtml("_xf_grid_item_check_head_column",this.xf_column_head_prop.checkbox_show,this.is_check,this.is_enable,this.getcolumncheckimage(),h,this.xf_column_head_prop.check_width,this.xf_column_head_prop.check_height)),d.push('<span class="_xf_grid_item_span _xf_grid_item_span_title _xfd_padding'),d.push('" style="'),this.xf_column_head_prop.checkbox_show&&0==b.length?d.push("padding:0px;"):d.push(this.text_padding_css),this.xf_grid.xf_prop.header_font[4]?d.push("text-decoration:underline;"):this.xf_grid.xf_prop.header_font[5]&&d.push("text-decoration:line-through;"),d.push(_xfc.basic("horz_align",this.xf_column_head_prop.horz_align,!1,null)),this.xf_column_head_prop.text_wordbreak&&d.push("white-space:pre-wrap;"),0==this.xf_column_head_prop.text_wordellipsis&&d.push("text-overflow:clip;"),d.push('">'+b+"</span>"),this.xf_column_head_prop.image.length>0&&4==this.xf_column_head_prop.image_horzalign&&(d.push('<img src="'+_xfx.imageurl(this.xf_column_head_prop.image)+'" style="'),d.push("border:none;"),d.push("margin:0px;"),d.push("padding:0px;"),d.push("vertical-align:middle;"),d.push('"></img>')),0==this.column_index&&this.xf_grid._istreegrid()?this.xf_grid.xf_prop.treeimage_toggle_disp&&d.push('<span title="toggle tree image" class="_xf_grid_item_span _xf_grid_item_span_treeimage"></span>'):(e=this.xf_grid._ismultilinegrid()?this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.column_index,this.sub_row_index):this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.column_index,0),e.xf_column_data_prop.pattern.length>0||e.xf_column_data_prop.expr_func.length>0?this.xf_grid.xf_prop.pattern_toggle_disp&&d.push('<span title="toggle pattern" class="_xf_grid_item_span _xf_grid_item_span_pattern"></span>'):d.push('<span title="toggle pattern" class="_xf_grid_item_span _xf_grid_item_span_pattern" style="display:none;"></span>'),e.xf_column_data_prop.group_id.length>0&&0==this.xf_grid._ismultilinegrid()&&1==this.xf_grid.xf_prop.header_horzcount&&d.push('<span title="column group" class="_xf_grid_item_span _xf_grid_item_span_group"></span>')),f=parseInt((a-15)/2,10),g="top:"+_xfu.px(f)+";",this.xf_grid._ismultilinegrid()?this.xf_grid.xf_prop.column_sort&&0!=this.xf_grid.xf_prop.column_sort_disp||(g+="display:none;"):this.xf_grid.xf_prop.column_sort&&0!=this.xf_grid.xf_prop.column_sort_disp?0==this.xf_grid._iscolumnbuttonshow(this.sub_row_index,this.column_index,c.row_span,c.column_span)&&(g+="display:none;"):g+="display:none;",this.xf_grid._ismultilinegrid()?(e=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.column_index,this.sub_row_index),e.xf_column_data_prop.sorting&&d.push('<button class="_xf_grid_head_btn _xf_grid_head_btn_sort" style="'+g+'"></button>')):(e=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.column_index,0),e.xf_column_data_prop.sorting&&d.push('<button class="_xf_grid_head_btn _xf_grid_head_btn_sort" style="'+g+'"></button>')),d.push('<button class="_xf_grid_head_btn _xf_grid_head_btn_filter" style="top:'+_xfu.px(f)+";"),0==this.xf_grid.is_filter_show&&0==this.xf_grid.xf_prop.column_filter_disp&&d.push("display:none;"),d.push('"></button>'),d.push("</div>"),d.join("")},XF_GRID_COLUMN_HEAD.prototype.getcolumncheckimage=function(){return this.is_check?this.is_enable?this.xf_column_head_prop.check_image:this.xf_column_head_prop.dis_check_image:this.is_enable?this.xf_column_head_prop.uncheck_image:this.xf_column_head_prop.dis_uncheck_image},XF_GRID_COLUMN_HEAD.prototype.getcolumnheadertext=function(){return this.xf_column_head_prop.title},XF_GRID_COLUMN_DATA.prototype._init=function(a,b,c){this.xf_grid=a,this.xf_column=b,this.column_index=c,this.sub_row_index=0,this._xdataset(),this.stat_value_arr=[],this.item_info_arr=[],this.statrow_item_info_arr=[],this.column_merge_info={},this.xdataset_column_id="",this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,this.xdataset_column_index=0,this.sort_order=XFD_GRID_SORT_NONE,this.is_filter_applied=!1,this.xf_td=null,this.xf_combobox=null,this.xf_date=null,this.xf_input=null,this.xf_checkbox=null,this.xf_spinnumber=null,this.xf_popfield=null,this.xf_color=null,this.pattern="",this.pattern_type=XFD_PATTERN_TYPE_NONE,this.xf_regexp=null,this.xf_picklist=null,this.user_data_info={},this.is_pattern_apply=!0,this.number_pattern_info=null,this.statsum_pattern_info=null,this.statavg_pattern_info=null,this.statcount_pattern_info=null,this.statmin_pattern_info=null,this.statmax_pattern_info=null,this.cell_textmargin=[2,2,0,0],this.text_padding_css="",this.editable_status="relative",this.is_draw_leftline=!0,this.is_draw_rightline=!0,this.showedit_by_itembuttonclick=!1,this.excel_item_info_arr=null,this.excel_statrow_item_info_arr=null,this.is_useallchekcboxcomment=!1},XF_GRID_COLUMN_DATA.prototype._prop=function(a){this.xf_column_data_prop={name:"",description:"",meta_id:"",width:80,style:"",custom_input_attr:"",custom_input_class:"",forecolor:[0,0,0],backcolor:[255,255,255],item_backcolor:-1,item_backcolor_type:0,text_horzalign:0,text_vertalign:1,text_wordbreak:!1,text_wordellipsis:!0,hyperlink_textstyleuse:!1,hyperlink_color:[0,0,0],hyperlink_underline:!1,hyperlink_visitedcoloruse:!1,hyperlink_visitedcolor:[0,0,0],hyperlink_visitedunderline:!1,hyperlink_hovercoloruse:!1,hyperlink_hovercolor:[0,0,0],hyperlink_hoverunderline:!1,statistics_sumuse:!0,statistics_avguse:!0,statistics_countuse:!0,statistics_minuse:!0,statistics_maxuse:!0,statistics_sumpattern:"",statistics_avgpattern:"",statistics_minpattern:"",statistics_maxpattern:"",statistics_countpattern:"",font:"",image:"",button_imagelist:"",image_horzalign:0,checkbox_truevalue:"1",checkbox_falsevalue:"0",checkbox_excelstyle:0,checkbox_title:"",check_width:0,check_image:"",uncheck_image:"",dis_check_image:"",dis_uncheck_image:"",editable:!1,edit_stop:!0,sorting:"",hidden:!1,imemode:0,data_type:1,input_type:0,data_inputtype:0,edit_focus_select:0,make_case:0,mouse_cursor:0,editbox_multiline:!1,
line_height:-1,editbox_popbtneditable:!0,editbox_popbtnshow:!1,editbox_popbtnsize:17,editbox_popbtnimage:"",mobile_keyboard:0,hint_text:"",max_length:0,min_length:0,meta_maxlength:0,max_length_unit:0,max_value:XFD_MAX_VALUE,min_value:XFD_MIN_VALUE,pattern:"",masking_length:0,pattern_mask:"",pattern_front_symbol:"",pattern_rear_symbol:"",pattern_func:"",blank_display_type:0,text_leftmargin:-1,text_rightmargin:-1,cell_textmargin:[0,0,0,0],resizable:!0,excel_rw:!0,cellmerge:"",treemerge:!1,show_tooltip:!1,tooltip_show:0,tooltip_unmask:0,default_value:"",prefilldata:"",expr_func:"",midstat_expr_func:"",statrow_expr_func:"",sort_func:"",popupmenu:"",round_type:0,group_id:"",allow_dup:!1,auto_skip:1,dup_name:"",auto_complete:!1,has_lines:!1,has_buttons:!0,has_icons:!0,item_buttonwidth:9,item_imagewidth:16,item_gapwidth:3,item_depthwidth:16,link_data:"",picklist_linkdata:"",combobox_style:0,combobox_editable:!0,combobox_defaultvalue_type:0,combobox_data:"",combobox_excelstyle:0,combobox_autocodevalid:!1,combobox_showbutton:!0,combobox_showbutton_editmode:!0,combobox_buttonsize:17,combobox_buttonimage:"",combobox_maxselectcount:1,combobox_valuedelimiter:"/",combobox_displaydelimiter:"/",combobox_showcheckbox:!1,combobox_showselectbox_focusin:0,combobox_clickitem_action:0,combobox_showallcheckbox:!1,combobox_allcheckbox_comment:"전체",combobox_allcheck_textdisplay:0,combobox_allcheckbox_backcolor:[230,233,237],combobox_selectbox_pos:0,combobox_selectbox_vertpos:0,combobox_selectbox_itemheight:0,combobox_selectbox_datastyle:0,combobox_selectbox_overflowx:0,combobox_selectbox_overflowy:0,combobox_mousewheel_itemselect:0,picklist:"",picklist_hiddenitem:0,picklist_selstyle:0,picklist_viewstyle:1,picklist_viewsort:0,picklist_filter:"",picklist_filter_type:0,picklist_keyinfilter:0,picklist_showmaxcount:20,picklist_popupcount:-1,selecttable_columncount:0,selecttable_codecolumn:0,selecttable_commentcolumn:1,selecttable_showcolumnheader:!0,selecttable_propdelimiter:";",selecttable_columnalign:"",selecttable_columnwidth:"",selecttable_columntitle:"",selecttable_columndatadelimiter:":",selecttable_rowdatadelimiter:";",selecttable_data:[],selecttable_autocolumnsize:!1,calendar_image:"",calendar_datetype:0,calendar_type:0,calendar_editable:!1,calendar_showcalendar_focusin:0,calendar_showbutton:!0,calendar_showbutton_editmode:!0,calendar_buttonsize:17,calendar_pos:0,calendar_vert_pos:0,calendar_size:0,calendar_showtodaybar:!1,calendar_timetype:0,popfield_buttonsize:17,popfield_buttonhidden:!1,popfield_buttonimage:"",popfield_editable:!0,color_buttonsize:17,color_buttonhidden:!1,color_buttonimage:"",color_editable:!0,color_valueformat:0,radio_items:"",radio_item_rightmargin:4,bargauge_margin:[0,0,0,0],bargauge_backcolor:[255,255,255],bargauge_transparent:!0,bargauge_backimage:"",bargauge_border:0,bargauge_bordercolor:[180,180,180],bargauge_radius:0,bargauge_bar_backcolor:[180,180,180],bargauge_bar_image:"",bargauge_bar_border:0,bargauge_bar_bordercolor:[180,180,180],bargauge_bar_radius:0,bargauge_bar_reverse:!1,bargauge_showtext:!1,button_margin:[0,0,0,0],button_height:100,button_height_percent:100,button_height_unit:1,button_width:100,button_width_percent:100,button_width_unit:1,button_text:"",button_text_horzalign:1,button_showtext:!0,button_style_class:0,button_custom_class:"",button_backcolor:[255,255,255],button_transparent:!0,button_border:1,button_bordercolor:[180,180,180],button_radius:4,button_imageshow:!0,button_image:"",button_imagenormal:"",button_imagedisable:"",button_imagehover:"",button_imagedown:"",button_imagesize:0,button_imagehorzalign:0,button_imagevertalign:0,button_imagefillstyle:0,button_gradient_effect:0,button_gradient_startcolor:[255,255,255],button_gradient_endcolor:[225,225,225],button_disable_forecolor:[180,180,180],button_disable_backcolor:[255,255,255],image_margin:[0,0,0,0],image_datatype:0,image_size:0,image_halign:1,image_valign:1,image_fillstyle:0,image_delimiter:",",image_list:"",chart_margin:[0,0,0,0],chart_type:0,spinnumber_spinstep:1,spinnumber_editable:!0,spinnumber_showbutton:!0,spinnumber_buttonsize:17,statistics_show:!0,statisticsrow_type:0,base_midstatistics:!1,midstatistics_show:!0,midstatistics_type:0,decimal_separator:factory_xf_param.USER_DECIMAL_SEPARATOR,thousands_separator:factory_xf_param.USER_THOUSANDS_SEPARATOR,image_list:[],image_index_list:[],sort_base_column_name:"",encrypt_type:0,image_show:!0,radio_info:{clrellipse:0,arritems:[]},init_width:80},this.event_name_arr=["on_columnclick","on_columndblclick","on_columnmousehover","on_columnmousein","on_columnmouseout"],_xfx.style(this.xf_grid,a),_xfx.propconv(this.xf_grid,this.xf_column_data_prop,a),void 0!==a.font&&a.font.length>0&&(a.font=_xfx.font(a.font)),_xfx.propevent(this,this.xf_column_data_prop,a,this.event_name_arr),$.extend(this.xf_column_data_prop,a),void 0!==factory_xf_param.GRID_TREEHASLINES&&(this.xf_column_data_prop.has_lines=factory_xf_param.GRID_TREEHASLINES),void 0===a.forecolor&&(this.xf_column_data_prop.forecolor=this.xf_grid.xf_prop.fore_color),this.xf_column_data_prop.init_width=this.xf_column_data_prop.width,this.xf_column_data_prop.init_forecolor=this.xf_column_data_prop.forecolor,this.xf_column_data_prop.init_backcolor=this.xf_column_data_prop.backcolor,this.xf_column_data_prop.init_editable=this.xf_column_data_prop.editable,0==this.xf_column_data_prop.button_imagenormal.length&&(this.xf_column_data_prop.button_imagenormal=this.xf_column_data_prop.button_image),this.xf_column_data_prop.picklist=factory._callbackpicklisturl(this.xf_column_data_prop.picklist),void 0===a.cell_textmargin?(this.xf_column_data_prop.cell_textmargin=void 0,-1==this.xf_column_data_prop.text_leftmargin&&-1==this.xf_column_data_prop.text_rightmargin?this.cell_textmargin=this.xf_grid.cell_textmargin:(-1!=this.xf_column_data_prop.text_leftmargin&&(this.cell_textmargin[0]=this.xf_column_data_prop.text_leftmargin),-1!=this.xf_column_data_prop.text_rightmargin&&(this.cell_textmargin[1]=this.xf_column_data_prop.text_rightmargin))):this.cell_textmargin=this.xf_column_data_prop.cell_textmargin,this.text_padding_css=this.xf_grid._textpaddinghtml(this.cell_textmargin),0==this.xf_column_data_prop.image_list.length?this.xf_column_data_prop.image_list=[]:this.xf_column_data_prop.image_list=this.xf_column_data_prop.image_list.split(","),""==this.xf_column_data_prop.decimal_separator&&(this.xf_column_data_prop.decimal_separator="."),""==this.xf_column_data_prop.thousands_separator&&(this.xf_column_data_prop.thousands_separator=","),0==this.xf_column_data_prop.spinnumber_spinstep&&(this.xf_column_data_prop.spinnumber_spinstep=1),1!=this.xf_column_data_prop.combobox_maxselectcount&&(""!=this.xf_column_data_prop.combobox_valuedelimiter&&""!=this.xf_column_data_prop.combobox_displaydelimiter||(this.xf_column_data_prop.combobox_maxselectcount=1)),this.xf_column.is_hidden_column=this.xf_column_data_prop.hidden,this._radioitems(a),this._sorting(a),this._columnmerge(),this._pattern(),this._patternmask(),this._patternfunc(),(0==this.xf_column_data_prop.combobox_buttonsize||this.xf_column_data_prop.combobox_buttonsize<17)&&(this.xf_column_data_prop.combobox_buttonsize=17),this._selecttableprop(),this._xdataset_column(),null==this.xf_picklist&&(this.xf_picklist=new XF_PICKLIST(this.xf_grid,{make_case:this.xf_column_data_prop.make_case,picklist_type:XF_PICKLIST.PICKLIST_TYPE_GRIDCOLUMN,picklist_linkdata:this.xf_column_data_prop.picklist_linkdata,picklist:this.xf_column_data_prop.picklist,combobox_data:this.xf_column_data_prop.combobox_data,picklist_filter:this.xf_column_data_prop.picklist_filter,picklist_filter_type:this.xf_column_data_prop.picklist_filter_type,picklist_selstyle:this.xf_column_data_prop.picklist_selstyle,picklist_async:!1,on_picklist_load:null}),this.xf_picklist.loaddata(),2==factory_xf_param.GRID_PICKLIST_SETMAXLENGTH&&this.xf_column_data_prop.picklist.length>0&&(this.xf_column_data_prop.max_length=this.xf_picklist.getcodemaxlength())),"전체"==this.xf_column_data_prop.combobox_allcheckbox_comment&&(this.xf_column_data_prop.combobox_allcheckbox_comment=factory._userlang("전체","All")),this.is_useallchekcboxcomment=this._isuseallchekcboxcomment(),this.xf_init_prop=$.extend({},this.xf_column_data_prop)},XF_GRID_COLUMN_DATA.prototype._xdataset=function(){this.xf_xdataset=this.xf_grid.xf_xdataset,this.xdataset_id=this.xf_grid.xdataset_id,this.xdataset_type=this.xf_grid.xdataset_type},XF_GRID_COLUMN_DATA.prototype._xdataset_column=function(){this.xf_column_data_prop.link_data.length>0&&(this.xdataset_column_id=this.xf_column_data_prop.link_data.split(":")[1],this.xdataset_column_type=XFD_XDATASET_COLUMN_DATA,this.xdataset_column_index=this.xf_xdataset._getcolumn(XFD_XDATASET_COLUMN_DATA,this.xdataset_column_id),this.xdataset_column_index>=0)||(this.xdataset_column_id=_xfx.xdatasetcolumnid(this),this.xdataset_column_type=XFD_XDATASET_COLUMN_INNER,this.xf_xdataset._addcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_column_id,"",0,!1),this.xdataset_column_index=this.xf_xdataset._getcolumn(XFD_XDATASET_COLUMN_INNER,this.xdataset_column_id))},XF_GRID_COLUMN_DATA.prototype._radioitems=function(a){var b,c,d,e;if(this.xf_column_data_prop.radio_info={clrellipse:0,arritems:[]},void 0!==a.radio_items&&0!=a.radio_items.length)for(b=a.radio_items.split(";"),d=b.length,e=0;d>e;e++)c=b[e].split(","),this.xf_column_data_prop.radio_info.arritems.push({strcaption:_xfu.trimquot(c[0]),strselectvalue:_xfu.trimquot(c[1])})},XF_GRID_COLUMN_DATA.prototype._sorting=function(a){var b,c;this.xf_column_data_prop.sorting.length>0?(b=this.xf_column_data_prop.sorting,c=b.split(","),c.length>0&&(this.xf_column_data_prop.sorting=_xfu.bool(c[0])),c.length>1&&(this.xf_column_data_prop.sort_base_column_name=c[1].substr(1,c[1].length-2))):(this.xf_column_data_prop.sort_base_column_name="",void 0==a.sorting?this.xf_column_data_prop.sorting=!0:this.xf_column_data_prop.sorting=!1)},XF_GRID_COLUMN_DATA.prototype._columnmerge=function(){var a,b,c,d,e;if(e=!1,1==this.xf_column_data_prop.treemerge&&this.xf_grid._istreecolumn(this.column_index)&&(this.xf_column_data_prop.cellmerge="1"),0==this.xf_column_data_prop.cellmerge.length)return void(this.xf_column_data_prop.cellmerge=!1);for(b=this.xf_column_data_prop.cellmerge,c=b.split(","),c.length>0&&(e=_xfu.bool(c[0])),d=[],a=1;a<c.length;a++)d.push(c[a].substr(1,c[a].length-2));this.setcolumnmerge(e,d)},XF_GRID_COLUMN_DATA.prototype._pattern=function(){var a;this.pattern=this.xf_column_data_prop.pattern,this.pattern_type=XFD_PATTERN_TYPE_NONE,this.xf_regexp=null,this.number_pattern_info={fill_zero_count:0,blank_is_zero:!1,zero_is_blank:!1,places:0,allow_minus:!1},this.int_value_pattern_max_length=0,this.value_pattern_max_length=0,this.xf_column_data_prop.data_type==XFD_GRID_DATA_NUMERIC?(0!=factory_xf_param.INVALID_VALUE_BY_API&&this.xf_column_data_prop.pattern.length>0&&(a=_xfu.numberpatterninfo(this.xf_column_data_prop.pattern),this.int_value_pattern_max_length=a.int_max_length,a.max_length>0&&(this.xf_column_data_prop.max_length=a.max_length)),""==this.pattern?(this.pattern=_xfu.numberpattern(this.xf_column_data_prop.max_length,factory_xf_param.BLANK_PATTERN_ALLOW_MINUS),this.pattern_type=XFD_PATTERN_TYPE_NUMBER):this.pattern.substring(0,2)=="9"+factory_xf_param.SCREEN_DECIMAL_SEPARATOR?this.pattern_type=XFD_PATTERN_TYPE_NUMBER:this.pattern_type=_xfp.type(this.pattern,XFD_PATTERN_TYPE_NUMBER,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)):this.xf_column_data_prop.pattern.length>0&&(this.pattern_type=XFD_PATTERN_TYPE_CUSTOM),this.pattern_type==XFD_PATTERN_TYPE_DATE?this.xf_regexp={regexp:null,delimiter:_xfp.delimiter(this.pattern)}:this.pattern_type==XFD_PATTERN_TYPE_CUSTOM?2==this.xf_column_data_prop.data_type?this.xf_regexp=_xfp.regexp(this.pattern,XFD_DATA_HANGUL):(this.xf_regexp=_xfp.regexp(this.pattern),this.value_pattern_max_length=this.pattern.replace(this.xf_regexp.delimiter_char_regexp,"").length):this.pattern_type!=XFD_PATTERN_TYPE_NUMBER&&this.pattern_type!=XFD_PATTERN_TYPE_MONEY||(this.number_pattern_info=_xfp.numberpatterninfo(this.pattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)),this.xf_column_data_prop.statistics_sumpattern.length>0&&(this.statsum_pattern_info=_xfp.numberpatterninfo(this.xf_column_data_prop.statistics_sumpattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)),this.xf_column_data_prop.statistics_avgpattern.length>0&&(this.statavg_pattern_info=_xfp.numberpatterninfo(this.xf_column_data_prop.statistics_avgpattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)),this.xf_column_data_prop.statistics_countpattern.length>0&&(this.statcount_pattern_info=_xfp.numberpatterninfo(this.xf_column_data_prop.statistics_countpattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)),this.xf_column_data_prop.statistics_minpattern.length>0&&(this.statmin_pattern_info=_xfp.numberpatterninfo(this.xf_column_data_prop.statistics_minpattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)),this.xf_column_data_prop.statistics_maxpattern.length>0&&(this.statmax_pattern_info=_xfp.numberpatterninfo(this.xf_column_data_prop.statistics_maxpattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR)),this.int_value_max_length=this.xf_column_data_prop.max_length,this.number_pattern_info.places>0&&(this.int_value_max_length=this.xf_column_data_prop.max_length-this.number_pattern_info.places-1),this.number_pattern_info.allow_minus&&factory_xf_param.BLANK_MINUS_ONE_CHAR&&this.int_value_max_length--,this.int_value_max_length<0&&(this.int_value_max_length=0)},XF_GRID_COLUMN_DATA.prototype._patternmask=function(){this.mask_range_arr=_xfp.mask_range(this.xf_column_data_prop.pattern_mask),this.mask_range_count=this.mask_range_arr.length},XF_GRID_COLUMN_DATA.prototype._patternfunc=function(){this.pattern_func_inst=_xfx.funcinst(this.xf_grid,this.xf_column_data_prop.pattern_func)},XF_GRID_COLUMN_DATA.prototype._data=function(){},XF_GRID_COLUMN_DATA.prototype._create=function(){this.sub_row_index=this.xf_column.addcolumndata(this)},XF_GRID_COLUMN_DATA.prototype.setpicklist=function(a){return this.xf_column_data_prop.picklist=a,this.xf_picklist.setpicklist(a)},XF_GRID_COLUMN_DATA.prototype.deletexdatasetinnercolumn=function(){return this.xdataset_column_type==XFD_XDATASET_COLUMN_INNER?(this.xf_xdataset._removecolumnbyname(XFD_XDATASET_COLUMN_INNER,this.xdataset_column_id,!1),!0):!1},XF_GRID_COLUMN_DATA.prototype.getcolumncheckboxhtml=function(a,b,c,d){var e,f,g,h,i,j,k;return e=[],e.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,e),e.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,e),this.cell_textmargin[0]>0&&e.push("padding-left:"+_xfu.px(this.cell_textmargin[0])+";"),this.cell_textmargin[1]>0&&e.push("padding-right:"+_xfu.px(this.cell_textmargin[1])+";"),e.push('">'),0==this.xf_grid._ismidstatrow(b)&&(f=this.getitemeditableinfo(b,c,null,null),g=f.is_editable,i=!1,d==this.xf_column_data_prop.checkbox_truevalue&&(i=!0),h=this.xf_grid._getitempropbyitem(c,"checkbox_title",this.xf_column_data_prop.checkbox_title),e.push("<button"),e.push(' tabindex="-1"'),e.push(' data-value="'+d+'"'),e.push(' class="_xf_grid_item_checkbox'),g?i?e.push(" _xf_grid_item_checkbox_on"):e.push(" _xf_grid_item_checkbox_off"):i?e.push(" _xf_grid_item_checkbox_on_dis"):e.push(" _xf_grid_item_checkbox_off_dis"),e.push('"'),e.push(' style="'),h.length>0?this.xf_column_data_prop.check_width>0?e.push("padding-left:"+_xfu.px(this.xf_column_data_prop.check_width+XF_GRID.ITEM_DEFAULT_PADDING)+";"):e.push("padding-left:13px;"):this.xf_column_data_prop.check_width>0&&e.push("padding-left:"+_xfu.px(this.xf_column_data_prop.check_width)+";"),factory.ismobile()&&e.push("background-size: contain;"),k=this.getcolumncheckimage(i,g),k.length>0&&e.push("background-image:"+_xfx.imageurlfunc(k)),e.push('">'),e.push('<span class="_xf_grid_item_checkbox_label _xfd_padding_button"'),e.push(' data-value="'+d+'"'),e.push(' style="'),j=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==j&&j.length>0&&e.push(_xfc.font(null,j)),e.push('">'),e.push(h),e.push("</span>"),e.push("</button>")),e.push("</div>"),e.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnradiobuttonhtml=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(e=[],e.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,e),e.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,e),this.cell_textmargin[0]>0&&e.push("padding-left:"+_xfu.px(this.cell_textmargin[0])+";"),this.cell_textmargin[1]>0&&e.push("padding-right:"+_xfu.px(this.cell_textmargin[1])+";"),e.push('">'),0==this.xf_grid._ismidstatrow(b))for(f=this.getitemeditableinfo(b,c,null,null),g=f.is_editable,h=this.xf_grid._getitempropbyitem(c,"radio_info",this.xf_column_data_prop.radio_info),l=h.arritems.length,j=0;l>j;j++)i=h.arritems[j],e.push("<button"),e.push(' tabindex="-1"'),e.push(' data-value="'+i.strselectvalue+'"'),e.push(' class="_xf_grid_item_radio'),g?i.strselectvalue==d?e.push(" _xf_grid_item_radio_on"):e.push(" _xf_grid_item_radio_off"):i.strselectvalue==d?e.push(" _xf_grid_item_radio_on_dis"):e.push(" _xf_grid_item_radio_off_dis"),j==l-1&&e.push(" _xf_grid_item_radio_last"),e.push('"'),e.push(' style="'),j!=l-1&&e.push("margin-right:"+_xfu.px(this.xf_column_data_prop.radio_item_rightmargin)+";"),0==i.strcaption.length&&(e.push("padding-left:11px;"),e.push("padding-right:0px;")),e.push('">'),e.push('<span class="_xf_grid_item_radio_label _xfd_padding_button"'),e.push(' data-value="'+i.strselectvalue+'"'),e.push(' style="'),k=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==k&&k.length>0&&e.push(_xfc.font(null,k)),e.push('">'),e.push(i.strcaption),e.push("</span>"),e.push("</button>");return e.push("</div>"),e.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnitempaddinghtml=function(a){a.push(this.text_padding_css)},XF_GRID_COLUMN_DATA.prototype.getcolumncalendarhtml=function(a,b,c,d,e){var f,g,h,i;return f=d,void 0!==e&&0!=e||(d=this.getdatetypedatetext(c,d),f=this.getitemformatvalue(c,d),this.mask_range_count>0&&(f=_xfp.masks(f,this.mask_range_count,this.mask_range_arr,factory_xf_param.MASK_FIT_PATTERN_LENGTH,this.xf_column_data_prop.pattern_mask))),g=[],g.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,g),g.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,g),i=this.xf_grid._getitempropbyitem(c,"mouse_cursor",this.xf_column_data_prop.mouse_cursor),0!=i&&g.push(_xfc.basic("mouse_cursor",i,!1,null)),g.push('">'),g.push('<span class="_xf_grid_item_span _xfd_padding" style="'),h=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==h&&h.length>0&&g.push(_xfc.font(null,h)),g.push(this.text_padding_css),this.xf_column_data_prop.calendar_showbutton&&g.push("padding-right:"+(this.xf_column_data_prop.calendar_buttonsize+this.cell_textmargin[1])+"px;"),g.push('">'+f+"</span>"),0==this.xf_grid._ismidstatrow(b)&&this.xf_column_data_prop.calendar_showbutton&&(g.push('<div class="_xf_grid_item_btn _xf_grid_item_btn_calendar"'),g.push(' style="'),g.push("width:"+_xfu.px(this.xf_column_data_prop.calendar_buttonsize-1)+";"),this.xf_column_data_prop.calendar_image.length>0&&g.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.calendar_image)+";"),g.push('">'),g.push("</div>")),g.push("</div>"),g.join("")},XF_GRID_COLUMN_DATA.prototype.getdatetypedatetext=function(a,b){var c,d,e,f,g,h;switch(f=this.xf_grid._getitempropbyitem(a,"calendar_datetype",this.xf_column_data_prop.calendar_datetype),h=this.xf_grid._getitempropbyitem(a,"calendar_timetype",this.xf_column_data_prop.calendar_timetype),d=b.replace(_xfp.expr_int,""),e=d,c=d,f){case XF_GRID.DATE_TYPE_YYYYMMDD:d=d.substr(0,8),0!=h&&(g=e.substr(8));break;case XF_GRID.DATE_TYPE_MMDDYYYY:d=d.substr(0,8),d.length>4&&(c=d.substr(4,4)+d.substr(0,4)),0!=h&&(g=e.substr(8));break;case XF_GRID.DATE_TYPE_DDMMYYYY:d=d.substr(0,8),d.length>6?c=d.substr(6,2)+d.substr(4,2)+d.substr(0,4):d.length>4&&(c=d.substr(4,4)+d.substr(0,4)),0!=h&&(g=e.substr(8));break;case XF_GRID.DATE_TYPE_MMYYYY:d=d.substr(0,6),d.length>4&&(c=d.substr(4,2)+d.substr(0,4)),0!=h&&(g=e.substr(6));break;case XF_GRID.DATE_TYPE_YYYYMM:c=d.substr(0,6),0!=h&&(g=e.substr(6));break;case XF_GRID.DATE_TYPE_YYYY:c=d.substr(0,4),0!=h&&(g=e.substr(4));break;case XF_GRID.DATE_TYPE_MMDD:8==d.length?(c=d.substr(4,4),0!=h&&(g=e.substr(8))):0!=h&&(g=e.substr(4));break;case XF_GRID.DATE_TYPE_DDMM:8==d.length?(c=d.substr(6,2)+d.substr(4,2),0!=h&&(g=e.substr(8))):4==d.length&&(c=d.substr(2,2)+d.substr(0,2),0!=h&&(g=e.substr(4)));break;case XF_GRID.DATE_TYPE_MM:8==d.length||6==d.length?(c=d.substr(4,2),0!=h&&(8==d.length?g=e.substr(8):6==d.length&&(g=e.substr(6)))):4==d.length&&(c=d.substr(0,2),0!=h&&(g=e.substr(4)))}if(0==h)return c;switch(h){case 1:g=g.substr(0,6);break;case 2:g.length>4&&(g=g.substr(0,4));break;case 3:g.length>4&&(g=g.substr(2,4));break;case 4:g=g.substr(0,2);break;case 5:g=g.length>2?g.substr(2,2):g.substr(2,2);break;case 6:g=g.length>4?g.substr(4,2):g.length>2?g.substr(2,2):g.substr(2,2)}return c+g},XF_GRID_COLUMN_DATA.prototype.getcolumncomboboxhtml=function(a,b,c,d,e){var f,g,h,i;return f=[],g=void 0===e||0==e?this.getcolumncomboboxtext(c,d):d,f.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,f),f.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,f),i=this.xf_grid._getitempropbyitem(c,"mouse_cursor",this.xf_column_data_prop.mouse_cursor),0!=i&&f.push(_xfc.basic("mouse_cursor",i,!1,null)),f.push('">'),f.push('<span class="_xf_grid_item_span _xfd_padding"'),f.push(' style="'),f.push(this.text_padding_css),this.xf_column_data_prop.combobox_showbutton&&f.push("padding-right:"+(this.xf_column_data_prop.combobox_buttonsize+this.cell_textmargin[2])+"px;"),h=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==h&&h.length>0&&f.push(_xfc.font(null,h)),f.push('">'+g+"</span>"),0==this.xf_grid._ismidstatrow(b)&&this.xf_column_data_prop.combobox_showbutton&&(f.push('<div class="_xf_grid_item_btn _xf_grid_item_btn_combo"'),f.push(' style="'),f.push("width:"+_xfu.px(this.xf_column_data_prop.combobox_buttonsize-1)+";"),this.xf_column_data_prop.combobox_buttonimage.length>0&&f.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.combobox_buttonimage)+";"),f.push('">'),f.push("</div>")),f.push("</div>"),f.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumncolorhtml=function(a,b,c,d,e){var f,g,h,i;switch(f=[],g=d,void 0!==e&&0!=e||(g=this.getitemformatvalue(c,d)),f.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,f),f.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,f),f.push("background-clip: content-box;"),this.xf_column_data_prop.color_valueformat){case 0:i=d.split(";"),3==i.length&&(i[0]=_xfu["int"](i[0]),i[1]=_xfu["int"](i[1]),i[2]=_xfu["int"](i[2]),f.push("background-color:"+_xfu.rgbfunc(i)+";"))}return f.push(this.text_padding_css),this.xf_column_data_prop.color_buttonhidden||f.push("padding-right:"+(this.xf_column_data_prop.color_buttonsize+this.cell_textmargin[2])+"px;"),f.push('">'),f.push('<span class="_xf_grid_item_span _xfd_padding"'),f.push(' style="'),h=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==h&&h.length>0&&f.push(_xfc.font(null,h)),f.push('"></span>'),0==this.xf_grid._ismidstatrow(b)&&this.xf_column_data_prop.combobox_showbutton&&(f.push('<div class="_xf_grid_item_btn _xf_grid_item_btn_color"'),f.push(' style="'),this.xf_column_data_prop.color_buttonimage.length>0&&f.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.color_buttonimage)+";"),f.push('">'),f.push("</div>")),f.push("</div>"),f.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnitembasicattrhtml=function(a,b,c,d){var e;(0==this.xf_column_data_prop.tooltip_show&&1==this.xf_grid.xf_prop.tooltip_show||1==this.xf_column_data_prop.tooltip_show)&&(e=this.xf_grid._getitempropbyitem(c,"tooltip",""),e.length>0&&d.push(' title="'+_xfu.quot(e)+'"')),this.xf_grid.xf_prop.dragable&&d.push(' draggable="true"')},XF_GRID_COLUMN_DATA.prototype.getcolumnitembasicstylehtml=function(a,b,c,d){var e,f,g,h;void 0==a&&(a=1),f=_xfu["int"](this.xf_grid._getitempropbyitem(c,"text_vertalign",this.xf_column_data_prop.text_vertalign)),e=_xfu["int"](this.xf_grid._getitempropbyitem(c,"text_horzalign",this.xf_column_data_prop.text_horzalign)),h=this.xf_column_data_prop.line_height,0>h&&(h=this.xf_grid.xf_prop.line_height),h>0&&d.push("line-height:"+_xfu.px(h)+";"),this.xf_grid.is_rowheight_mode?(g=this.xf_grid._getrowheightsumbyrowspan(b,a),a>1&&factory.isapple()&&(d.push("height:"+(this.xf_grid._getrowheight(b)-1)+"px;"),d.push("max-")),d.push("height:"+(g-1)+"px;")):(a>1&&factory.isapple()&&(d.push("height:"+(this.xf_grid.xf_prop.cell_height-1)+"px;"),d.push("max-")),d.push("height:"+(this.xf_grid.xf_prop.cell_height*a-1)+"px;")),1!=f&&d.push(_xfc.alignitems(null,f)),1!=e&&(d.push(_xfc.justifycontent(null,e)),d.push(_xfc.textalign(null,e)))},XF_GRID_COLUMN_DATA.prototype.getcolumnspinhtml=function(a,b,c,d,e){var f,g,h,i;return f=[],g=d,void 0!==e&&0!=e||(g=this.getitemformatvalue(c,d)),f.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,f),f.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,f),i=this.xf_grid._getitempropbyitem(c,"mouse_cursor",this.xf_column_data_prop.mouse_cursor),0!=i&&f.push(_xfc.basic("mouse_cursor",i,!1,null)),f.push('">'),f.push('<span class="_xf_grid_item_span _xfd_padding" style="'),h=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==h&&h.length>0&&f.push(_xfc.font(null,h)),f.push(this.text_padding_css),this.xf_column_data_prop.spinnumber_showbutton&&f.push("padding-right:"+(this.xf_column_data_prop.combobox_buttonsize+this.cell_textmargin[1])+"px;"),f.push('">'+g+"</span>"),0==this.xf_grid._ismidstatrow(b)&&this.xf_column_data_prop.spinnumber_showbutton&&(f.push('<div class="_xf_grid_item_btn _xf_grid_item_btn_spin"'),f.push(' style="'),f.push('">'),f.push("</div>")),f.push("</div>"),f.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumncomboboxtext=function(a,b,c){var d,e,f,g,h,i;if(d=this.xf_grid._getitempropbyitem(a,"xf_picklist",this.xf_picklist),void 0===c&&(c=this.xf_grid._getitempropbyitem(a,"picklist_selstyle",this.xf_column_data_prop.picklist_selstyle)),1==this.xf_column_data_prop.combobox_maxselectcount)return e=d.getcodeinfo("code",b),d.getdisplaytext(b,e.comment,c,!0);if(i=[],f=b.split(this.xf_column_data_prop.combobox_valuedelimiter),h=f.length,1==this.is_useallchekcboxcomment&&h==d.getcount())return this.xf_column_data_prop.combobox_allcheckbox_comment;for(g=0;h>g;g++)e=d.getcodeinfo("code",f[g]),i.push(d.getdisplaytext(f[g],e.comment,c,!0));return i.join(this.xf_column_data_prop.combobox_displaydelimiter)},XF_GRID_COLUMN_DATA.prototype._isuseallchekcboxcomment=function(){return 1==this.xf_column_data_prop.combobox_maxselectcount?!1:0==this.xf_column_data_prop.combobox_showcheckbox?!1:void 0===this.xf_column_data_prop.combobox_showallcheckbox||0==this.xf_column_data_prop.show_allcheckbox?!1:1==this.xf_column_data_prop.combobox_selectbox_datastyle?!1:1==this.xf_column_data_prop.combobox_editable?!1:1==this.xf_column_data_prop.combobox_allcheck_textdisplay?!1:0!=this.xf_column_data_prop.combobox_allcheck_textdisplay||1!=factory_xf_param.COMBOBOX_ALLCHECK_TEXTDISPLAY},XF_GRID_COLUMN_DATA.prototype.updateviewcolumneditboxtd=function(a,b,c,d,e,f,g,h){var i,j,k,l;i=f,void 0!==g&&0!=g||(i=this.getitemformatvalue(e,f),j=this.xf_grid._getitempropbyitem(e,"mask_range_count",this.mask_range_count),j>0&&(k=this.xf_grid._getitempropbyitem(e,"mask_range_arr",this.mask_range_arr),l=this.xf_grid._getitempropbyitem(e,"pattern_mask",this.xf_column_data_prop.pattern_mask),i=_xfp.masks(i,j,k,factory_xf_param.MASK_FIT_PATTERN_LENGTH,l))),b!=XF_GRID.COLUMN_INPUT_TYPE_HTML&&h.xf_span.prop("title",this.xf_grid._getitempropbyitem(e,"tooltip",i)),h.xf_span[0].innerHTML=i},XF_GRID_COLUMN_DATA.prototype.getcolumneditboxhtml=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;return h=[],i=e,void 0!==f&&0!=f||(i=this.getitemformatvalue(d,e,void 0,c),d=this.item_info,m=this.xf_grid._getitempropbyitem(d,"masking_length",this.xf_column_data_prop.masking_length),m>0&&2==this.xf_column_data_prop.data_type?i=_xfp.masklength(i,m,this.xf_column_data_prop.max_length_unit,this.xf_column_data_prop.max_length):(p=this.xf_grid._getitempropbyitem(d,"mask_range_count",this.mask_range_count),p>0&&(q=this.xf_grid._getitempropbyitem(d,"mask_range_arr",this.mask_range_arr),s=this.xf_grid._getitempropbyitem(d,"pattern_mask",this.xf_column_data_prop.pattern_mask),i=2==this.xf_column_data_prop.data_type?_xfp.hangulmasks(i,p,q,factory_xf_param.MASK_FIT_PATTERN_LENGTH,s,this.xf_column_data_prop.max_length_unit):_xfp.masks(i,p,q,factory_xf_param.MASK_FIT_PATTERN_LENGTH,s)))),h.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,c,d,h),h.push(' style="'),this.getcolumnitembasicstylehtml(a,c,d,h),r=this.xf_grid._getitempropbyitem(d,"mouse_cursor",this.xf_column_data_prop.mouse_cursor),0!=r&&h.push(_xfc.basic("mouse_cursor",r,!1,null)),k=this.xf_grid._getitempropbyitem(d,"image_horzalign",this.xf_column_data_prop.image_horzalign),j=this.getcolumnitemimagearr(c,d),h.push(this.getcolumnitembackimagehtml(j,k)),h.push('">'),3==k&&h.push(this.getcolumnitemimagehtml(j)),h.push('<span class="_xf_grid_item_span _xfd_padding" style="'),l=this.xf_grid._getitempropbyitem(d,"font",this.xf_column_data_prop.font),h.push(this.text_padding_css),this.xf_column_data_prop.editbox_popbtnshow&&h.push("padding-right:"+(this.xf_column_data_prop.editbox_popbtnsize+this.cell_textmargin[2])+"px;"),this.xf_column_data_prop.text_wordbreak&&h.push("white-space:pre-wrap;"),0==this.xf_column_data_prop.text_wordellipsis&&h.push("text-overflow:clip;"),n=this.xf_grid._getitempropbyitem(d,"hyperlink_textstyleuse",this.xf_column_data_prop.hyperlink_textstyleuse),1==n&&this.xf_column_data_prop.hyperlink_underline&&h.push("text-decoration: underline;"),void 0!==l&&l.length>0&&h.push(_xfc.font(null,l)),o=this.xf_grid._getitempropbyitem(d,"data_type",this.xf_column_data_prop.data_type),0!=o&&g===!0&&(i=_xfu.escapehtml(i)),d&&d.is_invalid_value===!0&&(i=factory_xf_param.INVALID_VALUE_HINTTEXT,h.push("color:"+_xfu.rgbfunc([255,0,0])+";")),h.push('">'+i+"</span>"),4==k&&h.push(this.getcolumnitemimagehtml(j)),0==this.xf_grid._ismidstatrow(c)&&this.xf_column_data_prop.editbox_popbtnshow&&(h.push('<div class="_xf_grid_item_btn _xf_grid_item_btn_popbtn"'),h.push(' style="'),h.push("width:"+_xfu.px(this.xf_column_data_prop.editbox_popbtnsize-1)+";"),this.xf_column_data_prop.editbox_popbtnimage.length>0&&h.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.editbox_popbtnimage)+";"),h.push('">'),h.push("</div>")),h.push("</div>"),h.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnitemimagearr=function(a,b){var c,d,e;return e=[],c=this.xf_grid._getitempropbyitem(b,"image_show",this.xf_column_data_prop.image_show),0==c?e:(d=this.xf_grid._getitempropbyitem(b,"image",this.xf_column_data_prop.image),d.length>0&&e.push(d),e)},XF_GRID_COLUMN_DATA.prototype.getcolumnitembackimagehtml=function(a,b){var c,d,e,f;if(3==b||4==b)return"";if(e=[],d=a.length,0==d)return"";for(f=[],c=0;d>c;c++)f.push(_xfx.imageurlfunc(a[c]));return e.push("background-image:"+f.join(",")+";"),e.push("background-repeat:no-repeat;"),0==b?e.push("background-position:left center;"):1==b?e.push("background-position:center center;"):2==b?e.push("background-position:right center;"):5==b&&e.push("background-position:left top;"),e.push(_xfc.basic("background_size_only",this.xf_column_data_prop.image_size,!1,null)),e.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnitemimagehtml=function(a){var b,c,d;if(c=a.length,0==c)return"";for(d=[],b=0;c>b;b++)d.push('<img src="'+_xfx.imageurl(a[b])+'" style="'),
d.push("border:none;"),d.push("margin:0px;"),d.push("padding:0px;"),0==a[b].length&&d.push("display:none;"),d.push("vertical-align:middle;"),d.push(_xfc.basic("image_size_only",this.xf_column_data_prop.image_size,!1,null)),d.push('"></img>');return d.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumncharthtml=function(a,b,c,d,e){var f,g;return g=[],g.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,g),g.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,g),g.push(_xfc.basic("padding",this.xf_column_data_prop.chart_margin,!1,null)),g.push('">'),g.push('<div class="_xf_grid_chart_box'),f=this.xf_grid._getitempropbyitem(c,"chart_type",this.xf_column_data_prop.chart_type),0==f?g.push(' _xf_grid_chart_box_sparkline"'):1==f?g.push(' _xf_grid_chart_box_winlose"'):2==f?g.push(' _xf_grid_chart_box_bar"'):g.push('"'),g.push(' style="'),g.push('">'),g.push(d),g.push("</div>"),g.push("</div>"),g.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnbargaugehtml=function(a,b,c,d,e){var f,g,h,i,j,k;return f=[],f.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,f),f.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,f),f.push('">'),j=0,k=_xfu["int"](d),i=this.xf_grid._getitempropbyitem(c,"max_value",this.xf_column_data_prop.max_value),void 0!==i&&0!=i&&(j=_xfu["int"](k/i*100)),f.push('<div class="_xf_grid_bargauge" style="'),f.push(_xfc.basic("padding",this.xf_column_data_prop.bargauge_margin,!1,null)),f.push('">'),f.push('<div class="_xf_grid_bargauge_box" style="'),0==this.xf_column_data_prop.bargauge_transparent&&f.push(_xfc.basic("back_color",this.xf_column_data_prop.bargauge_backcolor,!1,null)),this.xf_column_data_prop.bargauge_backimage.length>0&&f.push(_xfc.basic("back_image",this.xf_column_data_prop.bargauge_backimage,!1,null)),f.push(_xfc.basic("border",this.xf_column_data_prop.bargauge_border,!1,null)),f.push(_xfc.basic("border_color",this.xf_column_data_prop.bargauge_bordercolor,!1,null)),f.push(_xfc.basic("border_radius",this.xf_column_data_prop.bargauge_radius,!1,null)),f.push('">'),f.push('<div class="_xf_grid_bargauge_value" style="'),f.push("width:"+_xfu.pc(j)+";"),this.xf_column_data_prop.bargauge_bar_reverse&&(f.push("left:auto;"),f.push("right:0;")),f.push(_xfc.basic("back_color",this.xf_column_data_prop.bargauge_bar_backcolor,!1,null)),this.xf_column_data_prop.bargauge_bar_image.length>0&&f.push(_xfc.basic("back_image",this.xf_column_data_prop.bargauge_bar_image,!1,null)),f.push(_xfc.basic("border",this.xf_column_data_prop.bargauge_bar_border,!1,null)),f.push(_xfc.basic("border_color",this.xf_column_data_prop.bargauge_bar_bordercolor,!1,null)),f.push(_xfc.basic("border_radius",this.xf_column_data_prop.bargauge_bar_radius,!1,null)),0==j?f.push("visibility:hidden;"):f.push("visibility:visible;"),f.push('">'),f.push("</div>"),f.push("</div>"),f.push("</div>"),this.xf_column_data_prop.bargauge_showtext&&(g=d,f.push('<span class="_xf_grid_item_span _xfd_padding" style="'),f.push("z-index:1;"),void 0!==e&&0!=e||(g=this.getitemformatvalue(c,d),h=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==h&&h.length>0&&f.push(_xfc.font(null,h))),f.push(this.text_padding_css),f.push('">'+g+"</span>")),f.push("</div>"),f.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnbuttonhtml=function(a,b,c,d,e){var f,g,h,i,j,k,l;return f=[],i=this.getitemeditableinfo(b,c,null,null),j=i.is_editable,f.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,f),f.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,f),f.push(_xfc.basic("padding",this.xf_column_data_prop.button_margin,!1,null)),f.push('">'),k=this._buttonstyleclassname(),f.push('<button type="button"'),0==j&&f.push(" disabled"),f.push(' class="_xf_grid_item_button '),f.push(k),this.xf_column_data_prop.button_custom_class.length>0&&f.push(" "+this.xf_column_data_prop.button_custom_class),f.push('"'),f.push(' style="'),0==this.xf_column_data_prop.button_style_class&&(0==this.xf_column_data_prop.button_transparent&&(0==j?f.push(_xfc.basic("back_color",this.xf_column_data_prop.button_disable_backcolor,!1,null)):f.push(_xfc.basic("back_color",this.xf_column_data_prop.button_backcolor,!1,null))),f.push(_xfc.basic("background_size_only",this.xf_column_data_prop.button_imagesize,!1,null)),l=this.xf_grid._getitempropbyitem(c,"button_imagenormal",this.xf_column_data_prop.button_imagenormal),0==j&&this.xf_column_data_prop.button_imagedisable.length>0&&(l=this.xf_grid._getitempropbyitem(c,"button_imagedisable",this.xf_column_data_prop.button_imagedisable)),_xfc.gradient(null,this.xf_column_data_prop.button_gradient_effect,this.xf_column_data_prop.button_gradient_startcolor,this.xf_column_data_prop.button_gradient_endcolor,this.xf_column_data_prop.button_imageshow?l:"",f),f.push(_xfc.basic("border_color",this.xf_column_data_prop.button_bordercolor,!1,null)),f.push(_xfc.basic("border",this.xf_column_data_prop.button_border,!1,null)),f.push(_xfc.backimagepos(null,this.xf_column_data_prop.button_imagehorzalign,this.xf_column_data_prop.button_imagevertalign))),f.push(_xfc.basic("border_radius",this.xf_column_data_prop.button_radius,!1,null)),f.push(_xfc.basic("horz_align",this.xf_column_data_prop.button_text_horzalign,!1,null)),0===this.xf_column_data_prop.button_width_unit?f.push("width:"+this.xf_column_data_prop.button_width+"px;"):1===this.xf_column_data_prop.button_width_unit&&f.push("width:"+this.xf_column_data_prop.button_width_percent+"%;"),0===this.xf_column_data_prop.button_height_unit?f.push("height:"+this.xf_column_data_prop.button_height+"px;"):1===this.xf_column_data_prop.button_height_unit&&f.push("height:"+this.xf_column_data_prop.button_height_percent+"%;"),f.push('">'),this.xf_column_data_prop.button_showtext&&(g=d,f.push('<span class="_xf_grid_item_span _xf_grid_item_button_text _xfd_padding_button" style="'),void 0!==e&&0!=e||(g=this.getitemformatvalue(c,d),h=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==h&&h.length>0&&f.push(_xfc.font(null,h))),f.push(this.text_padding_css),0==j&&f.push(_xfc.basic("fore_color",this.xf_column_data_prop.button_disable_forecolor,!1,null)),0==g.length&&(g=this.xf_column_data_prop.button_text),f.push('">'+g+"</span>")),f.push("</button>"),f.push("</div>"),f.join("")},XF_GRID_COLUMN_DATA.prototype._buttonstyleclassname=function(){switch(this.xf_column_data_prop.button_style_class){case 1:return"_xf_btn_basic_default";case 2:return"_xf_btn_basic_primary";case 3:return"_xf_btn_basic_success";case 4:return"_xf_btn_basic_info";case 5:return"_xf_btn_basic_warning";case 6:return"_xf_btn_basic_danger";case 7:return"_xf_btn_gradient_default";case 8:return"_xf_btn_gradient_primary";case 9:return"_xf_btn_gradient_success";case 10:return"_xf_btn_gradient_info";case 11:return"_xf_btn_gradient_warning";case 12:return"_xf_btn_gradient_danger";case 13:return"_xf_btn_outline_default";case 14:return"_xf_btn_outline_primary";case 15:return"_xf_btn_outline_success";case 16:return"_xf_btn_outline_info";case 17:return"_xf_btn_outline_warning";case 18:return"_xf_btn_outline_danger";default:return"_xf_grid_item_button_default"}},XF_GRID_COLUMN_DATA.prototype.getcolumnimagehtml=function(a,b,c,d,e){var f,g,h,i,j,k;if(f=[],i=d.split(this.xf_column_data_prop.image_delimiter),h=i.length,f.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,f),f.push(' style="'),f.push(_xfc.alignitems(null,this.xf_column_data_prop.image_valign)),f.push(_xfc.justifycontent(null,this.xf_column_data_prop.image_halign)),f.push("height:"+(this.xf_grid.xf_prop.cell_height*a-1)+"px;"),f.push(_xfc.basic("padding",this.xf_column_data_prop.image_margin,!1,null)),f.push('">'),1==this.xf_column_data_prop.image_datatype&&(j=this.xf_grid._getitempropbyitem(c,"image_list",this.xf_column_data_prop.image_list)),1==h)f.push("<div"),f.push(' class="_xf_grid_item_image" '),f.push(' style="'),f.push(_xfc.basic("back_imagesize",this.xf_column_data_prop.image_size,!1,null)),f.push(_xfc.basic("back_imagefillstyle",this.xf_column_data_prop.image_fillstyle,!1,null)),0==this.xf_column_data_prop.image_datatype?d.length>0&&f.push(_xfc.basic("back_image",d,!1,null)):1==this.xf_column_data_prop.image_datatype&&(k=j[d],void 0!==k&&k.length>0&&f.push(_xfc.basic("back_image",k,!1,null))),f.push(_xfc.backimagepos(null,this.xf_column_data_prop.image_halign,this.xf_column_data_prop.image_valign)),f.push('">'),f.push("</div>");else if(h>1)for(1==this.xf_column_data_prop.image_datatype&&(j=this.xf_grid._getitempropbyitem(c,"image_list",this.xf_column_data_prop.image_list)),g=0;h>g;g++)f.push("<img"),f.push(' class="_xf_grid_item_image" '),0==this.xf_column_data_prop.image_datatype?i[g].length>0&&f.push(' src="'+_xfx.imageurl(_xfu.trim(i[g]))+'"'):1==this.xf_column_data_prop.image_datatype&&(k=j[i[g]],void 0!==k&&k.length>0&&f.push(' src="'+_xfx.imageurl(_xfu.trim(k))+'"')),f.push(' style="width:auto;height:auto;"'),f.push(">"),f.push("</img>");return f.push("</div>"),f.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumnhtml=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=[],factory.ismobile()&&1==this.xf_grid.is_column_scroll_mode&&c==XF_GRID.ROW_TABLE_VIEW&&this.column_index>=this.xf_grid.view_left_column_index&&(this.column_index<this.xf_grid.view_start_column_index||this.column_index>this.xf_grid.view_end_column_index)?(e.push("<td"),e.push(' class="_xf_grid_td '+this.xf_grid.class_td_border),this.xf_grid._ismultilinegrid()&&this.xf_grid.sub_row_count>1&&this.xf_grid._tdborderinnerhorzclass(this.sub_row_index,1,e),e.push('"></td>'),e.join("")):(h=this.getcolumnitemmergeinfo(c,d,!1),this.xf_grid.is_rowheight_mode&&(h.row_span>1||h.column_span>1)&&1==this.xf_grid._isautorowheightcolumn(this.column_index)&&c==XF_GRID.ROW_TABLE_VIEW&&(this.xf_grid.update_autorowheight_merge=!0),j=!1,t=!1,c==XF_GRID.ROW_TABLE_VIEW||c==XF_GRID.ROW_TABLE_FIX||c==XF_GRID.ROW_TABLE_RWD?(e.push("<td"),this.xf_grid._spanhtml(h.row_span,h.column_span,e),b.row_span=h.row_span,b.column_span=h.column_span,e.push(' class="_xf_grid_td '+this.xf_grid.class_td_border),this.xf_grid._ismultilinegrid()&&this.xf_grid.sub_row_count>1&&this.xf_grid._tdborderinnerhorzclass(this.sub_row_index,h.row_span,e),0==this.xf_grid.xf_prop.multi_selectrow?d==this.xf_grid.selected_row_index?(e.push(" "+this.xf_grid.class_tr_selected),this.column_index==this.xf_grid.selected_column_index?this.xf_grid._ismultilinegrid()?this.sub_row_index==this.xf_grid.selected_sub_row_index&&e.push(" "+this.xf_grid.class_td_selected):e.push(" "+this.xf_grid.class_td_selected):this.xf_grid._isinselectblock(d,this.column_index)&&e.push(" "+this.xf_grid.class_td_selected)):this.xf_grid._isinselectblock(d,this.column_index)&&e.push(" "+this.xf_grid.class_td_selected):1==this.xf_grid._isselectedrow(d)?(e.push(" "+this.xf_grid.class_tr_selected),this.column_index==this.xf_grid.selected_column_index&&1==this.xf_grid._isitemselectedrow(d)?this.xf_grid._ismultilinegrid()?this.sub_row_index==this.xf_grid.selected_sub_row_index&&e.push(" "+this.xf_grid.class_td_selected):e.push(" "+this.xf_grid.class_td_selected):this.xf_grid._isinselectblock(d,this.column_index)&&e.push(" "+this.xf_grid.class_td_selected)):this.xf_grid._isinselectblock(d,this.column_index)&&e.push(" "+this.xf_grid.class_td_selected),e.push('" '),s=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,d,!0),p=this.getcolumniteminfo(d,this.sub_row_index),e.push('style="'),0==this.xf_column_data_prop.is_draw_leftline&&e.push("border-left-color:transparent;"),0==this.xf_column_data_prop.is_draw_rightline&&e.push("border-right-color:transparent;"),this.xf_grid.is_rowcellline_mode&&(e.push("border-bottom-color:"),this.xf_grid.xf_data_row_arr[d].is_draw_bottomline===!1?e.push("transparent"):this.xf_grid.xf_data_row_arr[d].is_draw_bottomline===!0&&(this.xf_grid.xf_prop.cell_linecolor_horzuse?e.push(_xfu.rgbfunc(this.xf_grid.xf_prop.cell_linecolor_horz)):e.push(_xfu.rgbfunc(this.xf_grid.xf_prop.cell_linecolor))),e.push(";")),h.is_hidden&&e.push("display:none;"),b.is_hidden=h.is_hidden,this.column_index<this.xf_grid.xf_prop.header_vertcount||this.column_index<this.xf_grid.xf_prop.headerstyle_vertcount?(q=this.xf_grid._getitempropbyitem(p,"forecolor",this.xf_column_data_prop.forecolor),e.push("color:"+_xfu.rgbfunc(q)+"!important;"),q=this.xf_grid._getitempropbyitem(p,"backcolor",this.xf_column_data_prop.backcolor),e.push("background-color:"+_xfu.rgbfunc(q)+"!important;")):(1==this.xf_column_data_prop.data_inputtype&&factory_xf_param.MANDATORYCOLUMNFORECOLOR?q=factory_xf_param.MANDATORYCOLUMNFORECOLOR:(q=this.xf_grid._getitempropbyitem(p,"forecolor",void 0),void 0===q&&(o=this.xf_grid._getitempropbyitem(p,"hyperlink_textstyleuse",this.xf_column_data_prop.hyperlink_textstyleuse),q=1==o?this.xf_column_data_prop.hyperlink_color:this.xf_column_data_prop.forecolor)),e.push(_xfc.forecolor(q,this.xf_grid.xf_prop.fore_color)),q=void 0,q=this.getcolumnitembackcolorrgb(d,p),void 0!=q&&e.push("background-color:"+_xfu.rgbfunc(q)+";")),p&&(t=this.xf_grid._getitempropbyitem(p,"_is_format_value",!1)),this.is_pattern_apply&&0==t&&(n=this.xf_grid._ismidstatrow(d),1==n&&(r=this.xf_grid._getmidstatinfo(d),this.column_index==r.title_column_index&&(t=!0),1==h.row_span&&(q=this.xf_grid._getitempropbyitem(p,"forecolor",void 0),void 0===q&&e.push(_xfc.forecolor(r.fore_color,this.xf_grid.xf_prop.fore_color)))),0==t&&(i=1==n?this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_DATA,this.xf_column_data_prop.midstat_expr_func,d,this.sub_row_index,this.column_index,s):this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_DATA,this.xf_column_data_prop.expr_func,d,this.sub_row_index,this.column_index,s),i&&(void 0!==i.css&&i.css.length>0&&e.push(i.css),void 0!==i.itemtext&&(s=i.itemtext),void 0!==i.formatted&&(t=i.formatted),void 0!==i.hidden&&(j=i.hidden),void 0!==i.pattern_front_symbol&&(null==p&&(p={item_prop:{}}),p.item_prop.pattern_front_symbol=i.pattern_front_symbol),void 0!==i.pattern_rear_symbol&&(null==p&&(p={item_prop:{}}),p.item_prop.pattern_rear_symbol=i.pattern_rear_symbol),i.formatted===!0&&(void 0!==i.pattern_front_symbol&&(s=i.pattern_front_symbol+s),void 0!==i.pattern_rear_symbol&&(s+=i.pattern_rear_symbol))))),k=1==h.column_span?this.xf_column_data_prop.width:this.xf_grid.getcolumnwidthsum(h.start_column_index,h.end_column_index,!0),e.push("max-width:"+_xfu.px(k)+";"),e.push('">'),0==j&&e.push(this.getcolumnitemhtml(h.row_span,d,p,s,t)),e.push("</td>")):c==XF_GRID.ROW_TABLE_STAT&&(f=this.xf_grid.xf_stat_row_arr[d],g=f.xf_stat_row_prop,p=this.getcolumnstatrowiteminfo(d),e.push("<td"),this.xf_grid._spanhtml(h.row_span,h.column_span,e),b.row_span=h.row_span,b.column_span=h.column_span,e.push(' class="_xf_grid_td '+this.xf_grid.class_td_border),this.xf_grid._ismultilinegrid()&&this.xf_grid.sub_row_count>1&&this.xf_grid._tdborderinnerhorzclass(this.sub_row_index,h.row_span,e),e.push('"'),e.push(' style="'),h.is_hidden&&e.push("display:none;"),b.is_hidden=h.is_hidden,q=this.xf_grid._getitempropbyitem(p,"forecolor",g.fore_color),e.push(_xfc.forecolor(q,this.xf_grid.xf_prop.fore_color)),q=this.xf_grid._getitempropbyitem(p,"backcolor",void 0),void 0!==q&&e.push("background-color:"+_xfu.rgbfunc(q)+";"),l=this.xf_grid._getitempropbyitem(p,"font",void 0),void 0!==l&&e.push(_xfc.font(null,l,void 0)),m=this.xf_grid._getitempropbyitem(p,"text_horzalign",this.xf_column_data_prop.text_horzalign),s=this.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,d,!0),this.is_pattern_apply&&0==t&&(i=this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_STAT,this.xf_column_data_prop.statrow_expr_func,d,this.sub_row_index,this.column_index,s),i&&(void 0!==i.css&&i.css.length>0&&e.push(i.css),void 0!==i.itemtext&&(s=i.itemtext),void 0!==i.formatted&&(t=i.formatted),void 0!==i.hidden&&(j=i.hidden),void 0!==i.pattern_front_symbol&&(null==p&&(p={item_prop:{}}),p.item_prop.pattern_front_symbol=i.pattern_front_symbol),void 0!==i.pattern_rear_symbol&&(null==p&&(p={item_prop:{}}),p.item_prop.pattern_rear_symbol=i.pattern_rear_symbol),i.formatted===!0&&(void 0!==i.pattern_front_symbol&&(s=i.pattern_front_symbol+s),void 0!==i.pattern_rear_symbol&&(s+=i.pattern_rear_symbol)))),this.is_pattern_apply&&0==t&&(s=this.getcolumnstatrowitemformattext(d,p,!0,XF_GRID.FILE_TYPE_GRID,s)),e.push('">'),0==j&&(0==this.xf_grid.xf_prop.statistics_row_titleshow&&this.column_index==g.column_showtitle&&g.title.length>0?e.push(this.xf_grid._getitemdivspanhtml(this.xf_grid.xf_prop.cell_height,s,g.header_horzalign,g.header_vertalign,this.text_padding_css,XF_GRID.COLUMN_DATA_NORMAL)):this.xf_column_data_prop.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHART?e.push(this.getcolumnitemhtml(h.row_span,d,null,s,!0)):e.push(this.xf_grid._getitemdivspanhtml(this.xf_grid.xf_prop.cell_height,s,m,this.xf_column_data_prop.text_vertalign,this.text_padding_css,XF_GRID.COLUMN_DATA_NORMAL))),e.push("</td>")),e.join(""))},XF_GRID_COLUMN_DATA.prototype.getcolumnitembackcolorrgb=function(a,b){var c,d,e,f;return d=void 0,this.sub_row_index>0&&0==this.xf_grid._isdividerow(a)&&0==_xfu.isequalarray(this.xf_column_data_prop.backcolor,this.xf_column.xf_column_data_arr[0].xf_column_data_prop.backcolor)&&(d=this.xf_column_data_prop.backcolor),factory_xf_param.PROTECTCOLUMNCOLOR&&(c=this.getcolumneditableinfo(),0==c.is_editable&&1==this.xf_grid.xf_prop.editable&&(d=factory_xf_param.PROTECTCOLUMNCOLOR)),factory_xf_param.PROTECTCOLUMNCOLOR&&null!==b&&(e=this.xf_grid._getitempropbyitem(b,"editable",null),null!=e&&(0==e?(1==this.xf_grid.xf_prop.editable||0==this.xf_grid.xf_prop.editable&&"absolute"!=this.xf_grid.non_editable_status)&&(d=factory_xf_param.PROTECTCOLUMNCOLOR):d=this.xf_grid.xf_prop.cell_dividecolor_use&&this.xf_grid._isdividerow(a)?this.xf_grid.xf_prop.cell_dividecolor:this.xf_column_data_prop.init_backcolor)),factory_xf_param.MANDATORYCOLUMNCOLOR&&null!==b&&(f=this.xf_grid._getitempropbyitem(b,"data_inputtype",-1),-1!=f&&(1==f?1==this.xf_grid.xf_prop.editable&&(d=factory_xf_param.MANDATORYCOLUMNCOLOR):d=this.xf_grid.xf_prop.cell_dividecolor_use&&this.xf_grid._isdividerow(a)?this.xf_grid.xf_prop.cell_dividecolor:this.xf_column_data_prop.init_backcolor)),-1!=this.xf_column_data_prop.item_backcolor&&(0==this.xf_column_data_prop.item_backcolor_type?d=this.xf_column_data_prop.item_backcolor:1==this.xf_column_data_prop.item_backcolor_type&&(d=0==this.xf_grid._isdividerow(a)?this.xf_column_data_prop.item_backcolor:this.xf_grid.xf_prop.cell_dividecolor)),d=this.xf_grid._getitempropbyitem(b,"backcolor",d)},XF_GRID_COLUMN_DATA.prototype.getcolumnitemmergeinfo=function(a,b,c){var d,e;if(void 0===c&&(c=!1),d={is_hidden:!1,is_merge:!1,row_span:1,column_span:1,start_row_index:b,end_row_index:b,start_column_index:this.column_index,end_column_index:this.column_index},this.xf_grid.is_rwd_mode||this.xf_grid.is_touchmove_mode)return d;if(this.xf_grid._ismultilinegrid())return d=-1==this.xf_grid.subitem_merge_info_count?this.xf_grid._getheadermergeinfo(XF_GRID.MERGE_INFO_HEADER,this.sub_row_index,this.column_index):this.xf_grid._getheadermergeinfo(XF_GRID.MERGE_INFO_SUBITEM,this.sub_row_index,this.column_index),d.is_hidden=!1,d.is_merge&&1==d.row_span&&1==d.column_span&&(d.is_hidden=!0),d;if(0==c&&this.xf_grid.filter_info_arr.length>0)return d;if(a==XF_GRID.ROW_TABLE_STAT)return d=this.xf_grid._getmergeinfo(b,this.column_index,this.xf_grid.display_statrow_merge_info_count,this.xf_grid.display_statrow_merge_info_arr,XF_GRID.MERGE_INFO_STATROW),d.is_hidden=!1,d.is_merge&&1==d.row_span&&1==d.column_span&&(d.is_hidden=!0),d;if(0==this.xf_grid.item_merge_info_count){if(d=this.xf_grid._getcolumnmergeinfo(this.column_merge_info,b,this.column_index,c),d.is_hidden=!1,d.is_merge){if(1==c)return d;1==d.row_span&&(this.xf_grid.view_start_row_index==b?(d.row_span=d.end_row_index-d.start_row_index+1,this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!0),this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!1),d.row_span=d.row_span-(b-d.start_row_index),d.row_span=d.row_span+this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,d.start_row_index,b),d.is_hidden=!1):d.is_hidden=!0)}}else if(d=this.xf_grid._getitemmergeinfo(b,this.column_index,c),d.is_hidden=!1,d.is_merge){if(1==c)return d;1==d.row_span&&1==d.column_span?(d.is_hidden=!0,1==this.xf_grid.is_column_scroll_mode&&this.column_index>0&&this.xf_grid.view_start_column_index==this.column_index&&b==d.start_row_index&&(d.row_span=d.end_row_index-d.start_row_index+1,d.column_span=d.end_column_index-d.start_column_index+1,this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!0),this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!1),d.column_span=d.column_span-(this.column_index-d.start_column_index),d.column_span=d.column_span+this.xf_grid._gethiddencolumncount(d.start_column_index,this.column_index),d.is_hidden=!1),b>0&&this.xf_grid.view_start_row_index==b&&this.column_index==d.start_column_index&&(d.row_span=d.end_row_index-d.start_row_index+1,d.column_span=d.end_column_index-d.start_column_index+1,this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!0),this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!1),d.row_span=d.row_span-(b-d.start_row_index),d.row_span=d.row_span+this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,d.start_row_index,b),d.is_hidden=!1)):d.is_hidden=!1}else if(d=this.xf_grid._getcolumnmergeinfo(this.column_merge_info,b,this.column_index,c),d.is_hidden=!1,d.is_merge){if(1==c)return d;1==d.row_span&&(this.xf_grid.view_start_row_index==b?(d.row_span=d.end_row_index-d.start_row_index+1,this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!0),this.xf_grid._adjustrowcolumnspan(XF_GRID.MERGE_INFO_COLUMN,d,!1),d.row_span=d.row_span-(b-d.start_row_index),d.row_span=d.row_span+this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,d.start_row_index,b),d.is_hidden=!1):d.is_hidden=!0)}return 1==c?d:(b<this.xf_grid.view_top_row_index?d.row_span>1&&d.end_row_index>=this.xf_grid.view_top_row_index&&(d.row_span=d.row_span-(d.end_row_index-this.xf_grid.view_top_row_index)-1,d.row_span<1&&(d.row_span=1)):d.row_span>1&&(e=this.xf_grid.view_end_row_index,d.end_row_index>e&&(d.row_span=d.row_span-(d.end_row_index-e),d.row_span=d.row_span+this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,e,d.end_row_index),d.row_span<1&&(d.row_span=1))),d)},XF_GRID_COLUMN_DATA.prototype.getcolumnitemhtml=function(a,b,c,d,e){var f;switch(f=this.xf_grid._getitempropbyitem(c,"input_type",this.xf_column_data_prop.input_type),this.xf_grid._istreecolumn(this.column_index)&&(f=XF_GRID.COLUMN_INPUT_TYPE_TREE),f){case XF_GRID.COLUMN_INPUT_TYPE_EDITBOX:return this.getcolumneditboxhtml(a,f,b,c,d,e,factory_xf_param.GRID_EDITBOX_ESCAPE_HTML);case XF_GRID.COLUMN_INPUT_TYPE_CHECKBOX:return this.getcolumncheckboxhtml(a,b,c,d);case XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX:return this.getcolumncomboboxhtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_CALENDAR:return this.getcolumncalendarhtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_RADIOBUTTON:return this.getcolumnradiobuttonhtml(a,b,c,d);case XF_GRID.COLUMN_INPUT_TYPE_BARGAUGE:return this.getcolumnbargaugehtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_SPINNUMBER:return this.getcolumnspinhtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_HTML:return factory_xf_param.GRID_EDITBOX_ESCAPE_HTML?this.getcolumneditboxhtml(a,f,b,c,d,!0,!1):this.getcolumneditboxhtml(a,f,b,c,d,!0,!0);case XF_GRID.COLUMN_INPUT_TYPE_CHART:return this.getcolumncharthtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_BUTTON:return this.getcolumnbuttonhtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_IMAGE:return this.getcolumnimagehtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_COLOR:return this.getcolumncolorhtml(a,b,c,d,e);case XF_GRID.COLUMN_INPUT_TYPE_TREE:return this.getcolumntreehtml(a,b,c);default:return""}},XF_GRID_COLUMN_DATA.prototype.getcolumnitemtext=function(a,b,c){var d,e,f,g,h,i,j,k;if(f=0,a==XF_GRID.ROW_KIND_STAT)return d=this.stat_value_arr[b],void 0===d?"":_xfu.str(d);if(this.xf_grid._ismidstatrow(b)?d=this.xf_grid._getmidstatrowdata(b,this.column_index,this.sub_row_index):(void 0===c||c===!1?d=this.xf_xdataset._getdatabyname(this.xf_grid._getxdatasetrowindex(b),this.xdataset_column_type,this.xdataset_column_id):(e=this.xf_grid._getxdatasetrowindex(b),d=this.xf_xdataset._getdatabyname(e,this.xdataset_column_type,this.xdataset_column_id,this.xf_grid,b,this.sub_row_index,this.column_index)),this.xdataset_column_type==XFD_XDATASET_COLUMN_DATA&&(f=this.getcolumnitempropbyindex(b,"make_case",this.xf_column_data_prop.make_case))),g=this.getcolumniteminfo(b,this.sub_row_index),k=!1,g&&(k=this.xf_grid._getitempropbyitem(g,"_is_format_value",!1)),1==k)return d;if(0!=f&&(d=_xfx.makecase(f,d)),h=this.xf_grid._getitempropbyitem(g,"data_type",this.xf_column_data_prop.data_type),h==XFD_GRID_DATA_NUMERIC){if(j=this.xf_grid._getitempropbyitem(g,"int_value_pattern_max_length",this.int_value_pattern_max_length),0==factory_xf_param.INVALID_VALUE_BY_API||j>0){if(d=this.getitemformatvalue(g,d,!1),isNaN(parseFloat(d)))return d;i=this.xf_grid._getitempropbyitem(g,"number_pattern_info",this.number_pattern_info),factory_xf_param.USER_DECIMAL_SEPARATOR!==factory_xf_param.VALUE_DECIMAL_SEPARATOR&&1==this.is_pattern_apply?(d=_xfp._number(d,i.places,i.allow_minus,factory_xf_param.USER_DECIMAL_SEPARATOR),d=d.replace(factory_xf_param.USER_DECIMAL_SEPARATOR,factory_xf_param.VALUE_DECIMAL_SEPARATOR)):d=_xfp._number(d,i.places,i.allow_minus,factory_xf_param.VALUE_DECIMAL_SEPARATOR)}isNaN(d)&&(d="")}return d},XF_GRID_COLUMN_DATA.prototype.getcolumnstatrowitemformattext=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n;if(h=this.xf_grid.xf_stat_row_arr[a],i=h.xf_stat_row_prop,0==this.xf_grid.xf_prop.statistics_row_titleshow&&this.column_index==i.column_showtitle&&i.title.length>0){if(g=i.title,d==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==b&&(b={item_prop:{}}),b.item_prop.data_type=2,this.excel_statrow_item_info_arr[a]=b),d!==XF_GRID.FILE_TYPE_CSV)return g}else{if(0==this.xf_column_data_prop.statistics_show)return"";if(void 0===e&&(e=this.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,a)),0==c)return e;if(l=this.number_pattern_info.places,m=this.number_pattern_info.allow_minus,n=this.number_pattern_info.fill_zero_count,0==i.operation){if(!this.xf_column_data_prop.statistics_sumuse)return"";null!=this.statsum_pattern_info&&(l=this.statsum_pattern_info.places,m=this.statsum_pattern_info.allow_minus,n=this.statsum_pattern_info.fill_zero_count,d==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==b&&(b={item_prop:{}}),b.item_prop.pattern=this.xf_column_data_prop.statistics_sumpattern,this.excel_statrow_item_info_arr[a]=b))}else if(1==i.operation){if(!this.xf_column_data_prop.statistics_avguse)return"";null!=this.statavg_pattern_info&&(l=this.statavg_pattern_info.places,m=this.statavg_pattern_info.allow_minus,n=this.statavg_pattern_info.fill_zero_count,d==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==b&&(b={item_prop:{}}),b.item_prop.pattern=this.xf_column_data_prop.statistics_avgpattern,this.excel_statrow_item_info_arr[a]=b))}else if(2==i.operation){if(!this.xf_column_data_prop.statistics_countuse)return"";null!=this.statcount_pattern_info&&(l=this.statcount_pattern_info.places,m=this.statcount_pattern_info.allow_minus,n=this.statcount_pattern_info.fill_zero_count,d==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==b&&(b={item_prop:{}}),b.item_prop.pattern=this.xf_column_data_prop.statistics_countpattern,this.excel_statrow_item_info_arr[a]=b))}else if(3==i.operation){if(!this.xf_column_data_prop.statistics_minuse)return"";null!=this.statmin_pattern_info&&(l=this.statmin_pattern_info.places,m=this.statmin_pattern_info.allow_minus,n=this.statmin_pattern_info.fill_zero_count,d==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==b&&(b={item_prop:{}}),b.item_prop.pattern=this.xf_column_data_prop.statistics_minpattern,this.excel_statrow_item_info_arr[a]=b))}else if(4==i.operation){if(!this.xf_column_data_prop.statistics_maxuse)return"";null!=this.statmax_pattern_info&&(l=this.statmax_pattern_info.places,m=this.statmax_pattern_info.allow_minus,n=this.statmax_pattern_info.fill_zero_count,d==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==b&&(b={item_prop:{}}),b.item_prop.pattern=this.xf_column_data_prop.statistics_maxpattern,this.excel_statrow_item_info_arr[a]=b))}g=_xfp.fmt(e,this.pattern_type,l,m,n,this.xf_column_data_prop.round_type,this.xf_regexp,factory_xf_param.VALUE_DECIMAL_SEPARATOR,this.xf_column_data_prop.decimal_separator,this.xf_column_data_prop.thousands_separator),void 0!==f&&1!=f||(j=this.xf_grid._getitempropbyitem(b,"pattern_front_symbol",this.xf_column_data_prop.pattern_front_symbol),k=this.xf_grid._getitempropbyitem(b,"pattern_rear_symbol",this.xf_column_data_prop.pattern_rear_symbol),g.length>0&&(g=j+g+k))}return g},XF_GRID_COLUMN_DATA.prototype.getcolumnstatrowitemdisplaytext=function(a,b,c,d){var e,f,g,h,i,j;if(f=this.xf_grid.xf_stat_row_arr[a],g=f.xf_stat_row_prop,i=this.getcolumnstatrowiteminfo(a,this.sub_row_index,c),c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==i&&(i={item_prop:{}}),void 0===i.item_prop.backcolor&&(i.item_prop.backcolor=g.back_color),void 0===i.item_prop.forecolor&&(i.item_prop.forecolor=g.fore_color),this.excel_statrow_item_info_arr[a]=i),!(0==this.xf_grid.xf_prop.statistics_row_titleshow&&this.column_index==g.column_showtitle&&g.title.length>0)){if(0==this.xf_column_data_prop.statistics_show)return"";if(void 0===d&&(d=this.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,a)),0==b)return d;if(h=this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_STAT,this.xf_column_data_prop.statrow_expr_func,a,this.sub_row_index,this.column_index,d)){if(c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&void 0!==h.css&&h.css.length>0&&(null==i&&(i={item_prop:{}}),this.xf_grid._setitempropbycssexpr(i.item_prop,h.css),this.excel_statrow_item_info_arr[a]=i),void 0!==h.hidden&&1==h.hidden)return"";if(void 0!==h.itemtext&&(d=h.itemtext),void 0!==h.pattern_front_symbol&&c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==i&&(i={item_prop:{}}),i.item_prop.pattern_front_symbol=h.pattern_front_symbol,this.excel_statrow_item_info_arr[a]=i),void 0!==h.pattern_rear_symbol&&c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==i&&(i={item_prop:{}}),i.item_prop.pattern_rear_symbol=h.pattern_rear_symbol,this.excel_statrow_item_info_arr[a]=i),h.formatted===!0)return void 0!==h.pattern_front_symbol&&(d=h.pattern_front_symbol+d),void 0!==h.pattern_rear_symbol&&(d+=h.pattern_rear_symbol),c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==i&&(i={item_prop:{}}),i.item_prop.data_type=2,this.excel_statrow_item_info_arr[a]=i),d}return j=!0,c==XF_GRID.FILE_TYPE_EXCEL&&(j=!1),this.getcolumnstatrowitemformattext(a,i,!0,c,d,j)}return e=g.title,c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr&&(null==i&&(i={item_prop:{}}),i.item_prop.data_type=2,this.excel_statrow_item_info_arr[a]=i),c!==XF_GRID.FILE_TYPE_CSV?e:e},XF_GRID_COLUMN_DATA.prototype.getcolumndatarowitemdisplaytext=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(i=!1,e=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,a),d=this.getcolumniteminfo(a,this.sub_row_index,c),j=this.xf_grid._ismidstatrow(a),j&&(g=this.xf_grid._getmidstatinfo(a),null!=g&&(c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_item_info_arr&&(null==d&&(d={item_prop:{}}),void 0===d.item_prop.backcolor&&(d.item_prop.backcolor=g.back_color),void 0===d.item_prop.forecolor&&(d.item_prop.forecolor=g.fore_color),this.column_index==g.title_column_index&&(d.item_prop.data_type=2),this.excel_item_info_arr[a]=d),this.column_index==g.title_column_index)))return e;if(b&&(h=j?this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_DATA,this.xf_column_data_prop.midstat_expr_func,a,this.sub_row_index,this.column_index,e):this.xf_grid._callexprfunc(XF_GRID.ROW_KIND_DATA,this.xf_column_data_prop.expr_func,a,this.sub_row_index,this.column_index,e))){if(c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_item_info_arr&&void 0!==h.css&&h.css.length>0&&(null==d&&(d={
item_prop:{}}),this.xf_grid._setitempropbycssexpr(d.item_prop,h.css),this.excel_item_info_arr[a]=d),void 0!==h.hidden&&1==h.hidden)return"";if(void 0!==h.itemtext&&(e=h.itemtext),void 0!==h.formatted&&(i=h.formatted),void 0!==h.pattern_front_symbol&&c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_item_info_arr&&(null==d&&(d={item_prop:{}}),d.item_prop.pattern_front_symbol=h.pattern_front_symbol,this.excel_item_info_arr[a]=d),void 0!==h.pattern_rear_symbol&&c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_item_info_arr&&(null==d&&(d={item_prop:{}}),d.item_prop.pattern_rear_symbol=h.pattern_rear_symbol,this.excel_item_info_arr[a]=d),h.formatted===!0)return void 0!==h.pattern_front_symbol&&(e=h.pattern_front_symbol+e),void 0!==h.pattern_rear_symbol&&(e+=h.pattern_rear_symbol),c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_item_info_arr&&(null==d&&(d={item_prop:{}}),d.item_prop.data_type=2,this.excel_item_info_arr[a]=d),e}if(r=this.xf_grid._getitempropbyitem(d,"data_type",this.xf_column_data_prop.data_type),c==XF_GRID.FILE_TYPE_EXCEL&&r==XFD_GRID_DATA_NUMERIC)return e;if(f=e,q=!1,0==b&&(k=this.xf_grid._getitempropbyitem(d,"masking_length",this.xf_column_data_prop.masking_length),k>0&&2==r?(b=!0,q=!0):(n=this.xf_grid._getitempropbyitem(d,"mask_range_count",this.mask_range_count),n>0&&(b=!0,q=!0))),m=this.xf_grid._getitempropbyitem(d,"input_type",this.xf_column_data_prop.input_type),b&&0==i)switch(m){case XF_GRID.COLUMN_INPUT_TYPE_EDITBOX:case XF_GRID.COLUMN_INPUT_TYPE_CALENDAR:m==XF_GRID.COLUMN_INPUT_TYPE_CALENDAR&&(e=this.getdatetypedatetext(d,e)),f=this.getitemformatvalue(d,e,void 0,a),d=this.item_info,k=this.xf_grid._getitempropbyitem(d,"masking_length",this.xf_column_data_prop.masking_length),k>0&&2==r?f=_xfp.masklength(f,k,this.xf_column_data_prop.max_length_unit,this.xf_column_data_prop.max_length):(n=this.xf_grid._getitempropbyitem(d,"mask_range_count",this.mask_range_count),n>0&&(o=this.xf_grid._getitempropbyitem(d,"mask_range_arr",this.mask_range_arr),p=this.xf_grid._getitempropbyitem(d,"pattern_mask",this.xf_column_data_prop.pattern_mask),f=2==r?_xfp.hangulmasks(f,n,o,factory_xf_param.MASK_FIT_PATTERN_LENGTH,p,this.xf_column_data_prop.max_length_unit):_xfp.masks(f,n,o,factory_xf_param.MASK_FIT_PATTERN_LENGTH,p),1==q&&(s=this.xf_grid._getitempropbyitem(d,"xf_regexp",this.xf_regexp),this.xf_regexp&&(f=f.replace(s.delimiter_char_regexp,"")))));break;case XF_GRID.COLUMN_INPUT_TYPE_SPINNUMBER:f=this.getitemformatvalue(d,f);break;case XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX:l=this.xf_column_data_prop.picklist_selstyle,c>0&&(l=0==this.xf_column_data_prop.combobox_excelstyle?this.xf_column_data_prop.picklist_selstyle:this.xf_column_data_prop.combobox_excelstyle-1),f=this.getcolumncomboboxtext(d,e,l)}return f},XF_GRID_COLUMN_DATA.prototype.getcolumnitemdisplaytext=function(a,b,c,d){return a==XF_GRID.ROW_KIND_STAT?this.getcolumnstatrowitemdisplaytext(b,c,d):this.getcolumndatarowitemdisplaytext(b,c,d)},XF_GRID_COLUMN_DATA.prototype._invaliditemvaluebyapi=function(a,b,c,d){var e,a;if(c)if(2==factory_xf_param.INVALID_VALUE_BY_API)e="";else{if(1==factory_xf_param.INVALID_VALUE_BY_API)return"";if(0==factory_xf_param.INVALID_VALUE_BY_API)return d}else if(2==factory_xf_param.INVALID_VALUE_BY_API)e=d;else if(0==factory_xf_param.INVALID_VALUE_BY_API||1==factory_xf_param.INVALID_VALUE_BY_API)return d;return a?c?a.is_invalid_value=!0:a.is_invalid_value=!1:c&&(a={is_invalid_value:!0,item_prop:{}},this.item_info_arr[b]=a),e},XF_GRID_COLUMN_DATA.prototype.setcolumnitemtext=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(c=_xfu.str(c),a==XF_GRID.ROW_KIND_STAT)return this.stat_value_arr[b]=c,!0;if(this.xf_grid._ismidstatrow(b))return this.xf_grid._setmidstatrowdata(b,this.column_index,c,this.sub_row_index),!0;if(g=this.getcolumniteminfo(b,this.sub_row_index),A=!1,g&&(A=this.xf_grid._getitempropbyitem(g,"_is_format_value",!1)),1==A)return 0!=factory_xf_param.INVALID_VALUE_BY_API&&this._invaliditemvaluebyapi(g,b,!1,c),s=this.xf_grid._getxdatasetrowindex(b),this.xf_xdataset._setdatabyname(s,this.xdataset_column_type,this.xdataset_column_id,c,!0,d?null:this.xf_grid),d&&this.xf_column_data_prop.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHECKBOX&&(void 0!==f&&1!=f||this.xf_grid._refreshheadercheck(this.sub_row_index,this.column_index,null)),!0;if(k=this.xf_grid._getitempropbyitem(g,"data_type",this.xf_column_data_prop.data_type),l=this.xf_grid._getitempropbyitem(g,"input_type",this.xf_column_data_prop.input_type),m=this.xf_grid._getitempropbyitem(g,"make_case",this.xf_column_data_prop.make_case),y=!1,n=c.length,k===XFD_GRID_DATA_NUMERIC)h=this.xf_grid._getitempropbyitem(g,"number_pattern_info",this.number_pattern_info),t=this.xf_grid._getitempropbyitem(g,"round_type",this.xf_column_data_prop.round_type),0!=factory_xf_param.INVALID_VALUE_BY_API&&n>0&&(u=this.xf_grid._getitempropbyitem(g,"int_value_pattern_max_length",this.int_value_pattern_max_length),u>0&&(c.toLowerCase().indexOf("e")>=0&&(w=parseFloat(c),isNaN(w)?y=!0:c=w.toFixed(h.places)),0==y&&(x=c.split(factory_xf_param.VALUE_DECIMAL_SEPARATOR),x[0]=x[0].replace(/,/g,""),z=x[0].length,"-"==x[0].charAt(0)&&z--,z>u?y=!0:0==h.allow_minus&&"-"==x[0].charAt(0)&&(y=!0))),1==y?c=this._invaliditemvaluebyapi(g,b,!0,c):this._invaliditemvaluebyapi(g,b,!1,c)),c=0!=factory_xf_param.INVALID_VALUE_BY_API&&0==u?_xfp._number(c,1e3,!0):_xfp.number(c,h.places,h.allow_minus,h.fill_zero_count,t),isNaN(c)&&(c="");else{switch(k!=XFD_GRID_DATA_HANGUL&&(c=c.replace(_xfp.expr_hangul,"")),l){case XFD_GRID_INPUTCALENDAR:case XFD_GRID_INPUTBARGAUGE:c=c.replace(_xfp.expr_only_number,"")}i=this.xf_grid._getitempropbyitem(g,"pattern_type",this.pattern_type),i!==XFD_PATTERN_TYPE_NONE&&(j=this.xf_grid._getitempropbyitem(g,"xf_regexp",this.xf_regexp),c=_xfp._exp(c,j)),n=c.length,0!=factory_xf_param.INVALID_VALUE_BY_API&&n>0&&(k==XFD_GRID_DATA_HANGUL?(o=this.xf_grid._getitempropbyitem(g,"max_length",this.xf_column_data_prop.max_length),o>0&&n>0&&i!=XFD_PATTERN_TYPE_NONE&&(1==this.xf_column_data_prop.max_length_unit?n>o&&(y=!0):_xfu.bytelen(c)>o&&(y=!0))):(v=this.xf_grid._getitempropbyitem(g,"value_pattern_max_length",this.value_pattern_max_length),v>0&&n>0&&n>v&&l!=XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX&&i!=XFD_PATTERN_TYPE_NONE&&(y=!0))),1==y?c=this._invaliditemvaluebyapi(g,b,!0,c):this._invaliditemvaluebyapi(g,b,!1,c)}return 0!=m&&(c=_xfx.makecase(m,c)),factory.xf_param.GRID_SETITEMTEXT_CHECK_MAXLENGTH&&(o=this.xf_grid._getitempropbyitem(g,"max_length",this.xf_column_data_prop.max_length),o>0&&c.length>0&&(k==XFD_GRID_DATA_NUMERIC?0==h.places?c=_xfu.trimlength(c,o,!1):(q=c.split(factory_xf_param.VALUE_DECIMAL_SEPARATOR),q[0]=_xfu.trimlength(q[0],o-h.places-1,!1),2==q.length&&(q[1]=_xfu.trimlength(q[1],h.places)),c=q.join(factory_xf_param.VALUE_DECIMAL_SEPARATOR)):(p=this.xf_grid._getitempropbyitem(g,"max_length_unit",this.xf_column_data_prop.max_length_unit),c=0==p?_xfu.trimlength(c,o,!0):_xfu.trimlength(c,o,!0,1)))),s=this.xf_grid._getxdatasetrowindex(b),1==y&&0!=factory_xf_param.INVALID_VALUE_BY_API&&(r=this.xf_xdataset._getdatabyname(s,this.xdataset_column_type,this.xdataset_column_id),""==r&&this.xf_grid._refreshdatatd(b,this.sub_row_index,this.column_index)),this.xf_xdataset._setdatabyname(s,this.xdataset_column_type,this.xdataset_column_id,c,!0,d?null:this.xf_grid),d&&this.xf_column_data_prop.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHECKBOX&&(void 0!==f&&1!=f||this.xf_grid._refreshheadercheck(this.sub_row_index,this.column_index,null)),!0},XF_GRID_COLUMN_DATA.prototype.setcolumnitemcheckbox=function(a,b,c,d){return c?this.setcolumnitemtext(a,b,this.xf_column_data_prop.checkbox_truevalue,d):this.setcolumnitemtext(a,b,this.xf_column_data_prop.checkbox_falsevalue,d)},XF_GRID_COLUMN_DATA.prototype.getcolumneditableinfo=function(){var a;return a={input_type:0,is_editable:!1},0==this.xf_grid.xf_prop.editable&&"absolute"==this.xf_grid.non_editable_status?a:(a.input_type=this.xf_column_data_prop.input_type,1==this.xf_grid.xf_prop.editable?a.is_editable=this.xf_column_data_prop.editable:1==this.xf_column_data_prop.editable&&"absolute"==this.editable_status&&(a.is_editable=!0),a)},XF_GRID_COLUMN_DATA.prototype.getitemeditableinfo=function(a,b,c,d){var e;if(e={td_info:null,item_info:null,input_type:0,focus_select:this.xf_column_data_prop.edit_focus_select,edit_value:this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,a),is_keyin_value:!0,is_editable:!1,event_type:XFD_DATA_CHANGE_BY_GRID},0==this.xf_grid.xf_prop.editable&&"absolute"==this.xf_grid.non_editable_status)return e;if(null!=c)if(this.xf_td=c,null==d){if(e.td_info=this.xf_grid._gettdinfo(this.xf_td),null==e.td_info)return e}else e.td_info=d;if(e.item_info=b,null==e.item_info&&(e.item_info=this.getcolumniteminfo(a,this.sub_row_index)),e.input_type=this.xf_grid._getitempropbyitem(e.item_info,"input_type",this.xf_column_data_prop.input_type),null!=c){if(e.input_type==XF_GRID.COLUMN_INPUT_TYPE_BUTTON||e.input_type==XF_GRID.COLUMN_INPUT_TYPE_IMAGE||e.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHECKBOX||e.input_type==XF_GRID.COLUMN_INPUT_TYPE_RADIOBUTTON||e.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHART)return e}else if(e.input_type==XF_GRID.COLUMN_INPUT_TYPE_IMAGE||e.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHART)return e;return 1==this.xf_grid.xf_prop.editable?e.is_editable=this.xf_grid._getitempropbyitem(e.item_info,"editable",this.xf_column_data_prop.editable):1==this.xf_column_data_prop.editable&&"absolute"==this.editable_status?e.is_editable=this.xf_grid._getitempropbyitem(e.item_info,"editable",!0):e.is_editable=this.xf_grid._getitempropbyitem(e.item_info,"editable",!1),e},XF_GRID_COLUMN_DATA.prototype.showedit=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;return E=!1,void 0!==c&&null!=c||(c=this.getitemeditableinfo(b,null,a,null),c.is_keyin_value=!1),0==c.is_editable?!1:(e=c.item_info,m=c.input_type,g=this.xf_grid._getitempropbyitem(e,"font",this.xf_column_data_prop.font),void 0!==g&&0!=g.length||(g=this.xf_grid.xf_prop.font),F=this.xf_grid._getitempropbyitem(e,"tooltip",""),A=this.xf_grid.xf_prop.popupmenu_show,this.xf_grid._ismidstatrow(b)?void 0:this.xf_grid.xf_xdataset._isdeletedrow(this.xf_grid._getxdatasetrowindex(b))?!1:(this.xf_td.removeClass(this.xf_grid.class_tr_selected),this.xf_td.removeClass(this.xf_grid.class_td_selected),f=this.xf_grid._gettdrowspan(this.xf_td),l=this.xf_grid._getitempropbyitem(e,"max_length",this.xf_column_data_prop.max_length),0==l&&(l=1e3),d=this.xf_grid._getitempropbyitem(e,"text_horzalign",this.xf_column_data_prop.text_horzalign),1==d?d=2:2==d&&(d=1),k=this.xf_grid._getitempropbyitem(e,"pattern",this.xf_column_data_prop.pattern),p=this.xf_grid._getitempropbyitem(e,"masking_length",this.xf_column_data_prop.masking_length),r=this.xf_grid._getitempropbyitem(e,"pattern_front_symbol",this.xf_column_data_prop.pattern_front_symbol),s=this.xf_grid._getitempropbyitem(e,"pattern_rear_symbol",this.xf_column_data_prop.pattern_rear_symbol),u=this.xf_grid._getitempropbyitem(e,"pattern_mask",this.xf_column_data_prop.pattern_mask),t=this.xf_grid._getitempropbyitem(e,"data_type",this.xf_column_data_prop.data_type),o=this.xf_grid._getitempropbyitem(e,"make_case",this.xf_column_data_prop.make_case),w=this.xf_grid._getitempropbyitem(e,"editbox_popbtneditable",this.xf_column_data_prop.editbox_popbtneditable),G=this.xf_grid._getitempropbyitem(e,"data_inputtype",this.xf_column_data_prop.data_inputtype),z="0",J=null,0!=factory_xf_param.INVALID_VALUE_BY_API&&t===XFD_GRID_DATA_NUMERIC&&(q=this.xf_grid._getitempropbyitem(e,"int_value_pattern_max_length",this.int_value_pattern_max_length),0==q&&(k="")),h=this.xf_grid._getitempropbyitem(e,"xf_regexp",this.xf_regexp),v="0",2==this.xf_column_data_prop.auto_skip&&(v="1"),m==XF_GRID.COLUMN_INPUT_TYPE_EDITBOX||m==XF_GRID.COLUMN_INPUT_TYPE_HTML?(n=this.xf_grid._createitemeditdiv(a,b,this.sub_row_index,this.column_index),z="0",this.xf_column_data_prop.editbox_popbtnshow&&(K=[],K.push("<button"),K.push(' tabindex="-1"'),K.push(' class="_xf_field_button"'),K.push(' style="'),K.push("width:"+_xfu.px(this.xf_column_data_prop.editbox_popbtnsize)+";"),""!==this.xf_column_data_prop.editbox_popbtnimage&&K.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.editbox_popbtnimage)),K.push('"></button>'),J=$(K.join("")),z=w?"0":"2"),this.xf_column_data_prop.editbox_multiline?(_xfl_extendlib("XF_MULTILINE"),this.xf_input=new XF_MULTILINE(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,x:"0",y:"0",border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),max_length:l,max_length_unit:this.xf_column_data_prop.max_length_unit,min_length:this.xf_column_data_prop.min_length,make_case:o,imemode:this.xf_column_data_prop.imemode,tooltip:F,position:1,line_gap:2,focus_select:c.focus_select,create_mode:_XFD_CREATEMODE_GRID,popupmenu_show:A,xf_grid:this.xf_grid,button_size:this.xf_column_data_prop.editbox_popbtnsize,on_editcomplete:$.proxy(this.on_field_editcomplete,this),row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index})):t==XFD_GRID_DATA_NUMERIC?(_xfl_extendlib("XF_NUMBER"),this.xf_input=new XF_NUMBER(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,x:"0",y:"0",border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),horz_align:d,max_length:l,min_length:this.xf_column_data_prop.min_length,max_value:this.xf_column_data_prop.max_value,min_value:this.xf_column_data_prop.min_value,pattern_front_symbol:r,pattern_rear_symbol:s,allow_dup:this.xf_column_data_prop.allow_dup?"1":"0",dup_name:this.xf_column_data_prop.dup_name,auto_complete:this.xf_column_data_prop.auto_complete?"1":"0",pattern:k,auto_skip:v,hint_text:this.xf_column_data_prop.hint_text,mobile_keyboard:this.xf_column_data_prop.mobile_keyboard,tooltip:F,position:1,popupmenu_show:A,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,data_inputtype:G,xf_button:J,button_size:this.xf_column_data_prop.editbox_popbtnsize,input_type:z,focus_select:c.focus_select,on_editcomplete:$.proxy(this.on_field_editcomplete,this),on_popbtnclick:$.proxy(this.on_fieldpopbtn_click,this),row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index})):t==XFD_GRID_DATA_ALPHANUM?(_xfl_extendlib("XF_FIELD"),this.xf_input=new XF_FIELD(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,x:"0",y:"0",border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),horz_align:d,max_length:l,min_length:this.xf_column_data_prop.min_length,make_case:o,pattern:k,pattern_front_symbol:r,pattern_rear_symbol:s,pattern_mask:u,pattern_func:this.xf_column_data_prop.pattern_func,allow_dup:this.xf_column_data_prop.allow_dup?"1":"0",dup_name:this.xf_column_data_prop.dup_name,auto_complete:this.xf_column_data_prop.auto_complete?"1":"0",hint_text:this.xf_column_data_prop.hint_text,mobile_keyboard:this.xf_column_data_prop.mobile_keyboard,tooltip:F,position:1,popupmenu_show:A,auto_skip:v,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,data_inputtype:G,xf_button:J,button_size:this.xf_column_data_prop.editbox_popbtnsize,input_type:z,focus_select:c.focus_select,on_editcomplete:$.proxy(this.on_field_editcomplete,this),on_popbtnclick:$.proxy(this.on_fieldpopbtn_click,this),row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index})):t==XFD_GRID_DATA_HANGUL&&(_xfl_extendlib("XF_HANGUL"),this.xf_input=new XF_HANGUL(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,x:"0",y:"0",border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),horz_align:d,max_length:l,min_length:this.xf_column_data_prop.min_length,max_length_unit:this.xf_column_data_prop.max_length_unit,make_case:o,allow_dup:this.xf_column_data_prop.allow_dup?"1":"0",dup_name:this.xf_column_data_prop.dup_name,auto_complete:this.xf_column_data_prop.auto_complete?"1":"0",hint_text:this.xf_column_data_prop.hint_text,mobile_keyboard:this.xf_column_data_prop.mobile_keyboard,tooltip:F,position:1,popupmenu_show:A,auto_skip:v,pattern:k,masking_length:this.xf_column_data_prop.masking_length,pattern_front_symbol:r,pattern_rear_symbol:s,pattern_mask:u,imemode:this.xf_column_data_prop.imemode,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,data_inputtype:G,xf_button:J,button_size:this.xf_column_data_prop.editbox_popbtnsize,input_type:z,focus_select:c.focus_select,on_editcomplete:$.proxy(this.on_field_editcomplete,this),on_popbtnclick:$.proxy(this.on_fieldpopbtn_click,this),row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index})),this.xf_grid.xf_item_edit_div.append(this.xf_input.xf_object),J&&this.xf_grid.xf_item_edit_div.append(J),this.xf_td.append(this.xf_grid.xf_item_edit_div),this.xf_input._setvalue(c.edit_value,{is_fire_event:!1,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:c.event_type}),this.xf_input&&(this.xf_input.setfocus(),this.xf_grid.xf_item_edit_component=this.xf_input)):m==XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX?(null!=this.xf_combobox&&(this.xf_combobox.destroy(),this.xf_combobox=null),n=this.xf_grid._createitemeditdiv(a,b,this.sub_row_index,this.column_index),j=this.xf_grid._getitempropbyitem(e,"xf_picklist",this.xf_picklist),B=this.xf_grid._getitempropbyitem(e,"picklist_selstyle",this.xf_column_data_prop.picklist_selstyle),C=this.xf_grid._getitempropbyitem(e,"picklist_viewstyle",this.xf_column_data_prop.picklist_viewstyle),j.xf_prop.picklist_selstyle=B,_xfl_extendlib("XF_COMBOBOX"),this.xf_combobox=new XF_COMBOBOX(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,name:this.xf_grid.xf_prop.internal_name+"_combobox",picklist:this.xf_column_data_prop.picklist,combobox_data:this.xf_column_data_prop.combobox_data,showselectbox_focusin:this.showedit_by_itembuttonclick?"1":this.xf_column_data_prop.combobox_showselectbox_focusin,picklist_linkdata:this.xf_column_data_prop.picklist_linkdata,picklist_selstyle:B,picklist_viewstyle:C,picklist_viewsort:this.xf_column_data_prop.picklist_viewsort,picklist_showmaxcount:this.xf_column_data_prop.picklist_showmaxcount,picklist_popupcount:this.xf_column_data_prop.picklist_popupcount,x:"0",y:"0",editable:this.xf_column_data_prop.combobox_editable,border:"0",text_margin:this.cell_textmargin.join(","),width:n.width,height:n.height,make_case:o,max_length:l,imemode:this.xf_column_data_prop.imemode,font:_xfx.fontstr(g),picklist_font:_xfx.fontstr(g),picklist_keyinfilter:this.xf_column_data_prop.picklist_keyinfilter,horz_align:this.xf_column_data_prop.text_horzalign,auto_codevalid:this.xf_column_data_prop.combobox_autocodevalid,maxselectcount:this.xf_column_data_prop.combobox_maxselectcount,value_delimiter:this.xf_column_data_prop.combobox_valuedelimiter,display_delimiter:this.xf_column_data_prop.combobox_displaydelimiter,show_checkbox:this.xf_column_data_prop.combobox_showcheckbox?"1":"0",show_allcheckbox:this.xf_column_data_prop.combobox_showallcheckbox?"1":"0",allcheckbox_comment:this.xf_column_data_prop.combobox_allcheckbox_comment,allcheckbox_backcolor:_xfx.rgbhex(this.xf_column_data_prop.combobox_allcheckbox_backcolor),allcheck_textdisplay:this.xf_column_data_prop.combobox_allcheck_textdisplay,clickitem_action:this.xf_column_data_prop.combobox_clickitem_action,button_size:this.xf_column_data_prop.combobox_buttonsize,button_image:this.xf_column_data_prop.combobox_buttonimage,button_hidden:!this.xf_column_data_prop.combobox_showbutton_editmode,selectbox_pos:this.xf_column_data_prop.combobox_selectbox_pos,selectbox_vert_pos:this.xf_column_data_prop.combobox_selectbox_vertpos,selectbox_itemheight:this.xf_column_data_prop.combobox_selectbox_itemheight,hint_text:this.xf_column_data_prop.hint_text,tooltip:F,focus_select:c.focus_select,selectbox_datastyle:this.xf_column_data_prop.combobox_selectbox_datastyle,selectbox_overflowx:this.xf_column_data_prop.combobox_selectbox_overflowx,selectbox_overflowy:this.xf_column_data_prop.combobox_selectbox_overflowy,selecttable_columncount:this.xf_column_data_prop.selecttable_columncount,selecttable_codecolumn:this.xf_column_data_prop.selecttable_codecolumn,selecttable_commentcolumn:this.xf_column_data_prop.selecttable_commentcolumn,selecttable_showcolumnheader:this.xf_column_data_prop.selecttable_showcolumnheader?"1":"0",selecttable_propdelimiter:this.xf_column_data_prop.selecttable_propdelimiter,selecttable_columnalign:this.xf_column_data_prop.selecttable_columnalign,selecttable_columnwidth:this.xf_column_data_prop.selecttable_columnwidth,selecttable_columntitle:this.xf_column_data_prop.selecttable_columntitle,selecttable_columndatadelimiter:this.xf_column_data_prop.selecttable_columndatadelimiter,selecttable_rowdatadelimiter:this.xf_column_data_prop.selecttable_rowdatadelimiter,selecttable_data:this.xf_column_data_prop.selecttable_data,mousewheel_itemselect:this.xf_column_data_prop.combobox_mousewheel_itemselect,position:1,popupmenu_show:A,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,data_inputtype:G,row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index,xf_picklist:j}),this.xf_grid.xf_item_edit_div.append(this.xf_combobox.xf_object),this.xf_td.append(this.xf_grid.xf_item_edit_div),this.xf_combobox.xf_prop.on_editcomplete=$.proxy(this.on_combobox_editcomplete,this),i=c.edit_value.length,i>0&&(0==c.is_keyin_value?this.xf_combobox.setselectedcodeex(c.edit_value,!1):i>=l?E=this.xf_combobox.setselectedcodeex(c.edit_value,!1):this.xf_combobox._setnoneditvalue(c.edit_value)),this.xf_combobox&&(this.xf_combobox.setfocus(),this.xf_grid.xf_item_edit_component=this.xf_combobox)):m==XF_GRID.COLUMN_INPUT_TYPE_CALENDAR?(null!=this.xf_date&&(this.xf_date.destroy(),this.xf_date=null),n=this.xf_grid._createitemeditdiv(a,b,this.sub_row_index,this.column_index),x=this.xf_grid._getitempropbyitem(e,"calendar_datetype",this.xf_column_data_prop.calendar_datetype),y=this.xf_grid._getitempropbyitem(e,"calendar_type",this.xf_column_data_prop.calendar_type),H="",I="",null!=h&&h.delimiter_char_arr.length>0&&(I=h.delimiter_char_arr[0],3==h.delimiter_char_arr.length&&(H=h.delimiter_char_arr[2])),_xfl_extendlib("XF_DATE"),this.xf_date=new XF_DATE(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,name:this.xf_grid.xf_prop.name+"_date",x:"0",y:"0",border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),horz_align:this.xf_column_data_prop.text_horzalign,delimiter_char:I,date_type:x,time_type:this.xf_column_data_prop.calendar_timetype,timedelimiter_char:H,calendar_type:y,calendar_pos:this.xf_column_data_prop.calendar_pos,calendar_vert_pos:this.xf_column_data_prop.calendar_vert_pos,calendar_size:this.xf_column_data_prop.calendar_size,showtodaybar:this.xf_column_data_prop.calendar_showtodaybar?"1":"0",button_size:this.xf_column_data_prop.calendar_buttonsize,button_image:this.xf_column_data_prop.calendar_image,button_hidden:!this.xf_column_data_prop.calendar_showbutton_editmode,hint_text:this.xf_column_data_prop.hint_text,editable:this.xf_column_data_prop.calendar_editable,min_date:this.xf_column_data_prop.min_value,max_date:this.xf_column_data_prop.max_value,tooltip:F,position:1,popupmenu_show:A,auto_skip:v,focus_select:c.focus_select,showcalendar_focusin:this.showedit_by_itembuttonclick?"1":this.xf_column_data_prop.calendar_showcalendar_focusin,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,data_inputtype:G,row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index}),this.xf_grid.xf_item_edit_div.append(this.xf_date.xf_object),this.xf_td.append(this.xf_grid.xf_item_edit_div),this.xf_date.xf_prop.on_editcomplete=$.proxy(this.on_date_editcomplete,this),this.xf_date._setvalue(c.edit_value,{is_fire_event:!1,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:c.event_type}),this.xf_date&&(this.xf_date.setfocus(),this.xf_grid.xf_item_edit_component=this.xf_date)):m==XF_GRID.COLUMN_INPUT_TYPE_SPINNUMBER?(null!=this.xf_spinnumber&&(this.xf_spinnumber.destroy(),this.xf_spinnumber=null),n=this.xf_grid._createitemeditdiv(a,b,this.sub_row_index,this.column_index),_xfl_extendlib("XF_SPINNUMBER"),this.xf_spinnumber=new XF_SPINNUMBER(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,name:this.xf_grid.xf_prop.internal_name+"_spinnumber",position:0,x:"0",y:"0",editable:this.xf_column_data_prop.spinnumber_editable,border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),horz_align:this.xf_column_data_prop.text_horzalign,spin_step:this.xf_column_data_prop.spinnumber_spinstep,max_length:l,min_length:this.xf_column_data_prop.min_length,max_value:this.xf_column_data_prop.max_value,min_value:this.xf_column_data_prop.min_value,pattern:k,hint_text:this.xf_column_data_prop.hint_text,tooltip:F,popupmenu_show:A,focus_select:c.focus_select,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,data_inputtype:G,row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index,on_editcomplete:$.proxy(this.on_spinnumber_editcomplete,this)}),this.xf_grid.xf_item_edit_div.append(this.xf_spinnumber.xf_object),this.xf_td.append(this.xf_grid.xf_item_edit_div),this.xf_spinnumber._setvalue(c.edit_value,{is_fire_event:!1,is_set_xdataset:!0,is_fire_editcomplete:!1,is_set_focus:!1,event_type:c.event_type}),this.xf_spinnumber&&(this.xf_spinnumber.setfocus(),this.xf_grid.xf_item_edit_component=this.xf_spinnumber)):m==XF_GRID.COLUMN_INPUT_TYPE_COLOR&&(null!=this.xf_color&&(this.xf_color.destroy(),this.xf_color=null),n=this.xf_grid._createitemeditdiv(a,b,this.sub_row_index,this.column_index),_xfl_extendlib("XF_COLOR"),this.xf_color=new XF_COLOR(null,{custom_input_attr:this.xf_column_data_prop.custom_input_attr,custom_input_class:this.xf_column_data_prop.custom_input_class,name:this.xf_grid.xf_prop.name+"_color",x:"0",y:"0",border:"0",width:n.width,height:n.height,font:_xfx.fontstr(g),allow_dup:this.xf_column_data_prop.allow_dup?"1":"0",dup_name:this.xf_column_data_prop.dup_name,horz_align:this.xf_column_data_prop.text_horzalign,button_size:this.xf_column_data_prop.color_buttonsize,button_hidden:this.xf_column_data_prop.color_buttonhidden,button_image:this.xf_column_data_prop.color_buttonimage,hint_text:this.xf_column_data_prop.hint_text,tooltip:F,editable:this.xf_column_data_prop.color_editable,value_format:this.xf_column_data_prop.color_valueformat,focus_select:this.xf_column_data_prop.edit_focus_select,position:1,create_mode:_XFD_CREATEMODE_GRID,xf_grid:this.xf_grid,row_index:b,sub_row_index:this.sub_row_index,column_index:this.column_index}),this.xf_grid.xf_item_edit_div.append(this.xf_color.xf_object),this.xf_td.append(this.xf_grid.xf_item_edit_div),this.xf_color.xf_prop.on_editcomplete=$.proxy(this.on_color_editcomplete,this),this.xf_color.settext(c.edit_value),this.xf_color&&(this.xf_color.setfocus(),this.xf_grid.xf_item_edit_component=this.xf_color)),this.xf_grid.is_next_item_editable=!0,this.xf_grid._ismultilinegrid()?factory._fireevent({xf_component:this.xf_grid,event_name:"on_itemeditshow",is_fire_async:!0},this.xf_grid,b,this.sub_row_index,this.column_index,1):factory._fireevent({xf_component:this.xf_grid,event_name:"on_itemeditshow",is_fire_async:!0},this.xf_grid,b,this.column_index,1),1==E&&0!=this.xf_column_data_prop.auto_skip&&(D=this,setTimeout(function(){D.xf_grid.xf_item_edit_component&&(D.xf_grid.xf_item_edit_component.next_focus_dir=1),D.xf_grid.setfocus()},0)),!0))},XF_GRID_COLUMN_DATA.prototype.getfilterkeyvaluearr=function(){var a,b,c,d,e,f;for(c={},b=[],f=!0,f=!!this.is_filter_applied,d=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),e=0;d>e;e++)0==f&&this.xf_grid.ishiddenrow(e)||this.xf_grid._ismidstatrow(e)||(a=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,e),c[a]=a);for(a in c)b.push(a);return b},XF_GRID_COLUMN_DATA.prototype.setcolumnfilterapplied=function(a){var b,c;if(this.is_filter_applied=a,this.xf_grid._ismultilinegrid()){if(b=this.xf_grid._findheadelement(this.sub_row_index,this.column_index,"filter"),null==b)return!1;a?b.addClass("_xf_grid_head_btn_filter_applied"):b.removeClass("_xf_grid_head_btn_filter_applied")}else for(c=0;c<this.xf_grid.xf_prop.header_horzcount;c++){if(b=this.xf_grid._findheadelement(c,this.column_index,"filter"),null==b)return!1;a?b.addClass("_xf_grid_head_btn_filter_applied"):b.removeClass("_xf_grid_head_btn_filter_applied")}return!0},XF_GRID_COLUMN_DATA.prototype.seteditcompletedata=function(a,b,c,d){this.xf_grid._ismultilinegrid()?this.xf_grid.setitemtextex(b,c,this.column_index,d,!1,!0,!1,!1):this.xf_grid.setitemtextex(b,this.column_index,d,!1,!0,!1,!1)},XF_GRID_COLUMN_DATA.prototype.on_field_editcomplete=function(a,b){this.on_editcomplete(a,b,a.value),this.xf_input=null,_xfu.async({func:this.on_editcomplete_callback,context:this})},XF_GRID_COLUMN_DATA.prototype.on_color_editcomplete=function(a,b){this.on_editcomplete(a,b,a.value),this.xf_color=null,_xfu.async({func:this.on_editcomplete_callback,context:this})},XF_GRID_COLUMN_DATA.prototype.on_popfield_editcomplete=function(a,b){this.on_editcomplete(this.xf_popfield,b,this.xf_popfield.value),this.xf_popfield=null,_xfu.async({func:this.on_editcomplete_callback,context:this})},XF_GRID_COLUMN_DATA.prototype.on_fieldpopbtn_click=function(a){var b,c,d;b=a.xf_prop.row_index,d=a.xf_prop.column_index,c=a.xf_prop.sub_row_index,this.xf_grid._fireevent("on_itempopbtnclick",XF_GRID.COLUMN_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,b,c,d,!0)},XF_GRID_COLUMN_DATA.prototype.on_combobox_editcomplete=function(a,b){this.on_editcomplete(a,b,a.value),this.xf_combobox=null,_xfu.async({func:this.on_editcomplete_callback,context:this})},XF_GRID_COLUMN_DATA.prototype.on_spinnumber_editcomplete=function(a,b){this.on_editcomplete(a,b,a.value),this.xf_spinnumber=null,_xfu.async({func:this.on_editcomplete_callback,context:this})},XF_GRID_COLUMN_DATA.prototype.on_date_editcomplete=function(a,b){this.on_editcomplete(a,b,a.value),this.xf_date=null,_xfu.async({func:this.on_editcomplete_callback,context:this})},XF_GRID_COLUMN_DATA.prototype.on_editcomplete_callback=function(){return 0==this.xf_grid.is_next_item_editable?void(this.xf_grid.is_next_item_editable=!0):void(this.edit_complete_info.stop_next_focus||this.edit_complete_info.is_edit_cancel||void 0!==this.edit_complete_info.next_focus_dir&&0!=this.edit_complete_info.next_focus_dir&&0!=this.xf_column_data_prop.auto_skip&&(-1==this.edit_complete_info.next_focus_dir||1==this.edit_complete_info.next_focus_dir?this.xf_grid._ismultilinegrid()?this.xf_grid.setnextitemeditstart(this.edit_complete_info.row_index,this.edit_complete_info.sub_row_index,this.edit_complete_info.column_index,1==this.edit_complete_info.next_focus_dir,!1):this.xf_grid.setnextitemeditstart(this.edit_complete_info.row_index,this.edit_complete_info.column_index,1==this.edit_complete_info.next_focus_dir,!1):-2!=this.edit_complete_info.next_focus_dir&&2!=this.edit_complete_info.next_focus_dir||(this.xf_grid._ismultilinegrid()?this.xf_grid.setnextcolumnitemeditstart(this.edit_complete_info.row_index,this.edit_complete_info.sub_row_index,this.edit_complete_info.column_index,2==this.edit_complete_info.next_focus_dir,!1):this.xf_grid.setnextcolumnitemeditstart(this.edit_complete_info.row_index,this.edit_complete_info.column_index,2==this.edit_complete_info.next_focus_dir,!1))))},XF_GRID_COLUMN_DATA.prototype.on_editcomplete=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(void 0===b&&(b=!1),d=a.xf_prop.row_index,f=a.xf_prop.column_index,e=a.xf_prop.sub_row_index,void 0==e&&(e=0),this.edit_complete_info={row_index:d,sub_row_index:e,column_index:f,is_edit_cancel:b,next_focus_dir:a.next_focus_dir,stop_next_focus:a.stop_next_focus,edit_item_merge_info:null},n=a.is_fire_async,void 0===n&&(n=!0),_xfu.isfunction(a.destroy)&&a.destroy(),this.xf_grid.xf_item_edit_component=null,this.xf_grid._removeitemeditdiv(),
b)return void this.xf_grid.setfocus();if(0==this.xf_grid._isvalidrow(XF_GRID.ROW_KIND_DATA,d)||this.xf_grid._isvalidcolumn(XF_GRID.COLUMN_KIND_DATA,f)===!1)return this.edit_complete_info.is_edit_cancel=!0,void this.xf_grid.setfocus();if(i=this.xf_xdataset._getdatabyname(this.xf_grid._getxdatasetrowindex(d),this.xdataset_column_type,this.xdataset_column_id),c!=i){if(this.xf_td=this.xf_grid._findtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,d,e,f),null==this.xf_td||this.xf_td.length<1)return;l=this.xf_grid.xf_data_row_arr[d].row_height,this.seteditcompletedata(this.xf_td,d,e,c),m=this.xf_grid.xf_data_row_arr[d].row_height,this.xf_grid._refreshdatatd(d,e,f),0==this.xf_grid._ismultilinegrid()&&l!=m&&(d<this.fixedrows?this.xf_grid._afterchangecolumncallback():this.xf_grid._refreshgrid())}return g=1,this.xf_grid._ismultilinegrid()?(factory._fireevent({xf_component:this.xf_grid,event_name:"on_itemeditshow",is_fire_async:!1},this.xf_grid,d,e,f,0),g=factory._fireevent({xf_component:this.xf_grid,event_name:"on_itemeditcomplete",is_fire_async:!1,default_value:1},this.xf_grid,d,e,f,i)):(factory._fireevent({xf_component:this.xf_grid,event_name:"on_itemeditshow",is_fire_async:!1},this.xf_grid,d,f,0),g=factory._fireevent({xf_component:this.xf_grid,event_name:"on_itemeditcomplete",is_fire_async:!1,default_value:1},this.xf_grid,d,f,i)),c!=i&&0==g?(l=this.xf_grid.xf_data_row_arr[d].row_height,this.seteditcompletedata(this.xf_td,d,e,i),m=this.xf_grid.xf_data_row_arr[d].row_height,this.xf_grid._refreshdatatd(d,e,f),0==this.xf_grid._ismultilinegrid()&&l!=m&&(d<this.fixedrows?this.xf_grid._afterchangecolumncallback():this.xf_grid._refreshgrid()),void this.xf_grid.setfocus()):(this.xf_grid.setfocus(),void(c!=i&&(h=this.xf_grid._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0,column_index:f}),0==this.xf_grid._ismultilinegrid()&&(null!=this.edit_complete_info.edit_item_merge_info&&1==this.edit_complete_info.edit_item_merge_info.is_merge?h.is_create_grid_row_arr=!0:this.column_merge_info&&void 0!==this.column_merge_info.merge_range_info_arr&&null!==this.column_merge_info.merge_range_info_arr&&this.column_merge_info.merge_range_info_arr.length>0&&(0==d?(k=this.xf_grid.getrowcount(),k-1>d&&(j=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,d+1,!1),j==c&&(h.is_create_grid_row_arr=!0))):(j=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,d-1,!1),j==c?h.is_create_grid_row_arr=!0:(k=this.xf_grid.getrowcount(),k-1>d&&(j=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,d+1,!1),j==c&&(h.is_create_grid_row_arr=!0)))))),this.xf_grid._refreshdataafter(h,d,e,f,this.edit_complete_info.edit_item_merge_info),this.xf_grid.on_item_editchanged(d,e,f,i,c,n))))},XF_GRID_COLUMN_DATA.prototype.getcolumntreehtml=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(o=this.xf_grid._ishiddenrow(XF_GRID.ROW_KIND_DATA,b))return"";if(void 0==a&&(a=1),v=0,e=[],d=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),0==b&&(this.xf_grid.base_depth=this.xf_grid.xf_prop.tree_rootdepth_value,-1==this.xf_grid.base_depth&&(this.xf_grid.base_depth=this.xf_grid._treegriditemdepth(b))),f=this.xf_grid._treegriditemdepth(b),g=this.xf_xdataset._getdatabyname(b,this.xdataset_column_type,this.xdataset_column_id),l=this.getcolumnitempropbyindex(b,"make_case",this.xf_column_data_prop.make_case),0!=l&&(g=_xfx.makecase(l,g)),h=this.xf_grid._treegriditemimage(b),i=this.xf_grid._treegriditemselimage(b),j=this.xf_grid._treegriditemkey(b),n=this.xf_grid._isexpandedrow(b),q=this.xf_grid._gettreeitemparentinfo(b,f),r=this.xf_grid._istreegridhaschild(d,b,f),w=_xfu["int"](this.xf_grid._getitempropbyitem(c,"text_vertalign",this.xf_column_data_prop.text_vertalign)),t=this.gettreeitemdatahtml(b,f),e.push('<div class="_xf_grid_item"'),this.getcolumnitembasicattrhtml(a,b,c,e),e.push(' style="'),this.getcolumnitembasicstylehtml(a,b,c,e),e.push('">'),q.is_expanded_row)e.push('<div class="_xf_grid_tree_row"'),e.push(t),e.push(' style="'),1==w?this.xf_grid.is_rowheight_mode?(s=this.xf_grid._getrowheightsumbyrowspan(b,a),e.push("height:"+(s-1)+"px;")):e.push("height:"+(this.xf_grid.xf_prop.cell_height*a-1)+"px;"):e.push("height:"+_xfu.px(this.xf_grid.getrowheight(b)-1)+";"),e.push('">');else{if(-1!=q.row_index)return this.xf_grid._setrowhidden(b,!0,!1),"";e.push('<div class="_xf_grid_tree_row"'),e.push(t),e.push(' style="'),1==w?this.xf_grid.is_rowheight_mode?(s=this.xf_grid._getrowheightsumbyrowspan(b,a),e.push("height:"+(s-1)+"px;")):e.push("height:"+(this.xf_grid.xf_prop.cell_height*a-1)+"px;"):e.push("height:"+_xfu.px(this.xf_grid.getrowheight(b)-1)+";"),e.push('">')}if(0==factory_xf_param.GRID_TREELINESTYLE?p=(f-this.xf_grid.base_depth)*this.xf_column_data_prop.item_depthwidth:1==factory_xf_param.GRID_TREELINESTYLE&&(m=this.xf_column_data_prop.item_gapwidth+this.xf_column_data_prop.item_buttonwidth+this.xf_column_data_prop.item_gapwidth,p=(f-this.xf_grid.base_depth)*m),e.push('<div class="_xf_grid_treeitem_element"'),e.push(' style="'),e.push("width:"+_xfu.px(p)+";"),e.push('">'),0==factory_xf_param.GRID_TREELINESTYLE&&1==this.xf_column_data_prop.has_lines)for(x=0;x<f-this.xf_grid.base_depth;x++)y=this.xf_grid._gettreeitemparentinfobyparentdepth(b,this.xf_grid.base_depth+x),z=!1,y.row_index>=0&&(z=this.xf_grid.xf_data_row_arr[y.row_index].is_last_siblingitem),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button"'),e.push(t),e.push(' style="'),e.push("position:absolute;"),z&&e.push("display:none;"),e.push("left:"+_xfu.px(x*this.xf_column_data_prop.item_depthwidth)+";"),e.push("width:"+_xfu.px(this.xf_column_data_prop.item_buttonwidth)+";"),e.push("margin-left:"+_xfu.px(this.xf_column_data_prop.item_gapwidth)+";"),0==this.xf_column_data_prop.has_buttons&&e.push("display:none;"),e.push('">'),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_vline _xf_grid_treeitem_button_vline_middle"></div>'),e.push("</div>");else if(1==factory_xf_param.GRID_TREELINESTYLE&&1==this.xf_column_data_prop.has_lines){for(x=0;x<f-this.xf_grid.base_depth-1;x++)y=this.xf_grid._gettreeitemparentinfobyparentdepth(b,this.xf_grid.base_depth+x+1),z=!1,y.row_index>=0&&(z=this.xf_grid.xf_data_row_arr[y.row_index].is_last_siblingitem),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button"'),e.push(t),e.push(' style="'),e.push("position:absolute;"),e.push("left:"+_xfu.px(x*m)+";"),e.push("width:"+_xfu.px(m)+";"),e.push('">'),-1!=y.row_index&&(e.push('<div tabindex="-1" class="_xf_grid_treeitem_element'),0==z&&e.push(" _xf_grid_treeitem_button_vline _xf_grid_treeitem_button_vline_middle"),e.push('"></div>')),e.push("</div>");e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button"'),e.push(t),e.push(' style="'),e.push("position:absolute;"),e.push("left:"+_xfu.px(x*m)+";"),e.push("width:"+_xfu.px(m)+";"),e.push('">'),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_vline '),e.push(this.getcolumntreevlineclassname(d,a,b,c,f,n,o,q)),e.push('"></div>'),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_hline _xf_grid_treeitem_button_hline_right"></div>'),e.push("</div>")}return e.push("</div>"),v+=p,0==factory_xf_param.GRID_TREELINESTYLE?(e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button"'),e.push(t),e.push(' style="'),e.push("margin-left:"+_xfu.px(this.xf_column_data_prop.item_gapwidth)+";"),e.push("width:"+_xfu.px(this.xf_column_data_prop.item_buttonwidth)+";"),0==this.xf_column_data_prop.has_buttons&&e.push("display:none;"),e.push('">'),1==this.xf_column_data_prop.has_lines&&(e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_vline '),e.push(this.getcolumntreevlineclassname(d,a,b,c,f,n,o,q)),e.push('"></div>'),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_hline _xf_grid_treeitem_button_hline_right"></div>')),v+=this.xf_column_data_prop.item_gapwidth,v+=this.xf_column_data_prop.item_buttonwidth,e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_action'),r&&(n?e.push(" _xf_grid_treeitem_button_collapse"):e.push(" _xf_grid_treeitem_button_expand")),e.push('"'),e.push(t),0==this.xf_column_data_prop.has_buttons?(v-=this.xf_column_data_prop.item_buttonwidth,v-=this.xf_column_data_prop.item_gapwidth):r&&(0==this.xf_grid.is_treeimage_show?(e.push("display:none;"),v-=this.xf_column_data_prop.item_buttonwidth,v-=this.xf_column_data_prop.item_gapwidth):this.xf_column_data_prop.button_imagelist.length>0&&(e.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.button_imagelist)+";"),u=0,n&&(u=-1*this.xf_column_data_prop.item_buttonwidth),e.push("background-position:"+_xfu.px(u)+" center;"))),e.push('">'),e.push("</div>"),e.push("</div>")):1==factory_xf_param.GRID_TREELINESTYLE&&(e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button"'),e.push(t),e.push(' style="'),e.push("width:"+_xfu.px(m)+";"),0==this.xf_column_data_prop.has_buttons&&e.push("display:none;"),e.push("text-align:center;"),e.push('">'),1==this.xf_column_data_prop.has_lines&&(r&&(e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_vline '),n?e.push("_xf_grid_treeitem_button_vline_first"):e.push("_xf_grid_treeitem_button_vline_none"),e.push('"></div>')),e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_hline '),r?f==this.xf_grid.base_depth?e.push("_xf_grid_treeitem_button_hline_none"):e.push("_xf_grid_treeitem_button_hline_left"):f==this.xf_grid.base_depth?e.push("_xf_grid_treeitem_button_hline_none"):e.push("_xf_grid_treeitem_button_hline_left"),e.push('"></div>')),v+=m,e.push('<div tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_button_action'),r&&(n?e.push(" _xf_grid_treeitem_button_collapse"):e.push(" _xf_grid_treeitem_button_expand")),e.push('"'),e.push(t),0==this.xf_column_data_prop.has_buttons?v-=m:(e.push(' style="'),e.push("width:"+_xfu.px(this.xf_column_data_prop.item_buttonwidth)+";"),r&&(0==this.xf_grid.is_treeimage_show?(e.push("display:none;"),v-=m):this.xf_column_data_prop.button_imagelist.length>0&&(e.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.button_imagelist)+";"),u=0,n&&(u=-1*this.xf_column_data_prop.item_buttonwidth),e.push("background-position:"+_xfu.px(u)+" center;")))),e.push('">'),e.push("</div>"),e.push("</div>")),e.push('<div class="_xf_grid_treeitem_element _xf_grid_treeitem_icon"'),e.push(t),e.push(' style="'),0==this.xf_column_data_prop.has_icons?e.push("display:none;"):(0==factory_xf_param.GRID_TREELINESTYLE?e.push("margin-left:"+_xfu.px(this.xf_column_data_prop.item_gapwidth)+";"):1==factory_xf_param.GRID_TREELINESTYLE&&e.push("margin-right:"+_xfu.px(this.xf_column_data_prop.item_gapwidth)+";"),e.push("width:"+_xfu.px(this.xf_column_data_prop.item_imagewidth)+";"),v+=this.xf_column_data_prop.item_gapwidth,v+=this.xf_column_data_prop.item_imagewidth,this.xf_grid.is_treeimage_show&&this.xf_column_data_prop.image.length>0?(0==n?0==h.length||-1==h?(e.push("display:none;"),v-=this.xf_column_data_prop.item_gapwidth,v-=this.xf_column_data_prop.item_imagewidth):e.push("background-position:"+this.xf_grid._gettreeitemimagepos(h,this.xf_column_data_prop.item_imagewidth)+";"):0==i.length||-1==i?(e.push("display:none;"),v-=this.xf_column_data_prop.item_gapwidth,v-=this.xf_column_data_prop.item_imagewidth):e.push("background-position:"+this.xf_grid._gettreeitemimagepos(i,this.xf_column_data_prop.item_imagewidth)+";"),e.push("background-image:"+_xfx.imageurlfunc(this.xf_column_data_prop.image)+';"')):(e.push("display:none;"),e.push("background-position:"+this.xf_grid._gettreeitemimagepos(h,this.xf_column_data_prop.item_imagewidth)+';"'),v-=this.xf_column_data_prop.item_gapwidth,v-=this.xf_column_data_prop.item_imagewidth)),e.push('">'),e.push("</div>"),e.push('<button title="'+g+'" tabindex="-1" class="_xf_grid_treeitem_element _xf_grid_treeitem_text"'),e.push(t),this.xf_grid.xf_prop.dragable&&e.push(' draggable="true"'),e.push(' style="'),0==factory_xf_param.GRID_TREELINESTYLE&&e.push("padding-left:"+_xfu.px(this.xf_column_data_prop.item_gapwidth)+";"),e.push("padding-right:"+_xfu.px(this.xf_column_data_prop.item_gapwidth)+";"),e.push("width:"+_xfu.px(this.xf_column_data_prop.width-v-1)+";"),this.xf_column_data_prop.text_wordbreak&&e.push("white-space:pre-wrap;"),0==this.xf_column_data_prop.text_wordellipsis&&e.push("text-overflow:clip;"),k=this.xf_grid._getitempropbyitem(c,"font",this.xf_column_data_prop.font),void 0!==k&&k.length>0&&e.push(_xfc.font(null,k)),e.push('">'),e.push(g),e.push("</button>"),e.push("</div>"),e.push("</div>"),e.join("")},XF_GRID_COLUMN_DATA.prototype.getcolumntreeitemtextleftsum=function(a){var b,c,d,e,f,g,h,i;return h=0,0==a&&(this.xf_grid.base_depth=this.xf_grid.xf_prop.tree_rootdepth_value,-1==this.xf_grid.base_depth&&(this.xf_grid.base_depth=this.xf_grid._treegriditemdepth(a))),b=this.xf_grid._treegriditemdepth(a),c=this.xf_grid._treegriditemimage(a),d=this.xf_grid._treegriditemselimage(a),e=this.xf_grid._isexpandedrow(a),0==factory_xf_param.GRID_TREELINESTYLE?f=(b-this.xf_grid.base_depth)*this.xf_column_data_prop.item_depthwidth:1==factory_xf_param.GRID_TREELINESTYLE&&(i=this.xf_column_data_prop.item_gapwidth+this.xf_column_data_prop.item_buttonwidth+this.xf_column_data_prop.item_gapwidth,f=(b-this.xf_grid.base_depth)*i),h+=f,h+=this.xf_column_data_prop.item_buttonwidth,h+=this.xf_column_data_prop.item_gapwidth,0==this.xf_column_data_prop.has_buttons?(h-=this.xf_column_data_prop.item_buttonwidth,h-=this.xf_column_data_prop.item_gapwidth):g&&0==this.xf_grid.is_treeimage_show&&(h-=this.xf_column_data_prop.item_buttonwidth,h-=this.xf_column_data_prop.item_gapwidth),1==this.xf_column_data_prop.has_icons&&(h+=this.xf_column_data_prop.item_gapwidth,h+=this.xf_column_data_prop.item_imagewidth,this.xf_grid.is_treeimage_show&&this.xf_column_data_prop.image.length>0?0==e?0!=c.length&&-1!=c||(h-=this.xf_column_data_prop.item_gapwidth,h-=this.xf_column_data_prop.item_imagewidth):0!=d.length&&-1!=d||(h-=this.xf_column_data_prop.item_gapwidth,h-=this.xf_column_data_prop.item_imagewidth):(h-=this.xf_column_data_prop.item_gapwidth,h-=this.xf_column_data_prop.item_imagewidth)),h+=this.xf_column_data_prop.item_gapwidth,h+=this.xf_column_data_prop.item_gapwidth,h},XF_GRID_COLUMN_DATA.prototype.getcolumntreevlineclassname=function(a,b,c,d,e,f,g,h){var i,j;return i="_xf_grid_treeitem_button_vline_middle",0==factory_xf_param.GRID_TREELINESTYLE?0==c?(i="_xf_grid_treeitem_button_vline_first",j=this.xf_grid.xf_data_row_arr[c].is_last_siblingitem,j&&(i="_xf_grid_treeitem_button_vline_none")):(j=this.xf_grid.xf_data_row_arr[c].is_last_siblingitem,j&&(i="_xf_grid_treeitem_button_vline_last")):1==factory_xf_param.GRID_TREELINESTYLE&&(-1==h.row_index?e==this.xf_grid.base_depth?i="_xf_grid_treeitem_button_vline_none":(j=this.xf_grid.xf_data_row_arr[c].is_last_siblingitem,j&&(i="_xf_grid_treeitem_button_vline_last")):0==c?(i="_xf_grid_treeitem_button_vline_first",j=this.xf_grid.xf_data_row_arr[c].is_last_siblingitem,j&&(i="_xf_grid_treeitem_button_vline_none")):(j=this.xf_grid.xf_data_row_arr[c].is_last_siblingitem,j&&(i="_xf_grid_treeitem_button_vline_last"))),i},XF_GRID_COLUMN_DATA.prototype.updatelastdepthsiblingitem=function(){var a;for(a=0;a<this.xf_grid.data_row_count;a++)this.xf_grid.xf_data_row_arr[a].is_last_siblingitem=this.islastdepthsiblingitem(this.xf_grid.data_row_count,a,this.xf_grid._treegriditemdepth(a))},XF_GRID_COLUMN_DATA.prototype.islastdepthsiblingitem=function(a,b,c){var d,e;for(d=b+1;a>d;d++)if(e=this.xf_grid._treegriditemdepth(d),!(e>c)){if(e==c)return!1;if(c>e)return!0}return!0},XF_GRID_COLUMN_DATA.prototype.gettreeitemdatahtml=function(a,b){var c=[];return c.push(' data-row="'+a+'"'),c.push(' data-sub_row="'+this.sub_row_index+'"'),c.push(' data-column="'+this.column_index+'"'),c.push(' data-index="'+a+'"'),c.push(' data-depth="'+b+'"'),c.join("")},XF_GRID_COLUMN_DATA.prototype.setcolumnmerge=function(a,b){return this.xf_column_data_prop.cellmerge=a,0==a?(this.xf_grid._deletecolumnmergeinfo(this.column_index),void(this.column_merge_info={})):(this.column_merge_info={column_index:this.column_index,merge_base_column_name_arr:JSON.parse(JSON.stringify(b)),merge_base_column_index_arr:null,merge_range_info_arr:null},this.xf_grid._deletecolumnmergeinfo(this.column_merge_info.column_index),this.xf_grid.column_merge_info_arr.push(this.column_merge_info),void this.xf_grid.column_merge_info_count++)},XF_GRID_COLUMN_DATA.prototype.getitemformatvalue=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;if(this.item_info=a,0==this.is_pattern_apply)return b;if(void 0!==d&&(a=this._callpatternfunc(a,0,b,d,this.sub_row_index,this.column_index),this.item_info=a),e=this.xf_grid._getitempropbyitem(a,"pattern_type",this.pattern_type),e==XFD_PATTERN_TYPE_DATE)return g=_xfp.date(b,this.pattern);if(f=this.xf_grid._getitempropbyitem(a,"xf_regexp",this.xf_regexp),m=this.xf_grid._getitempropbyitem(a,"number_pattern_info",this.number_pattern_info),h=this.xf_grid._getitempropbyitem(a,"round_type",this.xf_column_data_prop.round_type),i=this.xf_grid._getitempropbyitem(a,"data_type",this.xf_column_data_prop.data_type),i!=XFD_GRID_DATA_NUMERIC&&(e=XFD_PATTERN_TYPE_CUSTOM),i==XFD_GRID_DATA_NUMERIC){if(0!=factory_xf_param.INVALID_VALUE_BY_API&&(j=this.xf_grid._getitempropbyitem(a,"int_value_pattern_max_length",this.int_value_pattern_max_length),0==j))return b;if("N/A"==b)return b;if("-"==b)return b;if(""==b)if(0==this.xf_column_data_prop.blank_display_type&&m.blank_is_zero)b="0";else if(2==this.xf_column_data_prop.blank_display_type)b="0";else if(1==this.xf_column_data_prop.blank_display_type)return""}return n=this.xf_grid._getitempropbyitem(a,"decimal_separator",this.xf_column_data_prop.decimal_separator),o=this.xf_grid._getitempropbyitem(a,"thousands_separator",this.xf_column_data_prop.thousands_separator),g=_xfp.fmt(b,e,m.places,m.allow_minus,m.fill_zero_count,h,f,factory_xf_param.VALUE_DECIMAL_SEPARATOR,n,o),(e==XFD_PATTERN_TYPE_NUMBER||e==XFD_PATTERN_TYPE_MONEY)&&m.places>0&&(g=_xfp.trimlast(g,factory_xf_param.VALUE_DECIMAL_SEPARATOR)),"0"==g&&m.zero_is_blank?"":""==g?"":void 0===c||1==c?(k=this.xf_grid._getitempropbyitem(a,"pattern_front_symbol",this.xf_column_data_prop.pattern_front_symbol),l=this.xf_grid._getitempropbyitem(a,"pattern_rear_symbol",this.xf_column_data_prop.pattern_rear_symbol),k+g+l):g},XF_GRID_COLUMN_DATA.prototype.deletecolumniteminfo=function(a){a=_xfu["int"](a),this.item_info_arr.splice(a,1)},XF_GRID_COLUMN_DATA.prototype.deletecolumnitemprop=function(a,b){var c,d,e;if(e=this.item_info_arr.length,-1==a)for(c=0;e>c;c++)this.item_info_arr[c]&&delete this.item_info_arr[c].item_prop[b];else d=this.getcolumniteminfo(a,this.sub_row_index),d&&delete d.item_prop[b]},XF_GRID_COLUMN_DATA.prototype.insertblankcolumniteminfo=function(a){a=_xfu["int"](a),this.item_info_arr.splice(a,0,void 0)},XF_GRID_COLUMN_DATA.prototype.movecolumniteminfo=function(a,b){var c;a=_xfu["int"](a),b=_xfu["int"](b),c=this.item_info_arr[a],a>b?(this.item_info_arr.splice(a,1),this.item_info_arr.splice(b,0,c)):(this.item_info_arr.splice(b,0,c),this.item_info_arr.splice(a,1))},XF_GRID_COLUMN_DATA.prototype.getcolumniteminfo=function(a,b,c){var d;return void 0===c&&(c=XF_GRID.FILE_TYPE_GRID),d=c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_item_info_arr?this.excel_item_info_arr[a]:this.item_info_arr[a],void 0!==d&&null!=d?d:null},XF_GRID_COLUMN_DATA.prototype.getcolumnitempropbyindex=function(a,b,c){var d;return d=this.getcolumniteminfo(a,this.sub_row_index),d?this.xf_grid._getitempropbyitem(d,b,c):c},XF_GRID_COLUMN_DATA.prototype.getcolumnstatrowiteminfo=function(a,b,c){var d;return void 0===c&&(c=XF_GRID.FILE_TYPE_GRID),d=c==XF_GRID.FILE_TYPE_EXCEL&&this.excel_statrow_item_info_arr?this.excel_statrow_item_info_arr[a]:this.statrow_item_info_arr[a],void 0!==d&&null!=d?d:null},XF_GRID_COLUMN_DATA.prototype.setcolumnitemprop=function(a,b,c,d){var e;e=this.getcolumniteminfo(a,b),null==e&&(e={item_prop:{}},this.item_info_arr[a]=e),e.item_prop[c]=d},XF_GRID_COLUMN_DATA.prototype.setcolumnstatrowitemprop=function(a,b,c){var d;d=this.getcolumnstatrowiteminfo(a),null==d&&(d={item_prop:{}},this.statrow_item_info_arr[a]=d),d.item_prop[b]=c},XF_GRID_COLUMN_DATA.prototype.getcolumncheckimage=function(a,b){return a?b?this.xf_column_data_prop.check_image:this.xf_column_data_prop.dis_check_image:b?this.xf_column_data_prop.uncheck_image:this.xf_column_data_prop.dis_uncheck_image},XF_GRID_COLUMN_DATA.prototype._selecttableprop=function(){var a,b,c;0!=this.xf_column_data_prop.combobox_selectbox_datastyle&&(this.xf_column_data_prop.selecttable_columnalign=this.xf_column_data_prop.selecttable_columnalign.split(this.xf_column_data_prop.selecttable_propdelimiter),this.xf_column_data_prop.selecttable_columnwidth=this.xf_column_data_prop.selecttable_columnwidth.split(this.xf_column_data_prop.selecttable_propdelimiter),this.xf_column_data_prop.selecttable_columntitle=this.xf_column_data_prop.selecttable_columntitle.split(this.xf_column_data_prop.selecttable_propdelimiter),a=this.xf_column_data_prop.combobox_data,b=a.indexOf("content="),c=a.substr("content=".length+b),c=c.substr(1,c.length-2),c=c.replace(/&#20/g," "),this._selecttabledata(c,"\r\n",this.xf_column_data_prop.selecttable_columndatadelimiter))},XF_GRID_COLUMN_DATA.prototype._selecttabledata=function(a,b,c){var d,e,f,g,h;if(void 0===a&&(a=this.xf_column_data_prop.selecttable_data),void 0===b&&(b=this.xf_column_data_prop.selecttable_rowdatadelimiter),void 0===c&&(c=this.xf_column_data_prop.selecttable_columndatadelimiter),h=[],a.length>0)for(e=a.split(b),f=e.length,d=0;f>d;d++)0!=e[d].length&&(g=e[d].split(c),g.length==this.xf_column_data_prop.selecttable_columncount&&h.push(g));for(this.xf_column_data_prop.selecttable_data=h,null==this.xf_picklist&&(this.xf_picklist=new XF_PICKLIST(this.xf_grid,{make_case:this.xf_column_data_prop.make_case,picklist_type:XF_PICKLIST.PICKLIST_TYPE_GRIDCOLUMN,picklist_linkdata:"",picklist:"",combobox_data:"",picklist_filter:"",picklist_filter_type:this.xf_column_data_prop.picklist_filter_type,picklist_selstyle:this.xf_column_data_prop.picklist_selstyle,picklist_async:!1,on_picklist_load:null})),this.xf_picklist.removeall(),f=this.xf_column_data_prop.selecttable_data.length,d=0;f>d;d++)this.xf_picklist.addstring(this.xf_column_data_prop.selecttable_data[d][this.xf_column_data_prop.selecttable_codecolumn]+":"+this.xf_column_data_prop.selecttable_data[d][this.xf_column_data_prop.selecttable_commentcolumn])},XF_GRID_COLUMN_DATA.prototype._selecttabledatadd=function(a,b){var c;return void 0===b&&(b=this.xf_column_data_prop.selecttable_columndatadelimiter),0==a.length?!1:(c=a.split(b),c.length!=this.xf_column_data_prop.selecttable_columncount?!1:(this.xf_column_data_prop.selecttable_data.push(c),null==this.xf_picklist&&(this.xf_picklist=new XF_PICKLIST(this,{make_case:this.xf_column_data_prop.make_case,picklist_async:!1,picklist_linkdata:"",picklist:"",combobox_data:"",picklist_filter:"",picklist_filter_type:this.xf_column_data_prop.picklist_filter_type,picklist_selstyle:this.xf_column_data_prop.picklist_selstyle,on_picklist_load:null})),void this.xf_picklist.addstring(c[this.xf_column_data_prop.selecttable_codecolumn]+":"+c[this.xf_column_data_prop.selecttable_commentcolumn])))},XF_GRID_COLUMN_DATA.prototype.getcolumncheck=function(a,b,c){var d,e,f,g,h,i,j;if(void 0===b&&(b=!0,(1==this.xf_grid.xf_prop.check_hidden_row||0==this.xf_grid.xf_prop.check_hidden_row&&1==factory_xf_param.GRID_CHECK_HIDDEN_ROW)&&(b=!1)),void 0===c&&(c=!1),d=this.xf_xdataset.getrowcount(),e=this.xf_xdataset._getcolumnvaluearr(this.xdataset_column_type,this.xdataset_column_id),f=this.xf_column_data_prop.checkbox_truevalue,"count"==a){for(h=0,g=0;d>g;g++)f==e[g]&&h++;return h}if("check"==a){if(0==d)return this.xf_grid.xf_prop.column_headcheck_empty;if(1==b)for(g=0;d>g&&(this.xf_grid._ismidstatrow(g)||1==c&&(i=this.getcolumniteminfo(g,this.sub_row_index),j=this.xf_grid._getitempropbyitem(i,"editable",this.xf_column_data_prop.editable),0==j)||f==e[g]);g++);else for(g=0;d>g&&(this.xf_grid._ismidstatrow(g)||this.xf_grid._ishiddenrow(XF_GRID.ROW_KIND_DATA,g)||1==c&&(i=this.getcolumniteminfo(g,this.sub_row_index),j=this.xf_grid._getitempropbyitem(i,"editable",this.xf_column_data_prop.editable),0==j)||f==e[g]);g++);return g>=d}},XF_GRID_COLUMN_DATA.prototype.setcolumncheck=function(a,b,c,d,e,f,g){var h,i,j,k,l;for(void 0===e&&(e=!0),void 0===f&&(f=!0),void 0===g&&(g=!0),h=a?this.xf_column_data_prop.checkbox_truevalue:this.xf_column_data_prop.checkbox_falsevalue,j=this.xf_grid.getrowcount(),i=0;j>i;i++)1!=this.xf_grid._ismidstatrow(i)&&(0==e&&1==this.xf_grid._ishiddenrow(XF_GRID.ROW_KIND_DATA,i)||0==f&&(k=this.getcolumniteminfo(i,this.sub_row_index),l=this.xf_grid._getitempropbyitem(k,"editable",this.xf_column_data_prop.editable),0==l)||(this.xf_grid._ismultilinegrid()?this.xf_grid.setitemtextex(i,this.sub_row_index,this.column_index,h,b,!1,c,d):this.xf_grid.setitemtextex(i,this.column_index,h,b,!1,c,d)));return g&&this.xf_grid._refreshheadercheck(this.sub_row_index,this.column_index,a),!0},XF_GRID_COLUMN_DATA.prototype.setcolumntext=function(a,b,c,d){var e,f,g,h,i;if(e=this.xf_xdataset.getrowcount(),f=this.xf_xdataset._getcolumnvaluearr(this.xdataset_column_type,this.xdataset_column_id),0!=this.xf_column_data_prop.make_case&&(a=_xfx.makecase(this.xf_column_data_prop.make_case,a)),c)for(g=0;e>g;g++)i=f[g],f[g]=a,i!=a&&(h=this.xf_grid._getgridrowindex(g),this.xf_grid.on_item_editchanged(h,this.sub_row_index,this.column_index,i,a,d));else for(g=0;e>g;g++)f[g]=a;return b&&this.xf_grid.refresh(),!0},XF_GRID_COLUMN_DATA.prototype.refreshcolumnstatrangeinfoarr=function(){var a,b;a=this.xf_xdataset.getrowcount()-1,b=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA)-1,this.column_stat_range_info_arr=this.getcolumnstatrangeinfoarr(!0,0,b,0,a)},XF_GRID_COLUMN_DATA.prototype.getcolumnstatrangeinfoarr=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;if(m=[],0==this.xf_column_data_prop.statistics_show&&1==a)return m;if(m.push({grid_start_row_index:b,grid_end_row_index:c,start_row_index:d,end_row_index:e}),o=this.xf_grid._isstatexcludehiddenitem(),0==this.xf_grid.is_stat_exclude_merged_item){if(1==o&&1==a)return this.xf_grid.stat_range_info_arr;if(0==o)return m}if(0==this.xf_grid.item_merge_info_count&&(void 0===this.column_merge_info.merge_range_info_arr||null==this.column_merge_info.merge_range_info_arr||0==this.column_merge_info.merge_range_info_arr.length)){if(1==o&&1==a)return this.xf_grid.stat_range_info_arr;if(0==o)return m}for(h=[],f=b;c>=f;f++)if(1!=this.xf_grid._ismidstatrow(f))if(k=this.getcolumnitemmergeinfo(XF_GRID.ROW_TABLE_VIEW,f,!0),k.row_span<=1){if(o&&1==this.xf_grid._ishiddenrow(XF_GRID.ROW_KIND_DATA,f)){h[f]=0;continue}if(1==k.is_merge&&k.column_span<=1){h[f]=0;continue}h[f]=1}else{if(l=0,o)if(l=this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,k.start_row_index,k.end_row_index),k.row_span==l)for(g=k.start_row_index;g<=k.end_row_index;g++)h[g]=0;else for(h[k.start_row_index]=1,g=k.start_row_index+1;g<=k.end_row_index;g++)h[g]=0;else for(h[k.start_row_index]=1,g=k.start_row_index+1;g<=k.end_row_index;g++)h[g]=0;f=k.end_row_index}else h[f]=0;for(m=[],i=-1,j=b;c>=j;j++)if(1==h[j]){if(-1==i){i=j;continue}}else-1!=i&&(m.push({grid_start_row_index:i,grid_end_row_index:j-1}),i=-1);for(-1!=i&&m.push({grid_start_row_index:i,grid_end_row_index:c}),n=m.length,f=0;n>f;f++)m[f].start_row_index=this.xf_grid._getxdatasetrowindex(m[f].grid_start_row_index),m[f].end_row_index=this.xf_grid._getxdatasetrowindex(m[f].grid_end_row_index);return m},XF_GRID_COLUMN_DATA.prototype.iscalcstatvalue=function(a){if(a==XFD_GRID_STAT_COUNT){if(2==factory_xf_param.GRID_STATISTICS_COUNTDATATYPE&&this.xf_column_data_prop.data_type!=XFD_GRID_DATA_NUMERIC)return!1}else{if(0!=this.xf_column_data_prop.input_type)return!1;if(this.xf_column_data_prop.data_type!=XFD_GRID_DATA_NUMERIC)return!1}return!0},XF_GRID_COLUMN_DATA.prototype._callpatternfunc=function(a,b,c,d,e,f){var g;if(!this.pattern_func_inst)return a;try{g=this.pattern_func_inst(this.xf_grid.xf_parent.xf_screen.screen,this.xf_grid,b,c,d,e,f)}catch(h){return alert(h.message),a}return g?(this._setpatternfuncreturn(d,g,a,"pattern","setitempattern"),this._setpatternfuncreturn(d,g,a,"pattern_mask","setitempatternmask"),this._setpatternfuncreturn(d,g,a,"pattern_front_symbol","setitempatternfrontsymbol"),this._setpatternfuncreturn(d,g,a,"pattern_rear_symbol","setitempatternrearsymbol"),null==a&&(a=this.getcolumniteminfo(d,e)),a):a},XF_GRID_COLUMN_DATA.prototype._setpatternfuncreturn=function(a,b,c,d,e){var f;if(void 0===b[d])return!1;if(null==c){if(this.xf_column_data_prop[d]==b[d])return!1}else if(f=c.item_prop[d],void 0===f){if(this.xf_column_data_prop[d]==b[d])return!1}else if(f==b[d])return!1;return this.xf_grid._ismultilinegrid()?"setitempattern"==e?this.xf_grid[e](a,this.sub_row_index,this.column_index,b[d],0,!1):this.xf_grid[e](a,this.sub_row_index,this.column_index,b[d],!1):"setitempattern"==e?this.xf_grid[e](a,this.column_index,b[d],0,!1):this.xf_grid[e](a,this.column_index,b[d],!1),!0},XF_GRID.prototype.on_picklist_load=function(a){a.xf_prop.picklist_type==XF_PICKLIST.PICKLIST_TYPE_GRIDITEM?this._refreshtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,a.xf_prop.grid_row_index,a.xf_prop.grid_sub_row_index,a.xf_prop.grid_column_index):this._refreshgrid()},XF_GRID.prototype._updatefileloadstartitem=function(a){var b,c;0!=this.xf_prop.fileload_startitem.length&&(b=this.xf_prop.fileload_startitem.split(","),b[0].length>0&&(c=parseInt(b[0],0),(isNaN(c)||0>=c)&&(c=1),a.row_no=c),void 0!==b[1]&&b[1].length>0&&(a.column_name=b[1].toUpperCase()))},XF_GRID.prototype.on_context_click=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if("apply_filter"==a)this.showfilter(!0);else if("search"==a)this._showfindpopup();else if("release_filter"==a)this.releasefilter();else if("multi_sort"==a)this.multisort();else if("sort_up"==a||"sort_down"==a)j=-1,i=-1,1==factory_xf_param.GRID_CONTEXTMENU_TARGETITEM?(j=this.selected_column_index,i=this.selected_sub_row_index):2==factory_xf_param.GRID_CONTEXTMENU_TARGETITEM&&(this.mouseevent_item_info.column_data_type==XF_GRID.COLUMN_DATA_NORMAL&&(j=this.mouseevent_item_info.column_index,i=this.mouseevent_item_info.sub_row_index),-1==j&&(j=this.selected_column_index),-1==i&&(i=this.selected_sub_row_index)),g={column_kind_type:XF_GRID.COLUMN_KIND_DATA,column_index:-1==j?0:j,sub_row_index:-1==i?0:i},"sort_up"==a?this._on_sortbutton_click(event,g,XFD_GRID_SORT_ASC,!1):this._on_sortbutton_click(event,g,XFD_GRID_SORT_DES,!1);else if("multi_filter"==a)this._showmultifilterpopup(-1,-1);else if("fix_bar_show"==a)this.xf_fixbar_row.show(!0),this.xf_fixbar_column.show(!0);else if("fix_bar_hide"==a)this.xf_fixbar_row.show(!1),this.xf_fixbar_column.show(!1);else if("fix_bar"==a)f=factory._userlang("스크롤 고정바","Scroll FixBar"),d=new XF_GRID_POPUP_FIXBAR(this),b=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.internal_name+"_modal_box",title:f,url:"",xf_content:d.xf_object,padding:0,is_center:!0,top:this.gettop(),width:300,height:100}),d.xf_modalbox=b,b.show();else if("cell_merge"==a)this._isinselectblock(this.selected_row_index,this.selected_column_index)?this._selectblockaction("merge"):this._showmergepopup();else if("cell_merge_clear"==a)this.releaseitemmerge(this.td_merge_info.start_row_index,this.td_merge_info.start_column_index,this.td_merge_info.end_row_index,this.td_merge_info.end_column_index);else if("csv_load"==a||"excel_load"==a)c={file_type:"csv_load"==a?XF_GRID.FILE_TYPE_CSV:XF_GRID.FILE_TYPE_EXCEL,file_load_type:XF_GRID.FILE_LOADSAVE_TYPE_LOCAL,row_no:1,column_name:"A",file_row_count_per_grid_row:this.sub_row_count,data_delimiter:this.xf_prop.csvfile_data_delimiter},this._updatefileloadstartitem(c),"excel_load"==a&&(factory_xf_param.USE_EXCEL_LIB?c.file_load_type=XF_GRID.FILE_LOADSAVE_TYPE_LOCAL:c.file_load_type=XF_GRID.FILE_LOADSAVE_TYPE_SERVER),
f="csv_load"==a?factory._userlang("CSV 파일 로드","Load CSV File"):factory._userlang("EXCEL 파일 로드","Load Excel File"),e=new XF_GRID_POPUP_LOAD(this,c),b=new XF_MODALBOX({xf_screen:this.xf_parent.xf_screen,name:this.xf_prop.name+"_modal_box",title:f,url:"",xf_content:e.xf_object,padding:0,is_center:!0,top:this.gettop(),width:400,height:202}),e.xf_modalbox=b,b.show();else if("excel_save"==a)factory_xf_param.USE_EXCEL_LIB?this._showsavepopup({file_name:"",file_type:XF_GRID.FILE_TYPE_EXCEL,is_include_pattern:!0,is_include_header:!0,is_include_statdata:!0}):this.downloadexcel("");else if("csv_save"==a)this._showsavepopup({file_name:"",file_type:XF_GRID.FILE_TYPE_CSV,is_include_pattern:!0,is_include_header:!0,is_include_statdata:!0,data_delimiter:this.xf_prop.csvfile_data_delimiter});else if("selectblock_copy"==a)this.xf_selectblock.hide(),this._selectblockaction("copy"),this.xf_keyboard.focus();else if("selectblock_merge"==a)this.xf_selectblock.hide(),this._selectblockaction("merge");else if("selectblock_clear"==a)for(this.xf_selectblock.hide(),h=this.xf_selectblock.start_row_index;h<=this.xf_selectblock.end_row_index;h++)for(j=this.xf_selectblock.start_column_index;j<=this.xf_selectblock.end_column_index;j++)this.setitemtext(h,j,"");else if("selectblock_release"==a)this.xf_selectblock.hide();else if("drop_copy"==a||"drop_move"==a){if("drop_move"==a&&this==this.xf_dragdrop.xf_component)"drop_move"==a&&(-1==this.xf_dragdrop.drop_row_index?this.moverow(this.xf_dragdrop.row_index,this.getrowcount()-1,!0):this.moverow(this.xf_dragdrop.row_index,this.xf_dragdrop.drop_row_index,!0));else{for(n=[],k=this.xf_dragdrop.xf_component.getcolumncount(),j=0;k>j;j++)n.push(this.xf_dragdrop.xf_component.getitemtext(this.xf_dragdrop.row_index,j));for(-1==this.xf_dragdrop.drop_row_index?h=this.additemex(0,"",!1,!1,!1):(h=this.xf_dragdrop.drop_row_index,this.insertitemtextex(h,0,"",!1)),k=this.getcolumncount(),j=0;k>j;j++)void 0!==n[j]&&this.setitemtextex(h,j,n[j]);this.refresh(),"drop_move"==a&&this.xf_dragdrop.xf_component.deleterow(this.xf_dragdrop.row_index)}this.xf_keyboard.focus()}else if("copy_cell"==a)0==factory_xf_param.PROTECT_COPY&&(this._isinselectblock(this.selected_row_index,this.selected_column_index)?this._selectblockaction("copy"):this._selectitemaction("copy")),this.xf_keyboard.focus();else if("cut_cell"==a)0==factory_xf_param.PROTECT_COPY&&(this._isinselectblock(this.selected_row_index,this.selected_column_index)?this._selectblockaction("cut"):this._selectitemaction("cut")),this.xf_keyboard.focus();else if("paste_cell"==a){if(s=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.selected_column_index,this.selected_sub_row_index),!s)return void this.xf_keyboard.focus();if(u=s.getitemeditableinfo(this.selected_row_index,null,null,null),0==u.is_editable)return void this.xf_keyboard.focus();if(window._xf5_paste){if(this.xf_keyboard.focus(),window._xf5_paste(),p=this.xf_keyboard.val(),this.xf_keyboard.val(""),0==p.length)return!1;if(r=factory._fireevent({xf_component:this,event_name:"on_paste",is_fire_async:!1,default_value:1},this,p),0===r)return void this.xf_keyboard.focus();p=this._getnumberpastevalue(p,s,this.selected_row_index),this._ismultilinegrid()?this.setitemtext(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,p):this.setitemtext(this.selected_row_index,this.selected_column_index,p)}else if(window.navigator.clipboard)t=this,window.navigator.clipboard.readText().then(function(a){r=factory._fireevent({xf_component:t,event_name:"on_paste",is_fire_async:!1,default_value:1},this,a),0!==r&&(a=t._getnumberpastevalue(a,s,t.selected_row_index),t._ismultilinegrid()?t.setitemtext(t.selected_row_index,t.selected_sub_row_index,t.selected_column_index,a):t.setitemtext(t.selected_row_index,t.selected_column_index,a))});else{if(this.xf_keyboard.focus(),document.execCommand("paste"),p=this.xf_keyboard.val(),this.xf_keyboard.val(""),0==p.length)return!1;if(r=factory._fireevent({xf_component:this,event_name:"on_paste",is_fire_async:!1,default_value:1},this,p),0===r)return void this.xf_keyboard.focus();p=this._getnumberpastevalue(p,s,this.selected_row_index),this._ismultilinegrid()?this.setitemtext(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,p):this.setitemtext(this.selected_row_index,this.selected_column_index,p)}this.xf_keyboard.focus()}else"copy_row"==a?(0==factory_xf_param.PROTECT_COPY&&(q=!1,(2==this.xf_prop.copy_hidden_item||0==this.xf_prop.copy_hidden_item&&2==factory_xf_param.GRID_COPY_HIDDEN_ITEM)&&(q=!0),l=this._makeclipboarddata(XF_GRID.ROW_KIND_DATA,this.selected_row_index,this.selected_row_index,0,this.getcolumncount()-1,q),l.length>0&&(this.xf_clipboard.val(l),_xfj.clipboardcopy(this.xf_clipboard))),this.xf_keyboard.focus()):"copy_all"==a&&(0==factory_xf_param.PROTECT_COPY&&((2==this.xf_prop.copy_hidden_item||0==this.xf_prop.copy_hidden_item&&2==factory_xf_param.GRID_COPY_HIDDEN_ITEM)&&(q=!0),k=this.getcolumncount(),m="",(2==this.xf_prop.copyall_header_item||0==this.xf_prop.copyall_header_item&&2==factory_xf_param.GRID_COPYALL_HEADER_ITEM)&&(m=this._makeclipboarddata(XF_GRID.ROW_KIND_HEAD,0,this.gethorzheadercount()-1,0,k-1,q)),o=this._makeclipboarddata(XF_GRID.ROW_KIND_DATA,0,this.getrowcount()-1,0,k-1,q),l=0==o.length?m:m.length>0?m+"\n"+o:o,l.length>0&&(this.xf_clipboard.val(l),_xfj.clipboardcopy(this.xf_clipboard))),this.xf_keyboard.focus())},XF_GRID.prototype.on_document_mousedown=function(a){this._stopnextfocus(a)},XF_GRID.prototype.on_document_click=function(a){this._stopnextfocus(a)},XF_GRID.prototype.on_object_resize=function(a){var b,c;this.xf_prop.width=this.getwidth(),this.xf_prop.height=this.getheight(),0!=this.is_created&&(b=this.xf_prop.width-this.padding_left-this.padding_right,c=this.xf_prop.height-this.padding_top-this.padding_bottom,this._setrwdmode(),this.xf_grid_scroll.is_hscroll_show&&(c-=this.xf_prop.horzscrollbar_size+this.xf_prop.horzscrollbar_bottom),this.xf_grid_scroll.is_vscroll_show&&(b-=this.xf_prop.vertscrollbar_size+this.xf_prop.vertscrollbar_right),this.xf_content.css({height:_xfu.px(c),width:_xfu.px(b)}),this._size(),this._setviewmaxrowcount(),this._refreshgrid())},XF_GRID.prototype._fireevent=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q;if(void 0===k&&(k=!1),void 0===g&&(g=!0),f>=0&&(l=this._ismultilinegrid()?this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,e):this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,0)),l||"on_itemselchange"==a||"on_itemclick"==a||"on_itemdblclick"==a||"on_headerclick"==a||"on_headerdblclick"==a){if("on_columnmousein"==a||"on_columnmouseout"==a){if(this._ismultilinegrid())return;return m={xf_component:this,event_name:a,is_fire_async:g,xf_prop:l.xf_column_data_prop},"on_columnmousein"==a?factory._fireevent(m,this,b==XF_GRID.ROW_KIND_HEAD?1:0,d,f):factory._fireevent(m,this,f)}return"on_columnmousehover"==a?(m={xf_component:this,event_name:a,is_fire_async:g,xf_prop:l.xf_column_data_prop},this._ismultilinegrid()?factory._fireevent(m,this,d,e,f):factory._fireevent(m,this,b==XF_GRID.ROW_KIND_HEAD?1:0,d,f)):"on_itembtnclick"==a||"on_itempopbtnclick"==a?(m={xf_component:this,event_name:a,is_fire_async:g},this._ismultilinegrid()?factory._fireevent(m,this,d,e,f):factory._fireevent(m,this,d,f)):"on_itemclick"==a||"on_itemdblclick"==a?f>=0&&(o="on_itemclick"==a?"on_columnclick":"on_columndblclick",l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,e),l&&(p=l.getcolumniteminfo(d,e),q=this._getitempropbyitem(p,"input_type",l.xf_column_data_prop.input_type),m={xf_component:this,event_name:o,is_fire_async:g,xf_prop:l.xf_column_data_prop},n=this._ismultilinegrid()?factory._fireevent(m,this,e,f,k):factory._fireevent(m,this,f,k),m.is_func_called))?n:(m={xf_component:this,event_name:a,is_fire_async:g},this._ismultilinegrid()?factory._fireevent(m,this,d,e,f,k):factory._fireevent(m,this,d,f,k)):"on_itemselchange"==a?(m={xf_component:this,event_name:a,is_fire_async:g},this._ismultilinegrid()?factory._fireevent(m,this,d,e,f,h,i,j):factory._fireevent(m,this,d,f,h,j)):"on_begindrag"==a?(m={xf_component:this,event_name:a,is_fire_async:g,default_value:1},factory._fireevent(m,this,d,f)):void 0}},XF_GRID.prototype.on_item_editchange=function(a,b,c,d,e){var f;void 0===e&&(e=!1),e===!0?(f=this,setTimeout(function(){f.on_item_editchange(a,b,c,d,!1)},0)):this._ismultilinegrid()?factory._fireevent({xf_component:this,event_name:"on_itemvaluechange"},this,a,b,c,d):factory._fireevent({xf_component:this,event_name:"on_itemvaluechange"},this,a,c,d)},XF_GRID.prototype.on_item_editchanged=function(a,b,c,d,e,f){var g;void 0===f&&(f=!1),f===!0?(g=this,setTimeout(function(){g.on_item_editchanged(a,b,c,d,e,!1)},0)):this._ismultilinegrid()?factory._fireevent({xf_component:this,event_name:"on_itemvaluechanged"},this,a,b,c,d,e):factory._fireevent({xf_component:this,event_name:"on_itemvaluechanged"},this,a,c,d,e)},XF_GRID.prototype.on_item_editvalidation=function(a,b,c,d){return this._ismultilinegrid()?factory._fireevent({xf_component:this,event_name:"on_itemeditvalidation",is_fire_async:!1,default_value:1},this,a,b,c,d):factory._fireevent({xf_component:this,event_name:"on_itemeditvalidation",is_fire_async:!1,default_value:1},this,a,c,d)},XF_GRID.prototype._scrollintoview=function(){var a,b,c,d,e,f;if(this.xf_parent&&null==this.xf_parent.xf_component)b=document.documentElement;else if(this.xf_parent&&null!==this.xf_parent.xf_component)if(this.xf_parent.xf_component.getcontrolkind()==XFD_CTRLKIND_TAB){if(a=this.xf_parent.xf_content.xf_object.parent(),a.length<=0)return;b=a[0]}else if(this.xf_parent.xf_component.getcontrolkind()==XFD_CTRLKIND_PANEL){if(this.xf_parent.xf_content.xf_object.length<=0)return;b=this.xf_parent.xf_content.xf_object[0]}null!=b&&(c=this.xf_prop.y,d=c+this.xf_object.outerHeight(),e=this.xf_prop.x,f=e+this.xf_object.outerWidth(),c>b.scrollTop+b.clientHeight&&this.xf_object[0].scrollIntoView(!1),e>b.scrollLeft+b.clientWidth&&this.xf_object[0].scrollIntoView(!1),d<b.scrollTop&&this.xf_object[0].scrollIntoView(!0),f<b.scrollLeft&&this.xf_object[0].scrollIntoView(!0))},XF_GRID.prototype.on_keyboard_focus=function(a){this.xf_keyboard.val(""),this.xf_parent&&this.xf_parent.xf_content&&!this.xf_parent.xf_content.on_child_focus(this),factory._setimemode(this)},XF_GRID.prototype.on_keyboard_blur=function(a){this.xf_keyboard.val(""),this.is_has_focus=!1},XF_GRID.prototype.on_keyboard_paste=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(b=_xfj.eventpastevalue(a),this.xf_keyboard.val(b),b=this.xf_keyboard.val(),this.xf_keyboard.val(""),i=factory._fireevent({xf_component:this,event_name:"on_paste",is_fire_async:!1,default_value:1},this,b),0===i)return!1;if(b=_xfj.pastevalue(b,!1),0==b.length)return!1;if(f=b.split("\n"),g=f.length,0==g)return!1;if(this._ismultilinegrid())return n=f[0].split("	"),d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.selected_column_index,this.selected_sub_row_index),d&&(e=d.getitemeditableinfo(this.selected_row_index),1==e.is_editable&&(n[0]=this._getnumberpastevalue(n[0],d,this.selected_row_index),this.setitemtext(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,n[0]))),!1;for(l=this.getrowcount(),m=this.getcolumncount(),j=this.selected_row_index,h=0;g>h;h++)if(h!=g-1||0!=f[h].length){for(;l>j;)if(1==this._ishiddenrow(XF_GRID.ROW_KIND_DATA,j)&&2!=this.xf_prop.paste_hidden_item)j++;else{if(1!=this._ismidstatrow(j))break;j++}if(j>=l)break;for(n=f[h].split("	"),o=n.length,k=this.selected_column_index,p=0;o>p;p++){for(;m>k;)if(1==this.ishiddencolumn(k)&&2!=this.xf_prop.paste_hidden_item)k++;else if(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,0)){if(e=d.getitemeditableinfo(j),1==e.is_editable)break;2!=this.xf_prop.paste_nonedit_item&&p++,k++}else k++;if(k>=m||p>=o)break;c=n[p],c=this._getnumberpastevalue(c,d,j),this._additemvaluequeue(j,k,c),k++}j++}return this._processitemvaluequeue(),!1},XF_GRID.prototype._additemvaluequeue=function(a,b,c){void 0===this.item_value_info_arr&&(this.item_value_info_arr=[]),this.item_value_info_arr.push({row_index:a,sub_row_index:0,column_index:b,item_value:c})},XF_GRID.prototype._processitemvaluequeue=function(){var a,b;void 0!==this.item_value_info_arr&&0!=this.item_value_info_arr.length&&(a=this,setTimeout(function(){b=a.item_value_info_arr.shift(),a.setitemtext(b.row_index,b.column_index,b.item_value),a.item_value_info_arr.length>0&&a._processitemvaluequeue()},0))},XF_GRID.prototype._getnumberpastevalue=function(a,b,c){var d,e,f,g;return 2!=factory_xf_param.INVALID_VALUE_BY_API?a:(d=b.getcolumniteminfo(c,0),e=this._getitempropbyitem(d,"data_type",b.xf_column_data_prop.data_type),e!=XFD_GRID_DATA_NUMERIC?a:(g=this._getitempropbyitem(d,"int_value_pattern_max_length",b.int_value_pattern_max_length),g>0?a:(f=this._getitempropbyitem(d,"max_length",b.xf_column_data_prop.max_length),0>=f?a:(a=a.replace(/,/g,""),a=a.substring(0,f)))))},XF_GRID.prototype.on_keyboard_keydown=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(this.event_keydown=a,p=this,i=factory._firekeyevent(this,a,!1,"on_prekeydown"),1==i)return void a.preventDefault();if(_xfx.iskeydefined(a,factory.xf_param.KEYMAP_GRID_ITEM_MOVENEXT)){if(a.shiftKey){if(0==this.on_keyboard_keydown_leftarrow(!1,!0)&&0!=_xfx.iskeyfocus(a,this))return!1}else if(0==this.on_keyboard_keydown_rightarrow(!1,!0)&&0!=_xfx.iskeyfocus(a,this))return!1;return!1}if(a.keyCode==XFD_KEY_TAB&&0!=_xfx.iskeyfocus(a,this))return!1;if(a.ctrlKey&&"f"==a.key)return this._showfindpopup(),!1;if(a.ctrlKey&&"c"==a.key&&0==factory_xf_param.PROTECT_COPY&&(this._isnormalgrid()||this._istreegrid()?(n=factory_xf_param.GRID_COPY_KEY_ACTION,0!=this.xf_prop.copy_key_action&&(n=this.xf_prop.copy_key_action)):n=1,1==n?this.on_context_click("copy_cell"):2==n?this.on_context_click("copy_row"):3==n?this.on_context_click("copy_all"):4==n&&a.preventDefault()),h=_xfj.isnumpad(a),i=factory._fireevent({xf_component:this,event_name:"on_keydown",default_value:0,is_fire_async:!1},this,a.which,a.ctrlKey,a.shiftKey,a.altKey,h),1==i&&a.stopPropagation(),a.which==XFD_KEY_SPACE){if(b=this.selected_row_index,c=this.selected_sub_row_index,d=this.selected_column_index,g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,c),!g)return!1;if(l=g.getitemeditableinfo(b,null,null,null),l.is_editable&&1==this._getitempropbyitem(l.item_info,"input_type",g.xf_column_data_prop.input_type)&&(this._ismultilinegrid()?(k=this.getitemcheck(b,c,d),this.setitemcheck(b,c,d,!k)):(k=this.getitemcheck(b,d),this.setitemcheck(b,d,!k)),this._refreshheadercheck(c,d,null)),0==_xfx.iskeydefined(a,factory.xf_param.KEYMAP_GRID_ENTER_EDITMODE))return!1}if(a.which==XFD_KEY_BACKSPACE||a.which==XFD_KEY_DELETE)return this._isinselectblock(this.selected_row_index,this.selected_column_index)?this._selectblockaction("delete"):this._selectitemaction("delete"),!1;if(_xfx.iskeydefined(a,factory.xf_param.KEYMAP_GRID_ENTER_EDITMODE)){if(b=this.selected_row_index,c=this.selected_sub_row_index,d=this.selected_column_index,g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,c),!g)return!1;if(l=g.getitemeditableinfo(b,null,null,null),l.is_editable)if(l.input_type==XF_GRID.COLUMN_INPUT_TYPE_CHECKBOX){if(g.edit_complete_info={row_index:b,sub_row_index:c,column_index:d,is_edit_cancel:!1,next_focus_dir:a.shiftKey?-1:1},0==g.xf_column_data_prop.auto_skip)return!1;g.on_editcomplete_callback()}else this.xf_selected_item=this.xf_object.find("."+this.class_td_selected),this.xf_selected_item.length>0&&g.showedit(this.xf_selected_item,b);return!1}return a.ctrlKey||!factory.key_print_arr[a.which]&&!factory.key_hangul_arr[a.which]?a.which==XFD_KEY_DOWNARROW?(this._ismultilinegrid()&&this.xf_selected_item&&(j=this._gettdrowspan(this.xf_selected_item),j>1&&(j==this.sub_row_count?this.selected_sub_row_index=this.sub_row_count-1:this.selected_sub_row_index+=j-1)),b=this._findnextvisibleitemrowindex(1,this.selected_row_index,!1,!0),b>=0&&(-1==this.selected_column_index?(d=this._findnextvisibleitemcolumnindex(1,this.selected_column_index,!1),d>=0&&setTimeout(function(){p._setselectitem(p.selected_row_index,p.selected_sub_row_index,d,!0,!0,!0)},0)):setTimeout(function(){p._setselectitem(b,p.selected_sub_row_index,p.selected_column_index,!0,!0,!0)},0)),!1):a.which==XFD_KEY_UPARROW?(this._ismultilinegrid()&&this.xf_selected_item&&(j=this._gettdrowspan(this.xf_selected_item),j>1&&(j==this.sub_row_count?this.selected_sub_row_index=0:this.selected_sub_row_index-=j-1)),b=this._findnextvisibleitemrowindex(-1,this.selected_row_index,!1,!0),b>=0&&(-1==this.selected_column_index?(d=this._findnextvisibleitemcolumnindex(-1,this.selected_column_index,!1),d>=0&&setTimeout(function(){p._setselectitem(p.selected_row_index,p.selected_sub_row_index,d,!0,!0,!0)},0)):setTimeout(function(){p._setselectitem(b,p.selected_sub_row_index,p.selected_column_index,!0,!0,!0)},0)),!1):a.which==XFD_KEY_LEFTARROW?(this.on_keyboard_keydown_leftarrow(!0),!1):a.which==XFD_KEY_RIGHTARROW?(this.on_keyboard_keydown_rightarrow(!0),!1):a.which==XFD_KEY_HOME?(0==a.ctrlKey?(d=this._findnextvisibleitemcolumnindex(1,0,!0),this._setselectitem(this.selected_row_index,this.selected_sub_row_index,d,!1,!0,!0)):(b=this._findnextvisibleitemrowindex(1,0,!0),this._setselectitem(b,this.selected_sub_row_index,this.selected_column_index,!1,!0,!0)),!1):a.which==XFD_KEY_END?(0==a.ctrlKey?(f=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),d=this._findnextvisibleitemcolumnindex(-1,f-1,!0),this._setselectitem(this.selected_row_index,this.selected_sub_row_index,d,!1,!0,!0)):(e=this.getrowcount(),b=this._findnextvisibleitemrowindex(-1,e-1,!0),this._setselectitem(b,this.selected_sub_row_index,this.selected_column_index,!1,!0,!0)),!1):a.which==XFD_KEY_PAGEUP?(0==this.is_rowheight_mode?(b=this.selected_row_index-(this.view_row_count-1),0>b&&(b=0),b=this._findnextvisibleitemrowindex(-1,b,!0),setTimeout(function(){p._setselectitem(b,p.selected_sub_row_index,p.selected_column_index,!1,!0,!0)},0)):(o=this._getviewcontenttop(),o+=this._gettableheight(XF_GRID.ROW_TABLE_VIEW),o-=this.getrowheight(this.selected_row_index),Math.abs(o)<1&&(o=0),o>=0&&(o=0),setTimeout(function(){p._setviewcontenttop(o,!0),0==p.is_mobile_mode&&p._displayviewtable(XF_GRID.EXTRA_BOTTOM_ROW_COUNT),p._setselectitem(p.view_start_row_index,p.selected_sub_row_index,p.selected_column_index,!1,!0,!0)},0)),!1):a.which==XFD_KEY_PAGEDOWN?(0==this.is_rowheight_mode?(b=this.selected_row_index+(this.view_row_count-1),e=this.getrowcount(),b>=e&&(b=e-1),b=this._findnextvisibleitemrowindex(1,b,!0),setTimeout(function(){p._setselectitem(b,p.selected_sub_row_index,p.selected_column_index,!1,!0,!0)},0)):(o=this._getviewcontenttop(),o-=this._gettableheight(XF_GRID.ROW_TABLE_VIEW),o+=this.getrowheight(this.selected_row_index),Math.abs(o)<1&&(o=0),setTimeout(function(){p._setviewcontenttop(o,!0),0==p.is_mobile_mode&&p._displayviewtable(XF_GRID.EXTRA_BOTTOM_ROW_COUNT),p._setselectitem(p.view_start_row_index,p.selected_sub_row_index,p.selected_column_index,!1,!0,!0)},0)),!1):void 0:(b=this.selected_row_index,c=this.selected_sub_row_index,d=this.selected_column_index,this.xf_selected_item=this.xf_object.find("."+this.class_td_selected),this.xf_selected_item.length>0&&(g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,d,c),l=g.getitemeditableinfo(b,null,this.xf_selected_item,null),l.is_editable&&(m="",factory.key_hangul_arr[a.which]||(m=_xfj.eventchar(a)),l.input_type==XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX?(l.edit_value=m,1==g.xf_column_data_prop.combobox_editable&&(l.focus_select=2)):l.input_type==XF_GRID.COLUMN_INPUT_TYPE_CALENDAR?1==g.xf_column_data_prop.calendar_editable&&(l.edit_value=m,l.focus_select=2):l.input_type==XF_GRID.COLUMN_INPUT_TYPE_SPINNUMBER?1==g.xf_column_data_prop.spinnumber_editable&&(l.edit_value=m,l.focus_select=2):l.input_type==XF_GRID.COLUMN_INPUT_TYPE_EDITBOX&&1==g.xf_column_data_prop.editbox_popbtnshow?1==g.xf_column_data_prop.editbox_popbtneditable&&(l.edit_value=m,l.focus_select=2):(l.edit_value=m,l.focus_select=2),l.event_type=XFD_DATA_CHANGE_BY_KEYUP,g.showedit(this.xf_selected_item,b,l))),!1)},XF_GRID.prototype.on_keyboard_keydown_leftarrow=function(a,b,c){var d,e,f,g;return g=this,void 0===c&&(c=!0),void 0===b&&(b=!1),1==a?(e=this._findnextvisibleitemcolumnindex(-1,this.selected_column_index,!1,!1),e>=0?-1==this.selected_row_index?(f=this._findnextvisibleitemrowindex(-1,this.selected_row_index,!1),f>=0?(0==c?this._setselectitem(f,this.selected_sub_row_index,e,!0,!0,!0):setTimeout(function(){g._setselectitem(f,g.selected_sub_row_index,e,!0,!0,!0)},0),!0):!1):(0==c?this._setselectitem(this.selected_row_index,this.selected_sub_row_index,e,!0,!0,!0):setTimeout(function(){g._setselectitem(g.selected_row_index,g.selected_sub_row_index,e,!0,!0,!0)},0),!0):!1):(d=this._findnextitem(b,!1,!1,this.selected_row_index,this.selected_sub_row_index,this.selected_column_index),-1==d.row_index?!1:(0==c?this._setselectitem(d.row_index,d.sub_row_index,d.column_index,!0,!0,!0):setTimeout(function(){g._setselectitem(d.row_index,d.sub_row_index,d.column_index,!0,!0,!0)},0),!0))},XF_GRID.prototype.on_keyboard_keydown_rightarrow=function(a,b,c){var d,e,f,g;return g=this,void 0===c&&(c=!0),void 0===b&&(b=!1),1==a?(e=this._findnextvisibleitemcolumnindex(1,this.selected_column_index,!1,!1),e>=0?-1==this.selected_row_index?(f=this._findnextvisibleitemrowindex(1,this.selected_row_index,!1),f>=0?(0==c?this._setselectitem(f,this.selected_sub_row_index,e,!0,!0,!0):setTimeout(function(){g._setselectitem(f,g.selected_sub_row_index,e,!0,!0,!0)},0),!0):!1):(0==c?this._setselectitem(this.selected_row_index,this.selected_sub_row_index,e,!0,!0,!0):setTimeout(function(){g._setselectitem(g.selected_row_index,g.selected_sub_row_index,e,!0,!0,!0)},0),!0):!1):(d=this._findnextitem(b,!0,!1,this.selected_row_index,this.selected_sub_row_index,this.selected_column_index),-1==d.row_index?!1:(0==c?this._setselectitem(d.row_index,d.sub_row_index,d.column_index,!0,!0,!0):setTimeout(function(){g._setselectitem(d.row_index,d.sub_row_index,d.column_index,!0,!0,!0)},0),!0))},XF_GRID.prototype.on_object_contextmenu=function(a){var b,c,d,e;a.preventDefault(),factory.registermouseevent(this,a),this.mouseevent_item_info={row_kind_type:XF_GRID.ROW_KIND_NONE,column_data_type:XF_GRID.COLUMN_DATA_NONE,row_index:-1,sub_row_index:-1,column_index:-1},b=this._findtdbyevent(a),null!=b&&(d=this._gettdinfo(b)),null!=d&&(this.mouseevent_item_info={row_kind_type:d.row_kind_type,column_data_type:d.column_data_type,row_index:d.row_index,sub_row_index:d.sub_row_index,column_index:d.column_index}),1==factory_xf_param.GRID_MOUSERCLICK_ITEMSELECT&&null!=b&&null!=d&&d.row_kind_type==XF_GRID.ROW_KIND_DATA&&this._setselectitem(d.row_index,d.sub_row_index,d.column_index,!0,!1,!0),this.xf_prop.popupmenu_show&&(this.xf_context_drop.hide(),this.xf_context_merge.hide(),this.xf_context_selectblock.hide(),e=factory._fireevent({xf_component:this,event_name:"on_precontextmenu",default_value:1},this),1==e&&(1==factory_xf_param.PROTECT_COPY&&(this.xf_context.setmenuprop("copy_cell","is_hidden",!0),this.xf_context.setmenuprop("copy_row","is_hidden",!0),this.xf_context.setmenuprop("copy_all","is_hidden",!0)),this._isnormalgrid()&&1==this.xf_prop.use_selectblock&&(this.xf_context.setmenuprop("cell_merge_clear","is_hidden",!0),null!=b&&(this.td_merge_info=this._gettdmergeinfo(b),null!==this.td_merge_info&&(this.td_merge_info.start_row_index==this.td_merge_info.end_row_index&&this.td_merge_info.start_column_index==this.td_merge_info.end_column_index||this.xf_context.setmenuprop("cell_merge_clear","is_hidden",!1)))),this.xf_context.show(a.originalEvent.pageX,a.originalEvent.pageY,a))),c=_xfj.eventoffset(a,{type:"class",value:"_xf_grid"}),factory._fireevent({xf_component:this,event_name:"on_rclick",is_fire_async:!0},this,c.offset_x,c.offset_y,a.originalEvent.pageX,a.originalEvent.pageY)},XF_GRID.prototype.on_tditem_mouseenter=function(a){var b,c,d,e,f,g;e=this._findtdbyevent(a),null!=e&&(f=this._gettdinfo(e),null!=f&&(g=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f.column_index,f.sub_row_index),g&&(0==g.xf_column_data_prop.tooltip_show&&0==this.xf_prop.tooltip_show||2==g.xf_column_data_prop.tooltip_show||(d=$(a.target),b=d.closest("._xf_grid_item"),0!=b.length&&(c=b.attr("title"),void 0!==c&&0!=c.length||(c=0==g.xf_column_data_prop.tooltip_unmask&&2==this.xf_prop.tooltip_unmask||2==g.xf_column_data_prop.tooltip_unmask?this._getitemtext(XF_GRID.ROW_KIND_DATA,f.row_index,XF_GRID.COLUMN_KIND_DATA,f.column_index,f.sub_row_index):b.children("span").text(),b.attr("title",c)))))))},XF_GRID.prototype.on_tditemspan_mouseenter=function(a){return this.on_tditemspan_mouseenterleave(a,!0)},XF_GRID.prototype.on_tditemspan_mouseleave=function(a){return this.on_tditemspan_mouseenterleave(a,!1)},XF_GRID.prototype.on_tditemspan_mouseenterleave=function(a,b){var c,d,e,f,g,h,i,j;c=$(a.target),d=this._findtdbyevent(a),null!=d&&(e=this._gettdinfo(d),null!=e&&(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e.column_index,e.sub_row_index),f&&e.row_table_type!=XF_GRID.ROW_TABLE_HEAD&&(g=this._getitempropbyarg({row_index:e.row_index,sub_row_index:e.sub_row_index,column_index:e.column_index},"hyperlink_textstyleuse",f.xf_column_data_prop.hyperlink_textstyleuse),0!=g&&(b?(f.xf_column_data_prop.hyperlink_hovercoloruse&&(c.data("color",c.css("color")),c.css("color",_xfu.rgbfunc(f.xf_column_data_prop.hyperlink_hovercolor))),f.xf_column_data_prop.hyperlink_hoverunderline&&(c.data("decoration",c.css("text-decoration")),c.css("text-decoration","underline"))):(h=this._getiteminfo(e.row_index,e.sub_row_index,e.column_index),f.xf_column_data_prop.hyperlink_hovercoloruse&&(i=this._getitempropbyitem(h,"forecolor",null),null==i?c.css("color",c.data("color")):c.css("color",_xfu.rgbfunc(i))),f.xf_column_data_prop.hyperlink_hoverunderline&&(j=this._getitempropbyitem(h,"font",null),null!=j&&0!=j[4]||c.css("text-decoration",c.data("decoration"))))))))},XF_GRID.prototype.on_tditembutton_mouseenter=function(a){return this.on_tditembutton_mouseenterleave(a,!0)},XF_GRID.prototype.on_tditembutton_mouseleave=function(a){return this.on_tditembutton_mouseenterleave(a,!1)},XF_GRID.prototype.on_tditembutton_mouseenterleave=function(a,b){var c,d,e,f,g,h,i;c=$(a.target),c.hasClass("_xf_grid_item_button")&&(d=this._findtdbyevent(a),null!=d&&(e=this._gettdinfo(d),null!=e&&(f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e.column_index,e.sub_row_index),f&&(g=this._getiteminfo(e.row_index,e.sub_row_index,e.column_index),h=this._getitempropbyitem(g,"button_imagehover",f.xf_column_data_prop.button_imagehover),h.length>0&&(b?_xfc.gradient(c,f.xf_column_data_prop.button_gradient_effect,f.xf_column_data_prop.button_gradient_startcolor,f.xf_column_data_prop.button_gradient_endcolor,f.xf_column_data_prop.button_imageshow?h:"",null):(i=this._getitempropbyitem(g,"button_imagenormal",f.xf_column_data_prop.button_imagenormal),_xfc.gradient(c,f.xf_column_data_prop.button_gradient_effect,f.xf_column_data_prop.button_gradient_startcolor,f.xf_column_data_prop.button_gradient_endcolor,f.xf_column_data_prop.button_imageshow?i:"",null)))))))},XF_GRID.prototype.on_object_click=function(a){var b,c;if(factory.registermouseevent(this,a),factory._fireevent({xf_component:this,event_name:"on_click",is_fire_async:!0},this),this._stopnextfocus(a),this.mouseevent_item_info={row_kind_type:XF_GRID.ROW_KIND_NONE,column_data_type:XF_GRID.COLUMN_DATA_NONE,row_index:-1,sub_row_index:-1,column_index:-1},b=this._findtdbyevent(a),null==b){if(null!=this.xf_item_edit_div)return;return void this._setfocus(_XFD_FOCUSTYPE_CLICK)}return c=this._gettdinfo(b),null==c?void this._setfocus(_XFD_FOCUSTYPE_CLICK):(this.mouseevent_item_info={row_kind_type:c.row_kind_type,column_data_type:c.column_data_type,row_index:c.row_index,sub_row_index:c.sub_row_index,column_index:c.column_index},c.row_kind_type===XF_GRID.ROW_KIND_STAT?void this._setfocus(_XFD_FOCUSTYPE_CLICK):c.column_kind_type===XF_GRID.COLUMN_KIND_STAT?void this._setfocus(_XFD_FOCUSTYPE_CLICK):c.row_kind_type===XF_GRID.ROW_KIND_HEAD?this.on_headtable_click(a,b,c):c.column_data_type===XF_GRID.COLUMN_DATA_RWDHEAD?this.on_headtable_click(a,b,c):this.on_datatable_click(a,b,c))},XF_GRID.prototype.on_headtable_click=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(void 0===d&&(d=!1),c.column_index>=0&&(-1==this.selected_column_index||c.column_index!=this.selected_column_index)&&(m=this.selected_row_index,-1==this.selected_row_index&&this.getrowcount()>0&&(m=this._findnextvisibleitemrowindex(1,-1,!1,!1)),m>=0&&(0==this._ismultilinegrid()?this._setselectitem(m,0,c.column_index,!0,!1,!0,!1):this._setselectitem(m,c.sub_row_index,c.column_index,!0,!1,!0,!1))),s=!0,this.clicked_head_row_index==c.row_index&&this.clicked_head_sub_row_index==c.sub_row_index&&this.clicked_head_column_index==c.column_index||(this.clicked_head_row_index=c.row_index,this.clicked_head_sub_row_index=c.sub_row_index,this.clicked_head_column_index=c.column_index,s=!1),0==d){if(r=_xfu.tickcount(),r-this.click_tick_count<400&&s)return this.click_tick_count=0,-1!=this.delay_item_click_timer_id&&(window.clearTimeout(this.delay_item_click_timer_id),this.delay_item_click_timer_id=-1),this.on_object_dblclick(a);this.click_tick_count=r}else if(0==this.click_tick_count)return;if(factory.registermouseevent(this,a),this._setfocus(_XFD_FOCUSTYPE_CLICK),!(void 0===b&&(b=this._findtdbyevent(a),null==b)||void 0===c&&(c=this._gettdinfo(b),null==c))){if(e=$(a.target),e.hasClass("_xf_grid_item_span_treeimage"))return this.toggletreeimageshow(),void(this.click_tick_count=_xfu.tickcount());if(e.hasClass("_xf_grid_item_span_pattern"))return this._ismultilinegrid()?this.togglecolumnpatternapply(c.sub_row_index,c.column_index):this.togglecolumnpatternapply(c.column_index),void(this.click_tick_count=_xfu.tickcount());if(e.hasClass("_xf_grid_item_span_group"))return q=this._on_groupbutton_click(a,c,b),this.click_tick_count=_xfu.tickcount(),q;if(this._iscolumnheadercheckclick(e,b,"_xf_grid_item_check_head_fix")){if(0==this.xf_prop.editable)return;return f=e.hasClass("_xf_grid_item_check_head_fix")?e:b.find("._xf_grid_item_check_head_fix"),g=!this._isitemcheckchecked(f),l=!0,(1==this.xf_prop.check_hidden_row||0==this.xf_prop.check_hidden_row&&1==factory_xf_param.GRID_CHECK_HIDDEN_ROW)&&(l=!1),this.setcheckedallrow(g,l,!1),factory._fireevent({xf_component:this,event_name:"on_checkrowclick",is_fire_async:!0},this,-1,g?1:0),void(this.click_tick_count=_xfu.tickcount())}if(this._iscolumnheadercheckclick(e,b,"_xf_grid_item_check_head_column")){if(f=e.hasClass("_xf_grid_item_check_head_column")?e:b.find("._xf_grid_item_check_head_column"),!this._isitemcheckenableded(f))return;return g=!this._isitemcheckchecked(f),l=!0,(1==this.xf_prop.check_hidden_row||0==this.xf_prop.check_hidden_row&&1==factory_xf_param.GRID_CHECK_HIDDEN_ROW)&&(l=!1),k=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),0==k.xf_column_head_prop.check_click_action?this.setheadercheck(c.sub_row_index,c.column_index,g,!0,l,!1):this.setheadercheck(c.sub_row_index,c.column_index,g,!1,l,!1),1!=factory_xf_param.GRID_HEADERCHECKCLICK_FIRETYPE&&2!=factory_xf_param.GRID_HEADERCHECKCLICK_FIRETYPE||(h=this._ismultilinegrid()?this._getcolumndata(XF_GRID.ROW_KIND_DATA,c.column_index,c.sub_row_index):this._getcolumndata(XF_GRID.ROW_KIND_DATA,c.column_index,0),h&&(g?(n=h.xf_column_data_prop.checkbox_falsevalue,o=h.xf_column_data_prop.checkbox_truevalue):(n=h.xf_column_data_prop.checkbox_truevalue,o=h.xf_column_data_prop.checkbox_falsevalue),this.on_item_editchanged(-1*this.xf_prop.header_horzcount+c.sub_row_index,c.sub_row_index,c.column_index,n,o,!0)),this._fireheaderclickevent(c.sub_row_index,c.column_index)),0!=factory_xf_param.GRID_HEADERCHECKCLICK_FIRETYPE&&2!=factory_xf_param.GRID_HEADERCHECKCLICK_FIRETYPE||factory._fireevent({xf_component:this,event_name:"on_headercheckclick",is_fire_async:!0},this,c.sub_row_index,c.column_index,g),void(this.click_tick_count=_xfu.tickcount())}if(e.hasClass("_xf_grid_head_btn_filter"))return q=this._on_filterbutton_click(a,c,b),this.click_tick_count=_xfu.tickcount(),q;0==this.is_rwd_mode&&c.column_index>=0&&(i=!0,
0==this._ismultilinegrid()&&(j=_xfj.spaninfo(b),j.row_span<this.xf_prop.header_horzcount&&(j.column_span>1&&j.row_span>1?i=!1:this.gethorzheadercount()>1&&c.sub_row_index+j.row_span<this.xf_prop.header_horzcount&&(i=!1))),1==i&&(h=this._ismultilinegrid()?this._getcolumndata(c.column_kind_type,c.column_index,c.sub_row_index):this._getcolumndata(c.column_kind_type,c.column_index,0),p=h.sort_order==XFD_GRID_SORT_NONE?factory.xf_param.GRID_SORTSTARTORDER_ASCENDING?XFD_GRID_SORT_ASC:XFD_GRID_SORT_DES:h.sort_order==XFD_GRID_SORT_ASC?XFD_GRID_SORT_DES:XFD_GRID_SORT_ASC,this._on_sortbutton_click(a,c,p,!0))),this._fireheaderclickevent(c.sub_row_index,c.column_index),this.click_tick_count=_xfu.tickcount()}},XF_GRID.prototype._iscolumnheadercheckclick=function(a,b,c){var d;return a.hasClass(c)?!0:!!(factory_xf_param.GRID_CHECKBOXITEM_CLICKCHECK&&(d=b.find("."+c),d.length>0&&"none"!=d.css("display")))},XF_GRID.prototype.on_datatable_click=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(void 0===d&&(d=!1),l=!0,this.clicked_item_row_index==c.row_index&&this.clicked_item_sub_row_index==c.sub_row_index&&this.clicked_item_column_index==c.column_index||(this.clicked_item_row_index=c.row_index,this.clicked_item_sub_row_index=c.sub_row_index,this.clicked_item_column_index=c.column_index,l=!1),0==d){if(t=_xfu.tickcount(),t-this.click_tick_count<400&&l)return this.click_tick_count=0,-1!=this.delay_item_click_timer_id&&(window.clearTimeout(this.delay_item_click_timer_id),this.delay_item_click_timer_id=-1),this.on_object_dblclick(a);this.click_tick_count=t}else if(0==this.click_tick_count)return;if(factory.registermouseevent(this,a),null!=_xfj.eventtarget(a,{type:"class",value:"_xf_grid_item_edit"}))return!1;if(this._setfocus(_XFD_FOCUSTYPE_CLICK),e=$(a.target),e.hasClass("_xf_grid_treeitem_button_expand")||e.hasClass("_xf_grid_treeitem_button_collapse"))return n=e.data("row"),o=e.data("depth"),(e.hasClass("_xf_grid_treeitem_button_expand")||e.hasClass("_xf_grid_treeitem_button_collapse"))&&this._expandtreegriditem(n,XFD_TREEITEM_TOGGLE,!0),void(this.click_tick_count=_xfu.tickcount());if(!(void 0===b&&(b=this._findtdbyevent(a),null==b)||void 0===c&&(c=this._gettdinfo(b),null==c))){if(c.column_index<0){if(e.hasClass("_xf_grid_item_check")||factory_xf_param.GRID_CHECKBOXITEM_CLICKCHECK&&e.find("._xf_grid_item_check").length>0){if(0==this.xf_prop.editable)return;f=e.hasClass("_xf_grid_item_check")?e:e.find("._xf_grid_item_check"),(f.hasClass("_xf_grid_item_check_on")||f.hasClass("_xf_grid_item_check_off"))&&(g=!this._isitemcheckchecked(f),j=!0,k=j?g?this.xf_prop.checkrow_check_image:this.xf_prop.checkrow_uncheck_image:g?this.xf_prop.checkrow_dis_check_image:this.xf_prop.checkrow_dis_uncheck_image,this._displayitemcheck(f,g,!0,k),this._setcheckedrow(c.row_index,g,!0,this),this.xf_prop.checkrowwithselect&&(-1==this.selected_column_index&&(this.selected_column_index=0),c.column_index=this.selected_column_index,this.on_datatableitem_click(a,c)),factory._fireevent({xf_component:this,event_name:"on_checkrowclick",is_fire_async:!1},this,c.row_index,g?1:0))}else c.column_index=this.selected_column_index,this.on_datatableitem_click(a,c),this._fireitemclickevent(c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,-1,!1),this.xf_prop.autocheckrow_select&&this.togglecheckedrow(c.row_index);return void(this.click_tick_count=_xfu.tickcount())}if(this.xf_prop.autocheckrow_select){if(0==this.xf_prop.editable)return;this.togglecheckedrow(c.row_index)}if(a.shiftKey&&0==this._ismultilinegrid())return void(this.xf_prop.use_selectblock&&this.selected_row_index>=0&&this.selected_column_index>=0&&(this.selectblock_info.start_row_index=Math.min(this.selected_row_index,c.row_index),this.selectblock_info.end_row_index=Math.max(this.selected_row_index,c.row_index),this.selectblock_info.start_column_index=Math.min(this.selected_column_index,c.column_index),this.selectblock_info.end_column_index=Math.max(this.selected_column_index,c.column_index),1==this.xf_prop.multi_selectrow&&(this._setselectedrowinfo(!1,-1,-1),this._setselectedrowinfo(!0,this.selectblock_info.start_row_index,this.selectblock_info.end_row_index)),this.refresh(),factory._fireevent({xf_component:this,event_name:"on_selectblock",is_fire_async:!0},this)));if(c.column_kind_type==XF_GRID.COLUMN_KIND_DATA&&(c.row_table_type!=XF_GRID.ROW_TABLE_FIX&&c.row_table_type!=XF_GRID.ROW_TABLE_VIEW&&c.row_table_type!=XF_GRID.ROW_TABLE_RWD||this.on_datatableitem_click(a,c)),m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),m&&(this.xf_prop.imemode=m.xf_column_data_prop.imemode,factory._setimemode(this)),e.hasClass("_xf_grid_item_radio")||e.hasClass("_xf_grid_item_radio_label"))return i=m.getitemeditableinfo(c.row_index,null,null,null),i.is_editable&&(p=e.closest("button"),(p.hasClass("_xf_grid_item_radio_on")||p.hasClass("_xf_grid_item_radio_off"))&&(q=p.data("value"),m.xf_td=b,this._ismultilinegrid()?this.setitemtextex(c.row_index,c.sub_row_index,c.column_index,q,!0,!0,!0,factory.xf_param.GRID_ONITEMVALUECHANGED_ASYNC):this.setitemtextex(c.row_index,c.column_index,q,!0,!0,!0,factory.xf_param.GRID_ONITEMVALUECHANGED_ASYNC))),this._fireitemclickevent(c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1),this.click_tick_count=_xfu.tickcount(),!1;if(e.hasClass("_xf_grid_item_check")||e.hasClass("_xf_grid_item_checkbox")||e.hasClass("_xf_grid_item_checkbox_label")||factory_xf_param.GRID_CHECKBOXITEM_CLICKCHECK&&(e.find("._xf_grid_item_checkbox").length>0||e.find("._xf_grid_item_checkbox_label").length>0))return i=m.getitemeditableinfo(c.row_index,null,null,null),i.is_editable&&(m.xf_td=b,this._ismultilinegrid()?(g=this.getitemcheck(c.row_index,c.sub_row_index,c.column_index),this.setitemcheck(c.row_index,c.sub_row_index,c.column_index,!g,!0,!0,factory.xf_param.GRID_ONITEMVALUECHANGED_ASYNC)):(g=this.getitemcheck(c.row_index,c.column_index),this.setitemcheck(c.row_index,c.column_index,!g,!0,!0,factory.xf_param.GRID_ONITEMVALUECHANGED_ASYNC))),this._fireitemclickevent(c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1),this.click_tick_count=_xfu.tickcount(),!1;if(e.hasClass("_xf_grid_item_button")||e.hasClass("_xf_grid_item_button_text"))return i=m.getitemeditableinfo(c.row_index,null,null,null),i.is_editable&&this._fireevent("on_itembtnclick",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1),this.click_tick_count=_xfu.tickcount(),!1;s=this._getitempropbyarg({row_index:c.row_index,sub_row_index:c.sub_row_index,column_index:c.column_index},"hyperlink_textstyleuse",m.xf_column_data_prop.hyperlink_textstyleuse),s&&(m.xf_column_data_prop.hyperlink_visitedunderline&&(h=this._getiteminfo(c.row_index,c.sub_row_index,c.column_index),r=this._getitempropbyitem(h,"font",null),null==r&&(r=""!=m.xf_column_data_prop.font?m.xf_column_data_prop.font.slice(0):this.xf_prop.font.slice(0)),r[4]=!0,this._setitemprop(c.row_index,c.sub_row_index,c.column_index,"font",r,!0)),m.xf_column_data_prop.hyperlink_visitedcoloruse&&this._setitemprop(c.row_index,c.sub_row_index,c.column_index,"forecolor",m.xf_column_data_prop.hyperlink_visitedcolor,!0)),i=m.getitemeditableinfo(c.row_index,null,b,c),i.is_editable&&e.hasClass("_xf_grid_item_btn_popbtn")?this._fireevent("on_itempopbtnclick",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1):e.hasClass("_xf_grid_item_btn_combo")?this._fireitemclickevent(c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1,-1,-1,-1,!0):e.hasClass("_xf_grid_item_btn_calendar")?this._fireitemclickevent(c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1,-1,-1,-1,!0):this._fireitemclickevent(c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!1),i.is_editable&&(m.showedit_by_itembuttonclick=!1,i.input_type==XF_GRID.COLUMN_INPUT_TYPE_COMBOBOX&&factory_xf_param.GRID_COMBOBUTTONCLICK_EDIT?(e.hasClass("_xf_grid_item_btn_combo")&&(m.showedit_by_itembuttonclick=!0),m.showedit(b,c.row_index)):i.input_type==XF_GRID.COLUMN_INPUT_TYPE_CALENDAR&&factory_xf_param.GRID_CALENDARBUTTONCLICK_EDIT?(e.hasClass("_xf_grid_item_btn_calendar")&&(m.showedit_by_itembuttonclick=!0),m.showedit(b,c.row_index)):0==this.xf_prop.dblclick_edit&&m.showedit(b,c.row_index),m.showedit_by_itembuttonclick=!1),this.click_tick_count=_xfu.tickcount()}},XF_GRID.prototype._fireheaderclickevent=function(a,b){var c;0!=this.xf_prop.delay_itemclick&&this.xf_prop.on_headerdblclick?(c=this,this.delay_item_click_timer_id=window.setTimeout(function(d){factory._fireevent({xf_component:c,event_name:"on_headerclick",is_fire_async:!0},this,a,b)},400)):factory._fireevent({xf_component:this,event_name:"on_headerclick",is_fire_async:!0},this,a,b)},XF_GRID.prototype._fireitemclickevent=function(a,b,c,d,e,f,g,h,i,j){var k;0!=this.xf_prop.delay_itemclick&&this.xf_prop.on_itemdblclick?(k=this,this.delay_item_click_timer_id=window.setTimeout(function(f){k._fireevent("on_itemclick",a,b,c,d,e,!1,g,h,i,j)},400)):this._fireevent("on_itemclick",a,b,c,d,e,f,g,h,i,j)},XF_GRID.prototype.on_datatableitem_click=function(a,b){var c,d;if(0==this.xf_prop.multi_selectrow)this._setselectitem(b.row_index,b.sub_row_index,b.column_index,!0,!1,!0);else if(a.ctrlKey||a.shiftKey){if(a.ctrlKey)1==this._isselectedrow(b.row_index)&&0==this._isitemselectedrow(b.row_index)?(this._setselectedrowinfo(!1,b.row_index,b.row_index),this._displayselectitem(b.row_index,b.sub_row_index,b.column_index,!0,!1)):this._setselectitem(b.row_index,b.sub_row_index,b.column_index,!0,!1,!0,!1);else if(a.shiftKey){if(b.row_index<this.selected_row_index){if(c=this._findnextselectedrowindex(b.row_index,!1,!0),c>0)for(d=b.row_index+1;c>d;d++)this._setselectedrowinfo(!0,d,d),this._displayselectitem(d,b.sub_row_index,b.column_index,!1,!0)}else if(c=this._findnextselectedrowindex(b.row_index,!1,!1),c>=0)for(d=c+1;d<b.row_index;d++)this._setselectedrowinfo(!0,d,d),this._displayselectitem(d,b.sub_row_index,b.column_index,!1,!0);this._setselectitem(b.row_index,b.sub_row_index,b.column_index,!0,!1,!0,!1)}}else this._setselectitem(b.row_index,b.sub_row_index,b.column_index,!0,!1,!0)},XF_GRID.prototype.on_object_dblclick=function(a){var b,c,d,e,f,g,h;return null!=_xfj.eventtarget(a,{type:"class",value:"_xf_grid_item_edit"})?!1:(factory.registermouseevent(this,a),d=$(a.target),b=this._findtdbyevent(a),void(null!=b&&(c=this._gettdinfo(b),null!=c&&(d.hasClass("_xf_grid_treeitem_text")&&(e=d.data("row"),f=d.data("depth"),g=this._istreegridhaschild(this._getrowcount(XF_GRID.ROW_KIND_DATA),e,f),g&&this._expandtreegriditem(e,XFD_TREEITEM_TOGGLE,!0)),this._setfocus(_XFD_FOCUSTYPE_CLICK),c.row_table_type==XF_GRID.ROW_TABLE_HEAD?factory._fireevent({xf_component:this,event_name:"on_headerdblclick",is_fire_async:!0},this,c.sub_row_index,c.column_index):c.row_table_type!=XF_GRID.ROW_TABLE_FIX&&c.row_table_type!=XF_GRID.ROW_TABLE_VIEW||(d.hasClass("_xf_grid_item_btn_combo")?this._fireevent("on_itemdblclick",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!0,-1,-1,-1,!0):d.hasClass("_xf_grid_item_btn_calendar")?this._fireevent("on_itemdblclick",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!0,-1,-1,-1,!0):this._fireevent("on_itemdblclick",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!0),c.column_kind_type==XF_GRID.COLUMN_KIND_DATA&&(h=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),h&&(h.showedit_by_itembuttonclick=!1,(d.hasClass("_xf_grid_item_btn_combo")||d.hasClass("_xf_grid_item_btn_calendar"))&&(h.showedit_by_itembuttonclick=!0),h.showedit(b,c.row_index),h.showedit_by_itembuttonclick=!1)))))))},XF_GRID.prototype.on_datatable_mouseenter=function(a){this._on_datatable_mouseenterleave(a,!0)},XF_GRID.prototype.on_datatable_mouseleave=function(a){this._on_datatable_mouseenterleave(a,!1)},XF_GRID.prototype._on_datatable_mouseenterleave=function(a,b){var c,d;c=$(a.target).closest("tr"),c.length<1||(d=this._gettrinfo(c),null!=d&&(0==b&&(null!==this.xf_mouse_enter_tr_1&&this.xf_mouse_enter_tr_1.removeClass(this.class_tr_hovered),1==this._ismultilinegrid()&&this.xf_mouse_enter_tr_1_multilinegrid.removeClass(this.class_tr_hovered)),0==b&&null!==this.xf_mouse_enter_tr_2&&this.xf_mouse_enter_tr_2.removeClass(this.class_tr_hovered),b&&(d.row_table_type==XF_GRID.ROW_TABLE_FIX?d.column_table_type==XF_GRID.COLUMN_TABLE_LEFT?(1==this._ismultilinegrid()&&(this.xf_mouse_enter_tr_1_multilinegrid=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_left_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_1_multilinegrid.addClass(this.class_tr_hovered)),this.xf_mouse_enter_tr_1=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_center_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_1.addClass(this.class_tr_hovered),this.xf_prop.hoverrow_statcolumn&&(this.xf_mouse_enter_tr_2=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_right_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_2.addClass(this.class_tr_hovered))):d.column_table_type==XF_GRID.COLUMN_TABLE_CENTER?(1==this._ismultilinegrid()&&(this.xf_mouse_enter_tr_1_multilinegrid=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_center_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_1_multilinegrid.addClass(this.class_tr_hovered)),this.xf_mouse_enter_tr_1=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_left_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_1.addClass(this.class_tr_hovered),this.xf_prop.hoverrow_statcolumn&&(this.xf_mouse_enter_tr_2=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_right_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_2.addClass(this.class_tr_hovered))):d.column_table_type==XF_GRID.COLUMN_TABLE_RIGHT&&(this.xf_mouse_enter_tr_1=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_left_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_1.addClass(this.class_tr_hovered),this.xf_mouse_enter_tr_2=this._findtrarr(XF_GRID.ROW_TABLE_FIX,this.xf_center_body_fix_table_tbody,d.row_index),this.xf_mouse_enter_tr_2.addClass(this.class_tr_hovered)):d.row_table_type==XF_GRID.ROW_TABLE_VIEW&&(d.column_table_type==XF_GRID.COLUMN_TABLE_LEFT?(1==this._ismultilinegrid()&&(this.xf_mouse_enter_tr_1_multilinegrid=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_left_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_1_multilinegrid.addClass(this.class_tr_hovered)),this.xf_mouse_enter_tr_1=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_center_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_1.addClass(this.class_tr_hovered),this.xf_prop.hoverrow_statcolumn&&(this.xf_mouse_enter_tr_2=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_right_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_2.addClass(this.class_tr_hovered))):d.column_table_type==XF_GRID.COLUMN_TABLE_CENTER?(1==this._ismultilinegrid()&&(this.xf_mouse_enter_tr_1_multilinegrid=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_center_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_1_multilinegrid.addClass(this.class_tr_hovered)),this.xf_mouse_enter_tr_1=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_left_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_1.addClass(this.class_tr_hovered),this.xf_prop.hoverrow_statcolumn&&(this.xf_mouse_enter_tr_2=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_right_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_2.addClass(this.class_tr_hovered))):d.column_table_type==XF_GRID.COLUMN_TABLE_RIGHT&&(this.xf_mouse_enter_tr_1=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_left_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_1.addClass(this.class_tr_hovered),this.xf_mouse_enter_tr_2=this._findtrarr(XF_GRID.ROW_TABLE_VIEW,this.xf_center_body_view_table_tbody,d.row_index),this.xf_mouse_enter_tr_2.addClass(this.class_tr_hovered))))))},XF_GRID.prototype.on_object_mousemove=function(a){var b,c;return this.xf_prop.use_selectblock&&this.xf_selectblock.moveblock(a)?!1:(b=this._findtdbyevent(a),void(null!=b&&(c=this._gettdinfo(b),null!=c&&(c.column_index<0||(this.mouse_move_column_index!=c.column_index&&(this.mouse_move_column_index>=0&&this._fireevent("on_columnmouseout",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,this.mouse_move_column_index,!0),this._fireevent("on_columnmousein",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!0)),c.row_index==this.mouse_move_row_index&&c.sub_row_index==this.mouse_move_sub_row_index&&c.column_index==this.mouse_move_column_index||(this.mouse_move_row_index=c.row_index,this.mouse_move_sub_row_index=c.sub_row_index,this.mouse_move_column_index=c.column_index,this._fireevent("on_columnmousehover",c.row_table_type,c.column_kind_type,c.row_index,c.sub_row_index,c.column_index,!0)))))))},XF_GRID.prototype._stopnextfocus=function(a){return null==_xfj.eventtarget(a,{type:"class",value:"_xf_grid_item_edit"})&&this.xf_item_edit_component?(this.xf_item_edit_component.stop_next_focus=!0,!0):!1},XF_GRID.prototype.on_object_mousedown=function(a){factory.registermouseevent(this,a),0==this.xf_prop.click_setfocus&&a.preventDefault(),this._stopnextfocus(a),this.xf_prop.use_selectblock&&0==a.button&&this.xf_selectblock.startshow(a),factory._fireevent({xf_component:this,event_name:"on_mousedown",is_fire_async:!0},this)},XF_GRID.prototype.on_object_mouseup=function(a){this.xf_prop.use_selectblock&&(this.xf_selectblock.endshow(a),factory._fireevent({xf_component:this,event_name:"on_selectblock",is_fire_async:!0},this))},XF_GRID.prototype.on_object_mouseenter=function(a){return this.xf_prop.enable?void factory._fireevent({xf_component:this,event_name:"on_mousein",is_fire_async:!0},this):!1},XF_GRID.prototype.on_object_mouseleave=function(a){return this.xf_prop.enable?void factory._fireevent({xf_component:this,event_name:"on_mouseout",is_fire_async:!0},this):!1},XF_GRID.prototype.on_object_dragenter=function(a){var b,c,d,e;return this.xf_object.addClass("_xf_grid_drag_over"),b=$(a.target),c=b.closest("td"),e=this._gettdinfo(c),null==e?!1:void(e.row_table_type===factory.xf_main_factory.xf_drag.row_table_type&&(d=b.closest("._xf_grid_item"),d.length>0&&0==d.hasClass("_xf_grid_item_drag_over")&&d.addClass("_xf_grid_item_drag_over")))},XF_GRID.prototype.on_object_dragover=function(a){var b,c,d,e;if(0!=this.xf_prop.accept_drop||0!=this.xf_prop.accept_dropfiles)return 0==this.xf_object.hasClass("_xf_grid_drag_over")&&this.xf_object.addClass("_xf_grid_drag_over"),b=$(a.target),c=b.closest("td"),e=this._gettdinfo(c),null==e?!1:void(e.row_table_type===factory.xf_main_factory.xf_drag.row_table_type&&(a.preventDefault(),d=b.closest("._xf_grid_item"),0==d.hasClass("_xf_grid_item_drag_over")&&d.addClass("_xf_grid_item_drag_over")))},XF_GRID.prototype.on_object_dragleave=function(a){var b,c,d,e;return this.xf_object.removeClass("_xf_grid_drag_over"),b=$(a.target),c=b.closest("td"),e=this._gettdinfo(c),null==e?!1:void(e.row_table_type===factory.xf_main_factory.xf_drag.row_table_type&&(d=b.closest("._xf_grid_item"),d.length>0&&d.removeClass("_xf_grid_item_drag_over")))},XF_GRID.prototype.on_object_dragend=function(a){var b;b=$(a.target),b.removeClass("_xf_grid_column_div_drag")},XF_GRID.prototype.on_object_dragstart=function(a){var b,c,d,e;return this._ismultilinegrid()?!1:(d=$(a.target),c=d.closest("td"),e=this._gettdinfo(c),null==e?!1:(e.row_table_type!=XF_GRID.ROW_TABLE_FIX&&e.row_table_type!=XF_GRID.ROW_TABLE_VIEW||e.column_kind_type==XF_GRID.COLUMN_KIND_DATA&&this._setselectitem(e.row_index,e.sub_row_index,e.column_index,!0,!0,!1),e.row_table_type!=XF_GRID.ROW_TABLE_FIX&&e.row_table_type!=XF_GRID.ROW_TABLE_VIEW||(b=this._fireevent("on_begindrag",e.row_table_type,e.column_kind_type,e.row_index,e.sub_row_index,e.column_index,!1),0!=b)?(a.originalEvent.dataTransfer.setData("Text",this.xf_prop.name+"|"+e.column_index),d.addClass("_xf_grid_column_div_drag"),void factory._setdraginfo(this,{xf_drag_item:this.xf_item,row_table_type:e.row_table_type,row_kind_type:e.row_kind_type,column_kind_type:e.column_kind_type,row_index:e.row_index,sub_row_index:e.sub_row_index,column_index:e.column_index})):!1))},XF_GRID.prototype.on_object_drop=function(a){var b,c,d,e,f,g;if(factory.registermouseevent(this,a),d=$(a.target),f=d.closest("._xf_grid_item"),f.removeClass("_xf_grid_item_drag_over"),a.preventDefault(),this._ismultilinegrid())return void factory._resetdraginfo();if(this.xf_object.removeClass("_xf_grid_drag_over"),void 0!==a.originalEvent.dataTransfer&&void 0!==a.originalEvent.dataTransfer.files){if(b=a.originalEvent.dataTransfer.files.length,b>0)return this.xf_prop.accept_dropfiles&&factory._fireevent({xf_component:this,event_name:"on_dropfiles",is_fire_async:!0},this,a.originalEvent.dataTransfer.files,b),void factory._resetdraginfo();if(factory.xf_main_factory.xf_drag.control_kind!==this.control_kind)return void factory._resetdraginfo();if(d=$(a.target),c=d.closest("td"),e=this._gettdinfo(c),null==e&&factory.xf_main_factory.xf_drag.row_table_type==XF_GRID.ROW_TABLE_HEAD)return void factory._resetdraginfo();if(factory.xf_main_factory.xf_drag.row_table_type==XF_GRID.ROW_TABLE_HEAD)return null==e?void factory._resetdraginfo():factory.xf_main_factory.xf_drag.xf_component!==this?void factory._resetdraginfo():e.row_table_type!==XF_GRID.ROW_TABLE_HEAD?void factory._resetdraginfo():(this.movecolumn(factory.xf_main_factory.xf_drag.column_index,e.column_index),void factory._resetdraginfo());if(this.xf_dragdrop={},$.extend(this.xf_dragdrop,factory.xf_main_factory.xf_drag),null==e&&(e={row_index:-1,column_index:-1}),this.xf_dragdrop.drop_row_index=e.row_index,this.xf_dragdrop.drop_column_index=e.column_index,factory.xf_main_factory.xf_drag.xf_component==this){if(null!==e&&factory.xf_main_factory.xf_drag.row_index==e.row_index&&factory.xf_main_factory.xf_drag.column_index==e.column_index)return void factory._resetdraginfo();null==e&&(e={row_index:this.getrowcount(),column_index:-1}),g={xf_component:this,event_name:"on_enddrag",is_fire_async:!1},factory._fireevent(g,this,factory.xf_main_factory.xf_drag.row_index,e.row_index,factory.xf_main_factory.xf_drag.column_index,e.column_index)}else g={xf_component:this,event_name:"on_dropcomplete",is_fire_async:!1},factory._fireevent(g,this,factory.xf_main_factory.xf_drag.xf_screen,factory.xf_main_factory.xf_drag.xf_component);void 0!==g.is_func_called&&0!=g.is_func_called||(this.xf_context.hide(),this.xf_context_drop.hide(),this.xf_context_selectblock.hide(),this.xf_context_drop.show(a.originalEvent.pageX,a.originalEvent.pageY,a)),factory._resetdraginfo()}},XF_GRID.prototype._isfireasyncclickevent=function(){return!this.geteventhandler("on_dblclick")},XF_GRID.prototype.on_xdataset_event=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;switch(a.type){case XFD_XDATASET_EVENT_ROW_DELETE:b=this._getgridrowindex(a.xdataset_row_index),this._deletegridrow(b,a.xdataset_row_index,!1,!1),this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0});break;case XFD_XDATASET_EVENT_ROW_INSERT:if(b=this._getgridrowindex(a.xdataset_row_index),this._insertgridrow(b,a.xdataset_row_index,!1,!1,!0,!1),this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),j=this._refreshautoheight(b,-1,!0),null!=j&&j.is_refresh_grid)return;break;case XFD_XDATASET_EVENT_ROW_CHECK:if(b=this._getgridrowindex(a.xdataset_row_index),g=this._findtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_HEAD,b,0,-2),null===g||g.length<1)return;if(h=g.find("._xf_grid_item_check"),h.length<1)return;return i=this.xf_xdataset.ischeckedrow(a.xdataset_row_index),k=this.isenablecheckrowex(b),l=k?i?this.xf_prop.checkrow_check_image:this.xf_prop.checkrow_uncheck_image:i?this.xf_prop.checkrow_dis_check_image:this.xf_prop.checkrow_dis_uncheck_image,this._displayitemcheck(h,i,k,l),void this._refreshcheckrowheadercheck(!0);case XFD_XDATASET_EVENT_COLUMN_DELETE:case XFD_XDATASET_EVENT_COLUMN_EMPTY:case XFD_XDATASET_EVENT_COLUMN_ADD:case XFD_XDATASET_EVENT_COLUMN_INSERT:if(this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),j=this._refreshautoheight(-1,-1,!0),null!=j&&j.is_refresh_grid)return;break;case XFD_XDATASET_EVENT_DATA_UPDATE:if(m=this._getgridcolumnsubrowindexarr(a.xdataset_column_id),o=m.length,p=!1,0==o)return;for(n=0;o>n;n++)d=m[n],d.is_depth_column&&(p=!0),b=this._getgridrowindex(a.xdataset_row_index),this._isdisplayrow(b)&&(e=this._refreshdatatd(b,d.sub_row_index,d.column_index),!p&&this._isnormalgrid()&&1==this.getcolumnmerge(d.column_index)&&(p=!0)),c=this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0,column_index:d.column_index}),this._refreshdataafter(c,b,d.sub_row_index,d.column_index);if(!p)return;break;case XFD_XDATASET_EVENT_DATA_LOAD:if(0==this.xf_xdataset.getrowcount()&&this._clearallcolumnheadercheck(),this.xf_grid_scroll.setscrollpos(XFD_SB_VERT,0),this.xf_grid_scroll.setscrollpos(XFD_SB_HORZ,0),this._resetselectedinfo(),this._deletealliteminfo(!1),void 0!==this.is_filter_save&&this.is_filter_save!==!1||this._releasefilter(!1),this._resetcolumnsort(),this._refreshdata({is_create_grid_row_arr:!0,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),this.is_filter_save&&this._executecolumnfilter(this.filter_info_arr,!1),j=this._refreshautoheight(-1,-1,!0),null!=j&&j.is_refresh_grid)return;break;case XFD_XDATASET_EVENT_DATA_APPEND:if(void 0!==this.is_filter_save&&this.is_filter_save!==!1||this._releasefilter(!1),this._refreshdata({is_create_grid_row_arr:!0,xdataset_append_row_count:a.xdataset_append_row_count,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0}),this.is_filter_save&&this._executecolumnfilter(this.filter_info_arr,!1),j=this._refreshautoheight(-1,-1,!0),null!=j&&j.is_refresh_grid)return;break;case XFD_XDATASET_EVENT_DATA_POSITION:return b=this._getgridrowindex(a.xdataset_pos_index),f=this._getfirstselectableinfo(),void this._setselectitem(b,f.sub_row_index,f.column_index,!1,!1);case XFD_XDATASET_EVENT_DATA_SORT:return void this._on_xdataset_sort(XFD_DATA_CHANGE_BY_XDATASET);case XFD_XDATASET_EVENT_DATA_RANGESORT:return void this._on_xdataset_rangesort(XFD_DATA_CHANGE_BY_XDATASET);case XFD_XDATASET_EVENT_DATA_CHECK:return this._displayfixtable(),void this._displayviewtable(0);case XFD_XDATASET_EVENT_ETC:}this._refreshgrid()},XF_GRID_FILTERBOX.prototype._init=function(a){this.xf_grid=a,this.TOP_BOX_HEIGHT=80,this.BOTTOM_BOX_HEIGHT=26,this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_content=null,this.filter_value_info_arr=null,this.column_index=-1,this.column_width=0,this.default_value_arr=[factory._userlang("(전체 보기)","(View All)"),factory._userlang("(사용자 정의)","(User Define)"),factory._userlang("(모두 선택)","(Select All)"),factory._userlang("(모두 선택 해제)","(Clear All)")],this.html_arr=[],this.css_arr=[]},XF_GRID_FILTERBOX.prototype._prop=function(){this.xf_prop={item_height:20,show_item_count:5,internal_name:this.xf_grid.xf_prop.internal_name+"_filterbox"},this.xf_prop.item_height=this.xf_grid.xf_prop.cell_height,this.TOP_BOX_HEIGHT=this.default_value_arr.length*this.xf_prop.item_height,this._showitemcount()},XF_GRID_FILTERBOX.prototype._offdocevent=function(){$(document).off("click."+this.xf_prop.internal_name)},XF_GRID_FILTERBOX.prototype._docevent=function(){this._offdocevent(),$(document).on("click."+this.xf_prop.internal_name,$.proxy(this.on_click_document,this))},XF_GRID_FILTERBOX.prototype._offevent=function(){this.xf_object.off("click")},XF_GRID_FILTERBOX.prototype._event=function(){this._offevent(),this.xf_object.on("click",$.proxy(this.on_object_click,this))},XF_GRID_FILTERBOX.prototype.on_click_document=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_grid_filterbox"})&&this.hide()},XF_GRID_FILTERBOX.prototype.on_scroll_start=function(){this.xf_grid._offdocevent()},XF_GRID_FILTERBOX.prototype.on_scroll_end=function(){_xfu.async({func:this.xf_grid._docevent,context:this.xf_grid})},XF_GRID_FILTERBOX.prototype.on_object_shown=function(){this.xf_vscroll.refresh()},XF_GRID_FILTERBOX.prototype.on_object_click=function(a){var b,c,d,e,f,g;if(b=$(a.target),c=b.text(),b.hasClass("_xf_grid_filterbox_button_cancel"))return this.hide(),!1;if(b.hasClass("_xf_grid_filterbox_button_apply")){for(d=this.xf_object.find("._xf_grid_filterbox_item_check"),e=d.length,f=0,g=0;e>g;g++)$(d[g]).prop("checked")&&f++;if(0==f)return alert(factory._userlang("필터 적용 대상이 없습니다.","No filter target.")),!1;for(this.xf_grid._deletecolumnfilterinfo(this.column_index,this.sub_row_index),g=0;e>g;g++)$(d[g]).prop("checked")&&this.xf_grid._addcolumnfilterinfo({column_index:this.column_index,sub_row_index:this.sub_row_index,filter_type:XFD_FILTER_TEXT,compare_type:"=",compare_value:$(d[g]).val(),compare_and:!1,is_show_button:!0});return this.xf_grid._executecolumnandfilter(this.xf_grid.filter_info_arr),this.hide(),!1}if(b.hasClass("_xf_grid_filterbox_item_text")){if("(전체 보기)"==c||"(View All)"==c)return this.xf_grid._applyfilter(this.column_index,this.sub_row_index,XFD_FILTER_ALL,c,!0),this.hide(),!1;if("(사용자 정의)"==c||"(User Define)"==c)return this.xf_grid._showmultifilterpopup(this.column_index,this.sub_row_index),this.hide(),!1;if("(모두 선택)"==c||"(Select All)"==c)return d=this.xf_object.find("._xf_grid_filterbox_item_check"),d.prop("checked",!0),!1;if("(모두 선택 해제)"==c||"(Clear All)"==c)return d=this.xf_object.find("._xf_grid_filterbox_item_check"),d.prop("checked",!1),!1}},XF_GRID_FILTERBOX.prototype._showitemcount=function(){var a,b;a=this.xf_grid.xf_object.outerHeight(),b=a-2-this.TOP_BOX_HEIGHT-this.BOTTOM_BOX_HEIGHT,b-=this.xf_grid.xf_prop.header_horzcount*this.xf_grid.xf_prop.header_height,this.xf_prop.show_item_count=Math.floor(b/this.xf_prop.item_height),this.xf_prop.show_item_count<2&&(this.xf_prop.show_item_count=2)},XF_GRID_FILTERBOX.prototype.hide=function(){this.is_box_show=!1,this.filter_value_info_arr=[],this._offdocevent(),this._offevent(),null!=this.xf_vscroll&&(this.xf_vscroll.remove(),this.xf_vscroll=null),null!=this.xf_object&&(this.xf_object.remove(),this.xf_object=null)},XF_GRID_FILTERBOX.prototype.show=function(a,b,c,d,e,f){this.is_box_show&&this.hide(),this.filter_value_info_arr=f,this.column_index=c,this.sub_row_index=d,this.column_width=e,this.xf_object=$(this._getfilterboxhtml(a,b)),this.xf_view=this.xf_object.find("._xf_grid_filterbox_view"),this.xf_content=this.xf_view.find("._xf_grid_filterbox_content"),this.xf_vscroll=new XF_SCROLL(this.xf_view,this.xf_view,this.xf_content,{id:this.xf_prop.internal_name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)}),$(document.body).append(this.xf_object),this.xf_object.show(),this.is_box_show=!0,this._event(),this._size(),_xfu.async({func:this._docevent,context:this}),_xfu.async({func:this.on_object_shown,context:this})},XF_GRID_FILTERBOX.prototype._getfilterboxhtml=function(a,b){var c,d,e,f;for(c=[],c.push('<div id="'+this.xf_prop.internal_name+'" class="_xf_grid_filterbox" style="'),c.push("display:none;"),c.push("border:1px solid "+_xfu.rgbfunc(this.xf_grid.xf_prop.border_color)+";"),c.push(_xfc.basic("font",this.xf_grid.xf_prop.font,!1,null)),c.push("left:"+_xfu.px(a)+";"),c.push("top:"+_xfu.px(b)+";"),c.push('">'),d=this.default_value_arr.length,e=0;d>e;e++)c.push('<div class="_xf_grid_filterbox_item" style="height:'+this.xf_prop.item_height+'px;">'),c.push('<span class="_xf_grid_filterbox_item_text">'+this.default_value_arr[e]+"</span>"),c.push("</div>");for(c.push('<div class="_xf_grid_filterbox_view">'),c.push('<div class="_xf_grid_filterbox_content">'),d=this.filter_value_info_arr.length,e=0;d>e;e++)c.push('<div class="_xf_grid_filterbox_item" style="height:'+this.xf_prop.item_height+'px;">'),f=this.xf_prop.internal_name+"_filter_value_"+e,c.push('<input type="checkbox" class="_xf_grid_filterbox_item_check" value="'+this.filter_value_info_arr[e].filter_value+'" id="'+f+'"'),
this.xf_grid._checkcolumnfilterinfo(this.column_index,this.sub_row_index,this.filter_value_info_arr[e].filter_value)&&c.push(" checked"),c.push("/>"),c.push('<label for="'+f+'" class="_xf_grid_filterbox_item_text">'),""==this.filter_value_info_arr[e].filter_value?c.push(factory._userlang("(필드값 없음)","(Blank Value)")):c.push(this.filter_value_info_arr[e].filter_fmt_value),c.push("</label>"),c.push("</div>");return c.push("</div>"),c.push("</div>"),c.push('<div class="_xf_grid_filterbox_buttonbox" style="font-size:9pt;">'),c.push('<button class="_xf_grid_filterbox_button _xf_grid_filterbox_button_apply">'+factory._userlang("적용","OK")+"</button>"),c.push('<button class="_xf_grid_filterbox_button _xf_grid_filterbox_button_cancel">'+factory._userlang("취소","Cancel")+"</button>"),c.push("</div>"),c.push("</div>"),c.join("")},XF_GRID_FILTERBOX.prototype._size=function(){var a,b,c,d;this._showitemcount(),a=this.xf_content.outerWidth(),a<this.column_width-1&&this.xf_object.css({width:_xfu.px(this.column_width)}),b=this.filter_value_info_arr.length,c=b>this.xf_prop.show_item_count?this.xf_prop.item_height*this.xf_prop.show_item_count:this.xf_prop.item_height*b,d=c+2+this.TOP_BOX_HEIGHT+this.BOTTOM_BOX_HEIGHT,this.xf_view.css({height:_xfu.px(c)}),this.xf_object.css({height:_xfu.px(d)})},XF_GRID_FINDBOX.prototype._init=function(a){this.xf_grid=a},XF_GRID_FINDBOX.prototype._member=function(){this.is_box_show=!1,this.xf_object=null,this.html_arr=[],this.css_arr=[]},XF_GRID_FINDBOX.prototype._prop=function(){this.xf_prop={show_item_count:10,item_height:18,internal_name:this.xf_grid.xf_prop.internal_name+"_findbox"}},XF_GRID_FINDBOX.prototype._offevent=function(){this.xf_close_btn.off("click"),this.xf_searchup_btn.off("click"),this.xf_searchdown_btn.off("click"),this.xf_value.off("keydown")},XF_GRID_FINDBOX.prototype._event=function(){this._offevent(),this.xf_close_btn.on("click",$.proxy(this.on_closebtn_click,this)),this.xf_searchup_btn.on("click",$.proxy(this.on_searchupbtn_click,this)),this.xf_searchdown_btn.on("click",$.proxy(this.on_searchdownbtn_click,this)),this.xf_value.on("mousedown",$.proxy(this.on_value_mousedown,this)),this.xf_value.on("click",$.proxy(this.on_value_click,this)),this.xf_value.on("keydown",$.proxy(this.on_value_keydown,this))},XF_GRID_FINDBOX.prototype.on_closebtn_click=function(a){return a.stopPropagation(),this.hide(!1)},XF_GRID_FINDBOX.prototype.on_searchupbtn_click=function(a){var b;a.stopPropagation(),b=this.xf_value.val(),0!=b.length&&this._search(b,!1)},XF_GRID_FINDBOX.prototype.on_searchdownbtn_click=function(a){var b;a.stopPropagation(),b=this.xf_value.val(),0!=b.length&&this._search(b,!0)},XF_GRID_FINDBOX.prototype.on_value_mousedown=function(a){a.stopPropagation()},XF_GRID_FINDBOX.prototype.on_value_click=function(a){a.stopPropagation()},XF_GRID_FINDBOX.prototype.on_value_keydown=function(a){return a.stopPropagation(),a.which==XFD_KEY_ENTER?(this.on_searchdownbtn_click(a),!1):a.which==XFD_KEY_ESC?(this.on_closebtn_click(a),!1):void 0},XF_GRID_FINDBOX.prototype.hide=function(){this.is_box_show=!1,this.xf_grid.find_option_info.search_text=this.xf_value.val(),this._offevent(),null!=this.xf_object&&(this.xf_object.remove(),this.xf_object=null),this.xf_grid.setfocus()},XF_GRID_FINDBOX.prototype.show=function(a){return void 0===a&&(a=""),this.is_box_show?(this.xf_value.val(a),void this.xf_value.focus()):(this.xf_object=$(this._getfindboxhtml()),this.xf_value=this.xf_object.find("._xf_grid_findbox_value"),this.xf_searchup_btn=this.xf_object.find("._xf_grid_findbox_btn_searchup"),this.xf_searchdown_btn=this.xf_object.find("._xf_grid_findbox_btn_searchdown"),this.xf_close_btn=this.xf_object.find("._xf_grid_findbox_btn_close"),this.xf_grid.xf_object.append(this.xf_object),this.xf_object.show(),this.is_box_show=!0,this._event(),this.xf_value.focus(),void(a.length>0&&(this.xf_value.val(a),this._search(a,!0))))},XF_GRID_FINDBOX.prototype._getfindboxhtml=function(){var a;return a=[],a.push('<div class="_xf_grid_findbox" style="'),a.push("display:none;"),a.push("border:1px solid "+_xfu.rgbfunc(this.xf_grid.xf_prop.border_color)+";"),a.push('">'),a.push('<table class="_xf_grid_findbox_table">'),a.push("<colgroup>"),a.push('<col style="width:200px;">'),a.push('<col style="width:22px;">'),a.push("<tbody>"),a.push('<tr class="_xf_grid_findbox_tr">'),a.push('<td class="_xf_grid_findbox_td">'),a.push('<input type="text" class="_xf_grid_findbox_value"/>'),a.push('<button type="button" title="Next" class="_xf_grid_findbox_btn _xf_grid_findbox_btn_searchup"></button>'),a.push('<button type="button" title="Prev" class="_xf_grid_findbox_btn _xf_grid_findbox_btn_searchdown"></button>'),a.push("</td>"),a.push('<td class="_xf_grid_findbox_td">'),a.push('<button type="button" title="Close" class="_xf_grid_findbox_btn _xf_grid_findbox_btn_close"></button>'),a.push("</td>"),a.push("</tr>"),a.push("</tbody>"),a.push("</colgroup>"),a.push("</table>"),a.push("</div>"),a.join("")},XF_GRID_FINDBOX.prototype._search_asis=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(k={filter_type:XFD_FILTER_TEXT,compare_type:"=",compare_value:a,regexp:_xfx.regexp(a)},i=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),j=this.xf_grid._getcolumncount(XF_GRID.COLUMN_KIND_DATA),b){if(c=-1==this.xf_grid.selected_row_index?0:this.xf_grid.selected_row_index,f=c,d=-1==this.xf_grid.selected_sub_row_index?0:this.xf_grid.selected_sub_row_index,g=this.xf_grid.sub_row_count-1,e=-1==this.xf_grid.selected_column_index?0:this.xf_grid.selected_column_index+1,h=j-1,l=this._searchdata(b,k,c,f,d,g,e,h))return;if(c=-1==this.xf_grid.selected_row_index?0:this.xf_grid.selected_row_index,f=c,d=-1==this.xf_grid.selected_sub_row_index?0:this.xf_grid.selected_sub_row_index,d+=1,g=this.xf_grid.sub_row_count-1,e=0,h=j-1,l=this._searchdata(b,k,c,f,d,g,e,h))return;if(c=this.xf_grid.selected_row_index+1,f=i-1,d=0,g=this.xf_grid.sub_row_count-1,e=0,h=j-1,l=this._searchdata(b,k,c,f,d,g,e,h))return;c=0,f=this.xf_grid.selected_row_index,d=0,g=this.xf_grid.sub_row_count-1,e=0,h=j-1,l=this._searchdata(b,k,c,f,d,g,e,h)}else{if(c=-1==this.xf_grid.selected_row_index?0:this.xf_grid.selected_row_index,f=c,d=-1==this.xf_grid.selected_sub_row_index?0:this.xf_grid.selected_sub_row_index,g=0,e=-1==this.xf_grid.selected_column_index?0:this.xf_grid.selected_column_index-1,h=0,e>0&&(l=this._searchdata(b,k,c,f,d,g,e,h)))return;if(c=-1==this.xf_grid.selected_row_index?0:this.xf_grid.selected_row_index,f=c,d=-1==this.xf_grid.selected_sub_row_index?0:this.xf_grid.selected_sub_row_index,d-=1,g=0,d>0&&(e=j-1,h=0,l=this._searchdata(b,k,c,f,d,g,e,h)))return;if(c=this.xf_grid.selected_row_index-1,f=0,c>=0&&(d=this.xf_grid.sub_row_count-1,g=0,e=j-1,h=0,l=this._searchdata(b,k,c,f,d,g,e,h)))return;c=i-1,f=this.xf_grid.selected_row_index,0>f&&(f=0),d=this.xf_grid.sub_row_count-1,g=0,e=j-1,h=0,l=this._searchdata(b,k,c,f,d,g,e,h)}},XF_GRID_FINDBOX.prototype._search=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(j=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),k=this.xf_grid._getcolumncount(XF_GRID.COLUMN_KIND_DATA),f=a,0==this.xf_grid.find_option_info.is_match_case&&(f=f.toLowerCase()),b){if(this.xf_grid.find_option_info.is_search_all_column?(e=-1==this.xf_grid.selected_column_index?0:this.xf_grid.selected_column_index+1,i=k-1):(this.xf_grid.find_option_info.search_column_index==this.xf_grid.selected_column_index&&(this.xf_grid.selected_row_index+=1),e=this.xf_grid.find_option_info.search_column_index,i=e),c=-1==this.xf_grid.selected_row_index?0:this.xf_grid.selected_row_index,g=c,d=-1==this.xf_grid.selected_sub_row_index?0:this.xf_grid.selected_sub_row_index,h=d,l=this._searchdatabyvalue(b,f,c,g,d,h,e,i))return!0;if(d+=1,h=this.xf_grid.sub_row_count-1,this.xf_grid.find_option_info.is_search_all_column?(e=0,i=k-1):(e=this.xf_grid.find_option_info.search_column_index,i=e),l=this._searchdatabyvalue(b,f,c,g,d,h,e,i))return!0;if(c=this.xf_grid.selected_row_index+1,g=j-1,d=0,h=this.xf_grid.sub_row_count-1,this.xf_grid.find_option_info.is_search_all_column?(e=0,i=k-1):(e=this.xf_grid.find_option_info.search_column_index,i=e),l=this._searchdatabyvalue(b,f,c,g,d,h,e,i))return!0;if(1==this.xf_grid.find_option_info.is_search_loop&&(c=0,g=this.xf_grid.selected_row_index,d=0,h=this.xf_grid.sub_row_count-1,this.xf_grid.find_option_info.is_search_all_column?(e=0,i=k-1):(e=this.xf_grid.find_option_info.search_column_index,i=e),l=this._searchdatabyvalue(b,f,c,g,d,h,e,i)))return!0}else{if(this.xf_grid.find_option_info.is_search_all_column?(e=-1==this.xf_grid.selected_column_index?0:this.xf_grid.selected_column_index-1,i=0):(this.xf_grid.find_option_info.search_column_index==this.xf_grid.selected_column_index&&(this.xf_grid.selected_row_index-=1),e=this.xf_grid.find_option_info.search_column_index,i=e),c=-1==this.xf_grid.selected_row_index?0:this.xf_grid.selected_row_index,g=c,d=-1==this.xf_grid.selected_sub_row_index?0:this.xf_grid.selected_sub_row_index,h=d,l=this._searchdatabyvalue(b,f,c,g,d,h,e,i))return!0;if(d-=1,h=0,this.xf_grid.find_option_info.is_search_all_column?(e=k-1,i=0):(e=this.xf_grid.find_option_info.search_column_index,i=e),l=this._searchdatabyvalue(b,f,c,g,d,h,e,i))return!0;if(c=this.xf_grid.selected_row_index-1,g=0,d=this.xf_grid.sub_row_count-1,h=0,this.xf_grid.find_option_info.is_search_all_column?(e=k-1,i=0):(e=this.xf_grid.find_option_info.search_column_index,i=e),l=this._searchdatabyvalue(b,f,c,g,d,h,e,i))return!0;if(1==this.xf_grid.find_option_info.is_search_loop&&(c=j-1,g=this.xf_grid.selected_row_index,0>g&&(g=0),d=this.xf_grid.sub_row_count-1,h=0,this.xf_grid.find_option_info.is_search_all_column?(e=k-1,i=0):(e=this.xf_grid.find_option_info.search_column_index,i=e),l=this._searchdatabyvalue(b,f,c,g,d,h,e,i)))return!0}this.xf_grid.selected_row_index=this.xf_grid.find_option_info.selected_row_index,this.xf_grid.selected_sub_row_index=this.xf_grid.find_option_info.selected_sub_row_index,this.xf_grid.selected_column_index=this.xf_grid.find_option_info.selected_column_index},XF_GRID_FINDBOX.prototype._searchdatabyvalue=function(a,b,c,d,e,f,g,h){var i,j,k,l,m;if(a){for(i=c;d>=i;i++)for(j=e;f>=j;j++)for(k=g;h>=k;k++)if(l=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,j),m=this._ismatchvalue(b,l,i))return this.xf_grid._setselectitem(i,j,k,!0,!1,!0),this.xf_grid.find_option_info.selected_row_index=this.xf_grid.selected_row_index,this.xf_grid.find_option_info.selected_sub_row_index=this.xf_grid.selected_sub_row_index,this.xf_grid.find_option_info.selected_column_index=this.xf_grid.selected_column_index,!0}else for(i=c;i>=d;i--)for(j=e;j>=f;j--)for(k=g;k>=h;k--)if(l=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,j),m=this._ismatchvalue(b,l,i))return this.xf_grid._setselectitem(i,j,k,!0,!1,!0),this.xf_grid.find_option_info.selected_row_index=this.xf_grid.selected_row_index,this.xf_grid.find_option_info.selected_sub_row_index=this.xf_grid.selected_sub_row_index,this.xf_grid.find_option_info.selected_column_index=this.xf_grid.selected_column_index,!0;return!1},XF_GRID_FINDBOX.prototype._ismatchvalue=function(a,b,c){var d,e,f;if(1==b.xf_column_data_prop.hidden)return!1;if(f=b.getcolumnitemmergeinfo(XF_GRID.ROW_TABLE_VIEW,c,!1),1==f.is_hidden)return!1;switch(d=b.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,c),0==this.xf_grid.find_option_info.is_match_case&&(d=d.toLowerCase()),e=!1,this.xf_grid.find_option_info.compare_type){case 0:d==a&&(e=!0);break;case 1:e=_xfu.startswith(d,a);break;case 2:e=_xfu.endswith(d,a);break;case 3:e=_xfu.includes(d,a)}return e},XF_GRID_FINDBOX.prototype._searchdata=function(a,b,c,d,e,f,g,h){var i,j,k,l,m;if(a){for(i=c;d>=i;i++)for(j=e;f>=j;j++)for(k=g;h>=k;k++)if(l=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,j),m=_xfx.ismatchtofilter(b.filter_type,b.compare_type,b.regexp,b.compare_value,l.xf_column_data_prop.data_type,l.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,i)))return this.xf_grid._setselectitem(i,j,k,!0,!1,!0),!0}else for(i=c;i>=d;i--)for(j=e;j>=f;j--)for(k=g;k>=h;k--)if(l=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k,j),m=_xfx.ismatchtofilter(b.filter_type,b.compare_type,b.regexp,b.compare_value,l.xf_column_data_prop.data_type,l.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,i)))return this.xf_grid._setselectitem(i,j,k,!0,!1,!0),!0;return!1},XF_GRID_FIXBAR.prototype._init=function(a){this.xf_grid=a,this.is_bar_move=!1,this.mouse_page_y=-1,this.mouse_page_x=-1,this.is_show=!1},XF_GRID_FIXBAR.prototype._prop=function(a){this.xf_prop={fixbar_type:XFD_GRID_FIXEDBAR_ROW,is_enable:!0,range_top:0,range_bottom:0,range_left:0,range_right:0,internal_name:"fixbar"},$.extend(this.xf_prop,a),this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW?this.xf_prop.internal_name=this.xf_grid.internal_name+"_fixbar_row":this.xf_prop.internal_name=this.xf_grid.internal_name+"_fixbar_column"},XF_GRID_FIXBAR.prototype._box=function(){var a,b;a=this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW?"_xf_grid_fixbar_row":"_xf_grid_fixbar_column",0==_xf_htmlready_mode?(b=[],b.push('<div class="_xf_grid_fixbar '+a+'"></div>'),this.xf_grid.xf_content[0].insertAdjacentHTML("beforeend",b.join("")),this.xf_object=this.xf_grid.xf_object.find("."+a),this.refresh()):this.xf_object=this.xf_grid.xf_object.find("."+a)},XF_GRID_FIXBAR.prototype._offdocevent=function(){},XF_GRID_FIXBAR.prototype._docevent=function(){},XF_GRID_FIXBAR.prototype._offevent=function(){},XF_GRID_FIXBAR.prototype._event=function(){},XF_GRID_FIXBAR.prototype._move_size=function(){},XF_GRID_FIXBAR.prototype._position=function(){var a,b,c,d;this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW?(a=this.xf_grid.xf_left_body_fix.position().top,b=this.xf_grid.xf_left_body_fix.height(),this.xf_object.css({top:_xfu.px(a+b-2)})):(c=this.xf_grid.xf_left_body_fix.position().left,d=this.xf_grid.xf_left_body_fix.width(),this.xf_object.css({left:_xfu.px(c+d-2)}))},XF_GRID_FIXBAR.prototype.refresh=function(){this._position(),this._range()},XF_GRID_FIXBAR.prototype.remove=function(){this._offevent(),this.xf_object.remove()},XF_GRID_FIXBAR.prototype.isshow=function(){return this.is_show},XF_GRID_FIXBAR.prototype.show=function(a){this.is_show=a,a?this.xf_object.show():this.xf_object.hide()},XF_GRID_FIXBAR.prototype.on_object_mouseover=function(a){0!=this.xf_prop.is_enable&&(this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW?this.xf_object.css({cursor:"n-resize"}):this.xf_object.css({cursor:"e-resize"}))},XF_GRID_FIXBAR.prototype.on_object_mouseout=function(a){0!=this.xf_prop.is_enable&&this.xf_object.css({cursor:"default"})},XF_GRID_FIXBAR.prototype.on_object_mousedown=function(a){return 0!=this.xf_prop.is_enable?(this.is_bar_move=!0,this._move_size(),this.mouse_page_y=a.pageY,this.mouse_page_x=a.pageX,this._docevent(),!1):void 0},XF_GRID_FIXBAR.prototype.on_object_mouseup=function(a){this.xf_object.css({cursor:"default"})},XF_GRID_FIXBAR.prototype.on_document_mousemove=function(a){var b=0;if(0!=this.xf_prop.is_enable&&0!=this.is_bar_move){if(this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW){if(b=a.pageY-this.mouse_page_y,Math.abs(b)<20)return;b>20&&(b=20),-20>b&&(b=-20),this.setposbygap(b,!0),this.mouse_page_y=a.pageY}else b=a.pageX-this.mouse_page_x,this.setposbygap(b,!0),this.mouse_page_x=a.pageX;return!1}},XF_GRID_FIXBAR.prototype.on_document_mouseup=function(a){0!=this.xf_prop.is_enable&&this.is_bar_move&&(this.is_bar_move=!1,this._offdocevent(),this.xf_object.css({cursor:"default"}))},XF_GRID_FIXBAR.prototype._range=function(){this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW?(this.xf_prop.range_top=this.xf_grid.xf_left_body_fix.position().top,this.xf_prop.range_bottom=this.xf_grid.xf_left_foot.position().top):(this.xf_prop.range_left=0,this.xf_grid.xf_prop.linenumber_show&&(this.xf_prop.range_left+=this.xf_grid.xf_prop.linenumber_width),this.xf_grid.xf_prop.use_checkrow&&(this.xf_prop.range_left+=this.xf_grid.xf_prop.checkrow_width),this.xf_prop.range_right=this.xf_grid.xf_right_body.position().left+this.xf_grid.xf_right_body.width()-2)},XF_GRID_FIXBAR.prototype.setposbygap=function(a,b){var c=this.xf_object.position(),d=this.xf_object.position();this.xf_prop.fixbar_type==XFD_GRID_FIXEDBAR_ROW?(d.top+=a,this.xf_prop.range_top>=0&&d.top<this.xf_prop.range_top&&(d.top=this.xf_prop.range_top),this.xf_prop.range_bottom>=0&&d.top>this.xf_prop.range_bottom&&(d.top=this.xf_prop.range_bottom),a=d.top-c.top,d.left=_xfu.px(d.left),d.top=_xfu.px(d.top),this.xf_object.css(d)):(d.left+=a,this.xf_prop.range_left>=0&&d.left<this.xf_prop.range_left&&(d.left=this.xf_prop.range_left),this.xf_prop.range_right>=0&&d.left>this.xf_prop.range_right&&(d.left=this.xf_prop.range_right),a=d.left-c.left,d.left=_xfu.px(d.left),d.top=_xfu.px(d.top),this.xf_object.css(d))},XF_GRID_GROUPBOX.prototype._init=function(a){this.xf_grid=a},XF_GRID_GROUPBOX.prototype._member=function(){this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_content=null,this.group_info_arr=null,this.column_index=-1,this.column_width=0,this.html_arr=[],this.css_arr=[]},XF_GRID_GROUPBOX.prototype._prop=function(){var a,b;this.xf_prop={name:this.xf_grid.xf_prop.internal_name+"_groupbox",item_height:20,show_item_count:5},this.xf_prop.item_height=this.xf_grid.xf_prop.header_height,b=this.xf_grid.xf_object.outerHeight(),a=b-2-this.TOP_BOX_HEIGHT-this.BOTTOM_BOX_HEIGHT,a-=this.xf_grid.xf_prop.header_horzcount*this.xf_grid.xf_prop.header_height,this.xf_prop.show_item_count=Math.floor(a/this.xf_prop.item_height),this.xf_prop.show_item_count<2&&(this.xf_prop.show_item_count=2)},XF_GRID_GROUPBOX.prototype._offdocevent=function(){$(document).off("click."+this.xf_prop.name)},XF_GRID_GROUPBOX.prototype._docevent=function(){this._offdocevent(),$(document).on("click."+this.xf_prop.name,$.proxy(this.on_click_document,this))},XF_GRID_GROUPBOX.prototype._offevent=function(){this.xf_object.off("click")},XF_GRID_GROUPBOX.prototype._event=function(){this._offevent(),this.xf_object.on("click",$.proxy(this.on_object_click,this))},XF_GRID_GROUPBOX.prototype.on_click_document=function(a){null==_xfj.eventtarget(a,{type:"class",value:"_xf_grid_groupbox"})&&this.hide()},XF_GRID_GROUPBOX.prototype.on_scroll_start=function(){this.xf_grid._offdocevent()},XF_GRID_GROUPBOX.prototype.on_scroll_end=function(){_xfu.async({func:this.xf_grid._docevent,context:this.xf_grid})},XF_GRID_GROUPBOX.prototype.on_object_shown=function(){this.xf_vscroll.refresh()},XF_GRID_GROUPBOX.prototype.on_object_click=function(a){var b,c,d,e=$(a.target);return e.hasClass("_xf_grid_groupbox_item_text")?(b=_xfu["int"](e.data("column_index")),c=_xfu["int"](e.data("sub_row_index")),d=_xfu.str(e.data("group_id")),this.xf_grid._applycolumngroup(this.group_info_arr,b,c),this.hide(),!1):void 0},XF_GRID_GROUPBOX.prototype.hide=function(){this.is_box_show=!1,this.group_info_arr=[],this._offdocevent(),this._offevent(),null!=this.xf_vscroll&&(this.xf_vscroll.remove(),this.xf_vscroll=null),null!=this.xf_object&&(this.xf_object.remove(),this.xf_object=null)},XF_GRID_GROUPBOX.prototype.show=function(a,b,c,d,e,f){this.is_box_show&&this.hide(),this.group_info_arr=f,this.column_index=c,this.sub_row_index=d,this.column_width=e,this.xf_object=$(this._getgroupboxhtml(a,b)),this.xf_view=this.xf_object.find("._xf_grid_groupbox_view"),this.xf_content=this.xf_view.find("._xf_grid_groupbox_content"),this.xf_vscroll=new XF_SCROLL(this.xf_view,this.xf_view,this.xf_content,{id:this.xf_prop.internal_name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)}),$(document.body).append(this.xf_object),this.xf_object.show(),this.is_box_show=!0,this._event(),this._size(),_xfu.async({func:this._docevent,context:this}),_xfu.async({func:this.on_object_shown,context:this})},XF_GRID_GROUPBOX.prototype._getgroupboxhtml=function(a,b){var c,d,e;for(c=[],c.push('<div id="'+this.xf_prop.name+'" class="_xf_grid_groupbox" style="'),c.push("display:none;"),c.push("border:1px solid "+_xfu.rgbfunc(this.xf_grid.xf_prop.border_color)+";"),c.push(_xfc.basic("font",this.xf_grid.xf_prop.font,!1,null)),c.push("left:"+_xfu.px(a)+";"),c.push("top:"+_xfu.px(b)+";"),c.push('">'),c.push('<div class="_xf_grid_groupbox_view">'),c.push('<div class="_xf_grid_groupbox_content">'),e=this.group_info_arr.length,d=0;e>d;d++)c.push('<div class="_xf_grid_groupbox_item" style="height:'+this.xf_prop.item_height+'px;">'),c.push('<span class="_xf_grid_groupbox_item_text"'),c.push(' data-column_index="'+this.group_info_arr[d].column_index+'"'),c.push(' data-sub_row_index="'+this.group_info_arr[d].sub_row_index+'"'),c.push(' data-group_id="'+this.group_info_arr[d].group_id+'"'),c.push(">"),c.push(this.group_info_arr[d].column_title),c.push("</span>"),c.push("</div>");return c.push("</div>"),c.push("</div>"),c.push("</div>"),c.join("")},XF_GRID_GROUPBOX.prototype._size=function(){var a,b,c,d;a=this.xf_content.outerWidth(),a<this.column_width-1&&this.xf_object.css({width:_xfu.px(this.column_width)}),b=this.group_info_arr.length,c=b>this.xf_prop.show_item_count?this.xf_prop.item_height*this.xf_prop.show_item_count:this.xf_prop.item_height*b,d=c+2,this.xf_view.css({height:_xfu.px(c)}),this.xf_object.css({height:_xfu.px(d)})},XF_GRID.prototype._createtbody=function(a,b,c){var d;return 0==_xf_htmlready_mode&&(d=[],d.push(this._getcolgrouphtml(b,c)),d.push("<tbody></tbody>"),a[0].innerHTML=d.join("")),a.find("tbody")},XF_GRID.prototype._getcolgrouphtml=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(void 0===c&&(c=!0),r=0,d=[],e=this.xf_data_column_arr.length,1==c&&d.push("<colgroup>"),a==XF_GRID.COLUMN_TABLE_LEFT){if(this.xf_prop.linenumber_show&&(r++,d.push('<col style="width:'+_xfu.px(this.xf_prop.linenumber_width)+";"),b==XF_GRID.ROW_TABLE_HEAD?m=this.xf_prop.linenumber_hd_backcolor:(n=b==XF_GRID.ROW_TABLE_STAT?this.xf_prop.linenumber_statrowstyle:this.xf_prop.linenumber_style,m=0==n?this.xf_prop.linenumber_hd_backcolor:this.xf_prop.linenumber_backcolor),d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">')),this.xf_prop.use_checkrow&&(r++,d.push('<col style="width:'+_xfu.px(this.xf_prop.checkrow_width)+";"),b==XF_GRID.ROW_TABLE_HEAD?m=this.xf_prop.checkrow_hd_backcolor:(o=b==XF_GRID.ROW_TABLE_STAT?this.xf_prop.checkrow_statrowstyle:this.xf_prop.checkrow_style,m=0==o?this.xf_prop.checkrow_hd_backcolor:this.xf_prop.checkrow_backcolor),d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">')),this.fixedcols>0)for(i=this.fixedcols-1,f=0;i>=f;f++)g=this.xf_data_column_arr[f],void 0!==g&&(g.is_hidden_column||(r++,d.push('<col style="width:'+_xfu.px(g.width)+";"),b==XF_GRID.ROW_TABLE_HEAD?(k=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,f,0),m=void 0===k?void 0:k.xf_column_head_prop.backcolor):(l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,0),m=l.xf_column_data_prop.backcolor,b!=XF_GRID.ROW_TABLE_FIX&&b!=XF_GRID.ROW_TABLE_VIEW||(factory_xf_param.MANDATORYCOLUMNCOLOR||factory_xf_param.PROTECTCOLUMNCOLOR)&&(j=l.getcolumneditableinfo(),1==j.is_editable?1==l.xf_column_data_prop.data_inputtype&&(m=factory_xf_param.MANDATORYCOLUMNCOLOR):m=factory_xf_param.PROTECTCOLUMNCOLOR,m||(m=l.xf_column_data_prop.backcolor))),void 0!==m&&d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">')))}else if(a==XF_GRID.COLUMN_TABLE_CENTER){if(this.view_table_width=0,e>0&&(1==this.is_column_scroll_mode&&b==XF_GRID.ROW_TABLE_VIEW?(p=this.view_start_column_index,i=this.view_end_column_index,factory.ismobile()&&(p=this.fixedcols,i=e-1)):(p=this.fixedcols,i=e-1),i>=p)){for(f=p;i>=f;f++)g=this.xf_data_column_arr[f],g.is_hidden_column||(r++,this.view_table_width+=g.width,d.push('<col style="width:'+_xfu.px(g.width)+";"),b==XF_GRID.ROW_TABLE_HEAD?(k=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,f,0),m=void 0===k?void 0:k.xf_column_head_prop.backcolor):(l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,f,0),m=l.xf_column_data_prop.backcolor,b!=XF_GRID.ROW_TABLE_FIX&&b!=XF_GRID.ROW_TABLE_VIEW||(factory_xf_param.MANDATORYCOLUMNCOLOR||factory_xf_param.PROTECTCOLUMNCOLOR)&&(j=l.getcolumneditableinfo(),1==j.is_editable?1==l.xf_column_data_prop.data_inputtype&&(m=factory_xf_param.MANDATORYCOLUMNCOLOR):m=factory_xf_param.PROTECTCOLUMNCOLOR,m||(m=l.xf_column_data_prop.backcolor))),void 0!==m&&d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">'));this.view_table_width>0&&this.view_table_width++,this.xf_center_body_view_table.outerWidth(this.view_table_width)}}else if(a==XF_GRID.COLUMN_TABLE_RIGHT){if(this.xf_stat_column_arr.length>0)for(i=this.xf_stat_column_arr.length-1,f=0;i>=f;f++)h=this.xf_stat_column_arr[f],h.is_hidden_column||(r++,d.push('<col style="width:'+_xfu.px(h.xf_stat_column_prop.column_width)+";"),m=b==XF_GRID.ROW_TABLE_HEAD?h.xf_stat_column_prop.header_backcolor:h.xf_stat_column_prop.back_color,d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">'))}else a==XF_GRID.COLUMN_TABLE_RWD&&(this.xf_prop.linenumber_show&&(r++,d.push('<col style="width:'+_xfu.px(this.xf_prop.linenumber_width)+";"),b==XF_GRID.ROW_TABLE_HEAD?m=this.xf_prop.linenumber_hd_backcolor:(n=b==XF_GRID.ROW_TABLE_STAT?this.xf_prop.linenumber_statrowstyle:this.xf_prop.linenumber_style,m=0==n?this.xf_prop.linenumber_hd_backcolor:this.xf_prop.linenumber_backcolor),d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">')),this.xf_prop.use_checkrow&&(r++,d.push('<col style="width:'+_xfu.px(this.xf_prop.checkrow_width)+";"),b==XF_GRID.ROW_TABLE_HEAD?m=this.xf_prop.checkrow_hd_backcolor:(o=b==XF_GRID.ROW_TABLE_STAT?this.xf_prop.checkrow_statrowstyle:this.xf_prop.checkrow_style,m=0==o?this.xf_prop.checkrow_hd_backcolor:this.xf_prop.checkrow_backcolor),d.push("background-color:"+_xfu.rgbfunc(m)+";"),d.push('">')),r++,d.push('<col style="width:30%;background-color:white;">'),r++,d.push('<col style="width:70%;background-color:white;">'));if(1==c&&d.push("</colgroup>"),factory.isapple()){for(d.push("<thead>"),d.push("<tr"),d.push(' style="'),d.push("height: 0px;"),d.push("border: 0px none;"),d.push('">'),q=0;r>q;q++)d.push("<th></th>");d.push("</tr>"),d.push("</thead>")}return d.join("")},XF_GRID.prototype._getcolumntablerowhtml=function(a,b,c,d,e,f,g){var h,i;for(i=0;c>i;i++)h=this._addtrmeta(a,b,i,g),void 0===g||g?(e.push(this._getrowhtml(h,XF_GRID.COLUMN_TABLE_CENTER,a,b,i)),d.push(this._getrowhtml(h,XF_GRID.COLUMN_TABLE_LEFT,a,b,i)),this.xf_stat_column_arr.length>0&&f.push(this._getrowhtml(h,XF_GRID.COLUMN_TABLE_RIGHT,a,b,i))):(e.unshift(this._getrowhtml(h,XF_GRID.COLUMN_TABLE_CENTER,a,b,i)),d.unshift(this._getrowhtml(h,XF_GRID.COLUMN_TABLE_LEFT,a,b,i)),this.xf_stat_column_arr.length>0&&f.unshift(this._getrowhtml(h,XF_GRID.COLUMN_TABLE_RIGHT,a,b,i)));return h},XF_GRID.prototype._getrowhtml=function(a,b,c,d,e){var f;return f=[],f.push('<tr class="_xf_grid_tr'),c!=XF_GRID.ROW_TABLE_VIEW&&c!=XF_GRID.ROW_TABLE_FIX||(b==XF_GRID.COLUMN_TABLE_RIGHT?(this.xf_prop.hoverrow_statcolumn&&f.push(" "+this.class_tr),a.is_divide_row&&this.xf_prop.cell_dividestatcolumn&&this.xf_prop.cell_dividecolor_use&&f.push(" "+this.class_tr_divide)):(f.push(" "+this.class_tr),a.is_divide_row&&this.xf_prop.cell_dividecolor_use&&f.push(" "+this.class_tr_divide))),f.push('" style="height:'+_xfu.px(a.row_height)+";"),c==XF_GRID.ROW_TABLE_VIEW||c==XF_GRID.ROW_TABLE_FIX?f.push(a.back_color_html):c==XF_GRID.ROW_TABLE_STAT&&b!=XF_GRID.COLUMN_TABLE_RIGHT&&f.push(a.back_color_html),c==XF_GRID.ROW_TABLE_HEAD&&a.is_hidden_row&&f.push("display:none;"),f.push('">'),f.push(this._getrowcolumnhtml(a,b,c,d,e)),f.push("</tr>"),f.join("")},XF_GRID.prototype._getrowcolumnhtml=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;if(f=[],b==XF_GRID.COLUMN_TABLE_LEFT){if(this.xf_prop.linenumber_show&&(n=this._addtdmeta(a,b,XF_GRID.COLUMN_KIND_HEAD,XF_GRID.COLUMN_DATA_NO,-1),f.push(this._getlinenumberhtml(a,n,b,c,d,e))),this.xf_prop.use_checkrow&&(n=this._addtdmeta(a,b,XF_GRID.COLUMN_KIND_HEAD,XF_GRID.COLUMN_DATA_CHECK,-2),f.push(this._getcheckrowhtml(a,n,b,c,d,e))),this.fixedcols>0)for(g=this.fixedcols-1,h=0;g>=h;h++)k=this.xf_data_column_arr[h],void 0!==k&&(k.is_hidden_column||(n=this._addtdmeta(a,b,XF_GRID.COLUMN_KIND_DATA,XF_GRID.COLUMN_DATA_NORMAL,h),c==XF_GRID.ROW_TABLE_HEAD?(l=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,h,e),f.push(l.getcolumnhtml(a,n))):(m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,h,e),f.push(m.getcolumnhtml(a,n,c,d,e)))))}else if(b==XF_GRID.COLUMN_TABLE_CENTER){if(i=this.getcolumncount(),i>0)for(1==this.is_column_scroll_mode&&c==XF_GRID.ROW_TABLE_VIEW?(o=this.view_start_column_index,g=this.view_end_column_index,factory.ismobile()&&(o=this.fixedcols,g=i-1)):(o=this.fixedcols,g=i-1),h=o;g>=h;h++)k=this.xf_data_column_arr[h],k.is_hidden_column||(n=this._addtdmeta(a,b,XF_GRID.COLUMN_KIND_DATA,XF_GRID.COLUMN_DATA_NORMAL,h),c==XF_GRID.ROW_TABLE_HEAD?(l=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,h,e),f.push(l.getcolumnhtml(a,n))):(m=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,h,e),f.push(m.getcolumnhtml(a,n,c,d,e))))}else if(b==XF_GRID.COLUMN_TABLE_RIGHT&&(j=this.getstatcolumncount(),j>0))for(g=j-1,h=0;g>=h;h++)k=this.xf_stat_column_arr[h],k.is_hidden_column||(n=this._addtdmeta(a,b,XF_GRID.COLUMN_KIND_STAT,XF_GRID.COLUMN_DATA_NORMAL,h),c==XF_GRID.ROW_TABLE_HEAD?0==e&&(l=this._getcolumnhead(XF_GRID.COLUMN_KIND_STAT,h,e),f.push(l.getcolumnhtml(a,n))):(m=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,h,e),f.push(m.getcolumnhtml(a,n,c,d,e))));return f.join("")},XF_GRID.prototype._getrwdrowhtml=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(b=[],h=this.sub_row_count,i=0;h>i;i++)if(d=this.getcolumncount(),d>0)for(g=d-1,j=0,c=0;g>=c;c++)e=this.xf_data_column_arr[c],e.is_hidden_column||(k=this._addtrmeta(XF_GRID.ROW_TABLE_RWD,a,i,!0),b.push('<tr class="_xf_grid_tr"'),b.push(' style="height:'+_xfu.px(this.xf_prop.cell_height)+";"),b.push(k.back_color_html),b.push('">'),this.xf_prop.linenumber_show&&(l=this._addtdmeta(k,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.COLUMN_KIND_HEAD,XF_GRID.COLUMN_DATA_NO,-1),b.push(this._getlinenumberhtml(k,l,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.ROW_TABLE_RWD,a,j))),this.xf_prop.use_checkrow&&(l=this._addtdmeta(k,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.COLUMN_KIND_HEAD,XF_GRID.COLUMN_DATA_CHECK,-2),b.push(this._getcheckrowhtml(k,l,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.ROW_TABLE_RWD,a,j))),l=this._addtdmeta(k,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.COLUMN_KIND_HEAD,XF_GRID.COLUMN_DATA_RWDHEAD,c),b.push(this._getrwdheadcolumnhtml(k,l,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.ROW_TABLE_RWD,a,i,c)),l=this._addtdmeta(k,XF_GRID.COLUMN_TABLE_RWD,XF_GRID.COLUMN_KIND_DATA,XF_GRID.COLUMN_DATA_NORMAL,c),f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,i),b.push(f.getcolumnhtml(k,l,XF_GRID.ROW_TABLE_RWD,a,i)),j++,b.push("</tr>"));return b.join("")},XF_GRID.prototype._tdborderinnerhorzclass=function(a,b,c){var d;d=this._ismultilinegrid()?this.sub_row_count:this.xf_prop.header_horzcount,0==a?d>a+b&&c.push(" "+this.class_td_border_inner_horzfirst):a==d-1?c.push(" "+this.class_td_border_inner_horzlast):d>a+b&&c.push(" "+this.class_td_border_inner_horzmiddle)},XF_GRID.prototype._getrwdheadcolumnhtml=function(a,b,c,d,e,f,g){var h,i,j,k,l,m;if(h=[],h.push("<td "),d==XF_GRID.ROW_TABLE_HEAD?(this._spanrowhtml(this.xf_prop.header_horzcount,h),h.push(' class="_xf_grid_td '+this.class_td_border+'"'),i=this.xf_prop.header_height*this.xf_prop.header_horzcount):(h.push(' class="_xf_grid_td '+this.class_td_border+'"'),i=this.xf_prop.cell_height),h.push(' style="'),h.push(_xfc.basic("horz_align",1,!1,null)),d==XF_GRID.ROW_TABLE_HEAD?h.push(this.linenumber_header_forecolor_css):h.push(this.linenumber_cell_forecolor_css),f>0&&h.push("display:none;"),h.push('">'),k="",this._ismultilinegrid())k=this.getheadertext(f,g);else{for(l=[],j=0;j<this.sub_row_count;j++)m=this.getheadertext(j,g),m.length>0&&l.push(m);k=l.join("-")}return d==XF_GRID.ROW_TABLE_HEAD?h.push(this._getitemdivhtml(i,this.xf_prop.linenumber_title,1,1)):d==XF_GRID.ROW_TABLE_STAT?h.push(this._getitemdivhtml(i,"",1,1)):h.push(this._getitemdivhtml(i,k,1,1)),h.push("</td>"),h.join("")},XF_GRID.prototype._refreshhtmlmap=function(){this._refreshrwdrowheight(),this._refreshlinenumberhtmlmap(),this._refreshcheckrowhtmlmap()},XF_GRID.prototype._refreshlinenumberhtmlmap=function(){this._refreshlinenumberhtmlmapbyrowtabletype(XF_GRID.ROW_TABLE_HEAD),
this._refreshlinenumberhtmlmapbyrowtabletype(XF_GRID.ROW_TABLE_FIX),this._refreshlinenumberhtmlmapbyrowtabletype(XF_GRID.ROW_TABLE_VIEW),this._refreshlinenumberhtmlmapbyrowtabletype(XF_GRID.ROW_TABLE_STAT),this._refreshlinenumberhtmlmapbyrowtabletype(XF_GRID.ROW_TABLE_RWD)},XF_GRID.prototype._refreshlinenumberhtmlmapbyrowtabletype=function(a){var b,c,d,e;b=[],c=[],b.push("<td"),a==XF_GRID.ROW_TABLE_HEAD?(this._spanrowhtml(this.xf_prop.header_horzcount,b),b.push(' class="_xf_grid_td '+this.class_td_border+" "+this.class_head_gradient+'"'),d=this.xf_prop.header_height*this.xf_prop.header_horzcount):(a==XF_GRID.ROW_TABLE_RWD?(this._spanrowhtml(this.rwd_sub_row_count,b),d=this.xf_prop.cell_height*this.rwd_sub_row_count):(this._spanrowhtml(this.sub_row_count,b),d=this.xf_prop.cell_height*this.sub_row_count),b.push(' class="_xf_grid_td _xf_grid_td_linenumber '+this.class_td_border),e=a==XF_GRID.ROW_TABLE_STAT?this.xf_prop.linenumber_statrowstyle:this.xf_prop.linenumber_style,0==e&&b.push(" "+this.class_head_gradient),b.push('"')),b.push(' style="'),a==XF_GRID.ROW_TABLE_HEAD?b.push(this.linenumber_header_forecolor_css):(b.push(this.linenumber_cell_forecolor_css),a==XF_GRID.ROW_TABLE_FIX||a==XF_GRID.ROW_TABLE_VIEW?0==this.xf_prop.linenumber_style&&b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.linenumber_hd_backcolor)+";"):a==XF_GRID.ROW_TABLE_STAT&&(0==this.xf_prop.linenumber_statrowstyle?b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.linenumber_hd_backcolor)+";"):1==this.xf_prop.linenumber_statrowstyle&&b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.linenumber_backcolor)+";"))),b.push('">'),b.push('<div class="_xf_grid_item"'),b.push(' style="'),b.push("height:"),c.push("px;"),c.push('">'),c.push('<span class="_xf_grid_item_span _xf_grid_item_span_title _xf_grid_item_span_linenumber _xfd_padding" style="'),c.push('">'),this.linenumber_html_map[a]={pre_html_1:b.join(""),pre_html_2:c.join(""),post_html:"</span></div></td>"}},XF_GRID.prototype._getlinenumberhtml=function(a,b,c,d,e,f){var g;return f>0?(b.is_hidden=!0,XF_GRID.HIDDEN_TD_HTML):(d==XF_GRID.ROW_TABLE_HEAD?b.row_span=this.xf_prop.header_horzcount:d==XF_GRID.ROW_TABLE_RWD?b.row_span=this.rwd_sub_row_count:b.row_span=this.sub_row_count,g=[],g.push(this.linenumber_html_map[d].pre_html_1),g.push(a.row_height-1),g.push(this.linenumber_html_map[d].pre_html_2),d==XF_GRID.ROW_TABLE_VIEW||d==XF_GRID.ROW_TABLE_FIX||d==XF_GRID.ROW_TABLE_RWD?g.push(this.xf_prop.linenumber_offset+e+1):d==XF_GRID.ROW_TABLE_HEAD?g.push(this.xf_prop.linenumber_title):d==XF_GRID.ROW_TABLE_STAT&&(1==this.xf_prop.statistics_row_titleshow&&this.xf_stat_row_arr[e].xf_stat_row_prop.title.length>0?g.push(this.xf_stat_row_arr[e].xf_stat_row_prop.title):this.xf_prop.statistics_row_linenumber&&g.push(e+1)),g.push(this.linenumber_html_map[d].post_html),g.join(""))},XF_GRID.prototype._refreshcheckrowhtmlmap=function(){this._refreshcheckrowhtmlmaptabletype(XF_GRID.ROW_TABLE_HEAD),this._refreshcheckrowhtmlmaptabletype(XF_GRID.ROW_TABLE_FIX),this._refreshcheckrowhtmlmaptabletype(XF_GRID.ROW_TABLE_VIEW),this._refreshcheckrowhtmlmaptabletype(XF_GRID.ROW_TABLE_STAT),this._refreshcheckrowhtmlmaptabletype(XF_GRID.ROW_TABLE_RWD)},XF_GRID.prototype._refreshcheckrowhtmlmaptabletype=function(a){var b,c,d,e;b=[],c=[],b.push("<td"),a==XF_GRID.ROW_TABLE_HEAD?(this._spanrowhtml(this.xf_prop.header_horzcount,b),d=this.xf_prop.header_height*this.xf_prop.header_horzcount):a==XF_GRID.ROW_TABLE_RWD?(this._spanrowhtml(this.rwd_sub_row_count,b),d=this.xf_prop.cell_height*this.rwd_sub_row_count):(this._spanrowhtml(this.sub_row_count,b),d=this.xf_prop.cell_height*this.sub_row_count),b.push(' class="_xf_grid_td _xf_grid_td_checkrow '+this.class_td_border),a==XF_GRID.ROW_TABLE_HEAD?b.push(" "+this.class_head_gradient):(e=a==XF_GRID.ROW_TABLE_STAT?this.xf_prop.checkrow_statrowstyle:this.xf_prop.checkrow_style,0==e&&b.push(" "+this.class_head_gradient)),b.push('"'),b.push(' style="'),a==XF_GRID.ROW_TABLE_FIX||a==XF_GRID.ROW_TABLE_VIEW?0==this.xf_prop.checkrow_style&&b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.checkrow_hd_backcolor)+";"):a==XF_GRID.ROW_TABLE_STAT&&(0==this.xf_prop.checkrow_statrowstyle?b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.checkrow_hd_backcolor)+";"):1==this.xf_prop.checkrow_statrowstyle&&b.push("background-color:"+_xfu.rgbfunc(this.xf_prop.checkrow_backcolor)+";")),b.push('">'),b.push('<div class="_xf_grid_item" style="height:'),c.push('px;">'),this.checkrow_html_map[a]={pre_html_1:b.join(""),pre_html_2:c.join(""),post_html:"</div></td>"}},XF_GRID.prototype._getcheckrowhtml=function(a,b,c,d,e,f){var g,h,i,j,k;return f>0?(b.is_hidden=!0,XF_GRID.HIDDEN_TD_HTML):(d==XF_GRID.ROW_TABLE_HEAD?b.row_span=this.xf_prop.header_horzcount:d==XF_GRID.ROW_TABLE_RWD?b.row_span=this.rwd_sub_row_count:b.row_span=this.sub_row_count,g=[],g.push(this.checkrow_html_map[d].pre_html_1),g.push(a.row_height-1),g.push(this.checkrow_html_map[d].pre_html_2),d==XF_GRID.ROW_TABLE_VIEW||d==XF_GRID.ROW_TABLE_FIX||d==XF_GRID.ROW_TABLE_RWD?(h=this.xf_xdataset._ischeckedrow(this._getxdatasetrowindex(e)),i=this.xf_data_row_arr[e].is_enable_checkrow,j=this.xf_data_row_arr[e].is_show_checkrow,k=i?h?this.xf_prop.checkrow_check_image:this.xf_prop.checkrow_uncheck_image:h?this.xf_prop.checkrow_dis_check_image:this.xf_prop.checkrow_dis_uncheck_image,g.push(this._getitemcheckhtml("",j,h,i,k,0,this.xf_prop.checkrow_check_width,this.xf_prop.checkrow_check_height))):d==XF_GRID.ROW_TABLE_HEAD&&(j=this._getheadcheckrowshow(),i=!0,k=i?this.is_check?this.xf_prop.checkrow_hd_check_image:this.xf_prop.checkrow_hd_uncheck_image:this.is_check?this.xf_prop.checkrow_hd_dis_check_image:this.xf_prop.checkrow_hd_dis_uncheck_image,g.push(this._getitemcheckhtml("_xf_grid_item_check_head_fix",j,this.is_check,!0,k,0,this.xf_prop.checkrow_hd_check_width,this.xf_prop.checkrow_hd_check_height)),g.push('<span class="_xf_grid_item_span _xf_grid_item_span_title _xf_grid_item_span_checkrow _xfd_padding"'),g.push(' style="'),0==this.xf_prop.checkrow_title.length&&g.push("display:none;"),g.push('">'),g.push(this.xf_prop.checkrow_title),g.push("</span>")),g.push(this.checkrow_html_map[d].post_html),g.join(""))},XF_GRID.prototype._getheadcheckrowshow=function(){return 0==this.xf_prop.multi_checkrow?!1:0!=this.xf_prop.chechrow_hd_show},XF_GRID.prototype._spanhtml=function(a,b,c){a>1&&c.push(' rowspan="'+a+'"'),b>1&&c.push(' colspan="'+b+'"')},XF_GRID.prototype._spanrowhtml=function(a,b){a>1&&b.push(' rowspan="'+a+'"')},XF_GRID.prototype._spancolumnhtml=function(a,b){a>1&&b.push(' colspan="'+a+'"')},XF_GRID.prototype._textmarginhtml=function(a,b,c){-1!=a&&c.push("padding-left:"+_xfu.px(a)+";"),-1!=b&&c.push("padding-right:"+_xfu.px(b)+";")},XF_GRID.prototype._textpaddinghtml=function(a){return 2!=a[0]||2!=a[1]||0!=a[2]||0!=a[3]?"padding:"+a[2]+"px "+a[1]+"px "+a[3]+"px "+a[0]+"px;":""},XF_GRID.prototype._getitemdivhtml=function(a,b,c,d,e,f,g){var h;return void 0===d&&(d=1),void 0===e&&(e=XF_GRID.COLUMN_DATA_NORMAL),h=[],h.push('<div class="_xf_grid_item"'),h.push(' style="'),h.push("height:"+(a-1)+"px;"),e!==XF_GRID.COLUMN_DATA_NO&&(1!=d&&h.push(_xfc.alignitems(null,d)),1!=c&&h.push(_xfc.justifycontent(null,c))),h.push('">'),e==XF_GRID.COLUMN_DATA_NO?h.push('<span class="_xf_grid_item_span _xf_grid_item_span_title _xf_grid_item_span_linenumber _xfd_padding" style="'):h.push('<span class="_xf_grid_item_span _xfd_padding" style="'),void 0!==f&&-1!=f&&h.push("padding-left:"+_xfu.px(f)+";"),void 0!==g&&-1!=g&&h.push("padding-right:"+_xfu.px(g)+";"),h.push('">'),h.push(b),h.push("</span>"),h.push("</div>"),h.join("")},XF_GRID.prototype._getitemdivspanhtml=function(a,b,c,d,e,f){var g;return void 0===d&&(d=1),void 0===f&&(f=XF_GRID.COLUMN_DATA_NORMAL),g=[],g.push('<div class="_xf_grid_item"'),g.push(' style="'),g.push("height:"+(a-1)+"px;"),f!==XF_GRID.COLUMN_DATA_NO&&(1!=d&&g.push(_xfc.alignitems(null,d)),1!=c&&(g.push(_xfc.justifycontent(null,c)),g.push(_xfc.textalign(null,c)))),g.push('">'),f==XF_GRID.COLUMN_DATA_NO?g.push('<span class="_xf_grid_item_span _xf_grid_item_span_title _xf_grid_item_span_linenumber _xfd_padding" style="'):g.push('<span class="_xf_grid_item_span _xfd_padding" style="'),g.push(e),g.push('">'),g.push(b),g.push("</span>"),g.push("</div>"),g.join("")},XF_GRID.prototype._createitemeditdiv=function(a,b,c,d){var e,f,g,h,i,j;return this._removeitemeditdiv(),g=this.xf_prop.name+"_"+b+"_"+c+"_"+d+"_editdiv",e=a.position(),factory.ismobile()?(h=a.outerHeight()-2,i=a.outerWidth()-2):(j=a.find("._xf_grid_item"),j.length>0?(h=j.outerHeight(),i=j.outerWidth(),0==h&&(h=a.outerHeight()-1)):(h=a.outerHeight()-1,i=a.outerWidth()-1)),f=[],f.push("<div "),f.push('id="'+g+'" '),f.push('data-info="'+b+"_"+c+"_"+d+'" '),f.push('class="_xf_grid_item_edit" '),f.push('style="'),f.push("height:"+_xfu.px(h)+";"),f.push("width:"+_xfu.px(i)+";"),f.push("top:"+_xfu.px(e.top+1)+";"),f.push("left:"+_xfu.px(e.left+1)+";"),f.push('">'),f.push("</div>"),this.xf_item_edit_div=$(f.join("")),this.xf_item_edit_td=a,_xfu.async({func:this._docevent,context:this}),{width:i,height:h}},XF_GRID.prototype._displayitemcheck=function(a,b,c,d){var e;void 0===c&&(c=!0),e=this._getitemcheckclass(b,c),a.removeClass("_xf_grid_item_check_off _xf_grid_item_check_on _xf_grid_item_check_off_dis _xf_grid_item_check_on_dis"),a.addClass(e),void 0!==d&&d.length>0&&a.css("background-image",_xfx.imageurlfunc(d))},XF_GRID.prototype._getitemcheckclass=function(a,b){return a?b?"_xf_grid_item_check_on":"_xf_grid_item_check_on_dis":b?"_xf_grid_item_check_off":"_xf_grid_item_check_off_dis"},XF_GRID.prototype._isitemcheckchecked=function(a){return a.hasClass("_xf_grid_item_check_on")||a.hasClass("_xf_grid_item_check_on_dis")?!0:!(!a.hasClass("_xf_grid_item_checkbox_on")&&!a.hasClass("_xf_grid_item_checkbox_on_dis"))},XF_GRID.prototype._isitemcheckenableded=function(a){return a.hasClass("_xf_grid_item_check_on")||a.hasClass("_xf_grid_item_check_off")?!0:!(!a.hasClass("_xf_grid_item_checkbox_on")&&!a.hasClass("_xf_grid_item_checkbox_off"))},XF_GRID.prototype._getitemcheckhtml=function(a,b,c,d,e,f,g,h){var i;return i=[],i.push("<div"),i.push(' draggable="false"'),i.push(' class="_xf_grid_item_check '+a),i.push(" "+this._getitemcheckclass(c,d)),i.push('"'),i.push(' style="'),0==b&&i.push("display:none;"),e.length>0&&i.push("background-image:"+_xfx.imageurlfunc(e)+";"),void 0!==g&&g>0&&i.push("width:"+_xfu.px(g)+";"),void 0!==h&&h>0&&i.push("height:"+_xfu.px(h)+";"),f>0&&i.push("margin-right:"+_xfu.px(f)+";"),i.push('">'),i.push("</div>"),i.join("")},XF_GRID.prototype._addcolumn=function(a){return this.xf_data_column_arr.push(a),this.xf_data_column_arr.length-1},XF_GRID.prototype._getcolumn=function(a){return this.xf_data_column_arr[a]},XF_GRID.prototype._getcolumndata=function(a,b,c){if(void 0===c&&(c=0),a==XF_GRID.COLUMN_KIND_STAT){if(void 0===this.xf_stat_column_arr[b])return;return this.xf_stat_column_arr[b].xf_stat_column_data_arr[c]}return void 0!==this.xf_data_column_arr[b]?this.xf_data_column_arr[b].xf_column_data_arr[c]:void 0},XF_GRID.prototype._getcolumnhead=function(a,b,c){return a==XF_GRID.COLUMN_KIND_STAT?this.xf_stat_column_arr[b].xf_stat_column_head:this.xf_data_column_arr[b].xf_column_head_arr[c]},XF_GRID.prototype._emptyheadtable=function(){this.xf_center_body_head_table_tbody.empty(),this.xf_left_body_head_table_tbody.empty(),this.xf_right_body_head_table_tbody.empty()},XF_GRID.prototype._emptyfixtable=function(){this.xf_left_body_fix_table_tbody.empty(),this.xf_center_body_fix_table_tbody.empty(),this.xf_right_body_fix_table_tbody.empty()},XF_GRID.prototype._emptyviewtable=function(){this.xf_left_body_view_table_tbody.empty(),this.xf_center_body_view_table_tbody.empty(),this.xf_right_body_view_table_tbody.empty()},XF_GRID.prototype._emptyfoottable=function(){this.xf_left_foot_stat_table_tbody.empty(),this.xf_center_foot_stat_table_tbody.empty(),this.xf_right_foot_stat_table_tbody.empty()},XF_GRID.prototype._displayheadtable=function(a){var b,c,d;if(!_xf_htmlready_mode){switch(this.tr_meta_map[XF_GRID.ROW_TABLE_HEAD]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_HEAD]=[],a){case XF_GRID.COLUMN_TABLE_ALL:this._emptyheadtable();break;case XF_GRID.COLUMN_TABLE_CENTER:this.xf_center_body_head_table_tbody.empty();break;case XF_GRID.COLUMN_TABLE_LEFT:this.xf_left_body_head_table_tbody.empty();break;case XF_GRID.COLUMN_TABLE_RIGHT:this.xf_right_body_head_table_tbody.empty();break;default:return}if(!(this.xf_prop.header_horzcount<1))switch(b=[],c=[],d=[],this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_HEAD,0,this.xf_prop.header_horzcount,b,c,d,!0),a){case XF_GRID.COLUMN_TABLE_ALL:this.xf_center_body_head_table_tbody[0].innerHTML=c.join(""),this.xf_left_body_head_table_tbody[0].innerHTML=b.join(""),this.xf_right_body_head_table_tbody[0].innerHTML=d.join("");break;case XF_GRID.COLUMN_TABLE_CENTER:this.xf_center_body_head_table_tbody[0].innerHTML=c.join("");break;case XF_GRID.COLUMN_TABLE_LEFT:this.xf_left_body_head_table_tbody[0].innerHTML=b.join("");break;case XF_GRID.COLUMN_TABLE_RIGHT:this.xf_right_body_head_table_tbody[0].innerHTML=d.join("");break;default:return}}},XF_GRID.prototype._displaystattable=function(){var a,b,c,d,e;if(this.tr_meta_map[XF_GRID.ROW_TABLE_STAT]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_STAT]=[],b=this.getstatrowcount(),this.is_rwd_mode||1>b)return void this._emptyfoottable();for(c=[],d=[],e=[],a=0;b>a;a++)this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_STAT,a,this.sub_row_count,c,d,e,!0);this.xf_center_foot_stat_table_tbody[0].innerHTML=d.join(""),this.xf_left_foot_stat_table_tbody[0].innerHTML=c.join(""),this.xf_right_foot_stat_table_tbody[0].innerHTML=e.join(""),this._displayitemchart(XF_GRID.ROW_TABLE_STAT)},XF_GRID.prototype._getcolumndataxdatasetcolumnid=function(a,b,c){return void 0==c&&(c=0),a==XF_GRID.COLUMN_KIND_STAT?this.xf_stat_column_arr[b].xf_stat_column_data_arr[c].xdataset_column_id:this.xf_data_column_arr[b].xf_column_data_arr[c].xdataset_column_id},XF_GRID.prototype._getcolumnresize=function(a){return a=_xfu["int"](a),a<this.fixedcols?this.xf_left_body_resize:this.xf_center_body_resize},XF_GRID.prototype._getrowresize=function(a){return a=_xfu["int"](a),a<this.fixedrows?this.xf_fix_body_resize:this.xf_view_body_resize},XF_GRID.prototype._gettableheight=function(a){var b,c;switch(c=0,a){case XF_GRID.ROW_TABLE_HEAD:for(b=0;b<this.xf_prop.header_horzcount;b++)this.xf_header_row_arr[b].is_hidden_row||(c+=this.xf_header_row_arr[b].row_height);break;case XF_GRID.ROW_TABLE_FIX:c=this.is_rowheight_mode?this._getfixtableheight():this.fixedrows*(this.xf_prop.cell_height*this.sub_row_count);break;case XF_GRID.ROW_TABLE_STAT:c=this.stat_row_count*(this.xf_prop.cell_height*this.sub_row_count);break;case XF_GRID.ROW_TABLE_VIEW:return c=this.xf_center_body_view.height()-1}return c>0?c+1:c},XF_GRID.prototype._getfixtableheight=function(){var a,b,c,d;if(this.is_rwd_mode)return 0;if(this.fixedrows<1)return 0;if(a=this._getrowcount(XF_GRID.ROW_KIND_DATA),1>a)return 0;for(c=this.fixedrows-1,c>=a-1&&(c=a-1),d=0,b=0;c>=b;b++)if(this.xf_data_row_arr[b].is_hidden_row){if(c++,c>=a)break}else d+=this.getrowheight(b);return d},XF_GRID.prototype._gettablewidth=function(a,b){var c;return c=0,a==XF_GRID.COLUMN_TABLE_LEFT?(c=this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_HEAD,0,0,!0,!1),b>0&&(c+=this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,0,b-1,!0,!1))):a==XF_GRID.COLUMN_TABLE_CENTER?c=this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,b,-1,!0,!1):a==XF_GRID.COLUMN_TABLE_RIGHT&&(c=this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_STAT,0,-1,!0,!1)),c>0?c+1:c},XF_GRID.prototype.setscrollrightcolumn=function(a){var b,c,d,e;for(b=0;b<this.view_column_width_info.column_count&&this.view_column_width_info.column_index_arr[b]!=a;b++);if(b>=this.view_column_width_info.column_count)return!1;for(c=b,e=0,d=0,b=c;b>=0;b--)if(d+=this.view_column_width_info.column_width_arr[b],d+1==this.center_body_width)e=this.view_column_width_info.column_index_arr[b];else if(d+1>this.center_body_width){e=this.view_column_width_info.column_index_arr[b+1];break}e<this.view_left_column_index&&(e=this.view_left_column_index),this.xf_grid_scroll.setscrollleftcolumn(e)},XF_GRID.prototype._getviewextrawidth=function(){var a,b,c,d;for(this.view_right_column_index=-1,this.view_extra_width=0,this.is_rwd_mode&&(this.view_extra_width=0),a=this.getcolumncount(),d=0,b=a-1;b>=this.fixedcols;b--)if(1!=this.ishiddencolumn(b)){if(-1==this.view_right_column_index&&(this.view_right_column_index=b),c=this._ismultilinegrid()?this.getcolumnwidth(0,b):this.getcolumnwidth(b),d+c+1>=this.center_body_width)break;d+=c}return b<this.fixedcols?(this.view_start_column_index=this.fixedcols,this.view_extra_width):(b==this.fixedcols&&(this.view_start_column_index=this.fixedcols),d+c+1==this.center_body_width?this.view_extra_width=0:(this.view_extra_width=this.center_body_width-(d+1),this.view_extra_width<0&&(this.view_extra_width=0)),this.view_extra_width)},XF_GRID.prototype.gethiddencolumncount=function(a,b){return a=_xfu.intval(a,-1,XFD_MAX_VALUE),b=_xfu.intval(b,-1,XFD_MAX_VALUE),a===!1||b===!1?-1:(0>a&&(a=0),this._gethiddencolumncount(a,b))},XF_GRID.prototype._gethiddencolumncount=function(a,b){var c,d,e;if(e=0,void 0!==b&&-1!=b||(d=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),b=d-1),a>b)return 0;for(c=a;b>=c;c++)this.ishiddencolumn(c)&&e++;return e},XF_GRID.prototype.gethiddenrowcount=function(a,b){return a=_xfu.intval(a,-1,XFD_MAX_VALUE),b=_xfu.intval(b,-1,XFD_MAX_VALUE),a===!1||b===!1?-1:(0>a&&(a=0),this._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,a,b))},XF_GRID.prototype._gethiddenrowcount=function(a,b,c){var d,e,f,g;if(f=0,e=this._getrowcount(a),a==XF_GRID.ROW_KIND_DATA)g=this.xf_data_row_arr;else{if(a!=XF_GRID.ROW_KIND_HEAD)return 0;g=this.xf_header_row_arr}if(void 0!==c&&-1!=c||(c=e-1),c>=e&&(c=e-1),b>c)return 0;for(d=b;c>=d;d++)g[d].is_hidden_row&&f++;return f},XF_GRID.prototype._getrowindexbyrowbottom=function(a){var b,c;for(c=this._getrowcount(XF_GRID.ROW_KIND_DATA),b=0;c>b;b++)if(this.xf_data_row_arr[b].row_bottom>=a)return 0==a?b:b+1>=c?b:b+1;return 0},XF_GRID.prototype._getrowheightsum=function(a,b,c){var d,e,f;if(void 0===c&&(c=!1),void 0!==b&&-1!=b||(d=this._getrowcount(XF_GRID.ROW_KIND_DATA),b=d-1),0==c){if(a>=b)return 0}else if(a>b)return 0;return e=0,a>0&&(e=this.xf_data_row_arr[a-1].row_bottom),f=this.xf_data_row_arr[b].row_bottom,f-e},XF_GRID.prototype._getrowheightsumbyrowspan=function(a,b,c){var d,e,f,g;if(1==b)return this.getrowheight(a);if(void 0===c&&(c=!0),1==c){for(e=this._getrowcount(XF_GRID.ROW_KIND_DATA),g=0,f=0,d=a;e>d&&(this._ishiddenrow(XF_GRID.ROW_KIND_DATA,d)||(g+=this._getrowheight(d),f++,!(f>=b)));d++);return g}for(g=0,f=0,e=this._getrowcount(XF_GRID.ROW_KIND_DATA),a>=e&&(a=e-1),d=a;d>=0&&(this._ishiddenrow(XF_GRID.ROW_KIND_DATA,d)||(g+=this._getrowheight(d),f++,!(f>=b)));d--);return g},XF_GRID.prototype._getcolumnwidthsumbycolumnspan=function(a,b){var c,d,e;if(a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1)return-1;for(e=0,c=this.getcolumncount(),d=a;c>d&&(this.ishiddencolumn(d)||(e++,!(e>=b)));d++);return this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,a,d,!0,!1)},XF_GRID.prototype._getcolumnindexbycolumnspan=function(a,b){var c,d,e;if(a=_xfu.intval(a,0,XFD_MAX_VALUE),a===!1)return-1;for(e=0,c=this.getcolumncount(),d=a;c>d&&(this.ishiddencolumn(d)||(e++,!(e>=b)));d++);return d},XF_GRID.prototype._refreshdata=function(a){var b;return this.editcomplete(),void 0===a&&(a={is_create_grid_row_arr:!0,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0,is_refresh_column_merge:!0}),b={is_create_grid_row_arr:!1,is_refresh_stat_row_data:!1,is_refresh_midstat_row_data:!1,is_refresh_column_merge_info:!1},a.is_create_grid_row_arr&&(void 0===a.xdataset_append_row_count||0==a.xdataset_append_row_count?this._creategridrowarr():this._addgridrowarr(a.xdataset_append_row_count),b.is_create_grid_row_arr=!0),a.is_refresh_stat_row_data&&0==this.is_stat_exclude_merged_item&&(b.is_refresh_stat_row_data=this._refreshstatrowdata(a.column_index)),a.is_refresh_midstat_row_data&&(this._istreegrid()?b.is_refresh_midstat_row_data=this._refreshtreemidstatrowdata():b.is_refresh_midstat_row_data=this._refreshmidstatrowdata(-1)),void 0!==a.is_refresh_column_merge&&1!=a.is_refresh_column_merge||(b.is_refresh_column_merge_info=this._updateallcolumnmergeinfo()),a.is_refresh_midstat_row_data&&1==this.is_stat_exclude_merged_item&&(b.is_refresh_midstat_row_data=this._updatemergedallrowmidstatrowdata()),a.is_refresh_stat_row_data&&1==this.is_stat_exclude_merged_item&&(b.is_refresh_stat_row_data=this._refreshstatrowdata(a.column_index)),this._refreshsiblingiteminfo(),b},XF_GRID.prototype._updatemergedallrowmidstatrowdata=function(){var a,b,c,d,e,f;if(0==this.is_stat_exclude_merged_item)return!1;if(e=this.getcolumncount(),0>=e)return!1;if(f=this.midstat_info_arr.length,f>0)for(c=this.getrowcount(),b=0;c>b;b++)0!=this.ismidstatrow(b)&&(d=this._getmidstatinfo(b),d&&this._updatemergedonerowmidstatrowdata(d,e,b,0,this.xf_data_row_arr[b].midstat_dataset_start_row_index,this.xf_data_row_arr[b].midstat_dataset_end_row_index));return a=this._refreshstatcolumndata(XF_GRID.ROW_KIND_DATA),!!(f>0||a)},XF_GRID.prototype._updatemergedonerowmidstatrowdata=function(a,b,c,d,e,f){var g,h,i,j,k,l;for(g=0;b>g;g++)if(h=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,g,d),g!=a.title_column_index&&(i=a.midstat_type,a.midstat_type==XFD_GRID_MIDSTAT_COLUMN&&(i=h.xf_column_data_prop.midstatistics_type+1),j=h.xf_column_data_prop.midstatistics_show,1==j&&(j=h.iscalcstatvalue(i-1)),0!=j)){switch(i!=XFD_GRID_MIDSTAT_SUM&&i!=XFD_GRID_MIDSTAT_AVER&&i!=XFD_GRID_MIDSTAT_COUNT||(k=0),i){case XFD_GRID_MIDSTAT_SUM:case XFD_GRID_MIDSTAT_AVER:case XFD_GRID_MIDSTAT_COUNT:case XFD_GRID_MIDSTAT_MIN:case XFD_GRID_MIDSTAT_MAX:l=h.getcolumnstatrangeinfoarr(!1,this._getgridrowindex(e),this._getgridrowindex(f),e,f),k=this._getcolumnstatfromstatrangearr(h,i-1,l);break;default:k=""}this._updatemidstatrowdata(c,g,k,d)}},XF_GRID.prototype._refreshdataafter=function(a,b,c,d,e){var f;0==a.is_create_grid_row_arr&&(e&&0!=e.is_merge||this._refreshstatcolumnrowtd(b)),a.is_create_grid_row_arr?(f=this._refreshautoheight(b,d,!0),null!=f&&f.is_refresh_grid||(this._displayfixtable(),this._displayviewtable(0))):a.is_refresh_midstat_row_data?(f=this._refreshautoheight(b,d,!0),null!=f&&f.is_refresh_grid||this._refreshmidstatrow()):(this._refreshautoheight(b,d,!0),this.update_autorowheight_merge&&this._updateautorowheightmerge()),a.is_refresh_stat_row_data&&this._displaystattable()},XF_GRID.prototype._refreshitembyarginfo=function(a,b,c,d){var e;return this._ismultilinegrid()?(void 0===b.arg_arr[d]&&a||1==b.arg_arr[d])&&(e=!0):(void 0===b.arg_arr[c]&&a||1==b.arg_arr[3])&&(e=!0),e&&this._isdisplayrow(b.row_index)&&this._refreshdatatd(b.row_index,b.sub_row_index,b.column_index),e},XF_GRID.prototype._isdividerow=function(a){return this.xf_prop.cell_dividerowcount>0&&parseInt(a/this.xf_prop.cell_dividerowcount)%2==1},XF_GRID.prototype._refreshfixbar=function(){_xf_htmlready_mode||(this.xf_fixbar_row.refresh(),this.xf_fixbar_column.refresh())},XF_GRID.prototype._refreshlinebar=function(){_xf_htmlready_mode||(this.xf_linebar_headrow.refresh(),this.xf_linebar_headcolumn.refresh(),this.xf_linebar_statrow.refresh(),this.xf_linebar_statcolumn.refresh())},XF_GRID.prototype._refreshresizebar=function(){_xf_htmlready_mode||(this.xf_center_body_resize.refresh(),this.xf_left_body_resize.refresh(),this.xf_right_body_resize.refresh())},XF_GRID.prototype._getcolumnkindtype=function(a){return a==XF_GRID.COLUMN_DATA_NO||a==XF_GRID.COLUMN_DATA_CHECK?XF_GRID.COLUMN_KIND_HEAD:a==XF_GRID.COLUMN_DATA_NORMAL?XF_GRID.COLUMN_KIND_DATA:a==XF_GRID.COLUMN_DATA_STAT?XF_GRID.COLUMN_KIND_STAT:XF_GRID.COLUMN_KIND_DATA},XF_GRID.prototype._getrowkindtype=function(a){return a==XF_GRID.ROW_TABLE_HEAD?XF_GRID.ROW_KIND_HEAD:a==XF_GRID.ROW_TABLE_FIX||a==XF_GRID.ROW_TABLE_VIEW?XF_GRID.ROW_KIND_DATA:a==XF_GRID.ROW_TABLE_STAT?XF_GRID.ROW_KIND_STAT:XF_GRID.ROW_KIND_DATA},XF_GRID.prototype._getrowdatatype=function(a){return a==XF_GRID.ROW_TABLE_HEAD?XF_GRID.ROW_DATA_HEAD:a==XF_GRID.ROW_TABLE_FIX||a==XF_GRID.ROW_TABLE_VIEW?XF_GRID.ROW_DATA_NORMAL:a==XF_GRID.ROW_TABLE_STAT?XF_GRID.ROW_DATA_STAT:XF_GRID.ROW_DATA_NORMAL},XF_GRID.prototype._gettdmergeinfo=function(a){var b,c,d;return c=this._gettdinfo(a),c.column_kind_type!==XF_GRID.COLUMN_KIND_DATA?null:c.row_table_type===XF_GRID.ROW_TABLE_HEAD||c.row_table_type===XF_GRID.ROW_TABLE_STAT?null:(d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c.column_index,c.sub_row_index),b=d.getcolumnitemmergeinfo(c.row_table_type,c.row_index,!1))},XF_GRID.prototype._isfirsorlasttvisibleitem=function(a,b,c,d){var e,f,g,h,i,j;if(i=this.getrowcount(),j=this.getcolumncount(),0>=i||0>=j)return!0;if(a){if(g=this._findnextvisibleitemrowindex(1,0,!0),e=this._findnextvisibleitemcolumnindex(1,0,!0),0==c&&b==g&&d==e)return!0}else if(h=this._findnextvisibleitemrowindex(-1,i-1,!0),f=this._findnextvisibleitemcolumnindex(-1,j-1,!0),c==this.sub_row_count-1&&b==h&&d==f)return!0;return!1},XF_GRID.prototype._findnextvisibleitemrowindex=function(a,b,c,d){var e,f,g;if(void 0===d&&(d=!1),this.selected_sub_row_index>0,e=this.getrowcount(),0>=e)return-1;if(a>0){if(this.sub_row_count>1&&1==d){if(this.selected_sub_row_index!=this.sub_row_count-1)return this.selected_sub_row_index++,b;this.selected_sub_row_index=0}for(g=b+1,c&&(g=b),f=g;e>f;f++)if(0==this.xf_data_row_arr[f].is_hidden_row)return f}else if(0>a){if(this.sub_row_count>1&&1==d){if(0!=this.selected_sub_row_index)return this.selected_sub_row_index--,b;this.selected_sub_row_index=this.sub_row_count-1}for(g=b-1,c&&(g=b),f=g;f>=0;f--)if(0==this.xf_data_row_arr[f].is_hidden_row)return f}return-1},XF_GRID.prototype._findnextvisibleitemcolumnindex=function(a,b,c,d){var e,f,g,h;if(void 0===d&&(d=!0),a>0){for(g=b+1,c&&(g=b),e=this.getcolumncount(),f=g;e>f;f++)if(0==this.ishiddencolumn(f)){if(0==d)return f;if(h=this._finddatatd(this.selected_row_index,this.selected_sub_row_index,f),null!=h&&"none"!=h.css("display"))return f}}else if(0>a)for(g=b-1,c&&(g=b),f=g;f>=0;f--)if(0==this.ishiddencolumn(f)){if(0==d)return f;if(h=this._finddatatd(this.selected_row_index,this.selected_sub_row_index,f),null!=h&&"none"!=h.css("display"))return f}return-1},XF_GRID.prototype.setnextitemeditstart=function(){var a,b,c,d;return b=this._getitemapiarginfo(arguments),c=b.arg_arr[0],d=b.arg_arr[1],void 0===c&&(c=!0),void 0===d&&(d=!1),a=this._findnextitem(!0,c,d,b.row_index,b.sub_row_index,b.column_index),-1==a.row_index?!1:(this._setitemeditstartex(a.row_index,a.sub_row_index,a.column_index,!0,!0),!0)},XF_GRID.prototype.setnextcolumnitemeditstart=function(){var a,b,c,d;return b=this._getitemapiarginfo(arguments),c=b.arg_arr[0],d=b.arg_arr[1],void 0===c&&(c=!0),void 0===d&&(d=!1),a=this._findnexteditablecolumnitem(c,d,b.row_index,b.sub_row_index,b.column_index),-1==a.row_index?!1:(this._setitemeditstartex(a.row_index,a.sub_row_index,a.column_index,!0,!0),!0)},XF_GRID.prototype._findnextitem=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s;if(p={row_index:-1,sub_row_index:-1,column_index:-1,xf_td:null},0>d&&c)return p;if(0>e&&c)return p;if(0>f&&c)return p;if(g=this.getrowcount(),h=this.getcolumncount(),b>0){for(l=d,m=e,0>l&&(l=0),0>m&&(m=0),n=c?f:f+1,n>=h&&(m+=1,n=0,m>=this.sub_row_count&&(l+=1,m=0)),j=l;g>j;j++)if(!(this.xf_data_row_arr[j].is_hidden_row||a&&this._ismidstatrow(j)))for(j>l&&(m=0,n=0),k=m;k<this.sub_row_count;k++)for(j==l&&k>m&&(n=0),i=n;h>i;i++)if(!this.ishiddencolumn(i)){if(0==a)return p.row_index=j,p.sub_row_index=k,p.column_index=i,p;if(r=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,i,k),q=this._getitempropbyindex(j,k,i,"edit_stop",r.xf_column_data_prop.edit_stop),0!=q&&(o=this._ismultilinegrid()?this.getitemeditable(j,k,i):this.getitemeditable(j,i))){if(s=this._finddatatd(j,k,i),null!=s&&"none"==s.css("display"))continue;return p.row_index=j,p.sub_row_index=k,p.column_index=i,p.xf_td=s,p}}}else for(l=d,m=e,n=c?f:f-1,0>n&&(m-=1,n=h-1,0>m&&(l-=1,m=this.sub_row_count-1)),j=l;j>=0;j--)if(!this.xf_data_row_arr[j].is_hidden_row&&!this._ismidstatrow(j))for(l>j&&(m=this.sub_row_count-1,n=h-1),k=m;k>=0;k--)for(j==l&&m>k&&(n=h-1),i=n;i>=0;i--)if(!this.ishiddencolumn(i)){if(0==a)return p.row_index=j,p.sub_row_index=k,p.column_index=i,p;if(r=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,i,k),q=this._getitempropbyindex(j,k,i,"edit_stop",r.xf_column_data_prop.edit_stop),0!=q&&(o=this._ismultilinegrid()?this.getitemeditable(j,k,i):this.getitemeditable(j,i))){if(s=this._finddatatd(j,k,i),null!=s&&"none"==s.css("display"))continue;return p.row_index=j,p.sub_row_index=k,p.column_index=i,p.xf_td=s,p}}return p},XF_GRID.prototype._findnexteditablecolumnitem=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;if(j={row_index:-1,sub_row_index:-1,column_index:-1},0>c)return j;if(0>d)return j;if(0>e)return j;if(f=this.getrowcount(),h=c,0==b&&(h=a?c+1:c-1),0>h||h>=f)return j;if(a>0){for(g=h;f>g;g++)if(!this.xf_data_row_arr[g].is_hidden_row&&!this._ismidstatrow(g)&&(l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e,d),k=this._getitempropbyindex(g,d,e,"edit_stop",l.xf_column_data_prop.edit_stop),0!=k&&(i=this._ismultilinegrid()?this.getitemeditable(g,d,e):this.getitemeditable(g,e)))){if(m=this._finddatatd(g,d,e),null!=m&&"none"==m.css("display"))continue;return j.row_index=g,j.sub_row_index=d,j.column_index=e,j}}else for(g=h;g>=0;g--)if(!this.xf_data_row_arr[g].is_hidden_row&&!this._ismidstatrow(g)&&(l=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,e,d),k=this._getitempropbyindex(g,d,e,"edit_stop",l.xf_column_data_prop.edit_stop),0!=k&&(i=this._ismultilinegrid()?this.getitemeditable(g,d,e):this.getitemeditable(g,e)))){if(m=this._finddatatd(g,d,e),null!=m&&"none"==m.css("display"))continue;return j.row_index=g,j.sub_row_index=d,j.column_index=e,j}return j},XF_GRID.prototype._getfirstselectableinfo=function(){var a,b;return b={row_index:this.selected_row_index,sub_row_index:this.selected_sub_row_index,column_index:this.selected_column_index},a=this.getrowcount(),0==a?b.row_index=-1:-1==b.row_index&&(b.row_index=this._findnextvisibleitemrowindex(1,0,!0)),-1==b.sub_row_index&&(b.sub_row_index=0),-1==b.column_index&&(b.column_index=this._findnextvisibleitemcolumnindex(1,0,!0)),b},XF_GRID.prototype._resetselectedinfo=function(){this.selected_row_index=-1,this.selected_sub_row_index=-1,this.selected_column_index=-1,this.xf_object.find("."+this.class_tr_selected).removeClass(this.class_tr_selected),this.xf_object.find("."+this.class_td_selected).removeClass(this.class_td_selected),this._setselectedrowinfo(!1,-1,-1)},XF_GRID.prototype._resetcolumnindex=function(){var a,b;for(b=this.getcolumncount(),a=0;b>a;a++)this.xf_data_column_arr[a].setcolumnindex(a)},XF_GRID.prototype._afterchangecolumn=function(){_xfu.async({func:this._afterchangecolumncallback,context:this})},XF_GRID.prototype._afterchangecolumncallback=function(a,b,c){var d;switch(void 0===b&&(b=-1),void 0===c&&(c=XF_GRID.REFRESH_TYPE_NONE),this._refreshautoheight(-1,b,!1),c){case XF_GRID.REFRESH_TYPE_COLUMNRESIZE:break;default:this._refreshhtmlmap(),this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_HEADER),this._refreshdisplayheadermergeinfo(XF_GRID.MERGE_INFO_STATROW),this._resetcolumnindex()}switch(this._dom_tbody(),this._displayheadtable(XF_GRID.COLUMN_TABLE_ALL),this._size(),d=this.xf_grid_scroll.refresh(),d&&this._size(),this._setviewmaxrowcount(),this._refreshfixbar(),this._refreshresizebar(),this._refreshlinebar(),c){case XF_GRID.REFRESH_TYPE_COLUMNRESIZE:break;default:this._refreshdata({is_create_grid_row_arr:!1,is_refresh_stat_row_data:!0,is_refresh_midstat_row_data:!0,is_refresh_column_merge:!0})}(void 0===a||a)&&this._refreshgrid(c)},XF_GRID.prototype._refreshsiblingiteminfo=function(){var a;return 0==this._istreegrid()?!1:(a=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.xf_prop.treecolumn_index,0))?void(1==a.xf_column_data_prop.has_lines&&a.updatelastdepthsiblingitem()):!1},XF_GRID.prototype._refreshbackimage=function(a){var b;if(a===!1){if(0==this.xf_prop.back_image.length)return;
if(0==this.xf_prop.back_imageshow)return}b=this.xf_prop.back_image,1==this.xf_prop.back_imageshow?this.getrowcount()>0&&(b=""):2==this.xf_prop.back_imageshow&&0==this.getrowcount()&&(b=""),_xfc.basic("back_image",b,!0,this.xf_content_bg)},XF_GRID.prototype._refreshgrid=function(a){var b,c,d,e;if(void 0===a&&(a=XF_GRID.REFRESH_TYPE_NONE),0!=this.is_created){switch(this.editcomplete(),a){case XF_GRID.REFRESH_TYPE_COLUMNRESIZE:case XF_GRID.REFRESH_TYPE_COLUMNHEADCHECK:break;default:this._refreshbackimage(!1)}switch(a){case XF_GRID.REFRESH_TYPE_COLUMNRESIZE:case XF_GRID.REFRESH_TYPE_COLUMNHEADCHECK:break;default:this._refreshallheadercheck()}if(this._displayfixtable(),c=this._getviewcontentpureheight(),this.view_content_height=c+this.view_extra_height,b=this.xf_grid_scroll.refresh(),b&&(this._size(),this._setviewmaxrowcount(),this.view_content_height=c+this.view_extra_height,this.xf_grid_scroll.refresh()),this._displayviewtable(0),this._displaystattable(),this.xf_grid_scroll.syncbar(XFD_SB_BOTH),this._fitcolumnwidth(),this.xf_prop.min_rowcount>0&&(e=this.getrowcount(),e<this.xf_prop.min_rowcount)){for(d=0;d<this.xf_prop.min_rowcount-e;d++)this.additemex(0,"",!1,!1);this.refresh()}}},XF_GRID.prototype._horzscrolllastcolumwidth=function(){var a,b,c,d,e,f,g,h;if(0==this.is_column_scroll_mode)return!1;if(2!=factory_xf_param.GRID_HORZSCROLL_LASTCOLUMNWIDTH)return!1;if(0==this.view_extra_width)return!1;if(this.view_right_column_index<this.view_end_column_index)return!1;for(e=[],this.gethorzheadercount()>0&&e.push(this.xf_center_body_head_table),this.fixedrows>0&&e.push(this.xf_center_body_fix_table),e.push(this.xf_center_body_view_table),this.getstatrowcount()>0&&e.push(this.xf_center_foot_stat_table),a=this.getcolumnwidth(this.view_right_column_index),g=e.length,h=0;g>h;h++)f=e[h],b=f.find("colgroup > col"),d=b.length,d>0&&(c=$(b[d-1]),c.css("width",_xfu.px(a+this.view_extra_width)));return!0},XF_GRID.prototype._setmidstatrowhidden=function(){var a,b,c;for(c=-1,b=this._getrowcount(XF_GRID.ROW_KIND_DATA),a=0;b>a;a++)this.ismidstatrow(a)&&(-1==c&&(c=a),this.xf_data_row_arr[a].is_hidden_row=!0);c>=0&&this.is_rowheight_mode&&this._updategridrowbottom(c)},XF_GRID.prototype._removeitemeditdiv=function(){var a;null!=this.xf_item_edit_div&&(null!=this.xf_item_edit_td&&(this.xf_item_edit_td.addClass(this.class_tr_selected),this.xf_item_edit_td.addClass(this.class_td_selected),this.xf_item_edit_td=null),this._offdocevent(),this.xf_item_edit_div.remove(),this.xf_item_edit_div=null),a=this.xf_content.find("._xf_grid_item_edit"),a.length>0&&(this._offdocevent(),a.remove())},XF_GRID.prototype._getitemeditdivinfo=function(){var a,b;return null==this.xf_item_edit_div?null:(a=this.xf_item_edit_div.data("info"),b=a.split("_"),{row_index:_xfu["int"](b[0]),sub_row_index:_xfu["int"](b[1]),column_index:_xfu["int"](b[2])})},XF_GRID.prototype._refreshdatatd=function(a,b,c){return this._refreshtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,a,b,c)},XF_GRID.prototype._replacetd=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;return a==XF_GRID.ROW_KIND_HEAD?!0:(f=this._findtd(a,b,c,d,e),null==f||f.length<1?!1:(g=f.closest("tr"),g.length<1?!1:(h=this._gettdinfo(f),null==h?!1:(i=this._getcolumndata(h.column_kind_type,e,d))?(a==XF_GRID.ROW_KIND_DATA&&b==XF_GRID.COLUMN_KIND_DATA&&this.xf_item_edit_component&&this.xf_item_edit_component.xf_prop.row_index==c&&this.xf_item_edit_component.xf_prop.sub_row_index==d&&this.xf_item_edit_component.xf_prop.column_index==e&&(_xfu.isfunction(this.xf_item_edit_component.destroy)&&this.xf_item_edit_component.destroy(),this.xf_item_edit_component=null,this._removeitemeditdiv()),j=this._gettrmetaarr(h.row_table_type,c,d),j.length<1?!1:(k=j[0],l=this._gettdmeta(k,h.column_table_type,h.column_kind_type,e),f[0].outerHTML=i.getcolumnhtml(k,l,h.row_table_type,c),b==XF_GRID.COLUMN_KIND_DATA&&(m=null,a==XF_GRID.ROW_KIND_DATA&&b==XF_GRID.COLUMN_KIND_DATA?m=i.getcolumniteminfo(c,d):a==XF_GRID.ROW_KIND_STAT&&b==XF_GRID.COLUMN_KIND_DATA&&(m=i.getcolumnstatrowiteminfo(c,d)),n=this._getitempropbyitem(m,"input_type",i.xf_column_data_prop.input_type),n==XF_GRID.COLUMN_INPUT_TYPE_CHART&&(this.is_chart_column_exist=!0,this._refreshchartbox(f.find("._xf_grid_chart_box")))),k.td_jdom_map[h.column_table_type]=g.find("td"),!0)):!1)))},XF_GRID.prototype._refreshtd=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return a==XF_GRID.ROW_KIND_HEAD?!0:(j=this._findtd(a,b,c,d,e),null==j||j.length<1?!1:(s=this._gettdrowspan(j),f=this._getcolumndata(b,e,d),a==XF_GRID.ROW_KIND_DATA&&b==XF_GRID.COLUMN_KIND_DATA&&(u=this._ismidstatrow(c),v=1==u?f.xf_column_data_prop.midstat_expr_func:f.xf_column_data_prop.expr_func,v.length>0&&_xfu.isfunction(this.xf_parent.xf_content.xf_execution_context[v]))?this._replacetd(a,b,c,d,e):(h=f.getcolumnitemtext(a,c),g=null,a==XF_GRID.ROW_KIND_DATA&&b==XF_GRID.COLUMN_KIND_DATA?g=f.getcolumniteminfo(c,d):a==XF_GRID.ROW_KIND_STAT&&b==XF_GRID.COLUMN_KIND_DATA&&(g=f.getcolumnstatrowiteminfo(c,d)),null!==g&&(q=f.getcolumnitembackcolorrgb(c,g),q?j.css("background-color",_xfu.rgbfunc(q)):j.css("background-color","transparent"),p=this._getitempropbyitem(g,"forecolor",null),null!==p&&j.css("color",_xfu.rgbfunc(p)),n=this._getitempropbyitem(g,"font",null),null!==n&&_xfc.font(j,n)),a==XF_GRID.ROW_KIND_DATA?(this.xf_item_edit_component&&this.xf_item_edit_component.xf_prop.row_index==c&&this.xf_item_edit_component.xf_prop.sub_row_index==d&&this.xf_item_edit_component.xf_prop.column_index==e&&(_xfu.isfunction(this.xf_item_edit_component.destroy)&&this.xf_item_edit_component.destroy(),this.xf_item_edit_component=null,this._removeitemeditdiv()),t=!1,null!==g&&(t=this._getitempropbyitem(g,"_is_format_value",!1)),i=f.getcolumnitemhtml(s,c,g,h,t),j[0].innerHTML=i):a==XF_GRID.ROW_KIND_STAT&&(null!==g&&(n=this._getitempropbyitem(g,"font",null),null!==n&&_xfc.font(j,n)),o=this._getitempropbyitem(g,"text_horzalign",null),null!=o&&(k=j.find("._xf_grid_item"),_xfc.justifycontent(k,o),_xfc.textalign(k,o)),r=f.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_STAT,c,!0,XF_GRID.FILE_TYPE_GRID),l=j.find("span"),l.text(r)),b==XF_GRID.COLUMN_KIND_DATA&&(m=this._getitempropbyitem(g,"input_type",f.xf_column_data_prop.input_type),m==XF_GRID.COLUMN_INPUT_TYPE_CHART&&(this.is_chart_column_exist=!0,this._refreshchartbox(j.find("._xf_grid_chart_box")))),!0)))},XF_GRID.prototype._refreshheadtd=function(a,b){var c,d,e,f;if(e=this._findheadtd(a,b),null==e)return!1;if(c=this._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,a),!c)return!0;for(f=this._getmergeinfo(c.sub_row_index,c.column_index,this.header_merge_info_count,this.header_merge_info_arr,XF_GRID.MERGE_INFO_HEADER),d=0,a=f.start_row_index;a<=f.end_row_index;a++)d+=this.getheaderrowheight(a);return e[0].innerHTML=c.getcolumnitemhtml(d,void 0,f),!0},XF_GRID.prototype._refreshstatcolumnrowtd=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;if(b=this._getcolumncount(XF_GRID.COLUMN_KIND_STAT),!(1>b))for(c=a<this.view_top_row_index?this.xf_right_body_fix_table_tbody:this.xf_right_body_view_table_tbody,d=a<this.view_top_row_index?this._findtrarr(XF_GRID.ROW_TABLE_FIX,c,a):this._findtrarr(XF_GRID.ROW_TABLE_VIEW,c,a),h=d.length,j=0;h>j;j++)for(e=$(d[j]),f=e.find("td"),i=f.length,k=0;i>k;k++)g=$(f[k]),m=this._gettdinfo(g),l=this._getcolumndata(XF_GRID.COLUMN_KIND_STAT,m.column_index,m.sub_row_index),n=l.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_DATA,m.row_index,!0,XF_GRID.FILE_TYPE_GRID),o=g.find("span"),o.text(n)},XF_GRID.prototype._refreshmidstatrow=function(){var a;a=this._getcolumncount(XF_GRID.COLUMN_KIND_STAT),this.fixedrows>0&&(this._refreshmidstatrowtd(XF_GRID.ROW_TABLE_FIX,this.xf_left_body_fix_table_tbody,XF_GRID.COLUMN_KIND_DATA),this._refreshmidstatrowtd(XF_GRID.ROW_TABLE_FIX,this.xf_center_body_fix_table_tbody,XF_GRID.COLUMN_KIND_DATA),a>0&&this._refreshmidstatrowtd(XF_GRID.ROW_TABLE_FIX,this.xf_right_body_fix_table_tbody,XF_GRID.COLUMN_KIND_STAT)),this._refreshmidstatrowtd(XF_GRID.ROW_TABLE_VIEW,this.xf_left_body_view_table_tbody,XF_GRID.COLUMN_KIND_DATA),this._refreshmidstatrowtd(XF_GRID.ROW_TABLE_VIEW,this.xf_center_body_view_table_tbody,XF_GRID.COLUMN_KIND_DATA),a>0&&this._refreshmidstatrowtd(XF_GRID.ROW_TABLE_VIEW,this.xf_right_body_view_table_tbody,XF_GRID.COLUMN_KIND_STAT)},XF_GRID.prototype._refreshmidstatrowtd=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(q=b.find("tr"),0!=q.length&&(p=this.tr_meta_map[a],0!=p.length)){for(d=[],n=0;n<p.length;n++)p[n].row_data_type==XF_GRID.ROW_DATA_MIDSTAT&&d.push(q[n]);for(f=d.length,n=0;f>n;n++)for(e=$(d[n]),g=e.find("td"),i=g.length,o=0;i>o;o++)h=$(g[o]),l=this._gettdinfo(h),l.column_kind_type!=XF_GRID.COLUMN_KIND_DATA&&l.column_kind_type!=XF_GRID.COLUMN_KIND_STAT||(m=this._getcolumndata(c,l.column_index,l.sub_row_index),k=m.getcolumnitemdisplaytext(XF_GRID.ROW_KIND_DATA,l.row_index,!0,XF_GRID.FILE_TYPE_GRID),j=h.find("span"),j.text(k))}},XF_GRID.prototype._isdisplayrow=function(a){return a<this.view_top_row_index?!0:a>=this.view_start_row_index&&a<=this.view_end_row_index},XF_GRID.prototype._getviewendrowindex=function(){var a,b,c,d;for(c=0,b=this.data_row_count,a=this.view_start_row_index;b>a&&!(1!=this.xf_data_row_arr[a].is_hidden_row&&(c++,c>=this.view_max_row_count));a++);return d=a,d>=b&&(d=b-1),d},XF_GRID.prototype._isvalidheadrowcolumn=function(a,b,c){return 0==this._isvalidheadrow(a)?!1:0!=this._isvalidcolumn(b,c)},XF_GRID.prototype._isvalidrowcolumn=function(a,b,c,d){return 0==this._isvalidrow(a,b)?!1:0!=this._isvalidcolumn(c,d)},XF_GRID.prototype._isvalidsubrow=function(a){return isNaN(a)?!1:!(0>a||a>=this.sub_row_count)},XF_GRID.prototype._isvalidheadrow=function(a){return isNaN(a)?!1:!(0>a||a>=this.xf_prop.header_horzcount)},XF_GRID.prototype._isvalidrow=function(a,b){if(isNaN(b))return!1;if(a==XF_GRID.ROW_KIND_DATA){if(0>b||b>=this.getrowcount())return!1}else if(a==XF_GRID.ROW_KIND_HEAD){if(0>b||b>=this.gethorzheadercount())return!1}else if(a==XF_GRID.ROW_KIND_STAT&&(0>b||b>=this.getstatrowcount()))return!1;return!0},XF_GRID.prototype._isvalidcolumn=function(a,b){if(isNaN(b))return!1;if(a==XF_GRID.COLUMN_KIND_DATA){if(0>b||b>=this.getcolumncount())return!1}else if(a==XF_GRID.COLUMN_KIND_STAT&&(0>b||b>=this.getstatcolumncount()))return!1;return!0},XF_GRID.prototype._isvalidfixedrow=function(a){var b,c,d,e,f;return a=_xfu["int"](a),0>a?!1:(b=this.xf_object.innerHeight(),c=this._gettableheight(XF_GRID.ROW_TABLE_STAT),d=this._gettableheight(XF_GRID.ROW_TABLE_HEAD),e=a*(this.xf_prop.cell_height*this.sub_row_count),e>0&&(e+=1),f=b-c-d-e,!(1>f))},XF_GRID.prototype._isvalidfixedcolumn=function(a){var b,c,d,e,f;return a=_xfu["int"](a),0>a?!1:(f=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),a>=f?!1:(b=this.xf_object.innerWidth(),c=this._gettablewidth(XF_GRID.COLUMN_TABLE_LEFT,a),d=this._gettablewidth(XF_GRID.COLUMN_TABLE_RIGHT,a),e=b-c-d,!(1>e)))},XF_GRID.prototype._isvalidmergerange=function(a,b,c,d,e){var f,g,h,i;if(b>d||c>e)return!1;if(c<this.fixedcols&&e>=this.fixedcols)return!1;for(f=b;d>f;f++)if(this.ismidstatrow(f))return!1;for(g=a.length,h=0;g>h;h++){if(i=a[h],b>=i.start_row_index&&b<=i.end_row_index&&c>=i.start_column_index&&c<=i.end_column_index)return!1;if(b>=i.start_row_index&&b<=i.end_row_index&&e>=i.start_column_index&&e<=i.end_column_index)return!1;if(d>=i.start_row_index&&d<=i.end_row_index&&e>=i.start_column_index&&e<=i.end_column_index)return!1;if(d>=i.start_row_index&&d<=i.end_row_index&&c>=i.start_column_index&&c<=i.end_column_index)return!1;if(b<i.start_row_index&&d>i.end_row_index&&c<i.start_column_index&&e>i.end_column_index)return!1}return!0},XF_GRID.prototype._istreecolumn=function(a){return!(!this._istreegrid()||this.xf_prop.treecolumn_index!=a)},XF_GRID.prototype._istreegrid=function(){return this.control_kind==XFD_CTRLKIND_TREEGRID},XF_GRID.prototype._ismultilinegrid=function(){return this.control_kind==XFD_CTRLKIND_MULTILINEGRID},XF_GRID.prototype._isnormalgrid=function(){return this.control_kind==XFD_CTRLKIND_GRID},XF_GRID.prototype._getviewcontentleft=function(){return this.view_content_left},XF_GRID.prototype._setviewcontentleft=function(a,b,c){var d,e,f,g,h,i,j,k;void 0===c&&(c=!1),1==this.is_column_scroll_mode&&(e=this.xf_grid_scroll.getscrollcolumninfo(0,this.view_content_left),g=this.view_start_column_index,h=this.view_end_column_index,i=this.view_display_column_count),this.view_content_left=a,(Math.abs(a)>1||0==Math.abs(a))&&(d=_xfu.px(a),1==this.is_column_scroll_mode?(f=this.xf_grid_scroll.getscrollcolumninfo(0,this.view_content_left),e.column_index!=f.column_index&&(j=this._gethiddencolumncount(Math.min(e.column_index,f.column_index),Math.max(e.column_index,f.column_index)),k=f.column_index-e.column_index,0>k?k+=j:k-=j,this.view_start_column_index=f.column_index,this._refreshviewcolumninfo(),1==c&&2!=this.xf_prop.touchscroll_movemode?0==factory.ismobile()&&this._scrollhorzviewtable(this.getcolumncount(),k,g,h):(this._updatehorzscrollviewtable(k,i),0==this.is_horzscroll_viewtable?this._displayviewtable():this._scrollhorzviewtable(this.getcolumncount(),k,g,h)),this.xf_center_body_head_table.css("left",d),factory.ismobile()&&this.xf_center_body_view_content.css("left",d),this.xf_center_body_fix_table.css("left",d),this.xf_center_foot_stat_table.css("left",d),this.xf_center_body_resize.xf_object.css("left",d))):1==this.is_mobile_mode?this.xf_center_body_view[0].scrollLeft=-1*this.view_content_left:(this.xf_center_body_head_table.css("left",d),this.xf_center_body_view_content.css("left",d),this.xf_center_body_fix_table.css("left",d),this.xf_center_foot_stat_table.css("left",d),this.xf_center_body_resize.xf_object.css("left",d)),b&&this.xf_grid_scroll.syncbar(XFD_SB_HORZ,a))},XF_GRID.prototype._getviewcolumnleftsum=function(a){var b;for(b=0;b<this.view_column_width_info.column_count;b++)if(this.view_column_width_info.column_index_arr[b]==a)return this.view_column_width_info.column_left_arr[b]},XF_GRID.prototype._refreshviewcolumninfo=function(){var a,b,c;for(a=0;a<this.view_column_width_info.column_count&&this.view_column_width_info.column_index_arr[a]!=this.view_start_column_index;a++);for(this.view_display_column_count=0,c=0,b=a;b<this.view_column_width_info.column_count;b++)if(this.view_display_column_count++,c+=this.view_column_width_info.column_width_arr[b],c+1>=this.center_body_width){this.view_end_column_index=this.view_column_width_info.column_index_arr[b];break}b>=this.view_column_width_info.column_count&&(this.view_end_column_index=this.view_column_width_info.column_index_arr[this.view_column_width_info.column_count-1])},XF_GRID.prototype._getviewcontentwidth=function(){return 0==this.is_rwd_mode?this.view_content_width:this.xf_content.width()},XF_GRID.prototype._setviewcontentwidth=function(a){var b;this.view_content_width=a,_xf_htmlready_mode||(this.xf_center_body_view_content.outerWidth(a),this.xf_center_body_head_table.outerWidth(a),this.xf_center_body_fix_table.outerWidth(a),1==this.is_column_scroll_mode&&0==factory.ismobile()||this.xf_center_body_view_table.outerWidth(a),this.xf_center_foot_stat.outerWidth(a),this.xf_center_foot_stat_table.outerWidth(a),1==this.is_column_scroll_mode&&(b=this._getviewextrawidth(),this.view_content_width+=b,2==factory_xf_param.GRID_HORZSCROLL_LASTCOLUMNWIDTH&&this.xf_center_body_view_content.outerWidth(this.view_content_width),this.view_column_width_info=this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,this.fixedcols,-1,!0,!0),this.view_column_width_info.column_count>0&&this.view_start_column_index<this.view_column_width_info.column_index_arr[0]&&(this.view_start_column_index=this.view_column_width_info.column_index_arr[0]),this._refreshviewcolumninfo()))},XF_GRID.prototype._getviewheight=function(){return this.xf_center_body_view.height()},XF_GRID.prototype._getviewcontentheight=function(){return this.view_content_height},XF_GRID.prototype._getviewcontentpureheight=function(){var a,b;return(this.is_rwd_mode||0==this.is_rowheight_mode)&&(a=this._getrowcount(XF_GRID.ROW_KIND_DATA),this.view_hidden_row_count=this._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,this.view_top_row_index),this.view_content_row_count=a-this.view_top_row_index-this.view_hidden_row_count),b=this.is_rwd_mode?this.view_content_row_count*this.rwd_row_height:this.is_rowheight_mode?this._getrowheightsum(this.view_top_row_index):this.view_content_row_count*(this.xf_prop.cell_height*this.sub_row_count),0>b?b=0:b>0&&(b+=1),b},XF_GRID.prototype._calcviewcontenttop=function(a){var b,c;if(0==this.is_rowheight_mode)b=this._getphysicalrowindex(this.getrowcount(),a),c=-1*b*(this.xf_prop.cell_height*this.sub_row_count);else{if(this.view_top_row_index==a)return 0;c=-1*this._getrowheightsum(this.view_top_row_index,a-1,!0)}return Math.abs(c)<1&&(c=0),c},XF_GRID.prototype._getviewcontenttop=function(){return this.view_content_top},XF_GRID.prototype._setviewcontenttop=function(a,b,c,d){var e;this.view_content_top=a,(Math.abs(a)>1||0==Math.abs(a))&&(0!=this.xf_prop.is_virtualscroll&&1!=this.is_mobile_mode||(e=_xfu.px(this.view_content_top),1==this.is_mobile_mode?this.xf_center_body_view[0].scrollTop=-1*this.view_content_top:(this.xf_center_body_view_content.css("top",e),this.xf_left_body_view_content.css("top",e),this.xf_right_body_view_content.css("top",e))),b&&this.xf_grid_scroll.syncbar(XFD_SB_VERT,a,c,d))},XF_GRID.prototype._displayfixtable=function(){var a,b,c,d,e,f,g;if(this.tr_meta_map[XF_GRID.ROW_TABLE_FIX]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_FIX]=[],this.view_top_row_index=0,a=this._getrowcount(XF_GRID.ROW_KIND_DATA),this.is_rwd_mode||this.fixedrows<1||1>a)return void this._emptyfixtable();for(c=0,d=this.fixedrows-1,d>=a-1&&(d=a-1),this.view_top_row_index=d+1,e=[],f=[],g=[],b=c;d>=b;b++)if(this.xf_data_row_arr[b].is_hidden_row){if(d++,d>=a)break;this.view_top_row_index=d+1}else this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_FIX,b,this.sub_row_count,e,f,g,!0);this.xf_center_body_fix_table_tbody[0].innerHTML=f.join(""),this.xf_left_body_fix_table_tbody[0].innerHTML=e.join(""),this.xf_stat_column_arr.length>0&&(this.xf_right_body_fix_table_tbody[0].innerHTML=g.join("")),this._displayitemchart(XF_GRID.ROW_TABLE_FIX)},XF_GRID.prototype._displayviewtable=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(b!==!0||1!=this.is_mobile_mode){if(void 0===c&&(c=!1),this.update_autorowheight_merge=!1,this.is_rowheight_mode&&(g=this._getviewcontentpureheight(),this.view_content_height=g+this.view_extra_height),l=this.view_start_row_index,this.is_rwd_mode)return this._displayrwdtable(a,b);if(this.view_display_row_count=0,d=this.getrowcount(),d<=this.view_top_row_index)return this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_VIEW]=[],this._emptyviewtable(),void(this.xf_prop.row_resizable&&this.xf_view_body_resize.refresh());if(this.view_start_row_index=this._getviewstartrowindex(d),this.view_start_row_index<0)return this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_VIEW]=[],this._emptyviewtable(),void(this.xf_prop.row_resizable&&this.xf_view_body_resize.refresh());if(b){if(this.view_start_row_index==l)return;this.xf_grid_scroll.showscrolltoprowpos(this.view_start_row_index+1+this.xf_prop.linenumber_offset)}for(1==this.is_column_scroll_mode&&0==factory.ismobile()&&0==c&&(this.xf_center_body_view_table_tbody=this._createtbody(this.xf_center_body_view_table,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_VIEW)),this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_VIEW]=[],i=[],j=[],k=[],e=this.view_start_row_index+(this.view_max_row_count-1),e>=d&&(e=d-1),f=this.view_start_row_index;e>=f;f++)this.xf_data_row_arr[f].is_hidden_row&&(e++,e>=d&&(e=d-1));if(this.view_end_row_index=e,n=0,this.is_rowheight_mode&&(m=this._gettableheight(XF_GRID.ROW_TABLE_VIEW)),e=this.view_start_row_index+(this.view_max_row_count-1),e>=d&&(e=d-1),1==this.is_mobile_mode){for(this.view_start_row_index=this.view_top_row_index,f=d-1;f>=this.view_top_row_index&&1==this._ishiddenrow(XF_GRID.ROW_KIND_DATA,f);f--);this.view_end_row_index=f,e=this.view_end_row_index}for(f=this.view_start_row_index;e>=f;f++)this.xf_data_row_arr[f].is_hidden_row?(e++,e>=d&&(e=d-1)):(this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_VIEW,f,this.sub_row_count,i,j,k,!0),this.view_display_row_count++);this.xf_center_body_view_table_tbody[0].innerHTML=j.join(""),this.xf_left_body_view_table_tbody[0].innerHTML=i.join(""),this.xf_stat_column_arr.length>0&&(this.xf_right_body_view_table_tbody[0].innerHTML=k.join("")),this._displayitemchart(XF_GRID.ROW_TABLE_VIEW),this.xf_prop.row_resizable&&this.xf_view_body_resize.refresh(),this.update_autorowheight_merge&&this._updateautorowheightmerge(),this.is_rowheight_mode&&(h=this.xf_grid_scroll.refresh(),h&&(this._size(),this._setviewmaxrowcount(),this.view_content_height=g+this.view_extra_height,this.xf_grid_scroll.refresh())),this._horzscrolllastcolumwidth()}},XF_GRID.prototype._setviewtablewidth=function(a){var b;0!=this.is_column_scroll_mode&&(void 0===a&&(a=0),b=this._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,this.view_start_column_index,this.view_end_column_index,!0,!1),b>0&&(b=b+a+1),this.xf_center_body_view_table.outerWidth(b))},XF_GRID.prototype._getviewstartrowindex=function(a){var b,c,d;return 0==this.is_rwd_mode?this.is_rowheight_mode?(b=this.view_top_row_index>0?Math.abs(this.view_content_top)+this._getrowheightsum(0,this.view_top_row_index-1):Math.abs(this.view_content_top),this._getrowindexbyrowbottom(b)):(c=Math.ceil(Math.abs(this.view_content_top)/(this.xf_prop.cell_height*this.sub_row_count)),d=this._getlogicalrowindex(a,c),d>=a&&(d=a-1),0>d&&(d=0),d):(c=Math.ceil(Math.abs(this.view_content_top)/this.rwd_row_height),this._getlogicalrowindex(a,c))},XF_GRID.prototype._getlogicalrowindex=function(a,b){var c,d;if(d=0,0==this.view_hidden_row_count)return 1==a?this.view_top_row_index:this.view_top_row_index+b;for(c=this.view_top_row_index;a>c;c++)if(0==this.xf_data_row_arr[c].is_hidden_row){if(d==b)break;d++}return 1==a?this.view_top_row_index:c},XF_GRID.prototype._getphysicalrowindex=function(a,b){var c,d;if(d=0,b<this.view_top_row_index)return b;for(c=this.view_top_row_index;a>c;c++)if(0==this.xf_data_row_arr[c].is_hidden_row){if(c==b)break;d++}return d},XF_GRID.prototype._scrollhorzviewtable=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(this.is_horzscroll_viewtable=!1,!(0>=a||0==b||(n=!(0>b),b=Math.abs(b),g=this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW],i=g.length,0>=i||(t=this.xf_center_body_view_table.find("colgroup"),t[0].innerHTML=this._getcolgrouphtml(XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_VIEW,!1),r=this.xf_center_body_view_table_tbody.find("tr"),r.length<=0)))){if(l=n?"beforeend":"afterbegin",this.is_touchmove_mode=!0,n)for(h=0;i>h;h++){for(j=g[h],e=[],q=0,m=d+1;a-1>=m&&!(q>=b);m++)this.ishiddencolumn(m)||(q++,k=this._addtdmeta(j,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.COLUMN_KIND_DATA,XF_GRID.COLUMN_DATA_NORMAL,m),f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,m,j.sub_row_index),e.push(f.getcolumnhtml(j,k,XF_GRID.ROW_TABLE_VIEW,j.row_index)));for(q>0&&r[h].insertAdjacentHTML(l,e.join("")),s=$(r[h]),o=s.find("td"),p=0;a-1>p&&!(j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER][p].column_index>=this.view_start_column_index);p++)$(o[p]).remove();for(p=0;a-1>p&&!(j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER][p].column_index>=this.view_start_column_index);p++)j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER].shift();this._resettdindex(j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER])}else for(h=0;i>h;h++){for(j=g[h],e=[],q=0,m=c-1;m>=this.view_left_column_index&&!(q>=b);m--)this.ishiddencolumn(m)||(q++,k=this._addtdmeta(j,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.COLUMN_KIND_DATA,XF_GRID.COLUMN_DATA_NORMAL,m,!1),f=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,m,j.sub_row_index),e.push(f.getcolumnhtml(j,k,XF_GRID.ROW_TABLE_VIEW,j.row_index)));for(q>0&&r[h].insertAdjacentHTML(l,e.join("")),s=$(r[h]),o=s.find("td"),p=j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER].length-1;p>=0&&!(j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER][p].column_index<=this.view_end_column_index);p--)$(o[p]).remove();for(p=j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER].length-1;p>=0&&!(j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER][p].column_index<=this.view_end_column_index);p--)j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER].pop();this._resettdindex(j.td_meta_map[XF_GRID.COLUMN_TABLE_CENTER])}this.is_touchmove_mode=!1,this._scrollviewtableupdate(),0!=q&&(this.selected_column_index>=this.view_start_column_index&&this.selected_column_index<=this.view_end_column_index&&this.selected_row_index>=this.view_start_row_index&&this.selected_row_index<=this.view_end_row_index&&this._displayselectitem(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,!0,!0),this._displayitemchart(XF_GRID.ROW_TABLE_VIEW))}},XF_GRID.prototype._scrollvertviewtable=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(0!=b&&1!=this.is_mobile_mode){if(d=[],e=[],f=[],m=!(0>b),b=Math.abs(b),n=0,m)for(k=this.view_end_row_index+1;a-1>=k&&!(n>=b);k++)this.xf_data_row_arr[k].is_hidden_row||(n++,this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_VIEW,k,this.sub_row_count,d,e,f,!0));else for(k=this.view_start_row_index-1;k>=this.view_top_row_index&&!(n>=b);k--)this.xf_data_row_arr[k].is_hidden_row||(n++,this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_VIEW,k,this.sub_row_count,d,e,f,!1));if(0!=n){for(j=m?"beforeend":"afterbegin",this.xf_center_body_view_table_tbody[0].insertAdjacentHTML(j,e.join("")),this.xf_left_body_view_table_tbody[0].insertAdjacentHTML(j,d.join("")),this.xf_stat_column_arr.length>0&&this.xf_right_body_view_table_tbody[0].insertAdjacentHTML(j,f.join("")),this._displayitemchart(XF_GRID.ROW_TABLE_VIEW),o=this.xf_center_body_view_table_tbody.children("tr"),p=this.xf_left_body_view_table_tbody.children("tr"),this.xf_stat_column_arr.length>0&&(q=this.xf_right_body_view_table_tbody.children("tr")),g=this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW],i=m?0:o.length-1,l=0;b>l;l++)for(h=0;h<this.sub_row_count;h++)m?g.shift():g.pop(),$(o[i]).remove(),$(p[i]).remove(),this.xf_stat_column_arr.length>0&&$(q[i]).remove(),m?i++:i--;this._resettrindex(g),this.view_start_row_index=g[0].row_index,this.view_end_row_index=g[g.length-1].row_index,this.xf_grid_scroll.showscrolltoprowpos(this.view_start_row_index+1+this.xf_prop.linenumber_offset),this._scrollviewtableupdate(),this.xf_prop.row_resizable&&this.xf_view_body_resize.refresh()}}},XF_GRID.prototype._scrollviewtableupdate=function(){this.fixedcols>0&&(this._updatetrjdommap(XF_GRID.ROW_TABLE_VIEW,XF_GRID.COLUMN_TABLE_LEFT,!0),this._updatetdjdommap(XF_GRID.ROW_TABLE_VIEW,XF_GRID.COLUMN_TABLE_LEFT,!0),this._scrollviewtabletdupdate(XF_GRID.COLUMN_TABLE_LEFT,this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW])),this._updatetrjdommap(XF_GRID.ROW_TABLE_VIEW,XF_GRID.COLUMN_TABLE_CENTER,!0),this._updatetdjdommap(XF_GRID.ROW_TABLE_VIEW,XF_GRID.COLUMN_TABLE_CENTER,!0),this._scrollviewtabletdupdate(XF_GRID.COLUMN_TABLE_CENTER,this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW])},XF_GRID.prototype._scrollviewtabletdupdate=function(a,b){var c,d,e,f,g,h,i,j,k;for(f=0;f<b.length;f++)for(h=b[f],j=h.td_meta_map[a],g=0;g<j.length;g++){if(k=j[g],a==XF_GRID.COLUMN_TABLE_LEFT){if(k.column_data_type==XF_GRID.COLUMN_DATA_NO)continue;if(k.column_data_type==XF_GRID.COLUMN_DATA_CHECK)continue}d=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,k.column_index,h.sub_row_index),e=d.getcolumnitemmergeinfo(XF_GRID.ROW_TABLE_VIEW,h.row_index,!1),k.row_span==e.row_span&&k.column_span==e.column_span&&k.is_hidden==e.is_hidden||(i=h.td_jdom_map[a],c=$(i[g]),k.row_span!=e.row_span&&(c.attr("rowspan",e.row_span),k.row_span=e.row_span),k.column_span!=e.column_span&&(c.attr("colspan",e.column_span),k.column_span=e.column_span),k.is_hidden!=e.is_hidden&&(e.is_hidden?c.css("display","none"):c.css("display","table-cell"),k.is_hidden=e.is_hidden))}},XF_GRID.prototype._displayrwdtable=function(a,b){var c,d,e,f,g;if(d=this.view_start_row_index,this.tr_meta_map[XF_GRID.ROW_TABLE_RWD]=[],this.tr_jdom_map[XF_GRID.ROW_TABLE_RWD]=[],this.xf_rwd_body_view_table_tbody.empty(),this.view_display_row_count=0,c=this.getrowcount(),!(0>=c)){if(this.view_start_row_index=this._getviewstartrowindex(c),b&&this.xf_grid_scroll.showscrolltoprowpos(this.view_start_row_index+1+this.xf_prop.linenumber_offset),e=this.view_start_row_index+(this.rwd_view_max_row_count-1),e>=c&&(e=c-1),g=[],this.view_start_row_index>=0)for(f=this.view_start_row_index;e>=f;f++)this.xf_data_row_arr[f].is_hidden_row?(e++,e>=c&&(e=c-1)):(this.view_display_row_count++,g.push(this._getrwdrowhtml(f)));this.view_end_row_index=e,this.xf_rwd_body_view_table_tbody[0].innerHTML=g.join("")}},XF_GRID.prototype._callexprfunc=function(a,b,c,d,e,f){var g,h;return 0==b.length?null:(h=this.xf_parent.xf_content.xf_execution_context,0==_xfu.isfunction(h[b])?null:(a==XF_GRID.ROW_KIND_DATA||a==XF_GRID.ROW_KIND_STAT?g=this._ismultilinegrid()?h[b](c,d,e,f):h[b](c,e,f):a==XF_GRID.ROW_KIND_HEAD&&(g=h[b](c,e,f)),g&&void 0!==g.itemtext&&(g.itemtext=_xfu.str(g.itemtext)),g))},XF_GRID.prototype._makeclipboarddata=function(a,b,c,d,e,f){var g,h,i,j,k;for(void 0===f&&(f=!1),k=!1,2===factory_xf_param.GRID_COPY_DATA_TYPE&&(k=!0),j=[],g=b;c>=g;g++)if(0!=f||1!=this._ishiddenrow(a,g)){for(i=[],h=d;e>=h;h++)0==f&&1==this.ishiddencolumn(h)||(a==XF_GRID.ROW_KIND_DATA?i.push(this._getitemdisplaytext(g,0,h,k,XF_GRID.FILE_TYPE_GRID)):a==XF_GRID.ROW_KIND_HEAD&&i.push(this.getheadertext(g,h)));j.push(i.join("	"))}return j.join("\n")},XF_GRID.prototype._makeheaderclipboarddata=function(a,b,c,d,e){var f,g,h,i;for(void 0===e&&(e=!1),i=[],f=a;b>=f;f++)if(0!=e||1!=this._ishiddenrow(XF_GRID.ROW_KIND_HEAD,f)){for(h=[],g=c;d>=g;g++)0==e&&1==this.ishiddencolumn(g)||h.push(this.getheadertext(f,g));i.push(h.join("	"))}return i.join("\n")},XF_GRID.prototype._setviewmaxrowcount=function(){var a,b,c,d,e;if(a=this.xf_content.innerHeight(),this.is_rwd_mode){if(this.rwd_view_max_row_count=Math.ceil(a/this.rwd_row_height),this.rwd_view_row_count=this.rwd_view_max_row_count,this.rwd_view_extra_height=0,1==this.is_mobile_mode)return;return this.rwd_view_extra_height=a%this.rwd_row_height,void(this.rwd_view_extra_height>0&&this.rwd_view_row_count--)}if(b=this._gettableheight(XF_GRID.ROW_TABLE_VIEW),this.view_max_row_count=Math.ceil(b/(this.xf_prop.cell_height*this.sub_row_count)),this.view_row_count=this.view_max_row_count,this.view_extra_height=0,1!=this.is_mobile_mode){if(1==this.is_rowheight_mode){if(d=0,e=this._getrowcount(XF_GRID.ROW_KIND_DATA),e>0)for(c=e-1;c>=this.view_top_row_index&&(this._ishiddenrow(XF_GRID.ROW_KIND_DATA,c)||(d+=this._getrowheight(c),!(d>=b)));c--);b>=d?this.view_extra_height=0:this.view_extra_height=d-b}else this.view_extra_height=b%(this.xf_prop.cell_height*this.sub_row_count);this.view_extra_height>0&&this.view_row_count--}},XF_GRID.prototype._refreshrwdrowheight=function(){var a,b,c;if(b=this.getcolumncount(),this._ismultilinegrid())a=b*this.sub_row_count;else for(a=0,c=0;b>c;c++)0==this.ishiddencolumn(c)&&a++;return this.rwd_sub_row_count=a,this.rwd_row_height=this.xf_prop.cell_height*this.rwd_sub_row_count,this.rwd_row_height},XF_GRID.prototype._setrwdmode=function(){var a,b;return a=!1,b=this.getwidth(),b<this.xf_prop.rwd_width&&(a=!0),this.is_rwd_mode==a?!1:(this.is_rwd_mode=a,this.is_rwd_mode?(this.xf_rwd_body.show(),this.xf_grid_scroll.xf_prop.xf_view=this.xf_rwd_body_view,this.xf_grid_scroll.xf_prop.xf_content=this.xf_rwd_body_view_content,this.xf_grid_scroll.xf_prop.xf_sync_horz_target_arr=[],this.xf_grid_scroll.xf_prop.sync_horz_target_count=0,this.xf_grid_scroll.xf_prop.xf_sync_vert_target_arr=[],this.xf_grid_scroll.xf_prop.sync_vert_target_count=0):(this.xf_rwd_body.hide(),this.xf_grid_scroll.xf_prop.xf_view=this.xf_center_body_view,this.xf_grid_scroll.xf_prop.xf_content=this.xf_center_body_view_content,this.xf_grid_scroll.xf_prop.xf_sync_horz_target_arr=[this.xf_center_body_resize.xf_object,this.xf_center_body_fix_table,this.xf_center_body_head_table,this.xf_center_foot_stat_table],this.xf_grid_scroll.xf_prop.sync_horz_target_count=4,this.xf_grid_scroll.xf_prop.xf_sync_vert_target_arr=[this.xf_left_body_view_content,this.xf_right_body_view_content],
this.xf_grid_scroll.xf_prop.sync_vert_target_count=2),this.xf_grid_scroll.setscrollpos(XFD_SB_VERT,0),this.xf_grid_scroll.setscrollpos(XFD_SB_HORZ,0),this.xf_content.css({width:_xfu.px(this.getwidth()-this.padding_left-this.padding_right),height:_xfu.px(this.getheight()-this.padding_top-this.padding_bottom)}),this.xf_grid_scroll.reset(),this.xf_grid_scroll.refresh(),!0)},XF_GRID.prototype._displayitemchart=function(a){var b,c,d,e,f;if(0!=this.is_chart_column_exist)for(c=[],a==XF_GRID.ROW_TABLE_FIX?(this.fixedcols>0&&c.push(this.xf_left_body_fix_table_tbody),c.push(this.xf_center_body_fix_table_tbody)):a==XF_GRID.ROW_TABLE_VIEW?(this.fixedcols>0&&c.push(this.xf_left_body_view_table_tbody),c.push(this.xf_center_body_view_table_tbody)):a==XF_GRID.ROW_TABLE_STAT&&this._getrowcount(XF_GRID.ROW_KIND_STAT)>0&&(this.fixedcols>0&&c.push(this.xf_left_foot_stat_table_tbody),c.push(this.xf_center_foot_stat_table_tbody)),e=c.length,f=0;e>f;f++)d=c[f],b=d.find("._xf_grid_chart_box"),this._refreshchartbox(b)},XF_GRID.prototype._refreshchartbox=function(a){var b,c,d;return c="./xf5/ext/lib/jquery.sparkline.min.js",void 0!==_xf_param.SPARKLINK_JS_URL&&(c=_xf_param.SPARKLINK_JS_URL),this.xf_parent.xf_screen.isjsloaded(c)?void this._displaychartbox(a):(d=this,b=_xfj.element("script",c),this.xf_protect.showprotect(0,!1),void $(b).on("load",function(b){d.xf_protect.hideprotect(),d.xf_parent.xf_screen._addloadedjsurl(c),d._displaychartbox(a)}))},XF_GRID.prototype._displaychartbox=function(a){var b,c,d,e,f;for(d=a.length,b=0;d>b;b++)c=$(a[b]),e=_xfu.str(c.outerWidth()),f=_xfu.str(c.outerHeight()),c.hasClass("_xf_grid_chart_box_sparkline")?(c.find("canvas").remove(),c.sparkline("html",{type:"line",height:f,width:e})):c.hasClass("_xf_grid_chart_box_winlose")?(c.find("canvas").remove(),c.sparkline("html",{type:"tristate",height:f,width:e})):c.hasClass("_xf_grid_chart_box_bar")&&(c.find("canvas").remove(),c.sparkline("html",{type:"bar",height:f,width:e}))},XF_GRID.prototype._isinselectblock=function(a,b){return 0==this.xf_prop.use_selectblock||-1==this.selectblock_info.start_row_index||1==this._ismultilinegrid()?!1:a>=this.selectblock_info.start_row_index&&a<=this.selectblock_info.end_row_index&&b>=this.selectblock_info.start_column_index&&b<=this.selectblock_info.end_column_index},XF_GRID.prototype._selectitemaction=function(a){var b,c,d,e;if("copy"!=a&&"cut"!=a||(e=!1,2===factory_xf_param.GRID_COPY_DATA_TYPE&&(e=!0),b=this._getitemdisplaytext(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,e,XF_GRID.FILE_TYPE_GRID),b.length>0&&(this.xf_clipboard.val(b),_xfj.clipboardcopy(this.xf_clipboard),this.xf_clipboard.val(""))),"cut"==a||"delete"==a){if(c=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.selected_column_index,this.selected_sub_row_index),!c)return;if(d=c.getitemeditableinfo(this.selected_row_index,null,null,null),0==d.is_editable)return;this._ismultilinegrid()?this.setitemtext(this.selected_row_index,this.selected_sub_row_index,this.selected_column_index,""):this.setitemtext(this.selected_row_index,this.selected_column_index,"")}},XF_GRID.prototype._setitempropbycssexpr=function(a,b){var c,d,e,f,g,h;for(e=b.split(";"),d=e.length,c=0;d>c;c++)f=e[c].split(":"),2==f.length&&(g=f[0].trim(),"color"==g?(h=_xfu._rgbfunc(f[1].trim()),null!=h&&(a.forecolor=h.slice(0))):"background-color"==g&&(h=_xfu._rgbfunc(f[1].trim()),null!=h&&(a.backcolor=h.slice(0))))},XF_GRID.prototype._selectblockaction=function(a){var b,c,d,e,f;if("merge"==a)return void this.setitemmergerange(this.selectblock_info.start_row_index,this.selectblock_info.start_column_index,this.selectblock_info.end_row_index,this.selectblock_info.end_column_index);if("copy"!=a&&"cut"!=a||(b=this._makeclipboarddata(XF_GRID.ROW_KIND_DATA,this.selectblock_info.start_row_index,this.selectblock_info.end_row_index,this.selectblock_info.start_column_index,this.selectblock_info.end_column_index),this.xf_clipboard.val(b),_xfj.clipboardcopy(this.xf_clipboard)),"cut"==a||"delete"==a)for(c=this.selectblock_info.start_row_index;c<=this.selectblock_info.end_row_index;c++)for(d=this.selectblock_info.start_column_index;d<=this.selectblock_info.end_column_index;d++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,this.selected_column_index,this.selected_sub_row_index),e&&(f=e.getitemeditableinfo(this.selected_row_index,null,null,null),0!=f.is_editable&&this.setitemtext(c,d,""))},XF_GRID.prototype._scrollviewtabletrupdate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;for(d=this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW],f=0,i=this.xf_center_body_view_table_tbody.children("tr"),j=this.xf_left_body_view_table_tbody.children("tr"),this.xf_stat_column_arr.length>0&&(k=this.xf_right_body_view_table_tbody.children("tr")),h=this.getrowcount(),g=b;h-1>=g&&!(f>=c);g++)this.xf_data_row_arr[g].is_hidden_row||(e=d[a+f],e.is_divide_row=!1,e.row_kind_type=XF_GRID.ROW_KIND_DATA,this._ismidstatrow(g)?(e.row_data_type=XF_GRID.ROW_DATA_MIDSTAT,m=!0,n=this._getmidstatinfo(g),e.back_color_html="background-color:"+_xfu.rgbfunc(n.back_color)+";"):(e.row_data_type=XF_GRID.ROW_DATA_NORMAL,this._isdividerow(g)&&(e.is_divide_row=!0)),this._istreegrid()&&0!=this.xf_prop.folder_midstatistics&&(l=this._istreegridhaschild(this._getrowcount(XF_GRID.ROW_KIND_DATA),g,this._treegriditemdepth(g)),l&&(e.row_data_type=XF_GRID.ROW_DATA_MIDSTAT)),this.is_rowheight_mode?e.row_height=this.getrowheight(g):e.row_height=this.xf_prop.cell_height,e.row_index=g,i[a+f].outerHTML=this._getrowhtml(e,XF_GRID.COLUMN_TABLE_CENTER,XF_GRID.ROW_TABLE_VIEW,g,0),j[a+f].outerHTML=this._getrowhtml(e,XF_GRID.COLUMN_TABLE_LEFT,XF_GRID.ROW_TABLE_VIEW,g,0),this.xf_stat_column_arr.length>0&&(k[a+f].outerHTML=this._getrowhtml(e,XF_GRID.COLUMN_TABLE_RIGHT,XF_GRID.ROW_TABLE_VIEW,g,0)),f++)},XF_GRID.prototype._scrollviewtabletrappend=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;if(0!=b&&1!=this.is_mobile_mode){if(d=[],e=[],f=[],k=!(0>b),b=Math.abs(b),l=0,k)for(i=this.view_end_row_index+1;a-1>=i&&!(l>=b);i++)this.xf_data_row_arr[i].is_hidden_row||(l++,this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_VIEW,i,this.sub_row_count,d,e,f,!0));else for(i=this.view_start_row_index-1;i>=this.view_top_row_index&&!(l>=b);i--)this.xf_data_row_arr[i].is_hidden_row||(l++,this._getcolumntablerowhtml(XF_GRID.ROW_TABLE_VIEW,i,this.sub_row_count,d,e,f,!1));if(0!=l){if(h=k?"beforeend":"afterbegin",this.xf_center_body_view_table_tbody[0].insertAdjacentHTML(h,e.join("")),this.xf_left_body_view_table_tbody[0].insertAdjacentHTML(h,d.join("")),this.xf_right_body_view_table_tbody[0].insertAdjacentHTML(h,f.join("")),this._displayitemchart(XF_GRID.ROW_TABLE_VIEW),m=this.xf_center_body_view_table_tbody.children("tr"),n=this.xf_left_body_view_table_tbody.children("tr"),o=this.xf_right_body_view_table_tbody.children("tr"),g=this.tr_meta_map[XF_GRID.ROW_TABLE_VIEW],k)for(j=0;b>j;j++)g.shift(),$(m[j]).remove(),$(n[j]).remove(),$(o[j]).remove();else for(j=1;b>=j;j++)g.pop(),$(m[m.length-j]).remove(),$(n[n.length-j]).remove(),$(o[o.length-j]).remove();this._resettrindex(g),this.view_start_row_index=g[0].row_index,this.view_end_row_index=g[g.length-1].row_index}}},XF_GRID_LINEBAR.LINEBAR_HEADROW=1,XF_GRID_LINEBAR.LINEBAR_HEADCOLUMN=2,XF_GRID_LINEBAR.LINEBAR_STATROW=3,XF_GRID_LINEBAR.LINEBAR_STATCOLUMN=4,XF_GRID_LINEBAR.prototype._init=function(a){this.xf_grid=a,this.class_name="_xf_grid_linebar_header",this.is_show=!0},XF_GRID_LINEBAR.prototype._prop=function(a){switch(this.xf_prop={linebar_type:XF_GRID_LINEBAR.LINEBAR_HEADROW,linebar_color:[180,180,180],linebar_show:!0},$.extend(this.xf_prop,a),this.xf_prop.linebar_type){case XF_GRID_LINEBAR.LINEBAR_HEADROW:this.class_name="_xf_grid_linebar_headrow";break;case XF_GRID_LINEBAR.LINEBAR_HEADCOLUMN:this.class_name="_xf_grid_linebar_headcolumn";break;case XF_GRID_LINEBAR.LINEBAR_STATROW:this.class_name="_xf_grid_linebar_statrow";break;case XF_GRID_LINEBAR.LINEBAR_STATCOLUMN:this.class_name="_xf_grid_linebar_statcolumn"}},XF_GRID_LINEBAR.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push('<div class="'+this.class_name+'"'),a.push(' style="'),this.xf_prop.linebar_type===XF_GRID_LINEBAR.LINEBAR_HEADROW||this.xf_prop.linebar_type===XF_GRID_LINEBAR.LINEBAR_STATROW?a.push("border-top-color:"+_xfu.rgbfunc(this.xf_prop.linebar_color)+";"):a.push("border-left-color:"+_xfu.rgbfunc(this.xf_prop.linebar_color)+";"),a.push('"></div>')),0==_xf_htmlready_mode?(this.xf_grid.xf_content[0].insertAdjacentHTML("beforeend",a.join("")),this.xf_object=this.xf_grid.xf_object.find("."+this.class_name)):this.xf_object=this.xf_grid.xf_object.find("."+this.class_name),this.refresh()},XF_GRID_LINEBAR.prototype.refresh=function(){var a,b,c,d,e,f,g;c={},this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_HEADROW||this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_STATROW?(this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_HEADROW?c.top=_xfu.px(this.xf_grid.xf_left_body_head.height()-1):this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_STATROW&&(c.bottom=_xfu.px(this.xf_grid.xf_left_foot_stat.height()-1)),this.xf_grid.getstatcolumncount()>0?c.width="100%":(d=this.xf_grid.xf_left_body_head_table.width(),e=this.xf_grid.xf_center_body_head_table.width(),a=d+e,e>0&&(a-=1),c.width=_xfu.px(a)),0==this.xf_prop.linebar_show?c.display="none":this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_HEADROW?0==this.xf_grid.xf_prop.header_horzcount?c.display="none":c.display="block":this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_STATROW&&(0==this.xf_grid.getstatrowcount()?c.display="none":c.display="block")):(this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_HEADCOLUMN?(c.left=0,this.xf_grid.xf_prop.linenumber_show&&(c.left+=this.xf_prop.linenumber_width),this.xf_grid.xf_prop.use_checkrow&&(c.left+=this.xf_prop.checkrow_width),this.xf_grid.xf_prop.linenumber_show&&this.xf_grid.xf_prop.use_checkrow?c.left=_xfu.px(c.left):c.left=_xfu.px(c.left)):this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_STATCOLUMN&&(c.right=_xfu.px(this.xf_grid.xf_right_body_head.width()-1)),this.xf_grid.getstatrowcount()>0?c.height="100%":(f=this.xf_grid.xf_left_body_head_table.height(),g=this.xf_grid.xf_center_body_head_table.height(),b=f+g,g>0&&(b-=1),c.height=_xfu.px(b)),0==this.xf_prop.linebar_show?c.display="none":(this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_HEADCOLUMN&&0==this.xf_grid.xf_prop.linenumber_show&&0==this.xf_grid.xf_prop.use_checkrow&&(c.display="none"),this.xf_prop.linebar_type==XF_GRID_LINEBAR.LINEBAR_STATCOLUMN&&(0==this.xf_grid.getstatcolumncount()?c.display="none":c.display="block"))),this.xf_object.css(c)},XF_GRID_LINEBAR.prototype.remove=function(){this.xf_object.remove()},XF_GRID_LINEBAR.prototype.isshow=function(){return this.is_show},XF_GRID_LINEBAR.prototype.show=function(a){this.is_show=a,a?this.xf_object.show():this.xf_object.hide()},XF_GRID_POPUP_ALERT.ALERT_TYPE_SORTMERGE=1,XF_GRID_POPUP_ALERT.prototype._init=function(a){this.xf_grid=a,this.is_box_show=!1,this.xf_object=null,this.xf_modalbox=null},XF_GRID_POPUP_ALERT.prototype._prop=function(a){this.xf_prop={name:this.xf_grid.xf_prop.name+"_alertpopup",alert_type:"",xf_column_data:null},$.extend(this.xf_prop,a)},XF_GRID_POPUP_ALERT.prototype._box=function(){var a;a=[],a.push('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_alert_popup" style="'),a.push("display:none;"),this.xf_prop.alert_type==XF_GRID_POPUP_ALERT.ALERT_TYPE_SORTMERGE&&a.push("height:90px;"),a.push('"></div>'),this.xf_object=$(a.join(""))},XF_GRID_POPUP_ALERT.prototype._dom=function(){var a,b;this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_alert_popup_box"></div>'),this.xf_object.append(this.xf_box),a=[],a.push('<div class="_xf_popup_msgbox_icon _xf_popup_msgbox_icon_info"></div>'),a.push('<div class="_xf_grid_alert_popup_pbox">'),this.xf_prop.alert_type==XF_GRID_POPUP_ALERT.ALERT_TYPE_SORTMERGE&&(a.push(factory._userlang("병합된 셀이 있어서 데이타를 정렬할 수 없습니다.","Data cannot be sorted because there are merged cells.")),a.push("<br/>"),a.push(factory._userlang("병합된 셀들을 모두 해제한 후 정렬하시겠습니까?","Are you sure you want to release merge and sort?"))),a.push("</div>"),this.xf_box.append(a.join("")),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),this.xf_prop.alert_type==XF_GRID_POPUP_ALERT.ALERT_TYPE_SORTMERGE&&(b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("해제 및 정렬","Release & Sort")),b.push("</button>"),this.xf_release_merge_sort=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_both" style="display:none;">'),b.push(factory._userlang("정렬","Sort")),b.push("</button>"),this.xf_sort=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("닫기","Close")),b.push("</button>"),this.xf_close=$(b.join("")),this.xf_bottom_btnbox.append(this.xf_release_merge_sort),this.xf_bottom_btnbox.append(this.xf_sort),this.xf_bottom_btnbox.append(this.xf_close)),this.xf_box.append(this.xf_bottom_btnbox)},XF_GRID_POPUP_ALERT.prototype._offevent=function(){this.xf_prop.alert_type==XF_GRID_POPUP_ALERT.ALERT_TYPE_SORTMERGE&&(this.xf_release_merge_sort.off("click"),this.xf_sort.off("click"),this.xf_close.off("click"))},XF_GRID_POPUP_ALERT.prototype._event=function(){this.xf_release_merge_sort.on("click",$.proxy(this.on_relasesort_click,this)),this.xf_sort.on("click",$.proxy(this.on_sort_click,this)),this.xf_close.on("click",$.proxy(this.on_close_click,this))},XF_GRID_POPUP_ALERT.prototype.on_close_click=function(){this.xf_modalbox.hide()},XF_GRID_POPUP_ALERT.prototype.on_relasesort_click=function(){this._sort(!0)},XF_GRID_POPUP_ALERT.prototype.on_sort_click=function(){this._sort(!1)},XF_GRID_POPUP_ALERT.prototype._sort=function(a){var b;this.xf_modalbox.hide(),a&&this.xf_grid._deleteallitemmergeinfo(),b=this.xf_prop.xf_column_data.xf_column_data_prop.sort_base_column_name.length>0?this.getcolumn(this.xf_prop.xf_column_data.xf_column_data_prop.sort_base_column_name):this.xf_prop.column_index,this.xf_prop.is_headerclick&&0!=this.xf_prop.ctrl_key||this.xf_grid._resetcolumnsort(),this.xf_grid._addcolumnsortinfo(b,this.xf_prop.sub_row_index,this.xf_prop.sort_order),this.xf_grid._executecolumnsort()},XF_GRID_POPUP_FILTER.prototype._init=function(a){this.xf_grid=a,this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_modalbox=null,this.column_row_select_option="",this.column_select_option="",this.compare_select_option="",this.is_single_row_mode=!1},XF_GRID_POPUP_FILTER.prototype._prop=function(){this.xf_prop={name:this.xf_grid.xf_prop.name+"_filterpopup"},this._columnselectoption(),this.xf_grid._ismultilinegrid()&&this._columnrowselectoption(),this._filtercompareoption()},XF_GRID_POPUP_FILTER.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_filter_popup" style="display:none;"></div>')},XF_GRID_POPUP_FILTER.prototype._dom=function(){var a,b;this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_filter_popup_box"></div>'),this.xf_object.append(this.xf_box),a=[],a.push('<div class="_xf_grid_popup_pbox _xf_grid_filter_popup_pbox">'),a.push(factory._userlang("? 기호를 사용하여 한 문자를 나타낼 수 있습니다.","You can use ? symbol to represent one character.")),a.push("<br/>"),a.push(factory._userlang("* 기호를 사용하여 여러 문자를 나타낼 수 있습니다.","You can use * symbol to represent multi characters.")),a.push("</div>"),this.xf_box.append(a.join("")),this.xf_top_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_filter_popup_btnbox_top"></div>'),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("기준추가","Add")),b.push("</button>"),this.xf_add=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("기준삭제","Delete")),b.push("</button>"),this.xf_delete=$(b.join("")),this.xf_top_btnbox.append(this.xf_add),this.xf_top_btnbox.append(this.xf_delete),this.xf_box.append(this.xf_top_btnbox),this.xf_head_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_head_table _xf_grid_filter_popup_head_table"></table>'),a=[],a.push(this._colgroup()),a.push("<thead>"),a.push('<tr class="_xf_grid_popup_table_tr">'),a.push('<th class="_xf_grid_popup_head_table_th">'),a.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_headrow">'),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;">'),a.push(factory._userlang("열","Column")),a.push("</th>"),this.xf_grid._ismultilinegrid()&&(a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;">'),a.push(factory._userlang("행(서브)","Sub Row")),a.push("</th>")),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;" colspan="2">'),a.push(factory._userlang("필터조건","Condition")),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="display:none;">'),a.push(""),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;" colspan="2">'),a.push("AND"),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="display:none;">'),a.push(""),a.push("</th>"),a.push("</tr>"),a.push("</thead>"),this.xf_head_table.append(a.join("")),this.xf_box.append(this.xf_head_table),this.xf_parent=$('<div class="_xf_grid_popup_scroll_parent _xf_grid_filter_popup_scroll_parent"></div>'),this.xf_view=$('<div class="_xf_grid_popup_scroll_view"></div>'),this.xf_content=$('<div class="_xf_grid_popup_scroll_content"></div>'),this.xf_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_data_table _xf_grid_filter_popup_data_table"></table>'),a=[],a.push(this._colgroup()),this.xf_table.append(a.join("")),this.xf_tbody=$("<tbody></tbody>"),this.xf_table.append(this.xf_tbody),this.xf_content.append(this.xf_table),this.xf_view.append(this.xf_content),this.xf_parent.append(this.xf_view),this.xf_box.append(this.xf_parent),a=[],a.push('<div class="_xfd_border_top _xf_grid_popup_border_top"></div>'),a.push('<div class="_xfd_border_left _xf_grid_popup_border_left"></div>'),a.push('<div class="_xfd_border_right _xf_grid_popup_border_right"></div>'),a.push('<div class="_xfd_border_bottom _xf_grid_popup_border_bottom"></div>'),this.xf_parent.append(a.join("")),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("적용","Apply")),b.push("</button>"),this.xf_filter=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("취소","Cancel")),b.push("</button>"),this.xf_cancel=$(b.join("")),this.xf_bottom_btnbox.append(this.xf_filter),this.xf_bottom_btnbox.append(this.xf_cancel),this.xf_box.append(this.xf_bottom_btnbox),this.xf_vscroll=new XF_SCROLL(this.xf_parent,this.xf_view,this.xf_content,{id:this.xf_prop.name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)})},XF_GRID_POPUP_FILTER.prototype._offevent=function(){this.xf_add.off("click"),this.xf_delete.off("click"),this.xf_filter.off("click"),this.xf_cancel.off("click"),this.xf_tbody.off("click"),this.xf_head_table.off("click")},XF_GRID_POPUP_FILTER.prototype._event=function(){this._offevent(),this.xf_add.on("click",$.proxy(this.on_add_click,this)),this.xf_delete.on("click",$.proxy(this.on_delete_click,this)),this.xf_filter.on("click",$.proxy(this.on_filter_click,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this)),this.xf_tbody.on("click",$.proxy(this.on_tbody_click,this)),this.xf_head_table.on("click",$.proxy(this.on_headtable_click,this))},XF_GRID_POPUP_FILTER.prototype._colgroup=function(){var a=[];return a.push("<colgroup>"),a.push('<col style="width:20px;">'),this.xf_grid._ismultilinegrid()?(a.push('<col style="width:140px;">'),a.push('<col style="width:60px;">')):a.push('<col style="width:200px;">'),a.push('<col style="width:60px;">'),a.push('<col style="width:auto;">'),a.push('<col style="width:40px;">'),a.push('<col style="width:16px;">'),a.push("</colgroup>"),a.join("")},XF_GRID_POPUP_FILTER.prototype.setsinglerowmode=function(){var a,b,c,d,e;this.is_single_row_mode=!0,_xfj.enable(this.xf_add,!1),_xfj.enable(this.xf_delete,!1),e=this.xf_grid,this.xf_tbody.find("tr").each(function(f,g){a=$(g),b=a.find("._xf_grid_filter_popup_column_select"),d=a.find("._xf_grid_filter_popup_column_and"),_xfj.enable(b,!1),_xfj.enable(d,!1),e._ismultilinegrid()&&(c=a.find("._xf_grid_filter_popup_column_row_select"),_xfj.enable(c,!1))})},XF_GRID_POPUP_FILTER.prototype._columnrowselectoption=function(){var a,b;for(b=[],a=0;a<this.xf_grid.sub_row_count;a++)b.push('<option value="'+a+'">'+(a+1)+factory._userlang(" 행"," Row")+"</option>");this.column_row_select_option=b.join("")},XF_GRID_POPUP_FILTER.prototype._columnselectoption=function(){var a,b,c,d,e,f;for(f=[],a=this.xf_grid.getcolumncount(),b=0;a>b;b++){for(d=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,0),e=[],c=0;c<this.xf_grid.sub_row_count;c++)d=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,c),c>0?e[e.length-1]==d.xf_column_head_prop.title||e.push(d.xf_column_head_prop.title):e.push(d.xf_column_head_prop.title);f.push('<option value="'+b+'">'+(b+1)+factory._userlang("열 - ","Column - ")+e.join(",")+"</option>")}this.column_select_option=f.join("")},XF_GRID_POPUP_FILTER.prototype._filtercompareoption=function(){var a=[];a.push('<option value="=">=</option>'),a.push('<option value="<>"><></option>'),a.push('<option value=">">></option>'),a.push('<option value=">=">>=</option>'),a.push('<option value="<"><</option>'),a.push('<option value="<="><=</option>'),this.compare_select_option=a.join("")},XF_GRID_POPUP_FILTER.prototype._addrow=function(a,b,c,d,e){var f,g;g=[],void 0==b&&(b=0),g.push('<tr class="_xf_grid_popup_table_tr">'),g.push('<td class="_xf_grid_popup_data_table_td" style="padding:0px;">'),g.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_datarow">'),g.push("</td>"),g.push('<td class="_xf_grid_popup_data_table_td">'),g.push('<select class="_xf_grid_popup_table_td_select _xf_grid_filter_popup_column_select">'),g.push(this.column_select_option),g.push("</select>"),g.push("</td>"),this.xf_grid._ismultilinegrid()&&(g.push('<td class="_xf_grid_popup_data_table_td">'),g.push('<select class="_xf_grid_popup_table_td_select _xf_grid_filter_popup_column_row_select">'),g.push(this.column_row_select_option),g.push("</select>"),g.push("</td>")),g.push('<td class="_xf_grid_popup_data_table_td">'),g.push('<select class="_xf_grid_popup_table_td_select _xf_grid_filter_popup_compare_select">'),g.push(this.compare_select_option),g.push("</select>"),g.push("</td>"),g.push('<td class="_xf_grid_popup_data_table_td">'),g.push('<input type="text" class="_xf_grid_popup_table_td_input _xf_grid_filter_popup_compare_value"/>'),g.push("</td>"),g.push('<td class="_xf_grid_popup_data_table_td">'),g.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_filter_popup_column_and">'),g.push("</td>"),g.push('<td class="_xf_grid_popup_data_table_td">'),g.push("</td>"),g.push("</tr>"),f=$(g.join("")),this.xf_tbody.append(f),void 0!=a&&(f.find("._xf_grid_filter_popup_column_select").val(a),this.xf_grid._ismultilinegrid()&&f.find("._xf_grid_filter_popup_column_row_select").val(b),f.find("._xf_grid_filter__popup_compare_select").val(c),f.find("._xf_grid_filter_popup_compare_value").val(d),e?f.find("._xf_grid_filter_popup_column_and").prop("checked",!0):f.find("._xf_grid_filter_popup_column_and").val("checked",!1)),this.xf_vscroll.refresh()},XF_GRID_POPUP_FILTER.prototype.setmodalbox=function(a){this.xf_modalbox=a,this.xf_vscroll&&this.xf_vscroll.setdocument(this.xf_modalbox.getdocument())},XF_GRID_POPUP_FILTER.prototype.on_add_click=function(){this._addrow()},XF_GRID_POPUP_FILTER.prototype.on_delete_click=function(){var a,b;this.xf_tbody.find("._xf_grid_popup_table_td_check_datarow:checked").each(function(c,d){b=$(d),a=b.closest("tr"),a.remove()}),this.xf_content.css({left:"0px",top:"0px"}),this.xf_vscroll.syncbar(),this.xf_vscroll.refresh()},XF_GRID_POPUP_FILTER.prototype.on_filter_click=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;return f=this.xf_grid,a=0,this.xf_grid._resetcolumnfilter(),this.xf_tbody.find("tr").each(function(n,o){b=$(o),c=b.find("._xf_grid_filter_popup_column_select"),e=b.find("._xf_grid_filter_popup_compare_select"),g=b.find("._xf_grid_filter_popup_compare_value"),h=b.find("._xf_grid_filter_popup_column_and"),f._ismultilinegrid()&&(d=b.find("._xf_grid_filter_popup_column_row_select")),i=c.val(),k=e.val(),l=g.val(),m=!!h.is(":checked"),j="0",f._ismultilinegrid()&&(j=d.val()),l.length>0&&(f._addcolumnfilterinfo({column_index:_xfu["int"](i),sub_row_index:_xfu["int"](j),filter_type:XFD_FILTER_TEXT,compare_type:k,compare_value:l,compare_and:m,is_show_button:!0}),a++)}),0==a?void alert("필터 기준이 없습니다."):(this.xf_modalbox.hide(),void this.xf_grid._executecolumnfilter(this.xf_grid.filter_info_arr,!0))},XF_GRID_POPUP_FILTER.prototype.on_cancel_click=function(){this.xf_modalbox.hide()},XF_GRID_POPUP_FILTER.prototype.on_headtable_click=function(a){var b,c;b=$(a.target),0!=b.hasClass("_xf_grid_popup_table_td_check_headrow")&&(c=b.is(":checked"),this.xf_tbody.find("._xf_grid_popup_table_td_check_datarow").prop("checked",c),c?this.xf_tbody.find("tr").addClass("_xf_grid_popup_table_tr_selected"):this.xf_tbody.find("tr").removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_FILTER.prototype.on_tbody_click=function(a){var b,c,d;b=$(a.target),d=b.closest("tr"),this.xf_vscroll.focus(d),0!=b.hasClass("_xf_grid_popup_table_td_check_datarow")&&(c=b.is(":checked"),c?d.addClass("_xf_grid_popup_table_tr_selected"):d.removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_FILTER.prototype.on_scroll_start=function(){this.xf_grid._offdocevent()},XF_GRID_POPUP_FILTER.prototype.on_scroll_end=function(){_xfu.async({func:this.xf_grid._docevent,context:this.xf_grid})},XF_GRID_POPUP_FIND.prototype._init=function(a){this.xf_grid=a,this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_modalbox=null,this.column_row_select_option="",this.column_select_option="",this.compare_select_option=""},XF_GRID_POPUP_FIND.prototype._prop=function(){this.xf_prop={name:this.xf_grid.xf_prop.internal_name+"_findpopup"}},XF_GRID_POPUP_FIND.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_find_popup" style="display:none;"></div>')},XF_GRID_POPUP_FIND.prototype._dom=function(){var a,b,c,d,e,f,g;for(this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_find_popup_box" style="overflow:visible;"></div>'),this.xf_object.append(this.xf_box),a=[],a.push('<table style="width:100%"><tbody><tr><td style="width:70px;">'),a.push('<span style="'),a.push(_xfc.basic("imemode","1",!1,null)),a.push('">'),a.push(factory._userlang("찾을 내용 ","Keyword ")),a.push("</span>"),a.push("</td><td>"),a.push('<input type="text" id="_xf_grid_find_popup_searchtext" class="_xf_grid_load_popup_field" value="'),a.push(this.xf_grid.find_option_info.search_text),a.push('" style="width:100%;height:24px;">'),a.push("</td></tr></tbody></table>"),a.push('<fieldset class="_xf_grid_find_popup_fieldset" style="'),a.push("position:absolute;"),a.push("left:0px;"),a.push("top:26px;"),a.push("width:248px;"),a.push("height:120px;"),a.push('">'),a.push('<legend class="_xf_grid_find_popup_fieldset_legend">'+factory._userlang("찾을 컬럼","Column")+"</legend>"),a.push('<input type="radio" name="column_range" id="column_range_all" value="column_all" style="position:relative;top:2px;"'),a.push(1==this.xf_grid.find_option_info.is_search_all_column?" checked":""),a.push(">"),a.push('<label for="column_range_all"> '+factory._userlang("전체 칼럼","All Column")+"</label>"),a.push('<div style="height:5px;"></div>'),a.push('<input type="radio" name="column_range" id="column_range_one" value="column_one" style="position:relative;top:2px;"'),a.push(0==this.xf_grid.find_option_info.is_search_all_column?" checked":""),a.push(">"),a.push('<label for="column_range_one"> '+factory._userlang("선택 칼럼","Select Column")+"</label>"),a.push('<div style="height:5px;"></div>'),a.push('<select class="_xf_grid_popup_table_td_select _xf_grid_find_popup_column_select" style="height:24px;" value="'),a.push(this.xf_grid.find_option_info.search_column_index>=0?this.xf_grid.find_option_info.search_column_index:"0"),a.push('"'),1==this.xf_grid.find_option_info.is_search_all_column&&a.push(" disabled"),a.push(">"),c=this.xf_grid.getcolumncount(),d=0;c>d;d++)if(f=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,d,0),1!=this.xf_grid.ishiddencolumn(d)){for(g=[],e=0;e<this.xf_grid.sub_row_count;e++)f=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,d,e),e>0?g[g.length-1]==f.xf_column_head_prop.title||g.push(f.xf_column_head_prop.title):g.push(f.xf_column_head_prop.title);a.push('<option value="'+d+'"'),d==this.xf_grid.find_option_info.search_column_index&&a.push(" selected"),a.push(">"+(d+1)+factory._userlang("열 - ","Column - ")+g.join(",")),a.push("</option>")}a.push("</select>"),a.push("</fieldset>"),a.push('<fieldset class="_xf_grid_find_popup_fieldset" style="'),a.push("position:absolute;"),a.push("right:0px;"),a.push("top:26px;"),a.push("width:190px;"),a.push("height:120px;"),a.push('">'),a.push('<legend class="_xf_grid_find_popup_fieldset_legend">'+factory._userlang("비교 기준","Condition")+"</legend>"),a.push('<input checked type="radio" name="compare_type" id="compare_type_all" value="compare_all" style="position:relative;top:2px;"'),a.push(0==this.xf_grid.find_option_info.compare_type?" checked":""),a.push(">"),a.push('<label for="compare_type_all"> '+factory._userlang("모든 단어 일치","All")+"</label>"),a.push("</br>"),a.push('<input type="radio" name="compare_type" id="compare_type_first" value="compare_first" style="position:relative;top:2px;"'),a.push(1==this.xf_grid.find_option_info.compare_type?" checked":""),a.push(">"),a.push('<label for="compare_type_first"> '+factory._userlang("앞글자 일치","First")+"</label>"),a.push("</br>"),a.push('<input type="radio" name="compare_type" id="compare_type_last" value="compare_last" style="position:relative;top:2px;"'),a.push(2==this.xf_grid.find_option_info.compare_type?" checked":""),a.push(">"),a.push('<label for="compare_type_last"> '+factory._userlang("뒷글자 일치","Last")+"</label>"),a.push("</br>"),a.push('<input type="radio" name="compare_type" id="compare_type_middle" value="compare_middle" style="position:relative;top:2px;"'),a.push(3==this.xf_grid.find_option_info.compare_type?" checked":""),a.push(">"),a.push('<label for="compare_type_middle"> '+factory._userlang("가운데 일치","Middle")+"</label>"),a.push("</fieldset>"),a.push('<fieldset class="_xf_grid_find_popup_fieldset" style="'),a.push("position:absolute;"),a.push("left:0px;"),a.push("top:150px;"),a.push("width:248px;"),a.push("height:80px;"),a.push('">'),a.push('<legend class="_xf_grid_find_popup_fieldset_legend">'+factory._userlang("시작 위치","Start")+"</legend>"),a.push('<input checked type="radio" name="row_start" id="row_start_first" value="row_start_first" style="position:relative;top:2px;"'),a.push(1==this.xf_grid.find_option_info.is_search_from_toprow?" checked":""),a.push(">"),a.push('<label for="row_start_first"> '+factory._userlang("첫 행부터 찾기","First Row")+"</label>"),a.push("</br>"),a.push('<input type="radio" name="row_start" id="row_start_select" value="row_start_select" style="position:relative;top:2px;"'),a.push(0==this.xf_grid.find_option_info.is_search_from_toprow?" checked":""),a.push(">"),a.push('<label for="row_start_select"> '+factory._userlang("포커스 행 이후부터 찾기","Select Row")+"</label>"),a.push("</fieldset>"),a.push('<fieldset class="_xf_grid_find_popup_fieldset" style="'),a.push("position:absolute;"),a.push("right:0px;"),
a.push("top:150px;"),a.push("width:190px;"),a.push("height:80px;"),a.push('">'),a.push('<legend class="_xf_grid_find_popup_fieldset_legend">'+factory._userlang("기타 옵션","Option")+"</legend>"),a.push('<input type="checkbox" name="compare_case" id="compare_type_case" value="compare_case" style="position:relative;top:2px;"'),a.push(1==this.xf_grid.find_option_info.is_match_case?" checked":""),a.push(">"),a.push('<label for="compare_type_case"> '+factory._userlang("대/소문자 구분","Check Case")+"</label>"),a.push("</br>"),a.push('<input type="checkbox" name="search_loop" id="search_loop" value="1" style="position:relative;top:2px;"'),a.push(1==this.xf_grid.find_option_info.is_search_loop?" checked":""),a.push(">"),a.push('<label for="search_loop"> '+factory._userlang("되돌아 검색","Search Loop")+"</label>"),a.push("</fieldset>"),this.xf_box.append(a.join("")),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("찾기","Find")),b.push("</button>"),this.xf_find=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("취소","Cancel")),b.push("</button>"),this.xf_cancel=$(b.join("")),this.xf_bottom_btnbox.append(this.xf_find),this.xf_bottom_btnbox.append(this.xf_cancel),this.xf_box.append(this.xf_bottom_btnbox),this.xf_search_text=this.xf_object.find("#_xf_grid_find_popup_searchtext"),this.xf_column_range_all=this.xf_object.find("#column_range_all"),this.xf_column_range_one=this.xf_object.find("#column_range_one"),this.xf_column_select=this.xf_object.find("._xf_grid_find_popup_column_select"),this.xf_compare_type_all=this.xf_object.find("#compare_type_all"),this.xf_compare_type_first=this.xf_object.find("#compare_type_first"),this.xf_compare_type_last=this.xf_object.find("#compare_type_last"),this.xf_compare_type_middle=this.xf_object.find("#compare_type_middle"),this.xf_row_start_first=this.xf_object.find("#row_start_first"),this.xf_row_start_select=this.xf_object.find("#row_start_select"),this.xf_compare_type_case=this.xf_object.find("#compare_type_case"),this.xf_search_loop=this.xf_object.find("#search_loop")},XF_GRID_POPUP_FIND.prototype._offevent=function(){_xfj.offtarget("click",[this.xf_find,this.xf_cancel,this.xf_column_range_all,this.xf_column_range_one]),this.xf_search_text.off("keyup"),_xfj.offevent(this.xf_object,["mousedown","click","keydown","keyup"])},XF_GRID_POPUP_FIND.prototype._event=function(){this._offevent(),this.xf_column_range_all.on("click",$.proxy(this.on_columnrangeall_click,this)),this.xf_column_range_one.on("click",$.proxy(this.on_columnrangeone_click,this)),this.xf_find.on("click",$.proxy(this.on_find_click,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this)),this.xf_search_text.on("keydown",$.proxy(this.on_searchtext_keydown,this)),this.xf_search_text.on("focus",$.proxy(this.on_searchtext_focus,this)),this.xf_object.on("mousedown",$.proxy(this.on_object_eventstop,this)),this.xf_object.on("click",$.proxy(this.on_object_eventstop,this)),this.xf_object.on("keydown",$.proxy(this.on_object_eventstop,this)),this.xf_object.on("keyup",$.proxy(this.on_object_eventstop,this))},XF_GRID_POPUP_FIND.prototype._create=function(){var a;a=this,setTimeout(function(b){a.xf_search_text.focus()},0)},XF_GRID_POPUP_FIND.prototype.setmodalbox=function(a){this.xf_modalbox=a},XF_GRID_POPUP_FIND.prototype.on_object_eventstop=function(a){a.stopPropagation()},XF_GRID_POPUP_FIND.prototype.on_searchtext_focus=function(a){var b,c;return b=1,this.xf_grid.xf_parent&&this.xf_grid.xf_parent.xf_screen&&(c=this.xf_grid.xf_parent.xf_screen.xf_window),c||(c=window),c._xf5_setimemode?c._xf5_setimemode(b):!1},XF_GRID_POPUP_FIND.prototype.on_searchtext_keydown=function(a){a.which==XFD_KEY_ESC&&this.on_cancel_click()},XF_GRID_POPUP_FIND.prototype.on_columnrangeall_click=function(a){a.stopPropagation(),this.xf_column_range_all.is(":checked")&&this.xf_column_select.attr("disabled",!0)},XF_GRID_POPUP_FIND.prototype.on_columnrangeone_click=function(a){a.stopPropagation(),this.xf_column_range_one.is(":checked")&&this.xf_column_select.attr("disabled",!1)},XF_GRID_POPUP_FIND.prototype.on_find_click=function(){return event.stopPropagation(),this.xf_grid.find_option_info.search_text=this.xf_search_text.val(),this.xf_grid.find_option_info.search_column_index=this.xf_grid.selected_column_index,this.xf_grid.find_option_info.is_search_all_column=this.xf_column_range_all.is(":checked"),0==this.xf_grid.find_option_info.is_search_all_column&&(this.xf_grid.find_option_info.search_column_index=_xfu["int"](this.xf_column_select.val())),this.xf_compare_type_all.is(":checked")?this.xf_grid.find_option_info.compare_type=0:this.xf_compare_type_first.is(":checked")?this.xf_grid.find_option_info.compare_type=1:this.xf_compare_type_last.is(":checked")?this.xf_grid.find_option_info.compare_type=2:this.xf_compare_type_middle.is(":checked")&&(this.xf_grid.find_option_info.compare_type=3),this.xf_row_start_first.is(":checked")?(this.xf_grid.find_option_info.is_search_from_toprow=!0,this.xf_grid.find_option_info.start_row_index=0,this.xf_grid.find_option_info.start_sub_row_index=0):(this.xf_grid.find_option_info.is_search_from_toprow=!1,this.xf_grid.find_option_info.start_row_index=this.xf_grid.selected_row_index,this.xf_grid.find_option_info.start_sub_row_index=this.xf_grid.selected_sub_row_index),this.xf_grid.find_option_info.is_match_case=this.xf_compare_type_case.is(":checked"),this.xf_grid.find_option_info.is_search_loop=this.xf_search_loop.is(":checked"),0==this.xf_grid.find_option_info.search_text.length?void alert(factory._userlang("찾을 내용을 입력하세요.","Please enter what you want to find")):(this.xf_modalbox.hide(),this.xf_grid.find_option_info.selected_row_index=this.xf_grid.selected_row_index,this.xf_grid.find_option_info.selected_sub_row_index=this.xf_grid.selected_sub_row_index,this.xf_grid.find_option_info.selected_column_index=this.xf_grid.selected_column_index,1==this.xf_grid.find_option_info.is_search_from_toprow&&(this.xf_grid.selected_row_index=0,this.xf_grid.selected_sub_row_index=0,this.xf_grid.selected_column_index>=0&&this.xf_grid.selected_column_index--),void this.xf_grid.xf_findbox.show(this.xf_grid.find_option_info.search_text))},XF_GRID_POPUP_FIND.prototype.on_cancel_click=function(){event.stopPropagation(),this.xf_modalbox.hide(),this.xf_grid.setfocus()},XF_GRID_POPUP_FIXBAR.prototype._init=function(a){this.xf_grid=a},XF_GRID_POPUP_FIXBAR.prototype._member=function(){this.is_box_show=!1,this.xf_object=null,this.xf_modalbox=null},XF_GRID_POPUP_FIXBAR.prototype._prop=function(){this.xf_prop={name:this.xf_grid.xf_prop.name+"_fixbarpopup"},this._columnselectoption()},XF_GRID_POPUP_FIXBAR.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_fixbar_popup" style="display:none;"></div>')},XF_GRID_POPUP_FIXBAR.prototype._dom=function(){var a,b;this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_fixbar_popup_box"></div>'),this.xf_object.append(this.xf_box),a=[],a.push('<span class="_xf_grid_fixbar_popup_label _xf_grid_fixbar_popup_label_row">'),a.push(factory._userlang("행(Zero-Base)","Row(0-Base)")),a.push("</span>"),a.push('<span class="_xf_grid_fixbar_popup_label _xf_grid_fixbar_popup_label_column">'),a.push(factory._userlang("열(Zero-Base)","Col(0-Base)")),a.push("</span>"),this.xf_box.append(a.join("")),this.xf_fixbar_row=$('<input type="text" class="_xf_grid_fixbar_popup_input _xf_grid_fixbar_popup_input_row" value="'+this.xf_grid.xf_prop.fixedrows+'"/>'),a=[],a.push('<select class="_xf_grid_fixbar_popup_input _xf_grid_fixbar_popup_input_column">'),a.push(this.column_select_option),a.push("</select>"),this.xf_fixbar_column=$(a.join("")),this.xf_box.append(this.xf_fixbar_row),this.xf_box.append(this.xf_fixbar_column),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("적용","Apply")),b.push("</button>"),this.xf_fixbar=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("취소","Cancel")),b.push("</button>"),this.xf_cancel=$(b.join("")),this.xf_bottom_btnbox.append(this.xf_fixbar),this.xf_bottom_btnbox.append(this.xf_cancel),this.xf_box.append(this.xf_bottom_btnbox),this.xf_fixbar_row.val(this.xf_grid.fixedrows),this.xf_fixbar_column.val(this.xf_grid.fixedcols),0==this.xf_grid.xf_prop.dynamic_fixedrows&&this.xf_fixbar_row.prop("disabled",!0),0==this.xf_grid.xf_prop.dynamic_fixedcols&&this.xf_fixbar_column.prop("disabled",!0)},XF_GRID_POPUP_FIXBAR.prototype._offevent=function(){this.xf_fixbar.off("click"),this.xf_cancel.off("click")},XF_GRID_POPUP_FIXBAR.prototype._event=function(){this._offevent(),this.xf_fixbar.on("click",$.proxy(this.on_fixbar_click,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this))},XF_GRID_POPUP_FIXBAR.prototype.on_fixbar_click=function(){var a,b,c;return c=!1,a=this.xf_fixbar_row.val(),b=this.xf_fixbar_column.val(),a=_xfu["int"](a),b=_xfu["int"](b),0==this.xf_grid._isvalidfixedrow(a)?void alert(factory._userlang("유효하지 않은 고정행 값입니다.","Invalid Fixed Row Value")):0==this.xf_grid._isvalidfixedcolumn(b)?void alert(factory._userlang("유효하지 않은 고정열 값입니다.","Invalid Fixed Column Value")):(this.xf_grid.fixedrows!=a&&(c=!0,this.xf_grid.fixedrows=a),this.xf_grid.fixedcols!=b&&(c=!0,this.xf_grid.fixedcols=b),this.xf_modalbox.hide(),void(c&&this.xf_grid._afterchangecolumncallback()))},XF_GRID_POPUP_FIXBAR.prototype.on_cancel_click=function(){this.xf_modalbox.hide()},XF_GRID_POPUP_FIXBAR.prototype._columnselectoption=function(){var a,b,c,d;for(d=[],a=this.xf_grid.getcolumncount(),d.push('<option value="0">'),d.push(factory._userlang("초기값","Init")),d.push("</option>"),b=0;a>b;b++)c=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,0),d.push('<option value="'+(b+1)+'">'),d.push(factory._userlang(b+1+"열 - ",b+1+"Col - ")),d.push(c.xf_column_head_prop.title),d.push("</option>");this.column_select_option=d.join("")},XF_GRID_POPUP_LOAD.prototype._init=function(a){this.xf_grid=a,this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_modalbox=null,this.column_row_select_option="",this.column_select_option="",this.compare_select_option=""},XF_GRID_POPUP_LOAD.prototype._prop=function(a){this.xf_prop={name:this.xf_grid.xf_prop.name+"_loadpopup",file_name:"no_name.xls",file_type:XF_GRID.FILE_TYPE_EXCEL,file_load_type:XF_GRID.FILE_LOADSAVE_TYPE_SERVER,is_show_filedlg:!0,row_no:1,column_name:"A",file_row_count_per_grid_row:1,is_append_mode:!1,data_delimiter:","},$.extend(this.xf_prop,a)},XF_GRID_POPUP_LOAD.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_load_popup" style="display:none;"></div>')},XF_GRID_POPUP_LOAD.prototype._dom=function(){var a,b;this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_load_popup_box"></div>'),this.xf_object.append(this.xf_box),a=[],a.push('<div class="_xf_grid_popup_pbox _xf_grid_load_popup_pbox">'),a.push('<input type="checkbox" id="_xf_grid_load_popup_append" class="_xf_grid_load_popup_check"'),this.xf_prop.is_append_mode&&a.push(" checked"),a.push("/>"),a.push('<label class="_xf_grid_load_popup_check_label" for="_xf_grid_load_popup_append">'),a.push(factory._userlang("Append 모드","Append Mode")),a.push("</label>"),a.push("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),a.push('<div style="display:inline;">'),this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL?(a.push(factory._userlang("엑셀(XLSX) 파일 암호 ","XLSX Password ")),a.push('<input type="password" id="_xf_grid_load_popup_password" class="_xf_grid_load_popup_field" value=""/>')):a.push('<input type="password" id="_xf_grid_load_popup_password" class="_xf_grid_load_popup_field" style="display:none;" value=""/>'),a.push("</div>"),a.push("<br/>"),a.push(factory._userlang("읽기 시작 위치","Load Start Position")),this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL?(a.push(factory._userlang(": 시트 범위 ",": Sheet Range ")),a.push('<input type="text" id="_xf_grid_popup_grid_load_sheet_start_no" class="_xf_grid_load_popup_field" style="width:20px;" value="1"/>'),a.push(" ~ "),a.push('<input type="text" id="_xf_grid_popup_grid_load_sheet_end_no" class="_xf_grid_load_popup_field" style="width:20px;" value="1"/>')):(a.push('<input type="text" id="_xf_grid_popup_grid_load_sheet_start_no" class="_xf_grid_load_popup_field" style="width:20px;display:none;" value="1"/>'),a.push('<input type="text" id="_xf_grid_popup_grid_load_sheet_end_no" class="_xf_grid_load_popup_field" style="width:20px;display:none;" value="1"/>')),a.push("<br/>"),a.push(factory._userlang("&nbsp;&nbsp;행 ","&nbsp;&nbsp;Row ")),a.push('<input type="text" id="_xf_grid_popup_grid_load_row_no" class="_xf_grid_load_popup_field" value="1"/>'),a.push(factory._userlang(" (1이상의 숫자값)"," (More Than 1)")),a.push("<br/>"),a.push(factory._userlang("&nbsp;&nbsp;열 ","&nbsp;&nbsp;Col ")),a.push('<input type="text" id="_xf_grid_load_popup_column_name" class="_xf_grid_load_popup_field" value="A"/>'),this.xf_prop.file_type==XF_GRID.FILE_TYPE_CSV||this.xf_prop.file_type==XF_GRID.FILE_TYPE_TEXT?(a.push(factory._userlang(" 구분자 "," Delimiter ")),a.push('<input type="text" id="_xf_grid_load_popup_data_delimiter" class="_xf_grid_load_popup_field"'),a.push(' title="'+factory._userlang("탭문자 사용을 위해서는 'tab' 문자열 지정","Specify a 'tab' string for tab character")+'"'),a.push(' style="width:30px;text-align:center;"'),a.push(' value="'),"	"==this.xf_prop.data_delimiter?a.push('tab"/>'):a.push(this.xf_prop.data_delimiter+'"/>')):a.push(factory._userlang(" (A ~ IV까지 알파벳)"," (A ~ IV)")),a.push("<br/>"),a.push(factory._userlang("그리드 한행에 읽어들일 엑셀 행 갯수를 입력하여 주십시요.","Excel Row Count Per Grid One Row.")),a.push("<br/>"),a.push(factory._userlang("&nbsp;&nbsp;행 갯수 ","&nbsp;&nbsp;Count ")),a.push('<input type="text" id="_xf_grid_load_popup_file_row_count" class="_xf_grid_load_popup_field" value="1"/>'),a.push(factory._userlang(" (1이상의 숫자값)"," (More Than 1)")),a.push("</div>"),this.xf_box.append(a.join("")),this.xf_append_mode=this.xf_box.find("#_xf_grid_load_popup_append"),this.xf_sheet_start_no=this.xf_box.find("#_xf_grid_popup_grid_load_sheet_start_no"),this.xf_sheet_end_no=this.xf_box.find("#_xf_grid_popup_grid_load_sheet_end_no"),this.xf_row_no=this.xf_box.find("#_xf_grid_popup_grid_load_row_no"),this.xf_column_name=this.xf_box.find("#_xf_grid_load_popup_column_name"),this.xf_data_delimiter=this.xf_box.find("#_xf_grid_load_popup_data_delimiter"),this.xf_file_row_count=this.xf_box.find("#_xf_grid_load_popup_file_row_count"),this.xf_excel_password=this.xf_box.find("#_xf_grid_load_popup_password"),this.xf_row_no.val(this.xf_prop.row_no),this.xf_column_name.val(this.xf_prop.column_name),this.xf_file_row_count.val(this.xf_prop.file_row_count_per_grid_row),this.xf_prop.file_type==XF_GRID.FILE_TYPE_CSV||this.xf_prop.file_type==XF_GRID.FILE_TYPE_TEXT?this.xf_column_name.prop("disabled",!0):this.xf_column_name.prop("disabled",!1),this.xf_grid._ismultilinegrid()?this.xf_file_row_count.prop("disabled",!1):this.xf_file_row_count.prop("disabled",!0),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("확인","Load")),b.push("</button>"),this.xf_load=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("취소","Cancel")),b.push("</button>"),this.xf_cancel=$(b.join("")),this.xf_bottom_btnbox.append(this.xf_load),this.xf_bottom_btnbox.append(this.xf_cancel),this.xf_box.append(this.xf_bottom_btnbox)},XF_GRID_POPUP_LOAD.prototype._offevent=function(){this.xf_load.off("click"),this.xf_cancel.off("click")},XF_GRID_POPUP_LOAD.prototype._event=function(){this._offevent(),this.xf_load.on("click",$.proxy(this.on_load_click,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this))},XF_GRID_POPUP_LOAD.prototype.on_load_click=function(){var a,b,c,d,e,f,g;a=this.xf_row_no.val(),b=this.xf_column_name.val(),c=this.xf_file_row_count.val(),e=this.xf_sheet_start_no.val(),f=this.xf_sheet_end_no.val(),d=this.xf_append_mode.is(":checked"),this.xf_prop.file_type!=XF_GRID.FILE_TYPE_CSV&&this.xf_prop.file_type!=XF_GRID.FILE_TYPE_TEXT||this.xf_data_delimiter.val().length>0&&(this.xf_prop.data_delimiter=this.xf_data_delimiter.val()),"tab"==this.xf_prop.data_delimiter.toLowerCase()&&(this.xf_prop.data_delimiter="	"),0==a.length&&(a=1),a=_xfu["int"](a),(isNaN(a)||1>=a)&&(a=1),0==b.length&&(b="A"),b=b.toUpperCase(),0==c.length&&(c=1),c=_xfu["int"](c),(isNaN(c)||0>=c)&&(c=1),0==e.length&&(e=1),e=_xfu["int"](e),(isNaN(e)||0>=e)&&(e=1),0==f.length&&(f=1),f=_xfu["int"](f),(isNaN(f)||0>=f)&&(f=1),e>f&&(f=e),this.xf_prop.file_type==XF_GRID.FILE_TYPE_CSV?(g=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_UPLOADSTART,"CSV"),1!==g&&2!==g||this.xf_modalbox.hide(),1===g&&this.xf_grid._readcsv(this.xf_prop.file_name,a,!0,c,this.xf_prop.is_show_filedlg,d,this.xf_prop.data_delimiter)):this.xf_prop.file_type==XF_GRID.FILE_TYPE_TEXT?(g=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_UPLOADSTART,"TEXT"),1!==g&&2!==g||this.xf_modalbox.hide(),1===g&&this.xf_grid._readtext(this.xf_prop.file_name,a,!0,c,this.xf_prop.is_show_filedlg,d,this.xf_prop.data_delimiter)):this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL&&(this.xf_prop.file_load_type==XF_GRID.FILE_LOADSAVE_TYPE_LOCAL&&(this.xf_modalbox.hide(),this.xf_grid._readexcel(this.xf_prop.file_name,1,1,a,b,!0,c,this.xf_prop.is_show_filedlg)),this.xf_prop.file_load_type==XF_GRID.FILE_LOADSAVE_TYPE_SERVER&&(g=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_UPLOADSTART,"EXCEL"),1!==g&&2!==g||this.xf_modalbox.hide(),1===g&&this.xf_grid.uploadexcelex(e,f,a,b,c,d,this.xf_excel_password.val())))},XF_GRID_POPUP_LOAD.prototype.on_cancel_click=function(){var a,b;this.xf_prop.file_type==XF_GRID.FILE_TYPE_CSV?b="EXCEL":this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL&&(b="CSV"),a=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_UPLOADCANCEL,b),0!==a&&this.xf_modalbox.hide()},XF_GRID_POPUP_MERGE.prototype._init=function(a){this.xf_grid=a},XF_GRID_POPUP_MERGE.prototype._member=function(){this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_modalbox=null,this.row_select_option="",this.column_select_option="",this.compare_select_option="",this.is_single_row_mode=!1},XF_GRID_POPUP_MERGE.prototype._prop=function(){this.xf_prop={name:this.xf_grid.xf_prop.name+"_mergepopup"},this._columnselectoption(),this._rowselectoption()},XF_GRID_POPUP_MERGE.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_merge_popup" style="display:none;"></div>')},XF_GRID_POPUP_MERGE.prototype._dom=function(){var a;this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_merge_popup_box"></div>'),this.xf_object.append(this.xf_box),a=[],a.push('<div class="_xf_grid_popup_pbox _xf_grid_merge_popup_pbox">'),a.push(factory._userlang("시작행과 시작열은 병합 범위의 시작 아이템을 의미합니다.","The Start line/column mean the start item of the merge range.")),a.push("<br/>"),a.push(factory._userlang("종료행과 종료열은 병합 범위의 끝 아이템을 의미합니다.","The End row/column mean the end item of the merge range.")),a.push("</div>"),this.xf_box.append(a.join("")),this.xf_top_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_merge_popup_btnbox_top"></div>'),this.xf_add=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'+factory._userlang("기준추가","Add")+"</button>"),this.xf_delete=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'+factory._userlang("기준삭제","Delete")+"</button>"),this.xf_top_btnbox.append(this.xf_add),this.xf_top_btnbox.append(this.xf_delete),this.xf_box.append(this.xf_top_btnbox),this.xf_head_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_head_table _xf_grid_merge_popup_head_table"></table>'),a=[],a.push(this._colgroup()),a.push("<thead>"),a.push('<tr class="_xf_grid_popup_table_tr">'),a.push('<th class="_xf_grid_popup_head_table_th">'),a.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_headrow">'),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;">'),a.push(factory._userlang("시작행","Start Row")),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;">'),a.push(factory._userlang("시작열","Start Col")),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;">'),a.push(factory._userlang("종료행","End Row")),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;">'),a.push(factory._userlang("종료열","End Col")),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="">'),a.push(""),a.push("</th>"),a.push("</tr>"),a.push("</thead>"),this.xf_head_table.append(a.join("")),this.xf_box.append(this.xf_head_table),this.xf_parent=$('<div class="_xf_grid_popup_scroll_parent _xf_grid_merge_popup_scroll_parent"></div>'),this.xf_view=$('<div class="_xf_grid_popup_scroll_view"></div>'),this.xf_content=$('<div class="_xf_grid_popup_scroll_content"></div>'),this.xf_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_data_table _xf_grid_merge_popup_data_table"></table>'),a=[],a.push(this._colgroup()),this.xf_table.append(a.join("")),this.xf_tbody=$("<tbody></tbody>"),this.xf_table.append(this.xf_tbody),this.xf_content.append(this.xf_table),this.xf_view.append(this.xf_content),this.xf_parent.append(this.xf_view),this.xf_box.append(this.xf_parent),a=[],a.push('<div class="_xfd_border_top _xf_grid_popup_border_top"></div>'),a.push('<div class="_xfd_border_left _xf_grid_popup_border_left"></div>'),a.push('<div class="_xfd_border_right _xf_grid_popup_border_right"></div>'),a.push('<div class="_xfd_border_bottom _xf_grid_popup_border_bottom"></div>'),this.xf_parent.append(a.join("")),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),this.xf_merge=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'+factory._userlang("적용","Apply")+"</button>"),this.xf_cancel=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'+factory._userlang("취소","Cancel")+"</button>"),this.xf_bottom_btnbox.append(this.xf_merge),this.xf_bottom_btnbox.append(this.xf_cancel),this.xf_box.append(this.xf_bottom_btnbox),this.xf_vscroll=new XF_SCROLL(this.xf_parent,this.xf_view,this.xf_content,{id:this.xf_prop.name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)})},XF_GRID_POPUP_MERGE.prototype._offevent=function(){this.xf_add.off("click"),this.xf_delete.off("click"),this.xf_merge.off("click"),this.xf_cancel.off("click"),this.xf_tbody.off("click"),this.xf_head_table.off("click")},XF_GRID_POPUP_MERGE.prototype._event=function(){this._offevent(),this.xf_add.on("click",$.proxy(this.on_add_click,this)),this.xf_delete.on("click",$.proxy(this.on_delete_click,this)),this.xf_merge.on("click",$.proxy(this.on_merge_click,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this)),this.xf_tbody.on("click",$.proxy(this.on_tbody_click,this)),this.xf_head_table.on("click",$.proxy(this.on_headtable_click,this))},XF_GRID_POPUP_MERGE.prototype._colgroup=function(){var a=[];return a.push("<colgroup>"),a.push('<col style="width:20px;">'),a.push('<col style="auto;">'),a.push('<col style="auto;">'),a.push('<col style="auto;">'),a.push('<col style="auto;">'),a.push('<col style="width:16px;">'),a.push("</colgroup>"),a.join("")},XF_GRID_POPUP_MERGE.prototype._rowselectoption=function(){var a,b;for(b=[],a=0;a<this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA);a++)b.push('<option value="'+a+'">'+(a+1)+factory._userlang(" 행","")+"</option>");this.row_select_option=b.join("")},XF_GRID_POPUP_MERGE.prototype._columnselectoption=function(){var a,b,c,d,e,f;for(f=[],a=this.xf_grid.getcolumncount(),b=0;a>b;b++){for(d=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,0),e=[],c=0;c<this.xf_grid.sub_row_count;c++)d=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,b,c),c>0?e[e.length-1]==d.xf_column_head_prop.title||e.push(d.xf_column_head_prop.title):e.push(d.xf_column_head_prop.title);f.push('<option value="'+b+'">'+(b+1)+factory._userlang("열 - ","")+e.join(",")+"</option>")}this.column_select_option=f.join("")},XF_GRID_POPUP_MERGE.prototype._addrow=function(a,b,c,d){var e,f,g,h,i,j;j=[],j.push('<tr class="_xf_grid_popup_table_tr">'),j.push('<td class="_xf_grid_popup_data_table_td" style="padding:0px;">'),j.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_datarow">'),j.push("</td>"),j.push('<td class="_xf_grid_popup_data_table_td">'),j.push('<select class="_xf_grid_popup_table_td_select _xf_grid_merge_popup_start_row_select" value="'+a+'">'),j.push(this.row_select_option),j.push("</select>"),j.push("</td>"),j.push('<td class="_xf_grid_popup_data_table_td">'),j.push('<select class="_xf_grid_popup_table_td_select _xf_grid_merge_popup_start_column_select" value="'+b+'">'),j.push(this.column_select_option),j.push("</select>"),j.push("</td>"),j.push('<td class="_xf_grid_popup_data_table_td">'),j.push('<select class="_xf_grid_popup_table_td_select _xf_grid_merge_popup_end_row_select" value="'+c+'">'),j.push(this.row_select_option),j.push("</select>"),j.push("</td>"),j.push('<td class="_xf_grid_popup_data_table_td">'),j.push('<select class="_xf_grid_popup_table_td_select _xf_grid_merge_popup_end_column_select" value="'+d+'">'),j.push(this.column_select_option),j.push("</select>"),j.push("</td>"),j.push('<td class="_xf_grid_popup_data_table_td">'),j.push("</td>"),j.push("</tr>"),e=$(j.join("")),this.xf_tbody.append(e),f=e.find("._xf_grid_merge_popup_start_row_select"),g=e.find("._xf_grid_merge_popup_start_column_select"),h=e.find("._xf_grid_merge_popup_end_row_select"),i=e.find("._xf_grid_merge_popup_end_column_select"),f.val(a),g.val(b),h.val(c),i.val(d),this.xf_vscroll.refresh()},XF_GRID_POPUP_MERGE.prototype.setmodalbox=function(a){this.xf_modalbox=a,this.xf_vscroll&&this.xf_vscroll.setdocument(this.xf_modalbox.getdocument())},XF_GRID_POPUP_MERGE.prototype.on_add_click=function(){this._addrow("","","","")},XF_GRID_POPUP_MERGE.prototype.on_delete_click=function(){var a,b;this.xf_tbody.find("._xf_grid_popup_table_td_check_datarow:checked").each(function(c,d){b=$(d),a=b.closest("tr"),a.remove()}),this.xf_content.css({left:"0px",top:"0px"}),this.xf_vscroll.syncbar(),this.xf_vscroll.refresh()},XF_GRID_POPUP_MERGE.prototype.on_merge_click=function(){var a,b,c,d,e,f,g,h,i,j;j=this.xf_grid,this.xf_grid._deleteallitemmergeinfo(!1),this.xf_tbody.find("tr").each(function(k,l){a=$(l),b=a.find("._xf_grid_merge_popup_start_row_select"),c=a.find("._xf_grid_merge_popup_start_column_select"),d=a.find("._xf_grid_merge_popup_end_row_select"),e=a.find("._xf_grid_merge_popup_end_column_select"),f=b.val(),g=c.val(),h=d.val(),i=e.val(),j.setitemmergerangeex(_xfu["int"](f),_xfu["int"](g),_xfu["int"](h),_xfu["int"](i),!1)}),this.xf_modalbox.hide(),this.xf_grid._refreshgrid()},XF_GRID_POPUP_MERGE.prototype.on_cancel_click=function(){this.xf_modalbox.hide()},XF_GRID_POPUP_MERGE.prototype.on_headtable_click=function(a){var b,c;b=$(a.target),0!=b.hasClass("_xf_grid_popup_table_td_check_headrow")&&(c=b.is(":checked"),this.xf_tbody.find("._xf_grid_popup_table_td_check_datarow").prop("checked",c),c?this.xf_tbody.find("tr").addClass("_xf_grid_popup_table_tr_selected"):this.xf_tbody.find("tr").removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_MERGE.prototype.on_tbody_click=function(a){var b,c,d;b=$(a.target),d=b.closest("tr"),this.xf_vscroll.focus(d),0!=b.hasClass("_xf_grid_popup_table_td_check_datarow")&&(c=b.is(":checked"),c?d.addClass("_xf_grid_popup_table_tr_selected"):d.removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_MERGE.prototype.on_scroll_start=function(){this.xf_grid._offdocevent()},XF_GRID_POPUP_MERGE.prototype.on_scroll_end=function(){_xfu.async({func:this.xf_grid._docevent,context:this.xf_grid})},XF_GRID_POPUP_SAVE.prototype._init=function(a){this.xf_grid=a,this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_modalbox=null,this.column_row_select_option="",this.column_select_option="",this.compare_select_option=""},XF_GRID_POPUP_SAVE.prototype._prop=function(a){this.xf_prop={name:this.xf_grid.xf_prop.name+"_savepopup",file_name:"",file_type:XF_GRID.FILE_TYPE_CSV,file_save_type:XF_GRID.FILE_LOADSAVE_TYPE_LOCAL,is_include_header:!0,is_include_pattern:!0,is_include_statdata:!0,is_include_border:!0,is_include_align:!0,is_save_onerow:!1,is_include_font:!1,is_include_backcolor:!1,is_include_forecolor:!1,is_include_itemstyle:!1,is_include_itemmerge:!1,data_delimiter:","},$.extend(this.xf_prop,a)},XF_GRID_POPUP_SAVE.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_save_popup" style="display:none;"></div>')},XF_GRID_POPUP_SAVE.prototype._dom=function(){var a,b;this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_save_popup_box"></div>'),this.xf_object.append(this.xf_box),this.xf_grid._ismultilinegrid()&&this.xf_box.css("height","116px"),a=[],a.push('<div class="_xf_grid_popup_pbox _xf_grid_save_popup_pbox">'),a.push('<input type="checkbox" id="_xf_grid_save_popup_header" class="_xf_grid_save_popup_check"/>'),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_header">'),a.push(factory._userlang("수평헤더 제목","Include Header")),a.push("</label>"),a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_pattern" class="_xf_grid_save_popup_check"/>'),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_pattern">'),a.push(factory._userlang("패턴","Pattern")),a.push("</label>"),a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_statdata" class="_xf_grid_save_popup_check"/>'),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_statdata">'),a.push(factory._userlang("통계 데이터","Statistics")),a.push("</label>"),a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_border" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_border">'),a.push(factory._userlang("경계선","Border")),a.push("</label>"),a.push("<br/>"),a.push('<input type="checkbox" id="_xf_grid_save_popup_align" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_align">'),a.push(factory._userlang("정렬","Align")),a.push("</label>"),a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_font" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_font">'),a.push(factory._userlang("폰트","Font")),a.push("</label>"),a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_backcolor" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),
a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_backcolor">'),a.push(factory._userlang("배경색","Back Color")),a.push("</label>"),factory_xf_param.GRID_EXCELDOWNLOAD_FORECOLOR&&(a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_forecolor" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_forecolor">'),a.push(factory._userlang("전경색","Fore Color")),a.push("</label>")),factory_xf_param.GRID_EXCELDOWNLOAD_ITEMSTYLE&&(a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_itemstyle" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_itemstyle">'),a.push(factory._userlang("아이템별 스타일","Item Style")),a.push("</label>")),factory_xf_param.GRID_EXCELDOWNLOAD_ITEMMERGE&&0==this.xf_grid._ismultilinegrid()&&(a.push("&nbsp;&nbsp;"),a.push('<input type="checkbox" id="_xf_grid_save_popup_itemmerge" class="_xf_grid_save_popup_check"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(" disabled"),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_itemmerge">'),a.push(factory._userlang("데이터 병합","Data Merge")),a.push("</label>")),this.xf_grid._ismultilinegrid()&&(a.push("<br/>"),a.push('<input type="checkbox" id="_xf_grid_save_popup_onerow" class="_xf_grid_save_popup_check"'),a.push("/>"),a.push('<label class="_xf_grid_save_popup_check_label" for="_xf_grid_save_popup_onerow">'),a.push(factory._userlang("한행으로 내보내기","One Row")),a.push("</label>")),a.push("<br/>"),a.push('<div style="display:inline;">'),a.push(factory._userlang("파일 이름 ","File Name ")),a.push('<input type="text" id="_xf_grid_save_popup_filename" class="_xf_grid_load_popup_field"'),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push(' style="width:270px;"'),0==this.xf_prop.file_name.length?this._filename():a.push(" disabled"),a.push(' value="'),a.push(this.xf_prop.file_name+'"/>'),this.xf_prop.file_type!=XF_GRID.FILE_TYPE_CSV&&this.xf_prop.file_type!=XF_GRID.FILE_TYPE_TEXT||(a.push(factory._userlang(" 구분자 "," Delimiter ")),a.push('<input type="text" id="_xf_grid_save_popup_data_delimiter" class="_xf_grid_load_popup_field"'),a.push(' title="'+factory._userlang("탭문자 사용을 위해서는 'tab' 문자열 지정","Specify a 'tab' string for tab character")+'"'),a.push(' style="width:30px;text-align:center;"'),a.push(' value="'),"	"==this.xf_prop.data_delimiter?a.push('tab"/>'):a.push(this.xf_prop.data_delimiter+'"/>')),a.push("</div>"),a.push("&nbsp;&nbsp;"),a.push('<div style="'),a.push("display:inline;"),this.xf_prop.file_type!==XF_GRID.FILE_TYPE_EXCEL&&a.push("visibility:hidden;"),a.push('">'),a.push(factory._userlang("엑셀(XLSX) 파일 암호 ","XLSX Password ")),a.push('<input type="password" id="_xf_grid_save_popup_password" class="_xf_grid_load_popup_field" value=""/>'),a.push("</div>"),a.push("</div>"),this.xf_box.append(a.join("")),this.xf_grid._ismultilinegrid()&&(this.xf_pbox=this.xf_box.find("._xf_grid_save_popup_pbox"),this.xf_pbox.css("height","88px"),this.xf_saveonerow=this.xf_box.find("#_xf_grid_save_popup_onerow"),this.xf_prop.is_save_onerow&&this.xf_saveonerow.prop("checked",!0)),this.xf_header=this.xf_box.find("#_xf_grid_save_popup_header"),this.xf_pattern=this.xf_box.find("#_xf_grid_save_popup_pattern"),this.xf_statdata=this.xf_box.find("#_xf_grid_save_popup_statdata"),this.xf_border=this.xf_box.find("#_xf_grid_save_popup_border"),this.xf_align=this.xf_box.find("#_xf_grid_save_popup_align"),this.xf_font=this.xf_box.find("#_xf_grid_save_popup_font"),this.xf_backcolor=this.xf_box.find("#_xf_grid_save_popup_backcolor"),this.xf_forecolor=this.xf_box.find("#_xf_grid_save_popup_forecolor"),this.xf_itemstyle=this.xf_box.find("#_xf_grid_save_popup_itemstyle"),this.xf_itemmerge=this.xf_box.find("#_xf_grid_save_popup_itemmerge"),this.xf_excel_filename=this.xf_box.find("#_xf_grid_save_popup_filename"),this.xf_data_delimiter=this.xf_box.find("#_xf_grid_save_popup_data_delimiter"),this.xf_excel_password=this.xf_box.find("#_xf_grid_save_popup_password"),this.xf_prop.is_include_header&&this.xf_header.prop("checked",!0),this.xf_prop.is_include_pattern&&this.xf_pattern.prop("checked",!0),this.xf_prop.is_include_statdata&&this.xf_statdata.prop("checked",!0),this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL&&(this.xf_prop.is_include_border&&this.xf_border.prop("checked",!0),this.xf_prop.is_include_align&&this.xf_align.prop("checked",!0),this.xf_prop.is_include_backcolor&&this.xf_backcolor.prop("checked",!0),this.xf_prop.is_include_font&&this.xf_font.prop("checked",!0),this.xf_prop.is_include_forecolor&&this.xf_forecolor.prop("checked",!0),this.xf_prop.is_include_itemstyle&&this.xf_itemstyle.prop("checked",!0),this.xf_prop.is_include_itemmerge&&this.xf_itemmerge.prop("checked",!0)),this.xf_grid._ismultilinegrid()||(this.xf_head_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_head_table _xf_grid_save_popup_head_table"></table>'),a=[],a.push(this._colgroup()),a.push("<thead>"),a.push('<tr class="_xf_grid_popup_table_tr">'),a.push('<th class="_xf_grid_popup_head_table_th">'),a.push('<input type="checkbox" checked class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_headrow">'),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="padding-bottom:1px;" colspan="2">'),a.push(factory._userlang("열","Column")),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th" style="display:none;">'),a.push(""),a.push("</th>"),a.push("</tr>"),a.push("</thead>"),this.xf_head_table.append(a.join("")),this.xf_box.append(this.xf_head_table),this.xf_parent=$('<div class="_xf_grid_popup_scroll_parent _xf_grid_save_popup_scroll_parent"></div>'),this.xf_view=$('<div class="_xf_grid_popup_scroll_view"></div>'),this.xf_content=$('<div class="_xf_grid_popup_scroll_content"></div>'),this.xf_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_data_table _xf_grid_save_popup_data_table"></table>'),a=[],a.push(this._colgroup()),this.xf_table.append(a.join("")),this.xf_tbody=$("<tbody></tbody>"),this.xf_table.append(this.xf_tbody),this.xf_content.append(this.xf_table),this.xf_view.append(this.xf_content),this.xf_parent.append(this.xf_view),this.xf_box.append(this.xf_parent),a=[],a.push('<div class="_xfd_border_top _xf_grid_popup_border_top"></div>'),a.push('<div class="_xfd_border_left _xf_grid_popup_border_left"></div>'),a.push('<div class="_xfd_border_right _xf_grid_popup_border_right"></div>'),a.push('<div class="_xfd_border_bottom _xf_grid_popup_border_bottom"></div>'),this.xf_parent.append(a.join(""))),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'),b.push(factory._userlang("저장","Save")),b.push("</button>"),this.xf_save=$(b.join("")),b=[],b.push('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'),b.push(factory._userlang("닫기","Close")),b.push("</button>"),this.xf_close=$(b.join("")),this.xf_bottom_btnbox.append(this.xf_save),this.xf_bottom_btnbox.append(this.xf_close),this.xf_box.append(this.xf_bottom_btnbox),this.xf_grid._ismultilinegrid()||(this.xf_vscroll=new XF_SCROLL(this.xf_parent,this.xf_view,this.xf_content,{id:this.xf_prop.name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)}))},XF_GRID_POPUP_SAVE.prototype._offevent=function(){this.xf_save.off("click"),this.xf_close.off("click"),this.xf_grid._ismultilinegrid()||(this.xf_tbody.off("click"),this.xf_head_table.off("click"))},XF_GRID_POPUP_SAVE.prototype._event=function(){this._offevent(),this.xf_save.on("click",$.proxy(this.on_save_click,this)),this.xf_close.on("click",$.proxy(this.on_close_click,this)),this.xf_grid._ismultilinegrid()||(this.xf_tbody.on("click",$.proxy(this.on_tbody_click,this)),this.xf_head_table.on("click",$.proxy(this.on_headtable_click,this)))},XF_GRID_POPUP_SAVE.prototype._colgroup=function(){var a;return a=[],a.push("<colgroup>"),a.push('<col style="width:20px;">'),a.push('<col style="width:auto;">'),a.push('<col style="width:16px;">'),a.push("</colgroup>"),a.join("")},XF_GRID_POPUP_SAVE.prototype._addrow=function(a,b){var c,d;d=[],d.push('<tr class="_xf_grid_popup_table_tr">'),d.push('<td class="_xf_grid_popup_data_table_td" style="padding:0px;">'),d.push('<input type="checkbox" checked class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_datarow">'),d.push("</td>"),d.push('<td class="_xf_grid_popup_data_table_td" style="text-align:left;">'),d.push('<span class="_xf_grid_popup_table_td_span" data-column_index="'+a+'">'+b+"</span>"),d.push("</td>"),d.push('<td class="_xf_grid_popup_data_table_td">'),d.push("</td>"),d.push("</tr>"),c=$(d.join("")),this.xf_tbody.append(c),null!=this.xf_vscroll&&this.xf_vscroll.refresh()},XF_GRID_POPUP_SAVE.prototype._filename=function(){if(0!=this.xf_prop.file_name.length){if(this.xf_prop.file_name.split(".").length<2)switch(this.xf_prop.file_type){case XF_GRID.FILE_TYPE_CSV:this.xf_prop.file_name+=".csv";break;case XF_GRID.FILE_TYPE_EXCEL:this.xf_prop.file_name+=".xlsx";break;case XF_GRID.FILE_TYPE_TEXT:this.xf_prop.file_name+=".txt";break;case XF_GRID.FILE_TYPE_XML:this.xf_prop.file_name+=".xml";break;case XF_GRID.FILE_TYPE_JSON:this.xf_prop.file_name+=".json";break;default:this.xf_prop.file_name+=".xlsx"}}else switch(this.xf_prop.file_type){case XF_GRID.FILE_TYPE_CSV:this.xf_prop.file_name="no_name.csv";break;case XF_GRID.FILE_TYPE_EXCEL:this.xf_prop.file_name="no_name.xlsx";break;case XF_GRID.FILE_TYPE_TEXT:this.xf_prop.file_name="no_name.txt";break;case XF_GRID.FILE_TYPE_XML:this.xf_prop.file_name="no_name.xml";break;case XF_GRID.FILE_TYPE_JSON:this.xf_prop.file_name="no_name.json";break;default:this.xf_prop.file_name="no_name.xlsx"}},XF_GRID_POPUP_SAVE.prototype.setmodalbox=function(a){this.xf_modalbox=a,this.xf_vscroll&&this.xf_vscroll.setdocument(this.xf_modalbox.getdocument())},XF_GRID_POPUP_SAVE.prototype.on_cancel_click=function(){var a,b;this.xf_grid._ismultilinegrid()||(this.xf_tbody.find("._xf_grid_save_popup_table_check:checked").each(function(c,d){b=$(d),a=b.closest("tr"),a.remove()}),this.xf_content.css({left:"0px",top:"0px"})),null!=this.xf_vscroll&&(this.xf_vscroll.syncbar(),this.xf_vscroll.refresh())},XF_GRID_POPUP_SAVE.prototype.on_save_click=function(){var a,b,c,d,e,f,g,h;return e=null,this.xf_grid._ismultilinegrid()||(e=[],this.xf_tbody.find("tr").each(function(f,g){a=$(g),c=a.find("._xf_grid_popup_table_td_check_datarow"),c.is(":checked")&&(d=a.find("._xf_grid_popup_table_td_span"),b=_xfu["int"](d.data("column_index")),e.push(b))}),f=e.length,0!=f)?(g=!1,this.xf_grid._ismultilinegrid()&&(g=this.xf_saveonerow.is(":checked")),factory_xf_param.GRID_EXCELDOWNLOAD_ITEMSTYLE&&(this.xf_prop.is_include_itemstyle=this.xf_itemstyle.is(":checked")),factory_xf_param.GRID_EXCELDOWNLOAD_ITEMMERGE&&(this.xf_prop.is_include_itemmerge=this.xf_itemmerge.is(":checked")),factory_xf_param.GRID_EXCELDOWNLOAD_FORECOLOR&&(this.xf_prop.is_include_forecolor=this.xf_forecolor.is(":checked")),this.xf_prop.file_name=this.xf_excel_filename.val(),this._filename(),this.xf_prop.file_type!=XF_GRID.FILE_TYPE_CSV&&this.xf_prop.file_type!=XF_GRID.FILE_TYPE_TEXT||this.xf_data_delimiter.val().length>0&&(this.xf_prop.data_delimiter=this.xf_data_delimiter.val()),"tab"==this.xf_prop.data_delimiter.toLowerCase()&&(this.xf_prop.data_delimiter="	"),void(this.xf_prop.file_type==XF_GRID.FILE_TYPE_CSV||this.xf_prop.file_type==XF_GRID.FILE_TYPE_TEXT||this.xf_prop.file_type==XF_GRID.FILE_TYPE_XML||this.xf_prop.file_type==XF_GRID.FILE_TYPE_JSON?(h=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_DOWNLOADSTART,"CSV"),1!==h&&2!==h||this.xf_modalbox.hide(),1===h&&this.xf_grid._writedatafile(this.xf_prop.file_type,this.xf_prop.file_name,e,{is_include_header:this.xf_header.is(":checked"),is_include_pattern:this.xf_pattern.is(":checked"),is_include_statdata:this.xf_statdata.is(":checked"),is_include_border:this.xf_border.is(":checked"),is_include_align:this.xf_align.is(":checked"),is_include_backcolor:this.xf_backcolor.is(":checked"),is_include_font:this.xf_font.is(":checked"),is_include_forecolor:this.xf_prop.is_include_forecolor,is_include_itemstyle:this.xf_prop.is_include_itemstyle,is_include_itemmerge:this.xf_prop.is_include_itemmerge,is_save_onerow:g,data_delimiter:this.xf_prop.data_delimiter})):this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL&&(this.xf_prop.file_save_type==XF_GRID.FILE_LOADSAVE_TYPE_LOCAL?(this.xf_modalbox.hide(),this.xf_grid._writeexcelfile(this.xf_prop.file_name,e,{is_include_header:this.xf_header.is(":checked"),is_include_pattern:this.xf_pattern.is(":checked"),is_include_statdata:this.xf_statdata.is(":checked"),is_include_border:this.xf_border.is(":checked"),is_include_align:this.xf_align.is(":checked"),is_include_backcolor:this.xf_backcolor.is(":checked"),is_include_font:this.xf_font.is(":checked"),is_include_forecolor:this.xf_prop.is_include_forecolor,is_include_itemstyle:this.xf_prop.is_include_itemstyle,is_include_itemmerge:this.xf_prop.is_include_itemmerge,is_save_onerow:g})):(h=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_DOWNLOADSTART,"EXCEL"),1!==h&&2!==h||this.xf_modalbox.hide(),1===h&&this.xf_grid._downloadexcelfile(this.xf_prop.file_name,e,{is_include_header:this.xf_header.is(":checked"),is_include_pattern:this.xf_pattern.is(":checked"),is_include_statdata:this.xf_statdata.is(":checked"),is_include_border:this.xf_border.is(":checked"),is_include_align:this.xf_align.is(":checked"),is_include_backcolor:this.xf_backcolor.is(":checked"),is_include_font:this.xf_font.is(":checked"),is_save_onerow:g,is_include_forecolor:this.xf_prop.is_include_forecolor,is_include_itemstyle:this.xf_prop.is_include_itemstyle,is_include_itemmerge:this.xf_prop.is_include_itemmerge,excel_password:this.xf_excel_password.val()}))))):void alert(factory._userlang("저장 대상 칼럼이 없습니다.","No Column to save."))},XF_GRID_POPUP_SAVE.prototype.on_close_click=function(){var a,b;this.xf_prop.file_type==XF_GRID.FILE_TYPE_CSV?b="CSV":this.xf_prop.file_type==XF_GRID.FILE_TYPE_EXCEL&&(b="EXCEL"),a=factory._fireevent({xf_component:this.xf_grid,event_name:"on_useraction",default_value:1,is_fire_async:!1},this.xf_grid,XF_GRID.USERACTION_FILE_DOWNLOADCANCEL,b),0!==a&&this.xf_modalbox.hide()},XF_GRID_POPUP_SAVE.prototype.on_headtable_click=function(a){var b,c;b=$(a.target),0!=b.hasClass("_xf_grid_popup_table_td_check_headrow")&&(c=b.is(":checked"),this.xf_tbody.find("._xf_grid_popup_table_td_check_datarow").prop("checked",c),c?this.xf_tbody.find("tr").addClass("_xf_grid_popup_table_tr_selected"):this.xf_tbody.find("tr").removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_SAVE.prototype.on_tbody_click=function(a){var b,c,d;b=$(a.target),d=b.closest("tr"),null!=this.xf_vscroll&&this.xf_vscroll.focus(d),0!=b.hasClass("_xf_grid_popup_table_td_check_datarow")&&(c=b.is(":checked"),c?d.addClass("_xf_grid_popup_table_tr_selected"):d.removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_SAVE.prototype.on_scroll_start=function(){this.xf_grid._offdocevent()},XF_GRID_POPUP_SAVE.prototype.on_scroll_end=function(){_xfu.async({func:this.xf_grid._docevent,context:this.xf_grid})},XF_GRID_POPUP_SORT.prototype._init=function(a){this.xf_grid=a},XF_GRID_POPUP_SORT.prototype._member=function(){this.is_box_show=!1,this.xf_object=null,this.xf_vscroll=null,this.xf_modalbox=null,this.column_select_option="",this.column_row_select_option="",this.sort_select_option=""},XF_GRID_POPUP_SORT.prototype._prop=function(){this.xf_prop={name:this.xf_grid.xf_prop.name+"_sortpopup"},this._columnselectoption(),this.xf_grid._ismultilinegrid()&&this._columnrowselectoption(),this._sortselectoption()},XF_GRID_POPUP_SORT.prototype._box=function(){this.xf_object=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup _xf_grid_sort_popup" style="display:none;"></div>')},XF_GRID_POPUP_SORT.prototype._dom=function(){var a=[];this.xf_box=$('<div id="'+this.xf_prop.name+'" class="_xf_grid_popup_box _xf_grid_sort_popup_box"></div>'),this.xf_object.append(this.xf_box),this.xf_top_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_sort_popup_btnbox_top"></div>'),this.xf_add=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'+factory._userlang("기준추가","Add")+"</button>"),this.xf_delete=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'+factory._userlang("기준삭제","Delete")+"</button>"),this.xf_top_btnbox.append(this.xf_add),this.xf_top_btnbox.append(this.xf_delete),this.xf_box.append(this.xf_top_btnbox),this.xf_head_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_head_table _xf_grid_sort_popup_head_table"></table>'),a.push(this._colgroup()),a.push("<thead>"),a.push('<tr class="_xf_grid_popup_table_tr">'),a.push('<th class="_xf_grid_popup_head_table_th">'),a.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_headrow">'),a.push("</th>"),a.push('<th class="_xf_grid_popup_head_table_th">'),a.push(factory._userlang("열","Column")),a.push("</th>"),this.xf_grid._ismultilinegrid()&&(a.push('<th class="_xf_grid_popup_head_table_th">'),a.push(factory._userlang("행(서브)","Sub Row")),a.push("</th>")),a.push('<th class="_xf_grid_popup_head_table_th" colspan="2">'),a.push(factory._userlang("기준","Condition")),a.push("</th>"),a.push("</tr>"),a.push("</thead>"),this.xf_head_table.append(a.join("")),this.xf_box.append(this.xf_head_table),this.xf_parent=$('<div class="_xf_grid_popup_scroll_parent _xf_grid_sort_popup_scroll_parent"></div>'),this.xf_view=$('<div class="_xf_grid_popup_scroll_view"></div>'),this.xf_content=$('<div class="_xf_grid_popup_scroll_content"></div>'),this.xf_table=$('<table class="_xf_grid_popup_table _xf_grid_popup_data_table _xf_grid_sort_popup_data_table"></table>'),a=[],a.push(this._colgroup()),this.xf_table.append(a.join("")),this.xf_tbody=$("<tbody></tbody>"),this.xf_table.append(this.xf_tbody),this.xf_content.append(this.xf_table),this.xf_view.append(this.xf_content),this.xf_parent.append(this.xf_view),this.xf_box.append(this.xf_parent),a=[],a.push('<div class="_xfd_border_top _xf_grid_popup_border_top"></div>'),a.push('<div class="_xfd_border_left _xf_grid_popup_border_left"></div>'),a.push('<div class="_xfd_border_right _xf_grid_popup_border_right"></div>'),a.push('<div class="_xfd_border_bottom _xf_grid_popup_border_bottom"></div>'),this.xf_parent.append(a.join("")),this.xf_bottom_btnbox=$('<div class="_xf_grid_popup_btnbox _xf_grid_popup_btnbox_bottom"></div>'),this.xf_sort=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_right">'+factory._userlang("정렬","Sort")+"</button>"),this.xf_cancel=$('<button class="_xf_grid_popup_btn _xf_grid_popup_btn_margin_left">'+factory._userlang("닫기","Close")+"</button>"),this.xf_bottom_btnbox.append(this.xf_sort),this.xf_bottom_btnbox.append(this.xf_cancel),this.xf_box.append(this.xf_bottom_btnbox),this.xf_vscroll=new XF_SCROLL(this.xf_parent,this.xf_view,this.xf_content,{id:this.xf_prop.name+"_vscroll",top:3,right:3,width:10,type:XF_SCROLL.VERT_SCROLL,on_scroll_start:$.proxy(this.on_scroll_start,this),on_scroll_end:$.proxy(this.on_scroll_end,this)})},XF_GRID_POPUP_SORT.prototype._offevent=function(){this.xf_add.off("click"),this.xf_delete.off("click"),this.xf_sort.off("click"),this.xf_cancel.off("click"),this.xf_tbody.off("click"),this.xf_head_table.off("click")},XF_GRID_POPUP_SORT.prototype._event=function(){this._offevent(),this.xf_add.on("click",$.proxy(this.on_add_click,this)),this.xf_delete.on("click",$.proxy(this.on_delete_click,this)),this.xf_sort.on("click",$.proxy(this.on_sort_click,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this)),this.xf_tbody.on("click",$.proxy(this.on_tbody_click,this)),this.xf_head_table.on("click",$.proxy(this.on_headtable_click,this))},XF_GRID_POPUP_SORT.prototype._colgroup=function(){var a=[];return a.push("<colgroup>"),a.push('<col style="width:20px;">'),this.xf_grid._ismultilinegrid()?(a.push('<col style="width:240px;">'),a.push('<col style="width:60px;">')):a.push('<col style="width:300px;">'),a.push('<col style="width:auto;">'),a.push('<col style="width:16px;">'),a.push("</colgroup>"),a.join("")},XF_GRID_POPUP_SORT.prototype._columnselectoption=function(){var a,b,c,d,e,f;for(f=[],c=this.xf_grid.getcolumncount(),a=0;c>a;a++){for(d=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,a,0),e=[],b=0;b<this.xf_grid.sub_row_count;b++)d=this.xf_grid._getcolumnhead(XF_GRID.COLUMN_KIND_DATA,a,b),b>0?e[e.length-1]==d.xf_column_head_prop.title||e.push(d.xf_column_head_prop.title):e.push(d.xf_column_head_prop.title);f.push('<option value="'+a+'">'+(a+1)+factory._userlang("열 - ","Column - ")+e.join(",")+"</option>")}this.column_select_option=f.join("")},XF_GRID_POPUP_SORT.prototype._columnrowselectoption=function(){var a,b;for(b=[],a=0;a<this.xf_grid.sub_row_count;a++)b.push('<option value="'+a+'">'+(a+1)+factory._userlang(" 행"," Row")+"</option>");this.column_row_select_option=b.join("")},XF_GRID_POPUP_SORT.prototype._sortselectoption=function(){var a=[];a.push('<option value="1">'+factory._userlang("오름차순","Ascending")+"</option>"),a.push('<option value="2">'+factory._userlang("내림차순","Descending")+"</option>"),this.sort_select_option=a.join("")},XF_GRID_POPUP_SORT.prototype._addrow=function(a,b,c){var d,e;d=[],d.push('<tr class="_xf_grid_popup_table_tr">'),d.push('<td class="_xf_grid_popup_data_table_td">'),d.push('<input type="checkbox" class="_xf_grid_popup_table_td_check _xf_grid_popup_table_td_check_datarow">'),d.push("</td>"),d.push('<td class="_xf_grid_popup_data_table_td">'),d.push('<select class="_xf_grid_popup_table_td_select _xf_grid_sort_popup_column_select">'),d.push(this.column_select_option),d.push("</select>"),this.xf_grid._ismultilinegrid()&&(d.push('<td class="_xf_grid_popup_data_table_td">'),d.push('<select class="_xf_grid_popup_table_td_select _xf_grid_sort_popup_column_row_select">'),d.push(this.column_row_select_option),d.push("</select>")),d.push("</td>"),d.push('<td class="_xf_grid_popup_data_table_td">'),d.push('<select class="_xf_grid_popup_table_td_select _xf_grid_sort_popup_sort_select">'),d.push(this.sort_select_option),d.push("</select>"),d.push("</td>"),d.push('<td class="_xf_grid_popup_data_table_td">'),d.push("</td>"),d.push("</tr>"),e=$(d.join("")),this.xf_tbody.append(e),void 0!=a&&(e.find("._xf_grid_sort_popup_column_select").val(a),this.xf_grid._ismultilinegrid()&&e.find("._xf_grid_sort_popup_column_row_select").val(b),e.find("._xf_grid_sort_popup_sort_select").val(c)),this.xf_vscroll.refresh()},XF_GRID_POPUP_SORT.prototype.setmodalbox=function(a){this.xf_modalbox=a,this.xf_vscroll&&this.xf_vscroll.setdocument(this.xf_modalbox.getdocument())},XF_GRID_POPUP_SORT.prototype.on_add_click=function(){this._addrow()},XF_GRID_POPUP_SORT.prototype.on_delete_click=function(){var a,b;this.xf_tbody.find("._xf_grid_popup_table_td_check:checked").each(function(c,d){b=$(d),a=b.closest("tr"),a.remove()}),this.xf_content.css({left:"0px",top:"0px"}),this.xf_vscroll.syncbar(),this.xf_vscroll.refresh()},XF_GRID_POPUP_SORT.prototype.on_sort_click=function(){var a,b,c,d,e,f,g,h,i,j,k;if(a=[],k=this.xf_grid,this.xf_tbody.find("tr").each(function(i,j){b=$(j),c=b.find("._xf_grid_sort_popup_column_select"),e=b.find("._xf_grid_sort_popup_sort_select"),k._ismultilinegrid()&&(d=b.find("._xf_grid_sort_popup_column_row_select")),f=c.val(),h=e.val(),g="0",k._ismultilinegrid()&&(g=d.val()),a.push({column_index:_xfu["int"](f),sub_row_index:_xfu["int"](g),sort_order:_xfu["int"](h)})}),0==a.length)return void alert(factory._userlang("정렬 기준이 없습니다.","No sorting criteria found."));for(this.xf_modalbox.hide(),this.xf_grid._resetcolumnsort(),j=a.length,i=0;j>i;i++)this.xf_grid._addcolumnsortinfo(a[i].column_index,a[i].sub_row_index,a[i].sort_order);this.xf_grid._executecolumnsort()},XF_GRID_POPUP_SORT.prototype.on_cancel_click=function(){this.xf_modalbox.hide()},XF_GRID_POPUP_SORT.prototype.on_headtable_click=function(a){var b,c;b=$(a.target),0!=b.hasClass("_xf_grid_popup_table_td_check_headrow")&&(c=b.is(":checked"),this.xf_tbody.find("._xf_grid_popup_table_td_check").prop("checked",c),c?this.xf_tbody.find("tr").addClass("_xf_grid_popup_table_tr_selected"):this.xf_tbody.find("tr").removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_SORT.prototype.on_tbody_click=function(a){var b,c,d;b=$(a.target),d=b.closest("tr"),this.xf_vscroll.focus(d),0!=b.hasClass("_xf_grid_popup_table_td_check_datarow")&&(c=b.is(":checked"),c?d.addClass("_xf_grid_popup_table_tr_selected"):d.removeClass("_xf_grid_popup_table_tr_selected"))},XF_GRID_POPUP_SORT.prototype.on_scroll_start=function(){this.xf_grid._offdocevent()},XF_GRID_POPUP_SORT.prototype.on_scroll_end=function(){_xfu.async({func:this.xf_grid._docevent,context:this.xf_grid})},XF_GRID_COLUMN_RESIZE.prototype._init=function(a,b){this.xf_grid=a,this.xf_parent=b,this.xf_resize_bar_arr=[],this.resize_bar_count=0},XF_GRID_COLUMN_RESIZE.prototype._prop=function(a){this.xf_prop={column_table_type:XF_GRID.COLUMN_TABLE_CENTER,resize_bar_top:0,resize_bar_height:20,resize_bar_width:3,internal_name:""},$.extend(this.xf_prop,a),""==this.xf_prop.internal_name&&(this.xf_prop.internal_name=this.xf_grid.xf_prop.internal_name+"_resize_"+this.xf_prop.column_table_type)},XF_GRID_COLUMN_RESIZE.prototype._box=function(){var a;0==_xf_htmlready_mode?(a=[],a.push('<div class="_xf_grid_column_resize" id="'+this.xf_prop.internal_name+'"></div>'),this.xf_parent[0].insertAdjacentHTML("beforeend",a.join("")),this.xf_object=this.xf_parent.find("#"+this.xf_prop.internal_name)):this.xf_object=this.xf_parent.find("#"+this.xf_prop.internal_name)},XF_GRID_COLUMN_RESIZE.prototype.addresizebar=function(a){var b;a.index=this.xf_resize_bar_arr.length,b={},$.extend(b,this.xf_prop),$.extend(b,a),this.xf_resize_bar_arr.push(new XF_GRID_COLUMN_RESIZE_BAR(this,b)),this.resize_bar_count++},XF_GRID_COLUMN_RESIZE.prototype.setresizebarenable=function(a,b){var c,d;if(a=_xfu["int"](a),-2==a&&1==this.xf_grid.xf_prop.linenumber_show)this.xf_resize_bar_arr[0].setenable(b);else if(-1==a&&1==this.xf_grid.xf_prop.use_checkrow)1==this.xf_grid.xf_prop.linenumber_show?this.xf_resize_bar_arr[1].setenable(b):this.xf_resize_bar_arr[0].setenable(b);else{if(a<this.xf_grid.fixedcols?(d=a,1==this.xf_grid.xf_prop.linenumber_show&&d++,1==this.xf_grid.xf_prop.use_checkrow&&d++):d=a-this.xf_grid.fixedcols,c=this.xf_resize_bar_arr.length,0>d||d>=c)return!1;this.xf_resize_bar_arr[d].setenable(b)}return!0},XF_GRID_COLUMN_RESIZE.prototype.empty=function(){var a,b,c;for(b=this.xf_resize_bar_arr.length,a=0;b>a;a++)c=this.xf_resize_bar_arr[a],c.remove();this.xf_resize_bar_arr=[],this.resize_bar_count=0},XF_GRID_COLUMN_RESIZE.prototype.refresh=function(){var a,b,c,d,e,f,g;if(this.xf_prop.resize_bar_height=this.xf_grid._gettableheight(XF_GRID.ROW_TABLE_HEAD),this.empty(),b=0,this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_LEFT)for(this.xf_grid.xf_prop.linenumber_show&&(b+=this.xf_grid.xf_prop.linenumber_width,this.addresizebar({resize_bar_left:b-1,is_enable:this.xf_grid.xf_prop.linenumber_resizable,column_index:-2})),this.xf_grid.xf_prop.use_checkrow&&(b+=this.xf_grid.xf_prop.checkrow_width,this.addresizebar({resize_bar_left:b-1,is_enable:this.xf_grid.xf_prop.checkrow_resizable,column_index:-1})),a=0;a<this.xf_grid.fixedcols;a++)e=this.xf_grid.xf_data_column_arr[a],void 0!==e&&(f=e.xf_column_data_arr[0],e.is_hidden_column||(b+=_xfu["int"](e.width),this.addresizebar({resize_bar_left:b-1,is_enable:f.xf_column_data_prop.resizable,column_index:a})));else if(this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_CENTER)for(c=this.xf_grid.getcolumncount(),a=this.xf_grid.fixedcols;c>a;a++)e=this.xf_grid.xf_data_column_arr[a],f=e.xf_column_data_arr[0],e.is_hidden_column||(b+=_xfu["int"](e.width),this.addresizebar({resize_bar_left:b-1,is_enable:f.xf_column_data_prop.resizable,column_index:a}));else if(this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_RIGHT)for(d=this.xf_grid.getstatcolumncount(),a=0;d>a;a++)g=this.xf_grid.xf_stat_column_arr[a],g.is_hidden_column||(this.addresizebar({resize_bar_left:b-1,is_enable:!0,column_index:a}),b+=parseInt(g.xf_stat_column_prop.column_width,10))},XF_GRID_COLUMN_RESIZE_BAR.prototype._init=function(a){this.xf_resize=a,this.xf_grid=a.xf_grid,this.is_resize_bar_move=!1,this.mouse_x=-1,this.bar_x_pos_on_mousedown=-1,this.bar_x_pos_on_mouseup=-1,this.range_left=-1,this.range_right=-1,this.mouse_range_left=-1,this.mouse_range_right=-1,this.bar_left=-1},XF_GRID_COLUMN_RESIZE_BAR.prototype._prop=function(a){this.xf_prop_type={index:XFD_PROP_INT,column_index:XFD_PROP_INT,column_table_type:XFD_PROP_INT,resize_bar_top:XFD_PROP_INT,resize_bar_left:XFD_PROP_INT,resize_bar_width:XFD_PROP_INT,resize_bar_height:XFD_PROP_INT,is_enable:XFD_PROP_BOOL},this.xf_prop={index:0,column_index:0,column_table_type:XF_GRID.COLUMN_TABLE_CENTER,resize_bar_top:0,resize_bar_left:0,resize_bar_width:3,resize_bar_height:20,is_enable:!0},_xfx.prop(null,this.xf_prop,this.xf_prop_type,a),$.extend(this.xf_prop,a)},XF_GRID_COLUMN_RESIZE_BAR.prototype._box=function(){var a;a=[],a.push('<div class="_xf_grid_column_resize_bar _xf_grid_column_resize_bar_'+this.xf_prop.column_index+'"'),a.push(' style="'),a.push("left:"+_xfu.px(this.xf_prop.resize_bar_left)+";"),a.push("top:"+_xfu.px(this.xf_prop.resize_bar_top)+";"),0==this.xf_prop.is_enable&&a.push("visibility:hidden;"),a.push('">'),a.push("</div>"),this.xf_resize.xf_object[0].insertAdjacentHTML("beforeend",a.join("")),this.xf_object=this.xf_resize.xf_object.find("._xf_grid_column_resize_bar_"+this.xf_prop.column_index)},XF_GRID_COLUMN_RESIZE_BAR.prototype._size=function(){this.xf_object.css({width:_xfu.px(this.xf_prop.resize_bar_width),height:_xfu.px(this.xf_prop.resize_bar_height)})},XF_GRID_COLUMN_RESIZE_BAR.prototype._move_size=function(){this.xf_object.css({height:_xfu.px(this.xf_grid.xf_content.innerHeight())})},XF_GRID_COLUMN_RESIZE_BAR.prototype._offdocevent=function(){$(document).off("mouseup."+this.xf_grid.xf_prop.internal_name),$(document).off("mouseleave."+this.xf_grid.xf_prop.internal_name),$(document).off("mousemove."+this.xf_grid.xf_prop.internal_name)},XF_GRID_COLUMN_RESIZE_BAR.prototype._docevent=function(){this._offdocevent(),$(document).on("mouseup."+this.xf_grid.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("mouseleave."+this.xf_grid.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("mousemove."+this.xf_grid.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this))},XF_GRID_COLUMN_RESIZE_BAR.prototype._offevent=function(){_xfj.offevent(this.xf_object,["mousedown","mouseover","mouseout","dblclick"])},XF_GRID_COLUMN_RESIZE_BAR.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("mouseover",$.proxy(this.on_object_mouseover,this)),this.xf_object.on("mouseout",$.proxy(this.on_object_mouseout,this)),this.xf_object.on("dblclick",$.proxy(this.on_object_dblclick,this))},XF_GRID_COLUMN_RESIZE_BAR.prototype.on_object_mouseover=function(a){0!=this.xf_prop.is_enable&&this.xf_object.css({cursor:"e-resize"})},XF_GRID_COLUMN_RESIZE_BAR.prototype.on_object_mouseout=function(a){0!=this.xf_prop.is_enable&&this.xf_object.css({cursor:"default"})},XF_GRID_COLUMN_RESIZE_BAR.prototype.on_object_dblclick=function(a){0!=this.xf_prop.is_enable&&(this.xf_prop.column_index>=0&&0==this.xf_grid._ismultilinegrid()&&this.xf_grid._setcolumnautowidth(0,this.xf_prop.column_index,!0,!0),factory._fireevent({xf_component:this.xf_grid,
event_name:"on_columnwidthchange",is_fire_async:!0},this,this.xf_prop.column_index))},XF_GRID_COLUMN_RESIZE_BAR.prototype.on_object_mousedown=function(a){if(a.stopPropagation(),0!=this.xf_prop.is_enable){if(this.xf_grid.isediting())return void a.preventDefault();this.is_resize_bar_move=!0,$(document.body).css({cursor:"e-resize"}),this._move_size(),this.setrange(),this.xf_object.addClass("_xf_grid_column_resize_bar_hover"),this.mouse_x=a.clientX,this.bar_x_pos_on_mousedown=this.xf_object.position().left,this.bar_left=this.xf_object.position().left,this.mouse_range_left=this.mouse_x-(this.bar_x_pos_on_mousedown-this.range_left),this.mouse_range_right=this.mouse_x+(this.range_right-this.bar_x_pos_on_mousedown),$(document.body).css({cursor:"e-resize"}),this._docevent()}},XF_GRID_COLUMN_RESIZE_BAR.prototype.on_document_mousemove=function(a){var b;if(b=a.clientX-this.mouse_x,!(Math.abs(b)<1)){if(this.mouse_x=a.clientX,b>0){if(this.xf_prop.column_table_type!=XF_GRID.COLUMN_TABLE_RIGHT&&this.mouse_range_left>a.clientX)return}else if(this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_RIGHT&&this.mouse_range_right<a.clientX)return;return this.setposbygap(b),!1}},XF_GRID_COLUMN_RESIZE_BAR.prototype.on_document_mouseup=function(a){var b;0!=this.xf_prop.is_enable&&0!=this.is_resize_bar_move&&(this.on_document_mousemove(a),this.xf_object.removeClass("_xf_grid_column_resize_bar_hover"),this._size(),this.is_resize_bar_move=!1,this._offdocevent(),this.xf_object.css({cursor:"default"}),$(document.body).css({cursor:"default"}),this.bar_x_pos_on_mouseup=this.xf_object.position().left,b=this.bar_x_pos_on_mouseup-this.bar_x_pos_on_mousedown,-2==this.xf_prop.column_index?this.xf_grid.setlinenumberwidthbygap(b):-1==this.xf_prop.column_index?this.xf_grid.setcheckrowwidthbygap(b):this.xf_grid._setcolumnwidthbygap(this.xf_prop.column_table_type,this.xf_prop.column_index,b),factory._fireevent({xf_component:this.xf_grid,event_name:"on_columnwidthchange",is_fire_async:!0},this,this.xf_prop.column_index))},XF_GRID_COLUMN_RESIZE_BAR.prototype.setenable=function(a){this.xf_prop.is_enable=a,a?this.xf_object.css("visibility","visible"):this.xf_object.css("visibility","hidden")},XF_GRID_COLUMN_RESIZE_BAR.prototype.remove=function(){this._offdocevent(),this._offevent(),this.xf_object.remove()},XF_GRID_COLUMN_RESIZE_BAR.prototype.setrange=function(){this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_RIGHT?(this.range_left=-1,this.xf_prop.index==this.xf_resize.resize_bar_count-1?this.range_right=this.xf_grid._gettablewidth(XF_GRID.COLUMN_TABLE_RIGHT,this.xf_grid.fixedcols)-5:this.range_right=this.xf_resize.xf_resize_bar_arr[this.xf_prop.index+1].xf_prop.resize_bar_left-this.xf_prop.resize_bar_width-5):(this.range_right=-1,-2==this.xf_prop.column_index?this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_LEFT&&(this.range_left=5):-1==this.xf_prop.column_index?this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_LEFT&&(this.range_left=5,this.xf_grid.xf_prop.linenumber_show&&(this.range_left+=this.xf_grid.xf_prop.linenumber_width)):0==this.xf_prop.index?this.xf_prop.column_table_type==XF_GRID.COLUMN_TABLE_LEFT?(this.range_left=5,this.xf_grid.xf_prop.linenumber_show&&(this.range_left+=this.xf_grid.xf_prop.linenumber_width),this.xf_grid.xf_prop.use_checkrow&&(this.range_left+=this.xf_grid.xf_prop.checkrow_width)):this.range_left=5:this.range_left=this.xf_resize.xf_resize_bar_arr[this.xf_prop.index-1].xf_prop.resize_bar_left+this.xf_prop.resize_bar_width+5)},XF_GRID_COLUMN_RESIZE_BAR.prototype.setposbygap=function(a){this.bar_left+=a,this.range_left>=0&&this.bar_left<this.range_left&&(this.bar_left=this.range_left),this.range_right>=0&&this.bar_left>this.range_right&&(this.bar_left=this.range_right),this.xf_object.css("left",_xfu.px(this.bar_left))},XF_GRID_ROW_RESIZE.prototype._init=function(a,b){this.xf_grid=a,this.xf_parent=b,this.xf_resize_bar_arr=[],this.resize_bar_count=0},XF_GRID_ROW_RESIZE.prototype._prop=function(a){this.xf_prop={row_table_type:XF_GRID.ROW_TABLE_VIEW,resize_bar_left:0,resize_bar_height:3,resize_bar_width:40,internal_name:""},$.extend(this.xf_prop,a),""==this.xf_prop.internal_name&&(this.xf_prop.internal_name=this.xf_grid.xf_prop.internal_name+"_resize_row_"+this.xf_prop.row_table_type)},XF_GRID_ROW_RESIZE.prototype._box=function(){var a;0==_xf_htmlready_mode?(a=[],a.push('<div class="_xf_grid_column_resize" id="'+this.xf_prop.internal_name+'"></div>'),this.xf_parent[0].insertAdjacentHTML("beforeend",a.join("")),this.xf_object=this.xf_parent.find("#"+this.xf_prop.internal_name)):this.xf_object=this.xf_parent.find("#"+this.xf_prop.internal_name)},XF_GRID_ROW_RESIZE.prototype.addresizebar=function(a){var b;a.index=this.xf_resize_bar_arr.length,b={},$.extend(b,this.xf_prop),$.extend(b,a),this.xf_resize_bar_arr.push(new XF_GRID_ROW_RESIZE_BAR(this,b)),this.resize_bar_count++},XF_GRID_ROW_RESIZE.prototype.setresizebarenable=function(a,b){var c,d;return a=_xfu["int"](a),d=a<this.xf_grid.fixedrows?a:a-this.xf_grid.fixedrows,c=this.xf_resize_bar_arr.length,0>d||d>=c?!1:(this.xf_resize_bar_arr[d].setenable(b),!0)},XF_GRID_ROW_RESIZE.prototype.empty=function(){var a,b,c;for(b=this.xf_resize_bar_arr.length,a=0;b>a;a++)c=this.xf_resize_bar_arr[a],c.remove();this.xf_resize_bar_arr=[],this.resize_bar_count=0},XF_GRID_ROW_RESIZE.prototype.refresh=function(){var a,b,c,d,e;for(this.xf_prop.resize_bar_width=this.xf_grid.xf_content.innerWidth(),this.empty(),a=0,this.xf_prop.row_table_type==XF_GRID.ROW_TABLE_FIX?(e=0,d=this.xf_grid.fixedrows):this.xf_prop.row_table_type==XF_GRID.ROW_TABLE_VIEW&&(e=this.xf_grid.view_start_row_index,d=this.xf_grid.view_display_row_count),c=0,b=e;d>c;)this.xf_grid._ishiddenrow(XF_GRID.ROW_KIND_DATA,b)?b++:(a+=this.xf_grid.getrowheight(b),this.addresizebar({resize_bar_top:a-1,is_enable:!0,row_index:b}),b++,c++)},XF_GRID_ROW_RESIZE_BAR.prototype._init=function(a){this.xf_resize=a,this.xf_grid=a.xf_grid,this.is_resize_bar_move=!1,this.mouse_x=-1,this.bar_y_pos_on_mousedown=-1,this.bar_y_pos_on_mouseup=-1,this.range_top=-1,this.range_bottom=-1,this.mouse_range_top=-1,this.mouse_range_bottom=-1,this.bar_top=-1},XF_GRID_ROW_RESIZE_BAR.prototype._prop=function(a){this.xf_prop_type={index:XFD_PROP_INT,column_index:XFD_PROP_INT,column_table_type:XFD_PROP_INT,resize_bar_top:XFD_PROP_INT,resize_bar_left:XFD_PROP_INT,resize_bar_width:XFD_PROP_INT,resize_bar_height:XFD_PROP_INT,is_enable:XFD_PROP_BOOL},this.xf_prop={index:0,row_index:0,row_table_type:XF_GRID.ROW_TABLE_VIEW,resize_bar_top:0,resize_bar_left:0,resize_bar_width:40,resize_bar_height:3,is_enable:!0},_xfx.prop(null,this.xf_prop,this.xf_prop_type,a),$.extend(this.xf_prop,a)},XF_GRID_ROW_RESIZE_BAR.prototype._box=function(){var a;a=[],a.push('<div class="_xf_grid_row_resize_bar" '),a.push('style="'),a.push("left:"+_xfu.px(this.xf_prop.resize_bar_left)+";"),a.push("top:"+_xfu.px(this.xf_prop.resize_bar_top)+";"),0==this.xf_prop.is_enable&&a.push("visibility:hidden;"),a.push('">'),a.push("</div>"),this.xf_object=$(a.join("")),this.xf_resize.xf_object.append(this.xf_object)},XF_GRID_ROW_RESIZE_BAR.prototype._size=function(){this.xf_object.css({width:_xfu.px(this.xf_prop.resize_bar_width),height:_xfu.px(this.xf_prop.resize_bar_height)})},XF_GRID_ROW_RESIZE_BAR.prototype._move_size=function(){this.xf_object.css({width:_xfu.px(this.xf_grid.xf_content.innerWidth())})},XF_GRID_ROW_RESIZE_BAR.prototype._offdocevent=function(){$(document).off("mouseup."+this.xf_grid.xf_prop.internal_name),$(document).off("mouseleave."+this.xf_grid.xf_prop.internal_name),$(document).off("mousemove."+this.xf_grid.xf_prop.internal_name)},XF_GRID_ROW_RESIZE_BAR.prototype._docevent=function(){this._offdocevent(),$(document).on("mouseup."+this.xf_grid.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("mouseleave."+this.xf_grid.xf_prop.internal_name,$.proxy(this.on_document_mouseup,this)),$(document).on("mousemove."+this.xf_grid.xf_prop.internal_name,$.proxy(this.on_document_mousemove,this))},XF_GRID_ROW_RESIZE_BAR.prototype._offevent=function(){_xfj.offevent(this.xf_object,["mousedown","mouseover","mouseout"])},XF_GRID_ROW_RESIZE_BAR.prototype._event=function(){this.xf_object.on("mousedown",$.proxy(this.on_object_mousedown,this)),this.xf_object.on("mouseover",$.proxy(this.on_object_mouseover,this)),this.xf_object.on("mouseout",$.proxy(this.on_object_mouseout,this))},XF_GRID_ROW_RESIZE_BAR.prototype.on_object_mouseover=function(a){0!=this.xf_prop.is_enable&&this.xf_object.css({cursor:"n-resize"})},XF_GRID_ROW_RESIZE_BAR.prototype.on_object_mouseout=function(a){0!=this.xf_prop.is_enable&&this.xf_object.css({cursor:"default"})},XF_GRID_ROW_RESIZE_BAR.prototype.on_object_mousedown=function(a){if(a.stopPropagation(),0!=this.xf_prop.is_enable){if(this.xf_grid.isediting())return void a.preventDefault();this.is_resize_bar_move=!0,$(document.body).css({cursor:"n-resize"}),this._move_size(),this.setrange(),this.xf_object.addClass("_xf_grid_row_resize_bar_hover"),this.mouse_y=a.clientY,this.bar_y_pos_on_mousedown=this.xf_object.position().top,this.bar_top=this.xf_object.position().top,this.mouse_range_top=this.mouse_y-(this.bar_y_pos_on_mousedown-this.range_top),this.mouse_range_bottom=this.mouse_y+(this.range_bottom-this.bar_y_pos_on_mousedown),$(document.body).css({cursor:"n-resize"}),this._docevent()}},XF_GRID_ROW_RESIZE_BAR.prototype.on_document_mousemove=function(a){var b;if(b=a.clientY-this.mouse_y,!(Math.abs(b)<1)){if(this.mouse_y=a.clientY,b>0){if(this.xf_prop.row_table_type!=XF_GRID.ROW_TABLE_STAT&&this.mouse_range_top>a.clientY)return}else if(this.xf_prop.row_table_type==XF_GRID.ROW_TABLE_STAT&&this.mouse_range_bottom<a.clientY)return;return this.setposbygap(b),!1}},XF_GRID_ROW_RESIZE_BAR.prototype.on_document_mouseup=function(a){var b,c;0!=this.xf_prop.is_enable&&0!=this.is_resize_bar_move&&(this.on_document_mousemove(a),this.xf_object.removeClass("_xf_grid_row_resize_bar_hover"),this._size(),this.is_resize_bar_move=!1,this._offdocevent(),this.xf_object.css({cursor:"default"}),$(document.body).css({cursor:"default"}),this.bar_y_pos_on_mouseup=this.xf_object.position().top,b=this.bar_y_pos_on_mouseup-this.bar_y_pos_on_mousedown,c=this.xf_grid.getrowheight(this.xf_prop.row_index),c+=b,this.xf_grid.setrowheight(this.xf_prop.row_index,c))},XF_GRID_ROW_RESIZE_BAR.prototype.setenable=function(a){this.xf_prop.is_enable=a,a?this.xf_object.css("visibility","visible"):this.xf_object.css("visibility","hidden")},XF_GRID_ROW_RESIZE_BAR.prototype.remove=function(){this._offdocevent(),this._offevent(),this.xf_object.remove()},XF_GRID_ROW_RESIZE_BAR.prototype.setrange=function(){this.xf_prop.column_table_type==XF_GRID.ROW_TABLE_STAT?(this.range_top=-1,this.xf_prop.index==this.xf_resize.resize_bar_count-1?this.range_bottom=this.xf_grid._gettableheight(XF_GRID.ROW_TABLE_STAT)-5:this.range_bottom=this.xf_resize.xf_resize_bar_arr[this.xf_prop.index+1].xf_prop.resize_bar_top-this.xf_prop.resize_bar_height-5):(this.range_bottom=-1,0==this.xf_prop.index?this.range_top=5:this.range_top=this.xf_resize.xf_resize_bar_arr[this.xf_prop.index-1].xf_prop.resize_bar_top+this.xf_prop.resize_bar_height+5)},XF_GRID_ROW_RESIZE_BAR.prototype.setposbygap=function(a){this.bar_top+=a,this.range_top>=0&&this.bar_top<this.range_top&&(this.bar_top=this.range_top),this.range_bottom>=0&&this.bar_top>this.range_bottom&&(this.bar_top=this.range_bottom),this.xf_object.css("top",_xfu.px(this.bar_top))},XF_GRID.prototype._creategridrowarr=function(){var a,b;for(this.xf_data_row_arr=[],this.data_row_count=0,b=this.xf_xdataset.getrowcount(),a=0;b>a;a++)this.xf_data_row_arr.push(this._creategridrow(a));this.is_rowheight_mode&&this._updategridrowbottom(0),this.data_row_count=b,this.is_rowheight_mode=!1},XF_GRID.prototype._addgridrowarr=function(a){var b,c;for(c=this.xf_xdataset.getrowcount(),b=c-a;c>b;b++)this.xf_data_row_arr.push(this._creategridrow(b));this.is_rowheight_mode&&this._updategridrowbottom(0),this.data_row_count=c,this.is_rowheight_mode=!1},XF_GRID.prototype._updategridrowbottom=function(a){var b,c;for(c=0,a>0&&(c=this.xf_data_row_arr[a-1].row_bottom),b=a;b<this.data_row_count;b++)0==this.xf_data_row_arr[b].is_hidden_row&&(c+=this.xf_data_row_arr[b].row_height),this.xf_data_row_arr[b].row_bottom=c},XF_GRID.prototype._insertgridrow=function(a,b,c,d,e,f){var g;c&&this.xf_xdataset._insertrow(b,XFD_XDATASET_COLUMN_DATA,-1,0,f,this),a<this.data_row_count&&this._insertblankiteminfo(a),g=this._creategridrow(b,d,e),this.xf_data_row_arr.splice(a,0,g),this.data_row_count++,this._updategridxdatasetrowindex(a+1,1),this.is_rowheight_mode&&this._updategridrowbottom(a)},XF_GRID.prototype._getgridrowindex=function(a){var b;for(b=a;b<this.data_row_count;b++)if(this.xf_data_row_arr[b].xdataset_row_index==a)return b;return b},XF_GRID.prototype._getgridcolumnsubrowindex=function(a){var b,c,d,e;for(d=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),b=0;b<this.sub_row_count;b++)for(c=0;d>c;c++)if(e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),e.xdataset_column_id==a)return{column_index:c,sub_row_index:b};return null},XF_GRID.prototype._getgridcolumnsubrowindexarr=function(a){var b,c,d,e,f;for(f=[],d=this._getcolumncount(XF_GRID.COLUMN_KIND_DATA),b=0;b<this.sub_row_count;b++)for(c=0;d>c;c++)e=this._getcolumndata(XF_GRID.COLUMN_KIND_DATA,c,b),e.xdataset_column_id==a&&f.push({column_index:c,sub_row_index:b,is_depth_column:!1});return this._istreegrid()&&(a==this.xdataset_depth_column_id?f.push({column_index:0,sub_row_index:0,is_depth_column:!0}):a!=this.xdataset_image_column_id&&a!=this.xdataset_selimage_column_id&&a!=this.xdataset_key_column_id||f.push({column_index:0,sub_row_index:0,is_depth_column:!1})),f},XF_GRID.prototype._getxdatasetrowindex=function(a){return 0>a||a>=this.data_row_count?a:this.xf_data_row_arr[a].xdataset_row_index},XF_GRID.prototype._deletegridrow=function(a,b,c,d){var e;null!=this.xf_item_edit_component&&(this.xf_item_edit_component.is_edit_cancel=!0),c&&this.xf_xdataset._deleterow(b,!1,d,this),a==this.selected_row_index?a==this.data_row_count-1&&(e=this._findnextvisibleitemrowindex(-1,this.selected_row_index,!1),0>e?this.selected_row_index=-1:this._setselectitem(e,this.selected_sub_row_index,this.selected_column_index,!0,!1,!0)):a<this.selected_row_index&&(e=this._findnextvisibleitemrowindex(-1,this.selected_row_index,!1),0>e?this.selected_row_index=-1:this._setselectitem(e,this.selected_sub_row_index,this.selected_column_index,!0,!1,!0)),this._deleteiteminfo(a),this._adjustitemmergeinfobyrow("delete",a),this.xf_data_row_arr.splice(a,1),this.data_row_count--,this._updategridxdatasetrowindex(a,-1),this.is_rowheight_mode&&this._updategridrowbottom(a)},XF_GRID.prototype._updategridxdatasetrowindex=function(a,b){var c;for(c=a;c<this.data_row_count;c++)-1!=this.xf_data_row_arr[c].xdataset_row_index&&(this.xf_data_row_arr[c].xdataset_row_index+=b)},XF_GRID.prototype._resetgridxdatasetrowindex=function(){var a,b;for(b=0,a=0;a<this.data_row_count;a++)this.ismidstatrow(a)?this.xf_data_row_arr[a].xdataset_row_index=-1:(this.xf_data_row_arr[a].xdataset_row_index=b,b++)},XF_GRID.prototype._creategridrow=function(a,b,c){return void 0===b&&(b=!1),void 0===c&&(c=!0),{xdataset_row_index:a,row_height:this.xf_prop.cell_height,row_bottom:0,is_midstat_row:!1,midstat_index:-1,is_hidden_row:b,is_enable_checkrow:!0,is_show_checkrow:!0,is_selected_row:!1,user_data:"",is_expanded_row:c,midstat_data_arr:null}},XF_GRID.prototype._setmidstatrowdata=function(a,b,c,d){var e;return a=_xfu["int"](a),b=_xfu["int"](b),d=void 0===d?0:_xfu["int"](d),e=this.xf_data_row_arr[a],void 0==e?!1:(null==e.midstat_data_arr&&(e.midstat_data_arr=[]),e.midstat_data_arr.push({column_index:b,sub_row_index:d,midstat_value:c}),!0)},XF_GRID.prototype._updatemidstatrowdata=function(a,b,c,d){var e,f,g;if(a=_xfu["int"](a),b=_xfu["int"](b),d=void 0===d?0:_xfu["int"](d),e=this.xf_data_row_arr[a],void 0==e)return!1;for(null==e.midstat_data_arr&&(e.midstat_data_arr=[]),g=e.midstat_data_arr.length,f=0;g>f;f++)if(e.midstat_data_arr[f].column_index==b&&e.midstat_data_arr[f].sub_row_index==d)return e.midstat_data_arr[f].midstat_value=c,!0;return!1},XF_GRID.prototype._getmidstatrowdata=function(a,b,c){var d,e,f,g;if(a=_xfu["int"](a),b=_xfu["int"](b),c=void 0===c?0:_xfu["int"](c),d=this.xf_data_row_arr[a],void 0==d)return"";if(null==d.midstat_data_arr)return"";for(f=d.midstat_data_arr.length,e=0;f>e;e++)if(d.midstat_data_arr[e].column_index==b&&d.midstat_data_arr[e].sub_row_index==c)return g=d.midstat_data_arr[e].midstat_value,void 0===g?"":_xfu.str(g);return""},XF_GRID.prototype._isexpandedrow=function(a){return void 0===this.xf_data_row_arr[a]?!1:this.xf_data_row_arr[a].is_expanded_row},XF_GRID.prototype._setexpandedrow=function(a,b){return void 0===this.xf_data_row_arr[a]?!1:(this.xf_data_row_arr[a].is_expanded_row=b,b&&(this.xf_data_row_arr[a].is_hidden_row=!1),!0)},XF_GRID.prototype._findnextselectedrowindex=function(a,b,c){var d,e;if(0==this.xf_prop.multi_selectrow)return this.selected_row_index;if(e=a,0==b&&(e=c?a+1:a-1),c){for(d=e;d<this.data_row_count;d++)if(1==this.xf_data_row_arr[d].is_selected_row)return d}else for(d=e;d>=0;d--)if(1==this.xf_data_row_arr[d].is_selected_row)return d;return-1},XF_GRID.prototype._setselectedrowinfo=function(a,b,c){var d;if(0!=this.xf_prop.multi_selectrow&&!(this.data_row_count<=0))for(-1==b&&(b=0),-1==c&&(c=this.data_row_count-1),b>=this.data_row_count&&(b=this.data_row_count-1),c>=this.data_row_count&&(c=this.data_row_count-1),d=b;c>=d;d++)this.xf_data_row_arr[d].is_selected_row=a},XF_GRID.prototype._getselectedrowcount=function(a,b){var c,d;if(0==this.xf_prop.multi_selectrow)return this.selected_row_index>=0?1:0;for(-1==a&&(a=0),-1==b&&(b=this.data_row_count-1),a>=this.data_row_count&&(a=this.data_row_count-1),b>=this.data_row_count&&(b=this.data_row_count-1),d=0,c=a;b>=c;c++)1==this.xf_data_row_arr[c].is_selected_row&&d++;return d},XF_GRID.prototype._isselectedrow=function(a){return 0==this.xf_prop.multi_selectrow?a==this.selected_row_index:this.xf_data_row_arr[a].is_selected_row},XF_GRID.prototype._isitemselectedrow=function(a){return 0==this.xf_prop.multi_selectrow?a==this.selected_row_index:1==this.xf_data_row_arr[a].is_selected_row&&a==this.selected_row_index},XF_GRID_SCROLL.THROTTLE_TIME=30,XF_GRID_SCROLL.DEBOUNCE_TIME=2,XF_GRID_SCROLL.SCROLL_BUTTON_LEFT=0,XF_GRID_SCROLL.SCROLL_BUTTON_RIGHT=1,XF_GRID_SCROLL.SCROLL_BUTTON_TOP=2,XF_GRID_SCROLL.SCROLL_BUTTON_BOTTOM=3,XF_GRID_SCROLL.SCROLL_BUTTON_SIZE=17,XF_GRID_SCROLL.SCROLL_BUTTON_MIN_SIZE=7,XF_GRID_SCROLL.HORZ_SCROLL_BAR_MIN_MAX_WIDTH=17,XF_GRID_SCROLL.VERT_SCROLL_BAR_MIN_MAX_HEIGHT=17,XF_GRID_SCROLL.HORZ_SCROLL_BAR_MIN_MIN_WIDTH=12,XF_GRID_SCROLL.VERT_SCROLL_BAR_MIN_MIN_HEIGHT=12,XF_GRID_SCROLL.prototype._init=function(a){this.xf_grid=a,this.xf_grid_prop=a.xf_prop,this.xf_prop=null,this.is_bar_move=!1,this.xf_hscroll_track=null,this.xf_hscroll_left_button=null,this.xf_hscroll_bar=null,this.xf_hscroll_right_button=null,this.xf_vscroll_track=null,this.xf_vscroll_top_button=null,this.xf_vscroll_bar=null,this.xf_vscroll_bottom_button=null,this.vscroll_height=0,this.hscroll_width=0,this.hscroll_track_width=0,this.hscroll_bar_width=0,this.vscroll_track_height=0,this.vscroll_bar_height=0,this.parent_inner_height=0,this.parent_inner_width=0,this.view_inner_height=0,this.view_inner_width=0,this.view_height=0,this.view_width=0,this.content_outer_height=0,this.content_outer_width=0,this.vscroll_bar_top=0,this.hscroll_bar_left=0,this.hscroll_horz_range=0,this.content_horz_range=0,this.vscroll_vert_range=0,this.content_vert_range=0,this.grid_content_height=0,this.grid_content_width=0,this.is_vscroll_show=!1,this.is_hscroll_show=!1,this.is_vscroll_bar_show=!1,this.is_hscroll_bar_show=!1,this.mouse_x=0,this.mouse_y=0,this.mouse_range_left=-1,this.mouse_range_right=-1,this.mouse_range_top=-1,this.mouse_range_bottom=-1,this.scroll_button_timer_id=-1,this.mouse_down_event=null,this.scroll_track_timer_id=-1,this.css_arr=[],this.scroll_button_move_horz_gap=10,this.scroll_button_move_vert_gap=0,this.column_width_info=null,this.is_first_touchmove=!1,this.scroll_vert_timeout=-1,this.scroll_horz_timeout=-1},XF_GRID_SCROLL.prototype._prop=function(a){this.xf_prop={vertscrollbar_style:1,horzscrollbar_style:1,vertscrollbar_right:0,horzscrollbar_bottom:0,vertscrollbar_size:17,horzscrollbar_size:17,xf_parent:null,xf_view:null,xf_content:null,xf_sync_horz_target_arr:null,sync_horz_target_count:0,xf_sync_vert_target_arr:null,sync_vert_target_count:0,is_horz_scroll:!0,is_vert_scroll:!0,button_move_interval:50,is_vscroll_realtime_sync:!0,is_hscroll_realtime_sync:!0},$.extend(this.xf_prop,a),void 0!==factory_xf_param.GRID_VSCROLL_REALTIME_SYNC&&(this.xf_prop.is_vscroll_realtime_sync=factory_xf_param.GRID_VSCROLL_REALTIME_SYNC),this.xf_prop.vertscrollbar_style=_xfu["int"](this.xf_prop.vertscrollbar_style),this.xf_prop.horzscrollbar_style=_xfu["int"](this.xf_prop.horzscrollbar_style)},XF_GRID_SCROLL.prototype._box=function(){var a;0==_xf_htmlready_mode&&(a=[],a.push('<div class="_xf_scroll_hole" style="'),a.push(this._scrollhole(!1)),a.push('"></div>'),a.push('<div class="_xf_hscroll" style="'),a.push(this._hscroll(!1)),a.push('">'),a.push('<button tabindex="-1" class="_xf_scroll_button _xf_hscroll_left_button"></button>'),a.push('<div class="_xf_hscroll_track">'),a.push('<div class="_xf_scroll_bar _xf_hscroll_bar">'),a.push('<div class="_xf_scroll_bar_image _xf_hscroll_bar_image">'),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.push('<button tabindex="-1" class="_xf_scroll_button _xf_hscroll_right_button"></button>'),a.push("</div>"),a.push('<div class="_xf_vscroll" style="'),a.push(this._vscroll(!1)),a.push('">'),a.push('<button tabindex="-1" class="_xf_scroll_button _xf_vscroll_top_button"></button>'),a.push('<div class="_xf_vscroll_track">'),a.push('<div class="_xf_scroll_bar _xf_vscroll_bar">'),a.push('<div class="_xf_scroll_bar_image _xf_vscroll_bar_image">'),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.push('<button tabindex="-1" class="_xf_scroll_button _xf_vscroll_bottom_button"></button>'),a.push("</div>"),a.push('<div class="_xf_vert_rowpos">'),a.push('<div class="_xf_vert_rowpos_arrow _xf_vert_rowpos_arrow_box">'),a.push('<div class="_xf_vert_rowpos_arrow _xf_vert_rowpos_arrow_inner">'),a.push("</div>"),a.push("</div>"),a.push('<span class="_xf_vert_rowpos_no"></span>'),a.push("</div>"),this.xf_prop.xf_parent[0].insertAdjacentHTML("beforeend",a.join("")))},XF_GRID_SCROLL.prototype._dom=function(){this.xf_scroll_hole=this.xf_prop.xf_parent.find("._xf_scroll_hole"),this.xf_hscroll=this.xf_prop.xf_parent.find("._xf_hscroll"),this.xf_hscroll_left_button=this.xf_hscroll.find("._xf_hscroll_left_button"),this.xf_hscroll_track=this.xf_hscroll.find("._xf_hscroll_track"),this.xf_hscroll_bar=this.xf_hscroll.find("._xf_hscroll_bar"),this.xf_hscroll_right_button=this.xf_hscroll.find("._xf_hscroll_right_button"),this.xf_vscroll=this.xf_prop.xf_parent.find("._xf_vscroll"),this.xf_vscroll_top_button=this.xf_vscroll.find("._xf_vscroll_top_button"),this.xf_vscroll_track=this.xf_vscroll.find("._xf_vscroll_track"),this.xf_vscroll_bar=this.xf_vscroll.find("._xf_vscroll_bar"),this.xf_vscroll_bottom_button=this.xf_vscroll.find("._xf_vscroll_bottom_button"),this.xf_rowpos=this.xf_prop.xf_parent.find("._xf_vert_rowpos"),this.xf_rowpos_no=this.xf_rowpos.find("._xf_vert_rowpos_no")},XF_GRID_SCROLL.prototype._offdocevent=function(){$(document).off("mouseup."+this.xf_grid_prop.internal_name+"_scroll"),$(document).off("mouseleave."+this.xf_grid_prop.internal_name+"_scroll"),$(document).off("touchend."+this.xf_grid_prop.internal_name+"_scroll"),$(document).off("mousemove."+this.xf_grid_prop.internal_name+"_scroll"),$(document).off("touchmove."+this.xf_grid_prop.internal_name+"_scroll")},XF_GRID_SCROLL.prototype._docevent=function(a){$(document).on("mouseup."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_scrollbar_mouseup,this)),$(document).on("mouseleave."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_scrollbar_mouseup,this)),$(document).on("touchend."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_scrollbar_mouseup,this)),a==XFD_SB_VERT?_xfu.isie()?0==this.xf_grid.is_mobile_mode?($(document).on("mousemove."+this.xf_grid_prop.internal_name+"_scroll",_xfu.debounce($.proxy(this.on_vscrollbar_mousemove,this),XF_GRID_SCROLL.DEBOUNCE_TIME,!0)),$(document).on("touchmove."+this.xf_grid_prop.internal_name+"_scroll",_xfu.debounce($.proxy(this.on_vscrollbar_touchmove,this),XF_GRID_SCROLL.DEBOUNCE_TIME,!0))):($(document).on("mousemove."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_vscrollbar_mousemove,this)),$(document).on("touchmove."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_vscrollbar_touchmove,this))):0==this.xf_grid.is_mobile_mode?($(document).on("mousemove."+this.xf_grid_prop.internal_name+"_scroll",_xfu.debounce($.proxy(this.on_vscrollbar_mousemove,this),XF_GRID_SCROLL.DEBOUNCE_TIME,!0)),$(document).on("touchmove."+this.xf_grid_prop.internal_name+"_scroll",_xfu.debounce($.proxy(this.on_vscrollbar_touchmove,this),XF_GRID_SCROLL.DEBOUNCE_TIME,!0))):($(document).on("mousemove."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_vscrollbar_mousemove,this)),$(document).on("touchmove."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_vscrollbar_touchmove,this))):1==this.xf_grid.is_column_scroll_mode?($(document).on("mousemove."+this.xf_grid_prop.internal_name+"_scroll",_xfu.debounce($.proxy(this.on_hscrollbar_mousemove,this),XF_GRID_SCROLL.DEBOUNCE_TIME,!0)),$(document).on("touchmove."+this.xf_grid_prop.internal_name+"_scroll",_xfu.debounce($.proxy(this.on_hscrollbar_touchmove,this),XF_GRID_SCROLL.DEBOUNCE_TIME,!0))):($(document).on("mousemove."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_hscrollbar_mousemove,this)),$(document).on("touchmove."+this.xf_grid_prop.internal_name+"_scroll",$.proxy(this.on_hscrollbar_touchmove,this)))},XF_GRID_SCROLL.prototype._offevent=function(){_xfj.offtarget("mousedown",[this.xf_hscroll,this.xf_vscroll,this.xf_scroll_hole]),_xfj.offtarget("click",[this.xf_hscroll,this.xf_vscroll,this.xf_scroll_hole]),_xfj.offevent(this.xf_hscroll_bar,["mousedown","touchstart"]),_xfj.offevent(this.xf_vscroll_bar,["mousedown","touchstart"]),_xfj.offtarget("mousedown",[this.xf_vscroll_track,this.xf_hscroll_track]),_xfj.offevent(this.xf_prop.xf_parent,["wheel"]),_xfj.offtarget("mousedown",[this.xf_hscroll_left_button,this.xf_hscroll_right_button]),_xfj.offtarget("mousedown",[this.xf_vscroll_top_button,this.xf_vscroll_bottom_button]),_xfj.offtarget("mouseleave",[this.xf_hscroll_left_button,this.xf_hscroll_right_button]),_xfj.offtarget("mouseleave",[this.xf_vscroll_top_button,this.xf_vscroll_bottom_button]),_xfj.offtarget("mouseleave",[this.xf_vscroll_track,this.xf_hscroll_track]),_xfj.offtarget("mouseup",[this.xf_hscroll_left_button,this.xf_hscroll_right_button]),_xfj.offtarget("mouseup",[this.xf_vscroll_top_button,this.xf_vscroll_bottom_button]),_xfj.offtarget("mouseup",[this.xf_vscroll_track,this.xf_hscroll_track]),$(document).off("mouseout")},XF_GRID_SCROLL.prototype._event=function(){this.xf_hscroll.on("mousedown",$.proxy(this.on_scroll_mousedown,this)),this.xf_vscroll.on("mousedown",$.proxy(this.on_scroll_mousedown,this)),this.xf_scroll_hole.on("mousedown",$.proxy(this.on_scroll_mousedown,this)),this.xf_hscroll.on("click",$.proxy(this.on_scroll_click,this)),this.xf_vscroll.on("click",$.proxy(this.on_scroll_click,this)),this.xf_scroll_hole.on("click",$.proxy(this.on_scroll_click,this)),this.xf_hscroll_bar.on("mousedown",$.proxy(this.on_hscrollbar_mousedown,this)),this.xf_hscroll_bar.on("touchstart",$.proxy(this.on_hscrollbar_touchstart,this)),this.xf_vscroll_bar.on("mousedown",$.proxy(this.on_vscrollbar_mousedown,this)),this.xf_vscroll_bar.on("touchstart",$.proxy(this.on_vscrollbar_touchstart,this)),this.xf_vscroll_track.on("mousedown",$.proxy(this.on_vscrolltrack_mousedown,this,500)),this.xf_hscroll_track.on("mousedown",$.proxy(this.on_hscrolltrack_mousedown,this,500)),this.xf_prop.xf_parent.on("wheel",$.proxy(this.on_vscrollbar_wheel,this)),this.xf_hscroll_left_button.on("mousedown",$.proxy(this.on_scrollbutton_mousedown,this,XF_GRID_SCROLL.SCROLL_BUTTON_LEFT,500)),this.xf_hscroll_right_button.on("mousedown",$.proxy(this.on_scrollbutton_mousedown,this,XF_GRID_SCROLL.SCROLL_BUTTON_RIGHT,500)),this.xf_vscroll_top_button.on("mousedown",$.proxy(this.on_scrollbutton_mousedown,this,XF_GRID_SCROLL.SCROLL_BUTTON_TOP,500)),this.xf_vscroll_bottom_button.on("mousedown",$.proxy(this.on_scrollbutton_mousedown,this,XF_GRID_SCROLL.SCROLL_BUTTON_BOTTOM,500)),this.xf_vscroll_top_button.on("mouseleave",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_vscroll_bottom_button.on("mouseleave",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_hscroll_left_button.on("mouseleave",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_hscroll_right_button.on("mouseleave",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_vscroll_track.on("mouseleave",$.proxy(this.on_scrolltrack_mouseup,this)),this.xf_hscroll_track.on("mouseleave",$.proxy(this.on_scrolltrack_mouseup,this)),this.xf_vscroll_top_button.on("mouseup",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_vscroll_bottom_button.on("mouseup",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_hscroll_left_button.on("mouseup",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_hscroll_right_button.on("mouseup",$.proxy(this.on_scrollbutton_mouseup,this)),this.xf_vscroll_track.on("mouseup",$.proxy(this.on_scrolltrack_mouseup,this)),this.xf_hscroll_track.on("mouseup",$.proxy(this.on_scrolltrack_mouseup,this)),1==this.xf_grid.is_mobile_mode?(this.xf_grid.xf_center_body_view.css("overflow","auto"),this.xf_grid.xf_center_body_view.on("scroll",$.proxy(this.on_centerbodyview_scroll,this)),this.xf_grid.xf_left_body_view.css("overflow","auto"),this.xf_grid.xf_right_body_view.css("overflow","auto"),this.xf_grid.xf_left_body_view.on("scroll",$.proxy(this.on_leftview_vertscroll,this)),this.xf_grid.xf_right_body_view.on("scroll",$.proxy(this.on_rightview_vertscroll,this)),this.xf_grid.xf_center_body_head.css("overflow","auto"),this.xf_grid.xf_center_body_fix.css("overflow","auto"),this.xf_grid.xf_center_foot.css("overflow","auto"),this.xf_grid.xf_center_body_head.on("scroll",$.proxy(this.on_centerbodyhead_horzscroll,this)),this.xf_grid.xf_center_body_fix.on("scroll",$.proxy(this.on_centerbodyfix_horzscroll,this)),this.xf_grid.xf_center_foot.on("scroll",$.proxy(this.on_centerbodyfoot_horzscroll,this))):(this.xf_touch_target=this.xf_prop.xf_parent,this.xf_touch_target.on("touchstart",$.proxy(this.on_parent_touchstart,this)))},XF_GRID_SCROLL.prototype._offparentevent=function(){this.xf_touch_target.off("touchmove"),this.xf_touch_target.off("touchend"),this.xf_touch_target.off("touchleave"),this.xf_touch_target.off("touchcancel")},XF_GRID_SCROLL.prototype._parentevent=function(){var a;0==this.xf_grid.is_column_scroll_mode||2==this.xf_grid_prop.touchscroll_movemode?this.xf_touch_target.on("touchmove",$.proxy(this.on_parent_touchmove,this)):(a=factory_xf_param.GRID_TOUCHSCROLL_EVENTTIME,void 0===a&&(a=10),this.xf_touch_target.on("touchmove",_xfu.debounce($.proxy(this.on_parent_touchmove,this),a,!0))),this.xf_touch_target.on("touchend",$.proxy(this.on_parent_touchend,this)),this.xf_touch_target.on("touchleave",$.proxy(this.on_parent_touchleave,this)),this.xf_touch_target.on("touchcancel",$.proxy(this.on_parent_touchcancel,this))},XF_GRID_SCROLL.prototype._scrollhole=function(a){var b,c;return void 0===a&&(a=!0),b=[],b.push("right:"+_xfu.px(this.xf_prop.vertscrollbar_right)+";"),b.push("width:"+_xfu.px(this.xf_prop.vertscrollbar_size)+";"),b.push("bottom:"+_xfu.px(this.xf_prop.horzscrollbar_bottom)+";"),b.push("height:"+_xfu.px(this.xf_prop.horzscrollbar_size)+";"),a?(c=_xfc.cssinfo(b.join("")),this.xf_scroll_hole.css(c),""):b.join("")},XF_GRID_SCROLL.prototype._hscroll=function(a){var b,c;return void 0===a&&(a=!0),b=[],b.push("bottom:"+_xfu.px(this.xf_prop.horzscrollbar_bottom)+";"),
b.push("height:"+_xfu.px(this.xf_prop.horzscrollbar_size)+";"),a?(c=_xfc.cssinfo(b.join("")),this.xf_hscroll.css(c),""):b.join("")},XF_GRID_SCROLL.prototype._vscroll=function(a){var b,c;return void 0===a&&(a=!0),b=[],b.push("right:"+_xfu.px(this.xf_prop.vertscrollbar_right)+";"),b.push("width:"+_xfu.px(this.xf_prop.vertscrollbar_size)+";"),a?(c=_xfc.cssinfo(b.join("")),this.xf_vscroll.css(c),""):b.join("")},XF_GRID_SCROLL.prototype.setscrollbarsize=function(a,b){return a>0&&(this.xf_prop.horzscrollbar_size=a,this._hscroll(!0)),b>0&&(this.xf_prop.vertscrollbar_size=b,this._vscroll(!0)),this._scrollhole(!0),!0},XF_GRID_SCROLL.prototype._displayviewtable=function(a,b,c){1!=this.xf_grid.is_mobile_mode&&this.xf_grid_prop.is_virtualscroll&&this.xf_grid._displayviewtable(a,b,c)},XF_GRID_SCROLL.prototype.synccontent=function(a,b){var c,d,e,f;if(void 0===b&&(b=!1),a==XFD_SB_VERT||a==XFD_SB_BOTH){if(this.is_bar_move)c=this.vscroll_bar_top*this.content_vert_range/this.vscroll_vert_range;else{if(0==this.vscroll_vert_range)return;c=this.vscroll_bar_top*this.content_vert_range/this.vscroll_vert_range}c=Math.round(c),this.xf_grid._setviewcontenttop(-1*c,!1)}if(a==XFD_SB_HORZ||a==XFD_SB_BOTH){if(this.is_bar_move)d=this.hscroll_bar_left*this.content_horz_range/this.hscroll_horz_range;else{if(0==this.hscroll_horz_range)return;d=this.hscroll_bar_left*this.content_horz_range/this.hscroll_horz_range}d=Math.round(d),1==this.xf_grid.is_column_scroll_mode?(e=this.getscrollcolumninfoindex(0),f=this.getscrollcolumninfoindex(0,-1*d),e!=f&&this.setscrollleftcolumn(this.column_width_info.column_index_arr[f],!1,b)):this.xf_grid._setviewcontentleft(-1*d,!1)}},XF_GRID_SCROLL.prototype.movecontentbygap=function(a,b,c,d,e,f){var g,h;return void 0===f&&(f=!1),a==XFD_SB_VERT||a==XFD_SB_BOTH?(g=this.xf_grid.view_content_top+b,this.movecontentbypos(XFD_SB_VERT,g,c,e,d,f)):a==XFD_SB_HORZ||a==XFD_SB_BOTH?(h=this.xf_grid.view_content_left+b,this.movecontentbypos(XFD_SB_HORZ,h,c,e,d,f)):void 0},XF_GRID_SCROLL.prototype.movecontentbypos=function(a,b,c,d,e,f){var g,h,i,j,k,l;return void 0===f&&(f=!1),i=this.getscrollposinfo(a),a!=XFD_SB_VERT&&a!=XFD_SB_BOTH||(k=this.vscroll_bar_top,g=b,g>0&&(g=0),Math.abs(g)>this.content_outer_height-this.view_inner_height&&(g=-1*(this.content_outer_height-this.view_inner_height)),g=Math.round(g),this.xf_grid._setviewcontenttop(g,!1),1==c&&this.syncbar(XFD_SB_VERT),j=this.getscrollposinfo(a),1==e&&this.firevscroll(k,XFD_SB_MOUSEWHEEL,j.is_move_to_end)),a!=XFD_SB_HORZ&&a!=XFD_SB_BOTH||(l=this.hscroll_bar_left,h=b,h>0&&(h=0),Math.abs(h)>this.content_outer_width-this.view_inner_width&&(h=-1*(this.content_outer_width-this.view_inner_width)),h=Math.round(h),this.xf_grid._setviewcontentleft(h,!1,f),1==c&&this.syncbar(XFD_SB_HORZ),j=this.getscrollposinfo(a),1==e&&this.firehscroll(l,XFD_SB_MOUSEWHEEL,j.is_move_to_end)),1==i.is_reach_to_range&&1==j.is_reach_to_range&&i.is_move_to_end==j.is_move_to_end&&i.is_move_to_start==j.is_move_to_start},XF_GRID_SCROLL.prototype.syncbar=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;i=!1,void 0===c&&(c=!1),void 0===d&&(d=XFD_SB_THUMBPOSITION),c&&(j=this.getscrollposinfo(a)),a!=XFD_SB_VERT&&a!=XFD_SB_BOTH||this.is_vscroll_bar_show&&(k=this.vscroll_bar_top,g=void 0===b?Math.abs(this.xf_grid._getviewcontenttop()):Math.abs(b),e=this.vscroll_vert_range*g/this.content_vert_range,0>e&&(i=!0,e=0),e+this.vscroll_bar_height>this.vscroll_track_height&&(i=!0,e=this.vscroll_track_height-this.vscroll_bar_height),this.xf_vscroll_bar.css({top:_xfu.px(e)}),this.vscroll_bar_top=e,i&&this.synccontent(XFD_SB_VERT),1==c&&(m=this.getscrollposinfo(a),this.firevscroll(k,d,m.is_move_to_end))),a!=XFD_SB_HORZ&&a!=XFD_SB_BOTH||this.is_hscroll_bar_show&&(l=this.hscroll_bar_left,h=void 0===b?Math.abs(this.xf_grid._getviewcontentleft()):Math.abs(b),f=this.hscroll_horz_range*h/this.content_horz_range,0>f&&(i=!0,f=0),f+this.hscroll_bar_width>this.hscroll_track_width&&(f=this.hscroll_track_width-this.hscroll_bar_width,i=!0),this.xf_hscroll_bar.css({left:_xfu.px(f)}),this.hscroll_bar_left=f,i&&this.synccontent(XFD_SB_HORZ),1==c&&(m=this.getscrollposinfo(a),this.firehscroll(l,d,m.is_move_to_end)))},XF_GRID_SCROLL.prototype.movebar=function(a,b,c,d){var e,f,g,h,i;if(a==XFD_SB_VERT){if(0==this.is_vscroll_bar_show)return!0;h=this.vscroll_bar_top,f=b+this.vscroll_bar_top,0>f?f=0:f+this.vscroll_bar_height>this.vscroll_track_height&&(f=this.vscroll_track_height-this.vscroll_bar_height),this.xf_vscroll_bar.css({top:_xfu.px(f)}),this.vscroll_bar_top=f}else{if(0==this.is_hscroll_bar_show)return!0;i=this.hscroll_bar_left,g=b+this.hscroll_bar_left,0>g?g=0:g+this.hscroll_bar_width>this.hscroll_track_width&&(g=this.hscroll_track_width-this.hscroll_bar_width),this.xf_hscroll_bar.css({left:_xfu.px(g)}),this.hscroll_bar_left=g}return e=this.getscrollposinfo(a),a==XFD_SB_VERT?d&&this.firevscroll(h,c,e.is_move_to_end):d&&this.firehscroll(i,c,e.is_move_to_end),e.is_reach_to_range},XF_GRID_SCROLL.prototype.firevscroll=function(a,b,c){var d,e;_xfu["int"](this.vscroll_bar_top)!=_xfu["int"](a)&&(d=this.vscroll_bar_top*this.content_vert_range/this.vscroll_vert_range,e=a*this.content_vert_range/this.vscroll_vert_range,factory._fireevent({xf_component:this.xf_grid,event_name:"on_vscroll",is_fire_async:!0},this.xf_grid,_xfu["int"](d),_xfu["int"](e),b,c))},XF_GRID_SCROLL.prototype.firehscroll=function(a,b,c){var d,e;_xfu["int"](this.hscroll_bar_left)!=_xfu["int"](a)&&(d=this.hscroll_bar_left*this.content_horz_range/this.hscroll_horz_range,e=a*this.content_horz_range/this.hscroll_horz_range,factory._fireevent({xf_component:this.xf_grid,event_name:"on_hscroll",is_fire_async:!0},this.xf_grid,_xfu["int"](d),_xfu["int"](e),b,c))},XF_GRID_SCROLL.prototype.getscrollposinfo=function(a){var b={is_move_to_end:0,is_reach_to_range:!1};return a==XFD_SB_VERT?(Math.ceil(this.vscroll_bar_top+this.vscroll_bar_height)>=this.vscroll_track_height&&(b.is_move_to_end=1,b.is_reach_to_range=!0),0==this.vscroll_bar_top&&(b.is_reach_to_range=!0)):(Math.ceil(this.hscroll_bar_left+this.hscroll_bar_width)>=this.hscroll_track_width&&(b.is_move_to_end=1,b.is_reach_to_range=!0),0==this.hscroll_bar_left&&(b.is_reach_to_range=!0)),b},XF_GRID_SCROLL.prototype.remove=function(){this._offevent(),this.xf_scroll_hole.remove(),this.xf_hscroll.remove(),this.xf_vscroll.remove()},XF_GRID_SCROLL.prototype.getparentviewcontentwidthheight=function(){this.parent_inner_height=this.xf_prop.xf_parent.innerHeight(),this.parent_inner_width=this.xf_prop.xf_parent.innerWidth(),this.view_inner_height=this.xf_prop.xf_view.innerHeight(),this.view_inner_width=this.xf_prop.xf_view.innerWidth(),this.view_height=this.xf_prop.xf_view.height(),this.view_width=this.xf_prop.xf_view.width(),this.content_outer_height=this.xf_grid._getviewcontentheight(),this.content_outer_width=this.xf_grid._getviewcontentwidth(),this.grid_content_height=this.xf_grid.xf_content.height(),this.grid_content_width=this.xf_grid.xf_content.width()},XF_GRID_SCROLL.prototype.setgridcontentandviewheight=function(a){var b;this.grid_content_height+=a,this.xf_grid.xf_content.height(this.grid_content_height),b=a,this.view_inner_height+=b,this.view_height+=b,0==this.xf_grid.is_rwd_mode&&this.xf_prop.xf_view.height(this.view_height)},XF_GRID_SCROLL.prototype.setgridcontentandviewwidth=function(a){var b;this.grid_content_width+=a,this.xf_grid.xf_content.width(this.grid_content_width),b=a,this.view_inner_width+=b,this.view_width+=b,0==this.xf_grid.is_rwd_mode&&this.xf_prop.xf_view.width(this.view_width)},XF_GRID_SCROLL.prototype.setvscrollshow=function(a){var b;return b=!1,1==this.xf_prop.vertscrollbar_style?(this.view_inner_height<this.content_outer_height?(this.is_vscroll_show=!0,this.is_vscroll_bar_show=!0,this.xf_vscroll.show(),this.xf_vscroll_track.show(),this.xf_vscroll_bar.show(),0==a&&(b=!0,this.setgridcontentandviewwidth(-1*(this.xf_prop.vertscrollbar_size+this.xf_prop.vertscrollbar_right)))):(this.is_vscroll_show=!1,this.is_vscroll_bar_show=!1,this.xf_vscroll_bar.css({top:"0px"}),this.xf_vscroll.hide(),this.xf_vscroll_track.hide(),this.xf_vscroll_bar.hide(),this.xf_grid._setviewcontenttop(0,!1),a&&(b=!0,this.setgridcontentandviewwidth(this.xf_prop.vertscrollbar_size+this.xf_prop.vertscrollbar_right))),b):0==this.xf_prop.vertscrollbar_style?(this.is_vscroll_show=!1,this.is_vscroll_bar_show=!1,this.xf_vscroll_bar.css({top:"0px"}),1==a&&this.xf_grid._setviewcontenttop(0,!1),this.xf_vscroll.hide(),this.xf_vscroll_track.hide(),this.xf_vscroll_bar.hide(),1==a&&(b=!0,this.setgridcontentandviewwidth(this.xf_prop.vertscrollbar_size+this.xf_prop.vertscrollbar_right)),b):2==this.xf_prop.vertscrollbar_style?(this.is_vscroll_show=!0,this.xf_vscroll.show(),this.xf_vscroll_track.show(),0==a&&(b=!0,this.setgridcontentandviewwidth(-1*(this.xf_prop.vertscrollbar_size+this.xf_prop.vertscrollbar_right))),this.view_inner_height<this.content_outer_height?(this.is_vscroll_bar_show=!0,this.xf_vscroll_bar.show()):(this.is_vscroll_bar_show=!1,this.xf_vscroll_bar.hide(),this.xf_vscroll_bar.css({top:"0px"}),this.xf_grid._setviewcontenttop(0,!1)),b):void 0},XF_GRID_SCROLL.prototype.sethscrollshow=function(a){var b;return b=!1,1==this.xf_prop.horzscrollbar_style?(this.view_inner_width<this.content_outer_width?(this.is_hscroll_show=!0,this.is_hscroll_bar_show=!0,this.xf_hscroll.show(),this.xf_hscroll_track.show(),this.xf_hscroll_bar.show(),0==a&&(b=!0,this.setgridcontentandviewheight(-1*(this.xf_prop.horzscrollbar_size+this.xf_prop.horzscrollbar_bottom)))):(this.is_hscroll_show=!1,this.is_hscroll_bar_show=!1,this.xf_hscroll_bar.css({left:"0px"}),this.xf_grid._setviewcontentleft(0,!1),this.xf_hscroll.hide(),this.xf_hscroll_track.hide(),this.xf_hscroll_bar.hide(),a&&(b=!0,this.setgridcontentandviewheight(this.xf_prop.horzscrollbar_size+this.xf_prop.horzscrollbar_bottom))),b):2==this.xf_prop.horzscrollbar_style?(this.is_hscroll_show=!0,this.xf_hscroll.show(),this.xf_hscroll_track.show(),0==a&&(b=!0,this.setgridcontentandviewheight(-1*(this.xf_prop.horzscrollbar_size+this.xf_prop.horzscrollbar_bottom))),this.view_inner_width<this.content_outer_width?(this.is_hscroll_bar_show=!0,this.xf_hscroll_bar.show()):(this.is_hscroll_bar_show=!1,this.xf_hscroll_bar.hide(),this.xf_hscroll_bar.css({left:"0px"}),this.xf_grid._setviewcontentleft(0,!1)),b):0==this.xf_prop.horzscrollbar_style?(this.is_hscroll_show=!1,this.is_hscroll_bar_show=!1,this.xf_hscroll.hide(),this.xf_hscroll_track.hide(),this.xf_hscroll_bar.hide(),this.xf_hscroll_bar.css({left:"0px"}),this.xf_grid._setviewcontentleft(0,!1),a&&(b=!0,this.setgridcontentandviewheight(this.xf_prop.horzscrollbar_size+this.xf_prop.horzscrollbar_bottom)),b):void 0},XF_GRID_SCROLL.prototype.reset=function(){this.xf_vscroll_bar.css({top:"0px"}),this.xf_grid._setviewcontenttop(0,!1),this.is_vscroll_show=!1,this.is_vscroll_bar_show=!1,this.xf_vscroll.hide(),this.xf_vscroll_track.hide(),this.xf_vscroll_bar.hide(),this.xf_hscroll_bar.css({left:"0px"}),this.xf_grid._setviewcontentleft(0,!1),this.is_hscroll_show=!1,this.is_hscroll_bar_show=!1,this.xf_hscroll.hide(),this.xf_hscroll_track.hide(),this.xf_hscroll_bar.hide(),this.xf_scroll_hole.hide()},XF_GRID_SCROLL.prototype.refresh=function(){var a,b,c,d,e,f;return b=!1,d=this.is_hscroll_show,this.getparentviewcontentwidthheight(),a=this.setvscrollshow(this.is_vscroll_show),c=this.sethscrollshow(this.is_hscroll_show),this.is_hscroll_show!=d&&(b=this.setvscrollshow(this.is_vscroll_show)),this.is_hscroll_show?this.vscroll_height=this.parent_inner_height-(this.xf_prop.horzscrollbar_size+this.xf_prop.horzscrollbar_bottom):this.vscroll_height=this.parent_inner_height,this.xf_vscroll.css({height:_xfu.px(this.vscroll_height)}),this.vscroll_track_height=this.vscroll_height-2*XF_GRID_SCROLL.SCROLL_BUTTON_SIZE,e=!1,this.vscroll_track_height<=0?(e=!0,this.vscroll_track_height=this.vscroll_height,0==this.xf_vscroll_track.hasClass("_xf_vscroll_track_max")&&(this.xf_vscroll_track.addClass("_xf_vscroll_track_max"),this.xf_vscroll_top_button.hide(),this.xf_vscroll_bottom_button.hide())):this.xf_vscroll_track.hasClass("_xf_vscroll_track_max")&&(this.xf_vscroll_track.removeClass("_xf_vscroll_track_max"),this.xf_vscroll_top_button.show(),this.xf_vscroll_bottom_button.show()),this.xf_vscroll_track.css({height:_xfu.px(this.vscroll_track_height)}),f=!1,this.is_vscroll_show?this.hscroll_width=this.parent_inner_width-(this.xf_prop.vertscrollbar_size+this.xf_prop.vertscrollbar_right):this.hscroll_width=this.parent_inner_width,this.xf_hscroll.css({width:_xfu.px(this.hscroll_width)}),this.hscroll_track_width=this.hscroll_width-2*XF_GRID_SCROLL.SCROLL_BUTTON_SIZE,this.hscroll_track_width<=0?(f=!0,this.hscroll_track_width=this.hscroll_width,0==this.xf_hscroll_track.hasClass("_xf_hscroll_track_max")&&(this.xf_hscroll_track.addClass("_xf_hscroll_track_max"),this.xf_hscroll_left_button.hide(),this.xf_hscroll_right_button.hide())):this.xf_hscroll_track.hasClass("_xf_hscroll_track_max")&&(this.xf_hscroll_track.removeClass("_xf_hscroll_track_max"),this.xf_hscroll_left_button.show(),this.xf_hscroll_right_button.show()),this.xf_hscroll_track.css({width:_xfu.px(this.hscroll_track_width)}),0==this.is_vscroll_show&&0==this.is_hscroll_show?this.xf_scroll_hole.hide():this.xf_scroll_hole.show(),this.is_vscroll_bar_show&&(this.vscroll_bar_height=this.vscroll_track_height*this.view_inner_height/this.content_outer_height,e?this.vscroll_bar_height<XF_GRID_SCROLL.VERT_SCROLL_BAR_MIN_MIN_HEIGHT&&(this.vscroll_bar_height=XF_GRID_SCROLL.VERT_SCROLL_BAR_MIN_MIN_HEIGHT):this.vscroll_bar_height<XF_GRID_SCROLL.VERT_SCROLL_BAR_MIN_MAX_HEIGHT&&(this.vscroll_bar_height=XF_GRID_SCROLL.VERT_SCROLL_BAR_MIN_MAX_HEIGHT),this.xf_vscroll_bar.css({height:_xfu.px(this.vscroll_bar_height)})),this.is_hscroll_bar_show&&(this.hscroll_bar_width=this.hscroll_track_width*this.view_inner_width/this.content_outer_width,f?this.hscroll_bar_width<XF_GRID_SCROLL.HORZ_SCROLL_BAR_MIN_MIN_WIDTH&&(this.hscroll_bar_width=XF_GRID_SCROLL.HORZ_SCROLL_BAR_MIN_MIN_WIDTH):this.hscroll_bar_width<XF_GRID_SCROLL.HORZ_SCROLL_BAR_MIN_MAX_WIDTH&&(this.hscroll_bar_width=XF_GRID_SCROLL.HORZ_SCROLL_BAR_MIN_MAX_WIDTH),this.xf_hscroll_bar.css({width:_xfu.px(this.hscroll_bar_width)})),this.vscroll_vert_range=this.vscroll_track_height-this.vscroll_bar_height,this.content_vert_range=this.content_outer_height-this.view_inner_height,this.hscroll_horz_range=this.hscroll_track_width-this.hscroll_bar_width,this.content_horz_range=this.content_outer_width-this.view_inner_width,this.scroll_button_move_vert_gap=this.getmoveonerowgap(),this.column_width_info=this.xf_grid._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,this.xf_grid.fixedcols,-1,!0,!0),!!(a||b||c)},XF_GRID_SCROLL.prototype.getscrollpos=function(a){return a==XFD_SB_VERT?100*Math.round(this.vscroll_bar_top/(this.vscroll_track_height-this.vscroll_bar_height)):100*Math.round(this.hscroll_bar_left/(this.hscroll_track_width-this.hscroll_bar_width))},XF_GRID_SCROLL.prototype.getscrollcolumninfo=function(a,b){var c;return c=this.getscrollcolumninfoindex(a,b),{column_width:this.column_width_info.column_width_arr[c],column_left:this.column_width_info.column_left_arr[c],column_index:this.column_width_info.column_index_arr[c]}},XF_GRID_SCROLL.prototype.getscrollcolumninfoindex=function(a,b){var c,d;if(null==this.column_width_info&&(this.column_width_info=this.xf_grid._getcolumnwidthsum(XF_GRID.COLUMN_KIND_DATA,this.xf_grid.fixedcols,-1,!0,!0)),void 0===b&&(b=this.xf_grid.view_content_left),b=Math.abs(b),void 0===a&&(a=0),0==a){for(d=0;d<this.column_width_info.column_count-1;d++)if(b>=this.column_width_info.column_left_arr[d]&&b<this.column_width_info.column_left_arr[d+1])return d;return d}if(1==a){for(c=this.xf_grid.center_body_width-1,b+=c,d=0;d<this.column_width_info.column_count-1;d++)if(b>=this.column_width_info.column_left_arr[d]&&b<this.column_width_info.column_left_arr[d+1])return d;return d}if(2==a){if(c=this.xf_grid.center_body_width-1,b-=c,0>b)return b=0,0;for(d=0;d<this.column_width_info.column_count-1;d++)if(b>=this.column_width_info.column_left_arr[d]&&b<this.column_width_info.column_left_arr[d+1])return d+1;return d}},XF_GRID_SCROLL.prototype.setscrollpos=function(a,b){a==XFD_SB_VERT?(this.xf_vscroll_bar.css({top:_xfu.px(b)}),this.vscroll_bar_top=b,this.synccontent(XFD_SB_VERT)):(this.xf_hscroll_bar.css({left:_xfu.px(b)}),this.hscroll_bar_left=b,this.synccontent(XFD_SB_HORZ))},XF_GRID_SCROLL.prototype.showscrolltoprowpos=function(a){var b;factory_xf_param.GRID_VSCROLL_REALTIME_SYNC||(this.xf_rowpos.show(),b=_xfp.money(a,0,!1,0,0,factory_xf_param.VALUE_DECIMAL_SEPARATOR,factory_xf_param.USER_DECIMAL_SEPARATOR,factory_xf_param.USER_THOUSANDS_SEPARATOR),this.xf_rowpos_no[0].innerHTML=b,this.xf_rowpos.css({top:_xfu.px(this.vscroll_bar_top+14)}))},XF_GRID_SCROLL.prototype.hiderowpos=function(){this.xf_rowpos.hide()},XF_GRID_SCROLL.prototype.sethorzscrollbarstyle=function(a){a=_xfu["int"](a),isNaN(a)||0>a||a>2||this.xf_prop.horzscrollbar_style!=a&&(this.xf_prop.horzscrollbar_style=a,this.refresh())},XF_GRID_SCROLL.prototype.setvertscrollbarstyle=function(a){a=_xfu["int"](a),isNaN(a)||0>a||a>2||this.xf_prop.vertscrollbar_style!=a&&(this.xf_prop.vertscrollbar_style=a,this.refresh())},XF_GRID_SCROLL.prototype.getmoveonerowgap=function(){var a,b;return a=this.xf_grid_prop.cell_height*this.xf_grid.sub_row_count,b=this.vscroll_vert_range*a/this.content_vert_range},XF_GRID_SCROLL.prototype.stopscrollbuttontimer=function(){this.scroll_button_timer_id>=0&&(window.clearTimeout(this.scroll_button_timer_id),this.scroll_button_timer_id=-1)},XF_GRID_SCROLL.prototype.stopscrolltracktimer=function(){this.scroll_track_timer_id>=0&&(window.clearTimeout(this.scroll_track_timer_id),this.scroll_track_timer_id=-1)},XF_GRID_SCROLL.prototype.on_scrollbutton_mouseup=function(a){this.stopscrollbuttontimer()},XF_GRID_SCROLL.prototype.on_scrolltrack_mouseup=function(a){this.stopscrolltracktimer()},XF_GRID_SCROLL.prototype.on_scrollbutton_mousedown=function(a,b,c){switch(-1==this.xf_grid.selected_row_index&&-1==this.xf_grid.selected_column_index&&1==this.xf_grid.xf_prop.click_setfocus&&this.xf_grid.on_keyboard_keydown_rightarrow(!0,!1),this.stopscrollbuttontimer(),a){case XF_GRID_SCROLL.SCROLL_BUTTON_TOP:case XF_GRID_SCROLL.SCROLL_BUTTON_BOTTOM:this.scroll_button_move_vert_gap=this.getmoveonerowgap()}this.on_scrollbutton_click(a,b)},XF_GRID_SCROLL.prototype.getscrollleftcolumn=function(){var a,b;return 0==this.is_hscroll_bar_show?0:(a=this.getscrollcolumninfoindex(0),0>a?0:(b=this.column_width_info.column_index_arr[a],void 0===b?0:b))},XF_GRID_SCROLL.prototype.setscrollleftcolumn=function(a,b,c){var d,e;if(void 0===b&&(b=!0),void 0===c&&(c=!1),0==this.is_hscroll_bar_show)return!0;if(d=this.getscrollcolumninfoindex(0),0>d)return!0;for(e=0;e<this.column_width_info.column_count&&this.column_width_info.column_index_arr[e]!=a;e++);return e==this.column_width_info.column_count?!1:(this.movescrollcolumn(e-d,b,c),a)},XF_GRID_SCROLL.prototype.movescrollcolumn=function(a,b,c){var d,e,f;return void 0===b&&(b=!0),void 0===c&&(c=!1),d=!0,0==this.is_hscroll_bar_show?d:(e=this.getscrollcolumninfoindex(0),f=e+a,a>0?(f>=this.column_width_info.column_count-1&&(f=this.column_width_info.column_count-1),d=f<=this.column_width_info.column_count-1?this.movecontentbypos(XFD_SB_HORZ,-1*this.column_width_info.column_left_arr[f],b,XFD_SB_LINERIGHT,!0,c):!0):(0>=f&&(f=0),f>=0?d=this.movecontentbypos(XFD_SB_HORZ,-1*this.column_width_info.column_left_arr[f],b,XFD_SB_LINELEFT,!0,c):(Math.abs(this.xf_grid.view_content_left)>0&&this.movecontentbypos(XFD_SB_HORZ,0,b,XFD_SB_LINELEFT,!0,c),d=!0)),d)},XF_GRID_SCROLL.prototype.on_scrollbutton_click=function(a,b){var c;return this.scroll_button_timer_id=-1,c=!0,a==XF_GRID_SCROLL.SCROLL_BUTTON_TOP||a==XF_GRID_SCROLL.SCROLL_BUTTON_BOTTOM?this.is_vscroll_bar_show&&(c=a==XF_GRID_SCROLL.SCROLL_BUTTON_TOP?this.movescrollrow(-1,!0):this.movescrollrow(1,!0)):this.is_hscroll_bar_show&&(c=a==XF_GRID_SCROLL.SCROLL_BUTTON_RIGHT?this.movescrollcolumn(1):this.movescrollcolumn(-1)),0==c&&(this.scroll_button_timer_id=window.setTimeout($.proxy(this.on_scrollbutton_click,this,a,10),b)),c},XF_GRID_SCROLL.prototype.movescrollrow=function(a,b){var c,d,e;return 0==this.xf_grid.is_rowheight_mode||this.xf_grid._ismultilinegrid()?(d=this.xf_grid_prop.cell_height*this.xf_grid.sub_row_count,d*=Math.abs(a)):(e=!0,0>a&&(e=!1),d=this.xf_grid._getrowheightsumbyrowspan(this.xf_grid.view_start_row_index,Math.abs(a),e)),c=0>a?this.movecontentbygap(XFD_SB_VERT,d,!0,!0,XFD_SB_LINEUP):this.movecontentbygap(XFD_SB_VERT,-1*d,!0,!0,XFD_SB_LINEDOWN),(void 0===b||b)&&this._displayviewtable(0,!1,!0),c},XF_GRID_SCROLL.prototype.movescrollrow_asis_20200201=function(a,b){var c;return 0==this.scroll_button_move_vert_gap&&(this.scroll_button_move_vert_gap=this.getmoveonerowgap()),c=0>a?this.movebar(XFD_SB_VERT,this.scroll_button_move_vert_gap*a,XFD_SB_LINEUP,!0):this.movebar(XFD_SB_VERT,this.scroll_button_move_vert_gap*a,XFD_SB_LINEDOWN,!0),(void 0===b||b)&&(this.synccontent(XFD_SB_VERT),this._displayviewtable(0,!1,!0)),c},XF_GRID_SCROLL.prototype.on_hscrolltrack_mousedown_asis=function(a){var b;if(0!=this.is_hscroll_bar_show)return b=a.offsetX-this.hscroll_bar_width/2,0>b?b=0:b+this.hscroll_bar_width>this.hscroll_track_width&&(b=this.hscroll_track_width-this.hscroll_bar_width),b<this.hscroll_bar_left?this.movebar(XFD_SB_HORZ,b-this.hscroll_bar_left,XFD_SB_PAGELEFT,!0):this.movebar(XFD_SB_HORZ,b-this.hscroll_bar_left,XFD_SB_PAGERIGHT,!0),this.synccontent(XFD_SB_HORZ),!1},XF_GRID_SCROLL.prototype.on_hscrolltrack_mousedown=function(a,b){var c;if(this.stopscrolltracktimer(),0==factory.xf_param.GRID_SCROLLTRACKCLICK_MOVETYPE){if(0==this.is_hscroll_bar_show)return;c=b.offsetX-this.hscroll_bar_width/2,0>c?c=0:c+this.hscroll_bar_width>this.hscroll_track_width&&(c=this.hscroll_track_width-this.hscroll_bar_width),c<this.hscroll_bar_left?this.movebar(XFD_SB_HORZ,c-this.hscroll_bar_left,XFD_SB_PAGELEFT,!0):this.movebar(XFD_SB_HORZ,c-this.hscroll_bar_left,XFD_SB_PAGERIGHT,!0),this.synccontent(XFD_SB_HORZ)}else this.on_hscrolltrack_click(a,b.offsetX);return!1},XF_GRID_SCROLL.prototype.on_hscrolltrack_click=function(a,b){var c,d;this.scroll_track_timer_id=-1,c=!1,0!=this.is_hscroll_bar_show&&(b>=this.hscroll_bar_left&&b<=this.hscroll_bar_left+this.hscroll_bar_width?c=!0:b<this.hscroll_bar_left?(d=this.getscrollcolumninfoindex(2),this.setscrollleftcolumn(this.column_width_info.column_index_arr[d])):(d=this.getscrollcolumninfoindex(1),this.setscrollleftcolumn(this.column_width_info.column_index_arr[d])),0==c&&(this.scroll_track_timer_id=window.setTimeout($.proxy(this.on_hscrolltrack_click,this,10,b),a)))},XF_GRID_SCROLL.prototype.on_vscrolltrack_mousedown=function(a,b){var c;if(this.stopscrolltracktimer(),0==factory.xf_param.GRID_SCROLLTRACKCLICK_MOVETYPE){if(0==this.is_vscroll_bar_show)return;return c=b.offsetY-this.vscroll_bar_height/2,0>c?c=0:c+this.vscroll_bar_height>this.vscroll_track_height&&(c=this.vscroll_track_height-this.vscroll_bar_height),c<this.vscroll_bar_top?this.movebar(XFD_SB_VERT,c-this.vscroll_bar_top,XFD_SB_PAGEUP,!0):this.movebar(XFD_SB_VERT,c-this.vscroll_bar_top,XFD_SB_PAGEDOWN,!0),this.synccontent(XFD_SB_VERT),this._displayviewtable(0,!1,!0),!1}this.on_vscrolltrack_click(a,b.offsetY)},XF_GRID_SCROLL.prototype.on_vscrolltrack_mousedown_asis=function(a){var b;if(0!=this.is_vscroll_bar_show)return b=a.offsetY-this.vscroll_bar_height/2,0>b?b=0:b+this.vscroll_bar_height>this.vscroll_track_height&&(b=this.vscroll_track_height-this.vscroll_bar_height),b<this.vscroll_bar_top?this.movebar(XFD_SB_VERT,b-this.vscroll_bar_top,XFD_SB_PAGEUP,!0):this.movebar(XFD_SB_VERT,b-this.vscroll_bar_top,XFD_SB_PAGEDOWN,!0),this.synccontent(XFD_SB_VERT),this._displayviewtable(0,!1,!0),!1},XF_GRID_SCROLL.prototype.on_vscrolltrack_click=function(a,b){var c,d,e;this.scroll_track_timer_id=-1,c=!1,0!=this.is_vscroll_bar_show&&(e=this.xf_grid._gettableheight(XF_GRID.ROW_TABLE_VIEW),d=this.xf_grid._ismultilinegrid()?e-this.xf_grid.sub_row_count*this.xf_grid.xf_prop.cell_height-1:e-this.xf_grid.xf_prop.cell_height-1,b>=this.vscroll_bar_top&&b<=this.vscroll_bar_top+this.vscroll_bar_height?c=!0:(b<this.vscroll_bar_top?this.movecontentbygap(XFD_SB_VERT,d,!0,!0,XFD_SB_PAGEUP):this.movecontentbygap(XFD_SB_VERT,-1*d,!0,!0,XFD_SB_PAGEDOWN),this._displayviewtable(0,!1,!0)),0==c&&(this.scroll_track_timer_id=window.setTimeout($.proxy(this.on_vscrolltrack_click,this,10,b),a)))},XF_GRID_SCROLL.prototype.on_scroll_mousedown=function(a){return this.xf_grid._setfocus(_XFD_FOCUSTYPE_CLICK),!1},XF_GRID_SCROLL.prototype.on_scroll_click=function(a){return this.xf_grid._setfocus(_XFD_FOCUSTYPE_CLICK),!1},XF_GRID_SCROLL.prototype.on_hscrollbar_mousedown=function(a){return 0!=this.hscroll_horz_range?this._on_scrollbar_mousedown(a,a.clientX,a.clientY,XFD_SB_HORZ):void 0},XF_GRID_SCROLL.prototype.on_hscrollbar_touchstart=function(a){return 0!=this.hscroll_horz_range?(this.on_itemediting_touchstart(a),this.is_first_touchmove=!0,this._on_scrollbar_mousedown(a,a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY,XFD_SB_HORZ)):void 0},XF_GRID_SCROLL.prototype.on_vscrollbar_mousedown=function(a){return 0!=this.vscroll_vert_range?this._on_scrollbar_mousedown(a,a.clientX,a.clientY,XFD_SB_VERT):void 0},XF_GRID_SCROLL.prototype.on_vscrollbar_touchstart=function(a){return 0!=this.vscroll_vert_range?(this.on_itemediting_touchstart(a),this.is_first_touchmove=!0,this._on_scrollbar_mousedown(a,a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY,XFD_SB_VERT)):void 0},XF_GRID_SCROLL.prototype.on_vscrollbar_mousemove=function(a){return this._on_scrollbar_mousemove(a,a.clientX,a.clientY,XFD_SB_VERT)},XF_GRID_SCROLL.prototype.on_vscrollbar_touchmove=function(a){return 1==this.is_first_touchmove&&(this.is_first_touchmove=!1,a.preventDefault()),this._on_scrollbar_mousemove(a,a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY,XFD_SB_VERT)},XF_GRID_SCROLL.prototype.on_hscrollbar_mousemove=function(a){return this._on_scrollbar_mousemove(a,a.clientX,a.clientY,XFD_SB_HORZ)},XF_GRID_SCROLL.prototype.on_hscrollbar_touchmove=function(a){return 1==this.is_first_touchmove&&(this.is_first_touchmove=!1,a.preventDefault()),this._on_scrollbar_mousemove(a,a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY,XFD_SB_HORZ)},XF_GRID_SCROLL.prototype._on_scrollbar_mousedown=function(a,b,c,d){return this.is_bar_move=!0,this.scroll_bar_type=d,this.mouse_x=b,this.mouse_y=c,d==XFD_SB_HORZ?(this.mouse_range_left=this.mouse_x-(this.hscroll_bar_left+a.offsetX),this.mouse_range_right=this.mouse_range_left+this.hscroll_track_width):d==XFD_SB_VERT&&(this.mouse_range_top=this.mouse_y-(this.vscroll_bar_top+a.offsetY),this.mouse_range_bottom=this.mouse_range_top+this.vscroll_track_height),this._docevent(d),a.preventDefault(),a.stopPropagation(),!1},XF_GRID_SCROLL.prototype._on_scrollbar_mousemove=function(a,b,c,d){var e,f,g,h,i;if(e=0,0==this.is_bar_move)return!0;if(e=d==XFD_SB_VERT?c-this.mouse_y:b-this.mouse_x,Math.abs(e)<1)return!0;if(this.mouse_x=b,this.mouse_y=c,d==XFD_SB_HORZ){if(e>0){if(b<this.mouse_range_left)return!0}else if(b>this.mouse_range_right)return!0}else if(d==XFD_SB_VERT)if(e>0){if(c<this.mouse_range_top)return!0}else if(c>this.mouse_range_bottom)return!0;return this.movebar(d,e,XFD_SB_THUMBTRACK,!0),this.scroll_bar_type==XFD_SB_VERT?this.xf_prop.is_vscroll_realtime_sync&&(0==this.xf_grid._isusevertscrollviewtable()?(this.synccontent(d),this._displayviewtable(0,!0,!0)):(this.grid_row_count=this.xf_grid.getrowcount(),h=this.xf_grid._getviewstartrowindex(this.grid_row_count),this.synccontent(d),i=this.xf_grid._getviewstartrowindex(this.grid_row_count),f=i-h,Math.abs(f)>1&&(g=this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,Math.min(h,i),Math.max(h,i)),f-=g),Math.abs(f)>=1&&this.xf_grid._displayorscrollvertviewtable(this.grid_row_count,0,f))):this.xf_prop.is_hscroll_realtime_sync&&this.synccontent(d),!1},XF_GRID_SCROLL.prototype.on_scrollbar_mouseup=function(a){return 0==this.is_bar_move?!0:(this.is_bar_move=!1,this.scroll_bar_type==XFD_SB_VERT&&(this.hiderowpos(),0==this.xf_prop.is_vscroll_realtime_sync&&(this.synccontent(this.scroll_bar_type),this._displayviewtable(0,!1,!0))),this.scroll_bar_type==XFD_SB_HORZ&&0==this.xf_prop.is_hscroll_realtime_sync&&this.synccontent(this.scroll_bar_type),this._offdocevent(),!1)},XF_GRID_SCROLL.prototype.on_vscrollbar_wheel=function(a){var b,c,d,e,f,g,h,i;if((0!=this.xf_grid.is_has_focus||0!=this.xf_grid.xf_prop.mousewheel_activealways||factory_xf_param.GRID_MOUSEWHEEL_ACTIVEALWAYS)&&(g=!1,!(this.content_outer_height<=this.view_inner_height&&(g=!0,0==factory_xf_param.GRID_MOUSEWHEEL_HORZSCROLL||this.content_outer_width<=this.view_inner_width))))return b=a.originalEvent.deltaY,g?(h=this.getscrollcolumninfoindex(0),b>0?c=h<this.column_width_info.column_count-1?this.movecontentbypos(XFD_SB_HORZ,-1*this.column_width_info.column_left_arr[h+1],!0,XFD_SB_MOUSEWHEEL,!0):!0:h>0?c=this.movecontentbypos(XFD_SB_HORZ,-1*this.column_width_info.column_left_arr[h-1],!0,XFD_SB_MOUSEWHEEL,!0):(Math.abs(this.xf_grid.view_content_left)>0&&this.movecontentbypos(XFD_SB_HORZ,0,!0,XFD_SB_LINELEFT,!0),c=!0)):(0==a.originalEvent.deltaMode?d=Math.round(Math.abs(b)/100):1==a.originalEvent.deltaMode&&(d=Math.round(Math.abs(b)/3)),f=this.xf_grid.xf_prop.mousewheel_linecount,void 0===f&&(f=3),i=d*f,e=0==this.is_rowheight_mode?this.xf_grid._ismultilinegrid()?i*(this.xf_grid.xf_prop.cell_height*this.xf_grid.sub_row_count):i*this.xf_grid.xf_prop.cell_height:this.xf_grid._ismultilinegrid()?i*(this.xf_grid.xf_prop.cell_height*this.xf_grid.sub_row_count):b>0?this.xf_grid._getrowheightsumbyrowspan(this.xf_grid.view_start_row_index,i):this.xf_grid._getrowheightsumbyrowspan(this.xf_grid.view_start_row_index,i,!1),c=b>0?this.movecontentbygap(XFD_SB_VERT,-1*e,!0,!0,XFD_SB_MOUSEWHEEL):this.movecontentbygap(XFD_SB_VERT,e,!0,!0,XFD_SB_MOUSEWHEEL),0>b&&(i=-1*i),this.xf_grid._displayorscrollvertviewtable(this.xf_grid.getrowcount(),0,i)),!!c},XF_GRID_SCROLL.prototype.on_centerbodyhead_horzscroll=function(a){this._on_horz_scroll(a,this.xf_grid.xf_center_body_head,this.xf_grid.xf_center_body_fix,this.xf_grid.xf_center_body_view,this.xf_grid.xf_center_foot,this.on_centerbodyfix_horzscroll,this.on_centerbodyview_scroll,this.on_centerbodyfoot_horzscroll)},XF_GRID_SCROLL.prototype.on_centerbodyfix_horzscroll=function(a){this._on_horz_scroll(a,this.xf_grid.xf_center_body_fix,this.xf_grid.xf_center_body_head,this.xf_grid.xf_center_body_view,this.xf_grid.xf_center_foot,this.on_centerbodyhead_horzscroll,this.on_centerbodyview_scroll,this.on_centerbodyfoot_horzscroll)},XF_GRID_SCROLL.prototype.on_centerbodyfoot_horzscroll=function(a){this._on_horz_scroll(a,this.xf_grid.xf_center_foot,this.xf_grid.xf_center_body_head,this.xf_grid.xf_center_body_fix,this.xf_grid.xf_center_body_view,this.on_centerbodyhead_horzscroll,this.on_centerbodyfix_horzscroll,this.on_centerbodyview_scroll)},XF_GRID_SCROLL.prototype.on_leftview_vertscroll=function(a){this._on_vert_scroll(a,this.xf_grid.xf_left_body_view,this.xf_grid.xf_center_body_view,this.xf_grid.xf_right_body_view,this.on_centerbodyview_scroll,this.on_rightview_vertscroll)},XF_GRID_SCROLL.prototype.on_rightview_vertscroll=function(a){this._on_vert_scroll(a,this.xf_grid.xf_right_body_view,this.xf_grid.xf_left_body_view,this.xf_grid.xf_center_body_view,this.on_leftview_vertscroll,this.on_centerbodyview_scroll)},XF_GRID_SCROLL.prototype.on_centerbodyview_scroll=function(a){this._on_horz_scroll(a,this.xf_grid.xf_center_body_view,this.xf_grid.xf_center_body_head,this.xf_grid.xf_center_body_fix,this.xf_grid.xf_center_foot,this.on_centerbodyhead_horzscroll,this.on_centerbodyfix_horzscroll,this.on_centerbodyfoot_horzscroll),this._on_vert_scroll(a,this.xf_grid.xf_center_body_view,this.xf_grid.xf_left_body_view,this.xf_grid.xf_right_body_view,this.on_leftview_vertscroll,this.on_rightview_vertscroll)},XF_GRID_SCROLL.prototype._on_horz_scroll=function(a,b,c,d,e,f,g,h){var i,j,k;clearTimeout(this.scroll_horz_timeout),
this.scroll_horz_timeout=-1,c.off("scroll"),d.off("scroll"),e.off("scroll"),i=b[0].scrollLeft,c[0].scrollLeft=i,d[0].scrollLeft=i,e[0].scrollLeft=i,j=this.hscroll_horz_range*Math.abs(i)/this.content_horz_range,0>j&&(j=0),j+this.hscroll_bar_width>this.hscroll_track_width&&(j=this.hscroll_track_width-this.hscroll_bar_width),this.xf_hscroll_bar.css("left",_xfu.px(j)),this.hscroll_bar_left=j,k=this,this.scroll_horz_timeout=setTimeout(function(a){c.on("scroll",$.proxy(f,k)),d.on("scroll",$.proxy(g,k)),e.on("scroll",$.proxy(h,k))},100)},XF_GRID_SCROLL.prototype._on_vert_scroll=function(a,b,c,d,e,f){var g,h,i;clearTimeout(this.scroll_vert_timeout),this.scroll_vert_timeout=-1,c.off("scroll"),d.off("scroll"),h=b[0].scrollTop,this.xf_grid.view_content_top=h,c[0].scrollTop=h,d[0].scrollTop=h,i=this.vscroll_vert_range*Math.abs(h)/this.content_vert_range,0>i&&(i=0),i+this.vscroll_bar_height>this.vscroll_track_height&&(i=this.vscroll_track_height-this.vscroll_bar_height),this.xf_vscroll_bar.css("top",_xfu.px(i)),this.vscroll_bar_top=i,g=this,this.scroll_vert_timeout=setTimeout(function(a){c.on("scroll",$.proxy(e,g)),d.on("scroll",$.proxy(f,g))},100)},XF_GRID_SCROLL.prototype.on_parent_scroll=function(a){var b,c,d,e;b=this.xf_grid.xf_center_body_view[0].scrollLeft,c=this.xf_grid.xf_center_body_view[0].scrollTop,b=-1*b,c=-1*c,this.xf_grid.view_content_top=c,this.xf_grid.xf_center_body_head_table.css("left",b),this.xf_grid.xf_center_body_fix_table.css("left",b),this.xf_grid.xf_center_foot_stat_table.css("left",b),this.xf_grid.xf_center_body_resize.xf_object.css("left",b),e=this.hscroll_horz_range*Math.abs(b)/this.content_horz_range,0>e&&(e=0),e+this.hscroll_bar_width>this.hscroll_track_width&&(e=this.hscroll_track_width-this.hscroll_bar_width),this.xf_hscroll_bar.css("left",_xfu.px(e)),this.hscroll_bar_left=e,this.xf_grid.xf_left_body_view_content.css("top",c),this.xf_grid.xf_right_body_view_content.css("top",c),d=this.vscroll_vert_range*Math.abs(c)/this.content_vert_range,0>d&&(d=0),d+this.vscroll_bar_height>this.vscroll_track_height&&(d=this.vscroll_track_height-this.vscroll_bar_height),this.xf_vscroll_bar.css("top",_xfu.px(d)),this.vscroll_bar_top=d},XF_GRID_SCROLL.prototype.on_itemediting_touchstart=function(a){this.xf_grid.isediting()&&(this.xf_grid.is_next_item_editable=!1,this.xf_grid.editcomplete())},XF_GRID_SCROLL.prototype.on_parent_touchstart=function(a){var b;b=a,a.originalEvent&&(b=a.originalEvent),this.is_vscroll_bar_show===!1&&this.is_hscroll_bar_show===!1||1==b.touches.length&&(this.on_itemediting_touchstart(a),this.mouse_x=b.touches[0].screenX,this.mouse_y=b.touches[0].screenY,this.is_bar_move=!0,this.scroll_bar_type=XFD_SB_VERT,this.mouse_range_top=this.mouse_y-(this.vscroll_bar_top+a.offsetY),this.mouse_range_bottom=this.mouse_range_top+this.vscroll_track_height,this.scroll_button_move_vert_gap=this.getmoveonerowgap(),this.grid_row_count=this.xf_grid.getrowcount(),this.grid_row_height=this.xf_grid_prop.cell_height*this.xf_grid.sub_row_count,this.is_first_touchmove=!0,this.is_block_touchmove=!0,this._parentevent())},XF_GRID_SCROLL.prototype.on_parent_touchmove=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(q=a,a.originalEvent&&(q=a.originalEvent),void 0===b&&(b=!1),0==b&&1==this.is_first_touchmove&&(this.is_first_touchmove=!1,a.preventDefault()),!(this.is_vscroll_bar_show===!1&&this.is_hscroll_bar_show===!1||0==b&&1!=q.touches.length)){if(0==this.is_bar_move)return!0;if(1==b?(h=q.changedTouches[0].screenX,i=q.changedTouches[0].screenY):(h=q.touches[0].screenX,i=q.touches[0].screenY),d=-1*(h-this.mouse_x),g=Math.abs(d),c=-1*(i-this.mouse_y),k=Math.abs(c),!(1==this.is_block_touchmove&&5>g&&5>k)){if(this.is_block_touchmove=!1,2==this.xf_grid_prop.touchscroll_movemode){if(1!=b)return void this.xf_prop.xf_content.css({left:_xfu.px(-1*d),top:_xfu.px(-1*c)});this.xf_prop.xf_content.css({left:_xfu.px(0),top:_xfu.px(0)})}return g>=1&&(this.content_horz_range>0&&(f=this.hscroll_horz_range*d/this.content_horz_range),o=this.movebar(XFD_SB_HORZ,f,XFD_SB_THUMBTRACK,!0),this.xf_prop.is_hscroll_realtime_sync&&(1==b?this.synccontent(XFD_SB_HORZ,!1):this.synccontent(XFD_SB_HORZ,!0)),this.mouse_x=h,g>k&&0==b)?o?void 0:!1:1>k?!0:(e=this.vscroll_vert_range*c/this.content_vert_range,p=this.movebar(XFD_SB_VERT,e,XFD_SB_THUMBTRACK,!0),this.mouse_y=i,this.xf_prop.is_vscroll_realtime_sync&&(l=this.xf_grid._getviewstartrowindex(this.grid_row_count),this.synccontent(XFD_SB_VERT),m=this.xf_grid._getviewstartrowindex(this.grid_row_count),j=m-l,Math.abs(j)>1&&(n=this.xf_grid._gethiddenrowcount(XF_GRID.ROW_KIND_DATA,Math.min(l,m),Math.max(l,m)),j-=n),Math.abs(j)>=1&&this.xf_grid._scrollvertviewtable(this.grid_row_count,j,!0)),p?void 0:!1)}}},XF_GRID_SCROLL.prototype.on_parent_touchcancel=function(a){this.on_parent_touchend(a)},XF_GRID_SCROLL.prototype.on_parent_touchleave=function(a){this.on_parent_touchend(a)},XF_GRID_SCROLL.prototype.on_parent_touchend=function(a){return this.on_parent_touchmove(a,!0),0==this.is_bar_move?!0:(this.is_bar_move=!1,this.hiderowpos(),this.synccontent(this.scroll_bar_type),this._displayviewtable(0),void this._offparentevent())},XF_GRID_SELECTBLOCK.prototype._init=function(a){this.xf_grid=a},XF_GRID_SELECTBLOCK.prototype._member=function(){this.is_box_show=!1,this.xf_object=null,this.html_arr=[],this.css_arr=[],this.xf_selectblock_info={start_left:0,start_top:0,left:0,top:0,width:0,height:0,xf_start_td:null,xf_end_td:null,start_td_info:null,end_td_info:null},this.start_row_index=0,this.start_column_index=0,this.end_row_index=0,this.end_column_index=0,this.move_right=!0,this.move_bottom=!0,this.xf_object=null,this.xf_left=null,this.xf_right=null,this.xf_top=null,this.xf_bottom=null},XF_GRID_SELECTBLOCK.prototype._prop=function(a){this.xf_prop={x:0,y:0,width:100,height:100,internal_name:""},$.extend(this.xf_prop,a),this.xf_prop.internal_name=_xfu.uuid()},XF_GRID_SELECTBLOCK.prototype._offevent=function(){null!=this.xf_object&&(this.xf_object.off("contextmenu"),this.xf_cancel.off("click"))},XF_GRID_SELECTBLOCK.prototype._event=function(){null!=this.xf_object&&(this._offevent(),this.xf_object.on("contextmenu",$.proxy(this.on_object_contextmenu,this)),this.xf_cancel.on("click",$.proxy(this.on_cancel_click,this)))},XF_GRID_SELECTBLOCK.prototype.on_object_contextmenu=function(a){return a.preventDefault(),this.xf_grid.xf_context.hide(),this.xf_grid.xf_context_merge.hide(),this.xf_grid.xf_context_selectblock.show(a.originalEvent.pageX,a.originalEvent.pageY,a),!1},XF_GRID_SELECTBLOCK.prototype.on_cancel_click=function(a){return a.preventDefault(),this._hide_block(),!1},XF_GRID_SELECTBLOCK.prototype.hide=function(){return this._hide_block()},XF_GRID_SELECTBLOCK.prototype.startshow=function(a){var b;if(this._remove_blockborder(),this._hide_block(),this._dom_blockborder(),b=this._getmousepos(a),this.xf_selectblock_info.xf_start_td=this.xf_grid._findtdbyevent(a),null!=this.xf_selectblock_info.xf_start_td&&(this.xf_selectblock_info.start_td_info=this.xf_grid._gettdinfo(this.xf_selectblock_info.xf_start_td),null!=this.xf_selectblock_info.start_td_info)){if(this.xf_selectblock_info.start_td_info.row_kind_type!=XF_GRID.ROW_KIND_DATA)return void(this.xf_selectblock_info.xf_start_td=null);this.xf_selectblock_info.xf_end_td=null,this.xf_selectblock_info.end_td_info=null,this.xf_selectblock_info.start_left=b.left,this.xf_selectblock_info.start_top=b.top,this.xf_selectblock_info.left=b.left,this.xf_selectblock_info.top=b.top,this.xf_selectblock_info.width=0,this.xf_selectblock_info.height=0}},XF_GRID_SELECTBLOCK.prototype.endshow=function(a){var b,c,d,e,f,g;return null==this.xf_selectblock_info.xf_start_td?void this._remove_blockborder():(this.moveblock(a),this.xf_selectblock_info.xf_end_td=this.xf_grid._findtdbyevent(a),null==this.xf_selectblock_info.xf_end_td?(this.xf_selectblock_info.xf_start_td=null,this._hide_block(),void this._remove_blockborder()):(this.xf_selectblock_info.end_td_info=this.xf_grid._gettdinfo(this.xf_selectblock_info.xf_end_td),null==this.xf_selectblock_info.end_td_info?(this.xf_selectblock_info.xf_start_td=null,this._hide_block(),void this._remove_blockborder()):this.xf_selectblock_info.end_td_info.row_table_type==XF_GRID.ROW_TABLE_HEAD||this.xf_selectblock_info.end_td_info.row_table_type==XF_GRID.ROW_TABLE_STAT||this.xf_selectblock_info.end_td_info.column_kind_type!==XF_GRID.COLUMN_KIND_DATA?(this.xf_selectblock_info.xf_start_td=null,this._hide_block(),void this._remove_blockborder()):this.xf_selectblock_info.start_td_info.column_index==this.xf_selectblock_info.end_td_info.column_index&&this.xf_selectblock_info.start_td_info.row_index==this.xf_selectblock_info.end_td_info.row_index?(this.xf_selectblock_info.xf_start_td=null,this._hide_block(),this._remove_blockborder(),!1):(b=this.xf_selectblock_info.xf_start_td.offset(),c=this.xf_selectblock_info.xf_end_td.offset(),d=Math.abs(b.left-c.left),e=Math.abs(b.top-c.top),b.left<c.left?(f=b.left,d+=this.xf_selectblock_info.xf_end_td.outerWidth(),this.start_column_index=this.xf_selectblock_info.start_td_info.column_index,this.end_column_index=this.xf_selectblock_info.end_td_info.column_index):(f=c.left,d+=this.xf_selectblock_info.xf_start_td.outerWidth(),this.start_column_index=this.xf_selectblock_info.end_td_info.column_index,this.end_column_index=this.xf_selectblock_info.start_td_info.column_index),b.top<c.top?(g=b.top,e+=this.xf_selectblock_info.xf_end_td.outerHeight(),this.start_row_index=this.xf_selectblock_info.start_td_info.row_index,this.end_row_index=this.xf_selectblock_info.end_td_info.row_index):(g=c.top,e+=this.xf_selectblock_info.xf_start_td.outerHeight(),this.start_row_index=this.xf_selectblock_info.end_td_info.row_index,this.end_row_index=this.xf_selectblock_info.start_td_info.row_index),this._remove_blockborder(),this.xf_grid._setselectitem(this.xf_selectblock_info.start_td_info.row_index,0,this.xf_selectblock_info.start_td_info.column_index,!0,!1,!0),this.xf_grid.selectblock_info.start_row_index=this.start_row_index,this.xf_grid.selectblock_info.end_row_index=this.end_row_index,this.xf_grid.selectblock_info.start_column_index=this.start_column_index,this.xf_grid.selectblock_info.end_column_index=this.end_column_index,this.xf_grid.refresh(!1,!1),factory._fireevent({xf_component:this.xf_grid,event_name:"on_selectblock",is_fire_async:!0},this.xf_grid),this.xf_selectblock_info.xf_start_td=null,void this.xf_grid._setfocus(_XFD_FOCUSTYPE_CLICK))))},XF_GRID_SELECTBLOCK.prototype.moveblock=function(a){var b,c,d;return null==this.xf_selectblock_info.xf_start_td?!1:(b=this._getmousepos(a),b.left<this.xf_selectblock_info.start_left?(this.move_right&&(this.move_right=!1,this.xf_selectblock_info.start_left=b.left),this.xf_selectblock_info.left=b.left+2):0==this.move_right&&(this.move_right=!0,this.xf_selectblock_info.start_left=b.left,this.xf_selectblock_info.left=b.left-2),b.top<this.xf_selectblock_info.start_top?(this.move_bottom&&(this.move_bottom=!1,this.xf_selectblock_info.start_top=b.top),this.xf_selectblock_info.top=b.top+2):0==this.move_bottom&&(this.move_bottom=!0,this.xf_selectblock_info.start_top=b.top,this.xf_selectblock_info.top=b.top-2),c=b.left-this.xf_selectblock_info.start_left-2,d=b.top-this.xf_selectblock_info.start_top-2,this.xf_selectblock_info.width=Math.abs(c),this.xf_selectblock_info.height=Math.abs(d),this.xf_selectblock_info.width<5&&this.xf_selectblock_info.height<5?(this._hide_blockborder(),!0):(this._show_blockborder(this.xf_selectblock_info.left,this.xf_selectblock_info.top,this.xf_selectblock_info.width,this.xf_selectblock_info.height),!0))},XF_GRID_SELECTBLOCK.prototype._getselectblockhtml=function(){var a;return a=[],a.push('<div class="_xf_grid_selectblock" style="'),a.push("display:none;"),a.push("left:"+_xfu.px(this.xf_prop.x)+";"),a.push("top:"+_xfu.px(this.xf_prop.y)+";"),a.push("width:"+_xfu.px(this.xf_prop.width)+";"),a.push("height:"+_xfu.px(this.xf_prop.height)+";"),a.push('">'),a.push('<a href="javascript:void(0)" class="_xf_grid_selectblock_cancel">&times;</a>'),a.push('<div class="_xf_grid_selectblock_border"></div>'),a.push("</div>"),a.join("")},XF_GRID_SELECTBLOCK.prototype._getmousepos=function(a){return{left:a.pageX,top:a.pageY}},XF_GRID_SELECTBLOCK.prototype._hide_block=function(){this.xf_selectblock_info.xf_start_td=null,this.is_box_show=!1,this._offevent(),null!=this.xf_object&&(this.xf_object.remove(),this.xf_object=null)},XF_GRID_SELECTBLOCK.prototype._show_block=function(a,b,c,d){this.is_box_show=!0,this.xf_object=$(this._getselectblockhtml("")),this.xf_cancel=this.xf_object.find("._xf_grid_selectblock_cancel"),$(document.body).append(this.xf_object),this.xf_object.show(),this.xf_object.css({left:_xfu.px(a),top:_xfu.px(b),width:_xfu.px(c),height:_xfu.px(d)}),this._event()},XF_GRID_SELECTBLOCK.prototype._hide_blockborder=function(){null!=this.xf_left&&(this.xf_left.hide(),this.xf_right.hide(),this.xf_top.hide(),this.xf_bottom.hide())},XF_GRID_SELECTBLOCK.prototype._remove_blockborder=function(){null!=this.xf_left&&(this.xf_left.remove(),this.xf_right.remove(),this.xf_top.remove(),this.xf_bottom.remove(),this.xf_left=null,this.xf_right=null,this.xf_top=null,this.xf_bottom=null)},XF_GRID_SELECTBLOCK.prototype._dom_blockborder=function(){this.xf_left=$('<div class="_xf_grid_selectblock_border"></div>'),this.xf_top=$('<div class="_xf_grid_selectblock_border"></div>'),this.xf_right=$('<div class="_xf_grid_selectblock_border"></div>'),this.xf_bottom=$('<div class="_xf_grid_selectblock_border"></div>'),$(document.body).append(this.xf_left),$(document.body).append(this.xf_top),$(document.body).append(this.xf_right),$(document.body).append(this.xf_bottom)},XF_GRID_SELECTBLOCK.prototype._show_blockborder=function(a,b,c,d){null!=this.xf_left&&(this.xf_left.css({display:"block",left:_xfu.px(a),top:_xfu.px(b),width:_xfu.px(1),height:_xfu.px(d)}),this.xf_right.css({display:"block",left:_xfu.px(a+c-1),top:_xfu.px(b),width:_xfu.px(1),height:_xfu.px(d)}),this.xf_top.css({display:"block",left:_xfu.px(a),top:_xfu.px(b),width:_xfu.px(c),height:_xfu.px(1)}),this.xf_bottom.css({display:"block",left:_xfu.px(a),top:_xfu.px(b+d-1),width:_xfu.px(c),height:_xfu.px(1)}))},XF_GRID_STAT_COLUMN.prototype._init=function(a,b){this.xf_grid=a,this.column_index=b,this.row_index=0,this.sub_row_index=0,this.is_hidden_column=!1},XF_GRID_STAT_COLUMN.prototype._member=function(){this.xf_stat_column_head=null,this.xf_stat_column_data_arr=[]},XF_GRID_STAT_COLUMN.prototype._prop=function(a){var b,c,d={},e=a.split(","),f=e.length;if(d.operation=e[0],d.column_width=e[1],d.horz_align=e[2],d.vert_align=e[3],d.header_forecolor=e[4],d.header_backcolor=e[5],d.fore_color=e[6],d.back_color=e[7],d.header_horzalign=e[8],d.header_vertalign=e[9],15==f)d.pattern=e[10];else{for(b=[],c=10;f-4>c;c++)b.push(e[c]);d.pattern=b.join(",")}d.places=e[f-4],d.xdataset_column_id=e[f-3],d.title=e[f-2],d.meta_id=e[f-1],d.pattern.length>0&&(d.pattern=d.pattern.substr(1,d.pattern.length-2)),this.xf_stat_column_prop_type={operation:XFD_PROP_INT,column_width:XFD_PROP_INT,horz_align:XFD_PROP_INT,vert_align:XFD_PROP_INT,fore_color:XFD_PROP_COLOR,back_color:XFD_PROP_COLOR,header_horzalign:XFD_PROP_INT,header_vertalign:XFD_PROP_INT,header_forecolor:XFD_PROP_COLOR,header_backcolor:XFD_PROP_COLOR,places:XFD_PROP_INT},this.xf_stat_column_prop={operation:0,column_width:80,horz_align:0,vert_align:1,fore_color:[0,0,0],back_color:[255,255,255],header_horzalign:1,header_vertalign:1,header_forecolor:[0,0,0],header_backcolor:[210,210,210],pattern:"",places:0,make_case:0,data_type:0,header_textmargin:[0,0,0,0],cell_textmargin:[0,0,0,0],pattern_front_symbol:"",pattern_rear_symbol:"",decimal_separator:factory_xf_param.USER_DECIMAL_SEPARATOR,max_length:20},_xfx.prop(null,this.xf_stat_column_prop,this.xf_stat_column_prop_type,d),$.extend(this.xf_stat_column_prop,d),void 0===d.header_textmargin&&(this.xf_stat_column_prop.header_textmargin=void 0),void 0===d.cell_textmargin&&(this.xf_stat_column_prop.cell_textmargin=void 0)},XF_GRID_STAT_COLUMN.prototype._create=function(){var a;for(this.xf_stat_column_head=new XF_GRID_STAT_COLUMN_HEAD(this.xf_grid,this),a=0;a<this.xf_grid.sub_row_count;a++)this.xf_stat_column_data_arr.push(new XF_GRID_STAT_COLUMN_DATA(this.xf_grid,this,a))},XF_GRID_STAT_COLUMN_HEAD.prototype._init=function(a,b){this.xf_grid=a,this.xf_stat_column=b,this.xf_stat_column_head_prop=b.xf_stat_column_prop,this.column_index=b.column_index,this.row_index=b.row_index,this.sub_row_index=b.row_index,this.header_textmargin=[2,2,0,0],this.text_padding_css="",void 0===this.xf_stat_column_head_prop.cell_textmargin?this.header_textmargin=this.xf_grid.header_textmargin:this.header_textmargin=this.xf_stat_column_head_prop.cell_textmargin,this.text_padding_css=this.xf_grid._textpaddinghtml(this.header_textmargin),this.header_forecolor_css=_xfc.forecolor(this.xf_stat_column_head_prop.header_forecolor,XF_GRID.DEFAULT_FORECOLOR,null)},XF_GRID_STAT_COLUMN_HEAD.prototype.getcolumnhtml=function(a,b){var c,d;return c=[],this.sub_row_index>0?(b.is_hidden=!0,'<td style="display:none;"></td>'):(b.row_span=this.xf_grid.xf_prop.header_horzcount,c.push("<td "),c.push(' class="_xf_grid_td '+this.xf_grid.class_td_border),this.xf_grid._tdborderinnerhorzclass(this.sub_row_index,b.row_span,c),c.push(" "+this.xf_grid.class_head_gradient),c.push('"'),this.xf_grid._spanrowhtml(this.xf_grid.xf_prop.header_horzcount,c),c.push(' style="'),c.push(this.header_forecolor_css),c.push("max-width:"+_xfu.px(this.xf_stat_column_head_prop.column_width)+";"),c.push('">'),d=this.xf_grid.xf_prop.header_horzcount*this.xf_grid.xf_prop.header_height,c.push(this.xf_grid._getitemdivspanhtml(d,this.xf_stat_column_head_prop.title,this.xf_stat_column_head_prop.header_horzalign,this.xf_stat_column_head_prop.header_vertalign,this.text_padding_css)),c.push("</td>"),c.join(""))},XF_GRID_STAT_COLUMN_HEAD.prototype.getcolumnheadertext=function(){return this.xf_stat_column_head_prop.title},XF_GRID_STAT_COLUMN_DATA.prototype._init=function(a,b,c){this.xf_grid=a,this.xf_stat_column=b,this.xf_stat_column_data_prop=b.xf_stat_column_prop,this.column_index=b.column_index,this.row_index=b.row_index,this.sub_row_index=c,this.data_value_arr=[],this.stat_value_arr=[],this.pattern_type=XFD_PATTERN_TYPE_NUMBER,this.number_pattern_info=null,this.column_html_map=[],this.tdstart_start_html_segment="",this.tdstart_end_html_segment="",this.item_start_html_segment="",this.item_end_html_segment="",this.tdend_html_segment="",this.cell_textmargin=[2,2,0,0],this.text_padding_css=""},XF_GRID_STAT_COLUMN_DATA.prototype._prop=function(){var a,b;if(void 0===this.xf_stat_column_data_prop.cell_textmargin?this.cell_textmargin=this.xf_grid.cell_textmargin:this.cell_textmargin=this.xf_stat_column_data_prop.cell_textmargin,this.text_padding_css=this.xf_grid._textpaddinghtml(this.cell_textmargin),void 0===this.xf_stat_column_data_prop.fore_color&&(this.xf_stat_column_data_prop.fore_color=this.xf_grid.xf_prop.fore_color),this.xf_stat_column_data_prop.allow_minus=!0,this.pattern_type=XFD_PATTERN_TYPE_NUMBER,this.xf_regexp=null,this.number_pattern_info={fill_zero_count:0,blank_is_zero:!1,zero_is_blank:!1,places:0,allow_minus:!1},""==this.xf_stat_column_data_prop.pattern){for(b=[],a=0;a<this.xf_stat_column_data_prop.max_length-1;a++)b.push("Z");b.push("9"),this.xf_stat_column_data_prop.pattern=b.join("")}this.xf_stat_column_data_prop.pattern.substring(0,2)=="9"+factory_xf_param.SCREEN_DECIMAL_SEPARATOR?this.pattern_type=XFD_PATTERN_TYPE_NUMBER:this.pattern_type=_xfp.type(this.xf_stat_column_data_prop.pattern,XFD_PATTERN_TYPE_NUMBER,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR),this.number_pattern_info=_xfp.numberpatterninfo(this.xf_stat_column_data_prop.pattern,factory_xf_param.SCREEN_DECIMAL_SEPARATOR,factory_xf_param.SCREEN_THOUSANDS_SEPARATOR),this.columnhtmlsegment()},XF_GRID_STAT_COLUMN_DATA.prototype.getcolumnitemtext=function(a,b){var c;return c=a==XF_GRID.ROW_KIND_STAT?this.stat_value_arr[b]:this.data_value_arr[b],void 0===c?"":_xfu.str(c)},XF_GRID_STAT_COLUMN_DATA.prototype.getcolumnitemdisplaytext=function(a,b,c,d){var e;return e=this.getcolumnitemtext(a,b),d==XF_GRID.FILE_TYPE_EXCEL?e:(c&&(e=_xfp.fmt(e,this.pattern_type,this.number_pattern_info.places,this.number_pattern_info.allow_minus,this.number_pattern_info.fill_zero_count,0,this.xf_regexp,factory_xf_param.VALUE_DECIMAL_SEPARATOR,factory_xf_param.USER_DECIMAL_SEPARATOR,factory_xf_param.USER_THOUSANDS_SEPARATOR)),"0"==e&&this.number_pattern_info.zero_is_blank?"":e)},XF_GRID_STAT_COLUMN_DATA.prototype.setcolumnitemtext=function(a,b,c){return a==XF_GRID.ROW_KIND_STAT?this.stat_value_arr[b]=c:this.data_value_arr[b]=c,!0},XF_GRID_STAT_COLUMN_DATA.prototype.columnhtmlsegment=function(){var a,b;b=this.xf_grid.xf_prop.cell_height,a=[],a.push("<td "),a.push(' class="_xf_grid_td '+this.xf_grid.class_td_border),this.xf_grid._ismultilinegrid()&&this.xf_grid.sub_row_count>1&&this.xf_grid._tdborderinnerhorzclass(this.sub_row_index,1,a),a.push('"'),a.push(' style="'),this.tdstart_start_html_segment=a.join(""),this.tdstart_end_html_segment='">',a=[],a.push('<div class="_xf_grid_item"'),a.push(' style="'),a.push("height:"+(b-1)+"px;"),1!=this.xf_stat_column_data_prop.horz_align&&(a.push(_xfc.justifycontent(null,this.xf_stat_column_data_prop.horz_align)),a.push(_xfc.textalign(null,this.xf_stat_column_data_prop.horz_align))),a.push('">'),a.push('<span class="_xf_grid_item_span _xfd_padding" style="'),a.push(this.text_padding_css),a.push('">'),this.item_start_html_segment=a.join(""),this.item_end_html_segment="</span></div>",this.tdend_html_segment="</td>"},XF_GRID_STAT_COLUMN_DATA.prototype.getcolumnhtml=function(a,b,c,d,e){var f,g,h,i;return i=this.xf_stat_column_data_prop.fore_color,c==XF_GRID.ROW_TABLE_VIEW||c==XF_GRID.ROW_TABLE_FIX||c==XF_GRID.ROW_TABLE_RWD?(g=this.getcolumnitemtext(XF_GRID.ROW_KIND_DATA,d),this.xf_grid.ismidstatrow(d)&&(h=this.xf_grid._getmidstatinfo(d),i=h.fore_color)):g=this.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,d),f=[],f.push(this.tdstart_start_html_segment),f.push(_xfc.forecolor(i,this.xf_grid.xf_prop.fore_color)),f.push("max-width:"+_xfu.px(this.xf_stat_column_data_prop.column_width)+";"),f.push(this.tdstart_end_html_segment),f.push(this.getcolumnitemhtml(1,d,null,g,!1)),f.push(this.tdend_html_segment),f.join("")},XF_GRID_STAT_COLUMN_DATA.prototype.getcolumnitemhtml=function(a,b,c,d,e){var f,g;return f=[],g=_xfp.fmt(d,this.pattern_type,this.number_pattern_info.places,this.number_pattern_info.allow_minus,this.number_pattern_info.fill_zero_count,0,this.xf_regexp,factory_xf_param.VALUE_DECIMAL_SEPARATOR,factory_xf_param.USER_DECIMAL_SEPARATOR,factory_xf_param.USER_THOUSANDS_SEPARATOR),"0"==g&&this.number_pattern_info.zero_is_blank&&(g=""),f.push(this.item_start_html_segment),f.push(g),f.push(this.item_end_html_segment),f.join("")},XF_GRID_STAT_COLUMN_DATA.prototype.refreshdata=function(a,b,c,d){var e,f;if(void 0!==c)if(void 0!=d&&-1!=d)this.refreshrowdata(c,d,a,b);else for(f=this.xf_grid._getrowcount(c),e=0;f>e;e++)this.refreshrowdata(c,e,a,b);else{for(f=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),e=0;f>e;e++)this.refreshrowdata(XF_GRID.ROW_KIND_DATA,e,a,b);for(f=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_STAT),e=0;f>e;e++)this.refreshrowdata(XF_GRID.ROW_KIND_STAT,e,a,b)}},XF_GRID_STAT_COLUMN_DATA.prototype.refreshrowdata=function(a,b,c,d){var e,f,g,h,i,j;if(g=d,f=c,1==this.xf_grid.is_stat_exclude_merged_item&&a==XF_GRID.ROW_KIND_DATA&&this.xf_stat_column_data_prop.operation!=XFD_GRID_STAT_COLUMN&&this.xf_stat_column_data_prop.operation!=XFD_GRID_STAT_USER){for(g=d.slice(0),h=c-1;h>=0;h--)j=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,g[h],0),i=j.getcolumnitemmergeinfo(XF_GRID.ROW_TABLE_VIEW,b,!0),1==i.is_merge&&1==i.row_span&&1==i.column_span&&g.splice(h,1);f=g.length}switch(e="",this.xf_stat_column_data_prop.operation){case XFD_GRID_STAT_SUM:case XFD_GRID_STAT_AVER:case XFD_GRID_STAT_MIN:case XFD_GRID_STAT_MAX:e=this.rowstatvalue(this.xf_stat_column_data_prop.operation,a,b,f,g);break;case XFD_GRID_STAT_COUNT:e=g.length;break;case XFD_GRID_STAT_COLUMN:case XFD_GRID_STAT_USER:e=this.getcolumnitemtext(a,b)}this.setcolumnitemtext(a,b,e)},XF_GRID_STAT_COLUMN_DATA.prototype.rowstatvalue=function(a,b,c,d,e){var f,g;for(g=[],f=0;d>f;f++)g.push(this.xf_grid._getitemtext(b,c,XF_GRID.COLUMN_KIND_DATA,e[f],this.sub_row_index));return _xfu.stats(a,g,d)},XF_GRID_STAT_ROW.prototype._init=function(a,b,c){this.xf_grid=a,this.item_index=b,this.row_index=c},XF_GRID_STAT_ROW.prototype._prop=function(a){var b={},c=a.split(",");b.operation=c[0],b.fore_color=c[1],b.back_color=c[2],b.header_forecolor=c[3],b.header_backcolor=c[4],b.header_horzalign=c[5],b.header_vertalign=c[6],b.title=c[7],b.column_showtitle=c[8],b.meta_id=c[9],void 0===b.column_showtitle&&(b.column_showtitle=""),void 0===b.meta_id&&(b.meta_id=""),""==b.column_showtitle&&(b.column_showtitle="0"),b.title.length>0&&(b.title=b.title.substr(1,b.title.length-2)),b.column_showtitle=b.column_showtitle.split(":")[0],this.xf_stat_row_prop_type={operation:XFD_PROP_INT,fore_color:XFD_PROP_COLOR,back_color:XFD_PROP_COLOR,header_forecolor:XFD_PROP_COLOR,header_backcolor:XFD_PROP_COLOR,header_horzalign:XFD_PROP_INT,header_vertalign:XFD_PROP_INT,column_showtitle:XFD_PROP_INT},this.xf_stat_row_prop={operation:0,title:"",meta_id:"",fore_color:[0,0,0],back_color:[255,255,255],header_forecolor:[0,0,0],header_backcolor:[210,210,210],header_horzalign:1,header_vertalign:1,column_showtitle:0},_xfx.prop(null,this.xf_stat_row_prop,this.xf_stat_row_prop_type,b),$.extend(this.xf_stat_row_prop,b)},XF_GRID_STAT_ROW.prototype.refreshdata=function(a){var b,c;if(void 0===a||-1==a)for(b=this.xf_grid.getcolumncount(),c=0;b>c;c++)this.refreshcolumndata(c);else this.refreshcolumndata(_xfu["int"](a))},XF_GRID_STAT_ROW.prototype.refreshcolumndata=function(a){var b,c,d,e,f,g,h;for(h=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),g=0;g<this.xf_grid.sub_row_count;g++)if(d=this.xf_grid._getcolumndata(XF_GRID.COLUMN_KIND_DATA,a,g),e=d.xf_column_data_prop,1==e.statistics_show&&(this.xf_stat_row_prop.operation>=0&&this.xf_stat_row_prop.operation<=4?c=this.xf_stat_row_prop.operation:5==this.xf_stat_row_prop.operation&&(c=e.statisticsrow_type),0!=d.iscalcstatvalue(c))){if(b="",c!=XFD_GRID_STAT_SUM&&c!=XFD_GRID_STAT_AVER&&c!=XFD_GRID_STAT_COUNT||(b=0),f=this.xf_grid.xf_xdataset._getcolumn(d.xdataset_column_type,d.xdataset_column_id),this.xf_grid._istreegrid()&&0!=this.xf_grid.xf_prop.folder_midstatistics)switch(c){case XFD_GRID_STAT_USER:case XFD_GRID_STAT_COLUMN:b="";break;default:b=this._gettreegridcolumnstatdata(c,h,a,d.xdataset_column_type,f)}else switch(c){case XFD_GRID_STAT_SUM:case XFD_GRID_STAT_AVER:case XFD_GRID_STAT_COUNT:case XFD_GRID_STAT_MIN:case XFD_GRID_STAT_MAX:1==this.xf_grid._isstatexcludehiddenitem()?0==this.xf_grid.is_stat_exclude_merged_item?b=this.xf_grid._getcolumnstatfromstatrangearr(d,c,this.xf_grid.stat_range_info_arr):(d.refreshcolumnstatrangeinfoarr(),b=this.xf_grid._getcolumnstatfromstatrangearr(d,c,d.column_stat_range_info_arr)):0==this.xf_grid.is_stat_exclude_merged_item?(b=this.xf_grid.xf_xdataset._columnstat(c,d.xdataset_column_type,f),c==XFD_GRID_STAT_COUNT&&2==factory_xf_param.GRID_STATISTICS_COUNTTYPE&&(b-=this.xf_grid.xf_xdataset._blankvaluecount(d.xdataset_column_type,f))):(d.refreshcolumnstatrangeinfoarr(),b=this.xf_grid._getcolumnstatfromstatrangearr(d,c,d.column_stat_range_info_arr));break;case XFD_GRID_STAT_USER:case XFD_GRID_STAT_COLUMN:default:b=d.getcolumnitemtext(XF_GRID.ROW_KIND_STAT,this.row_index)}d.stat_value_arr[this.row_index]=b}},XF_GRID_STAT_ROW.prototype._gettreegridcolumnstatdata=function(a,b,c,d,e){var f,g,h,i,j,k;if(b=this.xf_grid._getrowcount(XF_GRID.ROW_KIND_DATA),1>b)return"";switch(i=0,g=0,a){case XFD_GRID_STAT_MIN:i=Number.MAX_VALUE;break;case XFD_GRID_STAT_MAX:i=Number.MIN_VALUE}for(f=b-1;f>=0;f--)if(k=this.xf_grid._treegriditemdepth(f),h=this.xf_grid._istreegridhaschild(b,f,k))a==XFD_GRID_STAT_COUNT&&g++;else{if(g++,a==XFD_GRID_STAT_COUNT)continue;if(j=this.xf_grid.xf_xdataset._getdata(f,d,e),j=parseFloat(j),isNaN(j))continue;switch(a){case XFD_GRID_STAT_SUM:i+=j;break;case XFD_GRID_STAT_AVER:i+=j;break;case XFD_GRID_STAT_MIN:i>j&&(i=j);break;case XFD_GRID_STAT_MAX:j>i&&(i=j)}}return a==XFD_GRID_STAT_AVER&&g>0&&(i/=g),i},XF_GRID.prototype._addtrmeta=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;return e=this.tr_meta_map[a],m="",p=!1,q=!1,k=!1,l=null,a==XF_GRID.ROW_TABLE_VIEW||a==XF_GRID.ROW_TABLE_FIX||a==XF_GRID.ROW_TABLE_RWD?(g=XF_GRID.ROW_KIND_DATA,this._ismidstatrow(b)?(f=XF_GRID.ROW_DATA_MIDSTAT,q=!0,l=this._getmidstatinfo(b),m="background-color:"+_xfu.rgbfunc(l.back_color)+";"):(f=XF_GRID.ROW_DATA_NORMAL,this._isdividerow(b)&&(p=!0)),this._istreegrid()&&0!=this.xf_prop.folder_midstatistics&&(h=this._istreegridhaschild(this._getrowcount(XF_GRID.ROW_KIND_DATA),b,this._treegriditemdepth(b)),h&&(f=XF_GRID.ROW_DATA_MIDSTAT)),o=this.is_rowheight_mode?this.getrowheight(b):this.xf_prop.cell_height):a==XF_GRID.ROW_TABLE_HEAD?(g=XF_GRID.ROW_KIND_HEAD,f=XF_GRID.ROW_DATA_HEAD,o=this.xf_header_row_arr[c].row_height,k=this.xf_header_row_arr[c].is_hidden_row):a==XF_GRID.ROW_TABLE_STAT&&(g=XF_GRID.ROW_KIND_STAT,f=XF_GRID.ROW_DATA_STAT,n=this.xf_stat_row_arr[b],m="background-color:"+_xfu.rgbfunc(n.xf_stat_row_prop.back_color)+";",o=this.xf_prop.cell_height),j=[],j[XF_GRID.COLUMN_TABLE_LEFT]=[],j[XF_GRID.COLUMN_TABLE_CENTER]=[],j[XF_GRID.COLUMN_TABLE_RIGHT]=[],j[XF_GRID.COLUMN_TABLE_RWD]=[],i={tr_index:e.length,row_index:b,sub_row_index:c,row_kind_type:g,row_data_type:f,row_table_type:a,back_color_html:m,is_divide_row:p,is_midstat_row:q,midstat_info:l,row_height:o,is_hidden_row:k,td_meta_map:j,td_jdom_map:[]},void 0===d||d?e.push(i):(e.unshift(i),this._resettrindex(e)),i},XF_GRID.prototype._addtdmeta=function(a,b,c,d,e,f){var g,h;return g=a.td_meta_map[b],h={td_index:g.length,column_table_type:b,column_kind_type:c,column_data_type:d,column_index:e,row_span:1,column_span:1,is_hidden:!1},void 0===f||1==f?g.push(h):g.unshift(h),h},XF_GRID.prototype._updatetrjdommap=function(a,b,c){var d;void 0===this.tr_jdom_map[a]&&(this.tr_jdom_map[a]=[]),c&&(this.tr_jdom_map[a][b]=null),void 0!==this.tr_jdom_map[a][b]&&null!==this.tr_jdom_map[a][b]||(d=this.table_jdom_map[a][b],this.tr_jdom_map[a][b]=d.find("tbody > tr"))},XF_GRID.prototype._updatetdjdommap=function(a,b,c){var d,e,f,g;for(d=this.tr_meta_map[a],e=this.tr_jdom_map[a][b],g=e.length,f=0;g>f;f++)c&&(d[f].td_jdom_map[b]=null),void 0!==d[f].td_jdom_map[b]&&null!==d[f].td_jdom_map[b]||(d[f].td_jdom_map[b]=$(e[f]).find("td"))},XF_GRID.prototype._resettrindex=function(a){var b,c;for(c=a.length,b=0;c>b;b++)a[b].tr_index=b},XF_GRID.prototype._resettdindex=function(a){var b,c;for(c=a.length,b=0;c>b;b++)a[b].td_index=b},XF_GRID.prototype._gettableinfo=function(a){var b,c;return(b=a.data("info"))?(c=b.split("_"),2!=c.length?null:{column_table_type:_xfu["int"](c[0]),row_table_type:_xfu["int"](c[1])}):null},XF_GRID.prototype._gettrinfo=function(a){var b,c,d,e,f,g,h;return d=a.closest("tbody"),d.length<1?null:(f=d.find("tr").index(a),-1==f?null:(c=d.closest("table"),c.length<1?null:(e=this._gettableinfo(c),null==e?null:(b=this.tr_meta_map[e.row_table_type],b[f]?(g=b[f].row_index,h=b[f].sub_row_index,{row_index:g,sub_row_index:h,row_table_type:e.row_table_type,column_table_type:e.column_table_type,row_kind_type:this._getrowkindtype(e.row_table_type),tr_meta:b[f]}):null))))},XF_GRID.prototype._gettdinfo=function(a){var b,c,d,e,f,g;return b=a.closest("tr"),b.length<1?null:(c=this._gettrinfo(b),null==c?null:(d=b.find("td").index(a),-1==d?null:(f=c.tr_meta.td_meta_map[c.column_table_type],e=f[d],g={row_table_type:c.row_table_type,column_table_type:c.column_table_type,row_kind_type:c.row_kind_type,column_kind_type:e.column_kind_type,column_data_type:e.column_data_type,row_index:c.row_index,sub_row_index:c.sub_row_index,column_index:e.column_index,is_selected:!1},g.row_index==this.selected_row_index&&g.sub_row_index==this.selected_sub_row_index&&g.column_index==this.selected_column_index&&g.row_kind_type==XF_GRID.ROW_KIND_DATA&&g.column_kind_type==XF_GRID.COLUMN_KIND_DATA&&(g.is_selected=!0),
g)))},XF_GRID.prototype._gettdrowspan=function(a){var b;return b=_xfu["int"](a.attr("rowspan")),(isNaN(b)||void 0===b)&&(b=1),b},XF_GRID.prototype._gettdrowspanbydom=function(a){var b;return b=_xfu["int"](a.rowSpan),(isNaN(b)||void 0===b)&&(b=1),b},XF_GRID.prototype._gettdcolumnspan=function(a){var b;return b=_xfu["int"](a.attr("colspan")),(isNaN(b)||void 0===b)&&(b=1),b},XF_GRID.prototype._gettdcolumnspanbydom=function(a){var b;return b=_xfu["int"](a.colSpan),(isNaN(b)||void 0===b)&&(b=1),b},XF_GRID.prototype._gettdspaninfo=function(a){var b={row_span:1,column_span:1};return b.row_span=this._gettdrowspan(a),b.column_span=this._gettdcolumnspan(a),b},XF_GRID.prototype._gettdspaninfobydom=function(a){var b={row_span:1,column_span:1};return b.row_span=this._gettdrowspanbydom(a),b.column_span=this._gettdcolumnspanbydom(a),b},XF_GRID.prototype._gettrmetaarr=function(a,b,c){var d,e,f,g;if(e=[],f=this.tr_meta_map[a],void 0===f)return e;for(g=f.length,d=0;g>d&&!(f[d].row_index>b);d++)f[d].row_index===b&&(-1!==c&&f[d].sub_row_index!==c||e.push(f[d]));return e},XF_GRID.prototype._gettdmeta=function(a,b,c,d){var e,f;for(f=a.td_meta_map[b],e=0;e<f.length;e++)if(f[e].column_kind_type===c&&f[e].column_index===d)return f[e];return null},XF_GRID.prototype._findtrarr=function(a,b,c){var d,e,f,g,h;if(e=[],f=b.children("tr"),f.length>0)for(d=this._gettrmetaarr(a,c,-1),h=d.length,g=0;h>g;g++)e.push(f[d[g].tr_index]);return $(e)},XF_GRID.prototype._findtdbyevent=function(a){var b;return b=$(a.target).closest("td"),b.length<1?null:b},XF_GRID.prototype._finddatatd=function(a,b,c){return this._findtd(XF_GRID.ROW_KIND_DATA,XF_GRID.COLUMN_KIND_DATA,a,b,c)},XF_GRID.prototype._findheadtd=function(a,b){var c=XF_GRID.COLUMN_KIND_DATA;return 0>b&&(c=XF_GRID.COLUMN_KIND_HEAD),this._findtd(XF_GRID.ROW_KIND_HEAD,c,0,a,b)},XF_GRID.prototype._findtd=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;switch(f=[],a){case XF_GRID.ROW_KIND_HEAD:f.push(XF_GRID.ROW_TABLE_HEAD);break;case XF_GRID.ROW_KIND_DATA:0==this.is_rwd_mode?(f.push(XF_GRID.ROW_TABLE_VIEW),f.push(XF_GRID.ROW_TABLE_FIX)):f.push(XF_GRID.ROW_TABLE_RWD);break;case XF_GRID.ROW_KIND_STAT:f.push(XF_GRID.ROW_TABLE_STAT)}for(o=0;o<f.length;o++)for(g=f[o],n=this._gettrmetaarr(g,c,d),p=0;p<n.length;p++){switch(j=n[p],h=[],b){case XF_GRID.COLUMN_KIND_HEAD:h.push(XF_GRID.COLUMN_TABLE_LEFT);break;case XF_GRID.COLUMN_KIND_DATA:0==this.is_rwd_mode?(h.push(XF_GRID.COLUMN_TABLE_CENTER),h.push(XF_GRID.COLUMN_TABLE_LEFT)):h.push(XF_GRID.COLUMN_TABLE_RWD);break;case XF_GRID.COLUMN_KIND_STAT:h.push(XF_GRID.COLUMN_TABLE_RIGHT)}for(q=0;q<h.length;q++)if(i=h[q],k=this._gettdmeta(j,i,b,e),null!==k)return m=j.td_jdom_map[i],void 0!==m&&null!==m||(l=this.tr_jdom_map[g][i],void 0!==l&&null!==l||this._updatetrjdommap(g,i,!1),this._updatetdjdommap(g,i,!1),m=j.td_jdom_map[i]),void 0===m?$([]):$(m[k.td_index])}return $([])},XF_GRID.prototype._createtrdominfoarr=function(a,b){var c,d,e,f,g,h,i,j;for(h=[],c=b.children("tr"),d=c.length,e=0;d>e;e++){for(i={xf_tr:$(c[e]),td_count:0,td_dom_info_arr:[]},f=i.xf_tr.children("td"),i.td_count=f.length,g=0;g<i.td_count;g++)j={xf_td:$(f[g]),xf_div:null,xf_span:null},j.xf_div=j.xf_td.children("div"),j.xf_span=j.xf_div.children("span"),i.td_dom_info_arr.push(j);h.push(i)}return h};